(self.webpackChunkgravitee_portal_webui=self.webpackChunkgravitee_portal_webui||[]).push([[4627],{4627:(ee,ce,Mt)=>{"use strict";Mt.r(ce),Mt.d(ce,{ApplicationsModule:()=>_a});var Kt=Mt(80529),kt=Mt(36895),mt=Mt(58490),X=Mt(19832),G=Mt(27801),W=Mt(44466),t=Mt(55062),V=Mt(24006),K=Mt(33281);function et(g,E){if(1&g&&(t.TgZ(0,"form",2)(1,"div",3)(2,"div",4),t._UZ(3,"gv-input",5),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"gv-text",6),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",4),t._UZ(11,"gv-input",7),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",3)(15,"div",4),t._UZ(16,"gv-file-upload",8),t.ALo(17,"translate"),t.qZA()()()),2&g){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(3),t.s9C("label",t.lcZ(4,8,"applicationCreation.general.name.label")),t.s9C("placeholder",t.lcZ(5,10,"applicationCreation.general.name.placeholder")),t.xp6(4),t.s9C("label",t.lcZ(8,12,"applicationCreation.general.description.label")),t.s9C("placeholder",t.lcZ(9,14,"applicationCreation.general.description.placeholder")),t.xp6(4),t.s9C("label",t.lcZ(12,16,"applicationCreation.general.domain.label")),t.s9C("placeholder",t.lcZ(13,18,"applicationCreation.general.domain.placeholder")),t.xp6(5),t.Q6J("label",t.lcZ(17,20,"applicationCreation.general.image"))}}let J=(()=>{class g{constructor(e){this.formBuilder=e,this.updated=new t.vpe}ngOnInit(){this.form=this.formBuilder.group({name:new V.NI(null,[V.kI.required]),description:new V.NI(null,[V.kI.required]),domain:new V.NI(null),picture:new V.NI(null)}),this.form.valueChanges.subscribe(()=>{this.updated.emit(this.form)}),setTimeout(()=>{this.updated.emit(this.form)})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(V.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation-step1"]],outputs:{updated:"updated"},decls:2,vars:1,consts:[[1,"step"],["class","form step-grid-content",3,"formGroup",4,"ngIf"],[1,"form","step-grid-content",3,"formGroup"],[1,"step-grid-column"],[1,"form-control"],["name","name","formControlName","name","ngDefaultControl","","required","","autofocus","",3,"label","placeholder"],["name","description","formControlName","description","ngDefaultControl","","required","","rows","10",3,"label","placeholder"],["name","domain","formControlName","domain","ngDefaultControl","",3,"label","placeholder"],["name","picture","formControlName","picture","ngDefaultControl","","accept","image/*","except",".svg","limit","500000",1,"application-creation__avatar",3,"label"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0),t.YNc(1,et,18,22,"form",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",S.form))},directives:[kt.O5,V._Y,V.JL,V.sg,K.T,V.JJ,V.u,V.Fj,V.Q7],pipes:[mt.X$],styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();function U(g,E){if(1&g&&(t.TgZ(0,"form",5)(1,"div",6),t._UZ(2,"gv-input",7),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"gv-input",8),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA()()),2&g){const e=t.oxw();t.Q6J("formGroup",e.appForm),t.xp6(2),t.s9C("label",t.lcZ(3,5,"applicationType.security.simple.title")),t.s9C("placeholder",t.lcZ(4,7,"applicationType.security.simple.description")),t.xp6(4),t.s9C("label",t.lcZ(7,9,"applicationType.security.clientId.label")),t.s9C("placeholder",t.lcZ(8,11,"applicationType.security.clientId.description"))}}function I(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-switch",17),t.NdJ("input",function(q){const ft=t.CHM(e).$implicit;return t.oxw(2).onSwitchGrant(q,ft)}),t.qZA()}if(2&g){const e=E.$implicit;t.Q6J("label",e.name)("value",e.value)("disabled",e.disabled)}}function O(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",18)(1,"gv-input",19),t.NdJ("gv-input:submit",function(q){return t.CHM(e),t.oxw(2).addRedirectUri(q)})("blur",function(q){return t.CHM(e),t.oxw(2).addRedirectUri(q)}),t.ALo(2,"translate"),t.qZA()()}if(2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("required",e.requiresRedirectUris)("label",t.lcZ(2,4,"applicationType.security.redirectUris.label"))("valid",e.hasRedirectUris)("invalid",!e.hasRedirectUris)}}function P(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-tag",22),t.NdJ("gv-tag:click",function(){const rt=t.CHM(e).index;return t.oxw(3).removeRedirectUri(rt)}),t._uU(1),t.qZA()}if(2&g){const e=E.$implicit;t.xp6(1),t.Oqu(e.value)}}function y(g,E){if(1&g&&(t.TgZ(0,"div")(1,"div",20),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,P,2,1,"gv-tag",21),t.qZA()),2&g){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"applicationType.security.redirectUris.description")),t.xp6(2),t.Q6J("ngForOf",e.redirectURIs.controls)}}const h=function(g){return{invalid:g}};function v(g,E){if(1&g&&(t.TgZ(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",12),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",13),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,I,1,3,"gv-switch",14),t.qZA()(),t.TgZ(10,"div",10),t.YNc(11,O,3,6,"div",15),t.YNc(12,y,5,4,"div",16),t.qZA()()),2&g){const e=t.oxw();t.Q6J("formGroup",e.oauthForm),t.xp6(3),t.Q6J("ngClass",t.VKq(11,h,e.grantTypes.invalid)),t.xp6(1),t.Oqu(t.lcZ(5,7,"applicationCreation.security.label")),t.xp6(3),t.Oqu(t.lcZ(8,9,"applicationCreation.security.description")),t.xp6(2),t.Q6J("ngForOf",e.allGrantTypes),t.xp6(2),t.Q6J("ngIf",e.requiresRedirectUris),t.xp6(1),t.Q6J("ngIf",e.redirectURIs.controls.length>0)}}let _=(()=>{class g{constructor(e){this.formBuilder=e,this.applicationTypeSelected=new t.vpe,this.updated=new t.vpe}ngOnChanges(e){e.requireClientId&&this.appForm&&e.requireClientId.previousValue!==e.requireClientId.currentValue&&(this.requireClientId?(this.appForm.get("app.client_id").setValidators([V.kI.required]),this.appForm.get("app.client_id").updateValueAndValidity()):(this.appForm.get("app.client_id").setValidators(null),this.appForm.get("app.client_id").updateValueAndValidity()))}ngOnInit(){const e=this.allowedTypes[0];this.appForm=this.formBuilder.group({app:this.formBuilder.group({type:new V.NI("",null),client_id:new V.NI("",null)})}),this.oauthForm=this.formBuilder.group({oauth:this.formBuilder.group({redirect_uris:new V.Oe([],null),grant_types:new V.Oe([],[V.kI.required]),application_type:new V.NI(null,[V.kI.required])})}),this.setApplicationType(e)}setApplicationType(e){this.formSubscription&&this.formSubscription.unsubscribe(),this.applicationType=e,this.grantTypes.clear(),this.allGrantTypes=this.applicationType.allowed_grant_types.map(S=>{const q=null!=this.applicationType.default_grant_types.find(ft=>S.type===ft.type),rt=null!=this.applicationType.mandatory_grant_types.find(ft=>S.type===ft.type);return!0===q&&this.grantTypes.push(new V.NI(S.type)),{...S,disabled:rt,value:q}}),this.isSimpleApp?(this.formSubscription=this.appForm.valueChanges.subscribe(()=>{this.updated.emit(this.appForm)}),this.updated.emit(this.appForm)):(this.oauthForm.get("oauth").get("application_type").setValue(this.applicationType.id),this.requiresRedirectUris?(this.oauthForm.get("oauth").get("redirect_uris").setValidators([V.kI.required]),this.oauthForm.get("oauth").get("redirect_uris").updateValueAndValidity()):(this.redirectURIs.clear(),this.oauthForm.get("oauth").get("redirect_uris").setValidators([]),this.oauthForm.get("oauth").get("redirect_uris").updateValueAndValidity()),this.formSubscription=this.oauthForm.valueChanges.subscribe(()=>{this.updated.emit(this.oauthForm)}),this.updated.emit(this.oauthForm)),this.applicationTypeSelected.emit(this.applicationType)}get redirectURIs(){return this.oauthForm.get("oauth.redirect_uris")}get grantTypes(){return this.oauthForm.get("oauth.grant_types")}get requiresRedirectUris(){return this.applicationType.requires_redirect_uris}get isSimpleApp(){return"simple"===this.applicationType.id.toLowerCase()}removeRedirectUri(e){this.redirectURIs.removeAt(e)}get hasRedirectUris(){return this.redirectURIs.length>0}onSwitchGrant(e,S){if(e.target.value)this.grantTypes.push(new V.NI(S.type));else{let q=-1;this.grantTypes.controls.forEach((rt,ft)=>{rt.value!==S.type||(q=ft)}),this.grantTypes.removeAt(q)}}addRedirectUri(e){if(e.target.valid){const S=e.target.value;S&&""!==S.trim()&&(this.redirectURIs.controls.map(q=>q.value).includes(S)||this.redirectURIs.push(new V.NI(S,V.kI.required)),e.target.value="")}}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(V.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation-step2"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-option:select",function(rt){return S.setApplicationType(rt.detail)})},inputs:{allowedTypes:"allowedTypes",requireClientId:"requireClientId"},outputs:{applicationTypeSelected:"applicationTypeSelected",updated:"updated"},features:[t.TTD],decls:5,vars:4,consts:[[1,"form","step"],[1,"form-control"],["autofocus","",1,"application-types",3,"options","value"],["class","form",3,"formGroup",4,"ngIf"],["class","form step-grid-content",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],["formGroupName","app",1,"form-control"],["name","type","formControlName","type","ngDefaultControl","",3,"label","placeholder"],["id","appClientId","formControlName","client_id","ngDefaultControl","",3,"label","placeholder"],[1,"form","step-grid-content",3,"formGroup"],["formGroupName","oauth",1,"step-grid-column"],["formArrayName","grant_types",1,"form-control"],[3,"ngClass"],[2,"opacity","0.7"],[3,"label","value","disabled","input",4,"ngFor","ngForOf"],["class","form-control","formArrayName","redirect_uris",4,"ngIf"],[4,"ngIf"],[3,"label","value","disabled","input"],["formArrayName","redirect_uris",1,"form-control"],["autofocus","","clickable","","type","url","placeholder","https://example.com","icon","code:plus",3,"required","label","valid","invalid","gv-input:submit","blur"],[1,"label"],["icon-right","general:close","minor","","clickable","",3,"gv-tag:click",4,"ngFor","ngForOf"],["icon-right","general:close","minor","","clickable","",3,"gv-tag:click"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"gv-option",2),t.qZA(),t.YNc(3,U,9,13,"form",3),t.YNc(4,v,13,13,"form",4),t.qZA()),2&e&&(t.xp6(2),t.Q6J("options",S.allowedTypes)("value",S.applicationType.id),t.xp6(1),t.Q6J("ngIf",S.isSimpleApp),t.xp6(1),t.Q6J("ngIf",!S.isSimpleApp))},directives:[kt.O5,V._Y,V.JL,V.sg,V.x0,K.T,V.JJ,V.u,V.Fj,V.CE,kt.mk,kt.sg],pipes:[mt.X$],styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();var A=Mt(49671),d=Mt(97520),C=Mt(75778),x=Mt(59680),b=Mt(42193),u=Mt(22465),l=Mt(5562),p=Mt(65073);const i=["searchApiAutocomplete"];function c(g,E){1&g&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"common.general_conditions.title")," "))}function o(g,E){1&g&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"applicationCreation.subscription.noPlan")))}function n(g,E){1&g&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"applicationCreation.subscription.plan.description")))}function r(g,E){if(1&g&&(t.TgZ(0,"div",12),t.YNc(1,o,3,3,"p",6),t.YNc(2,n,3,3,"p",6),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.selectedApi&&0===e.plans.length),t.xp6(1),t.Q6J("ngIf",null===e.selectedApi)}}const a=function(g){return{count:g}};function M(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",18),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw(3).goToStep2()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,"applicationCreation.subscription.disabledPlans",t.VKq(4,a,e.disabledPlans))," ")}}function L(g,E){1&g&&t._UZ(0,"div")}function Y(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",13),t._UZ(1,"gv-plans",14),t.TgZ(2,"div",15),t.YNc(3,M,3,6,"gv-button",16),t.YNc(4,L,1,0,"div",6),t.TgZ(5,"gv-button",17),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw(2).addPlan()}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("plans",e.plans),t.xp6(2),t.Q6J("ngIf",e.requireClientId),t.xp6(1),t.Q6J("ngIf",!e.requireClientId),t.xp6(1),t.Q6J("disabled",e.canAddPlan||e.requireClientId||!e.generalConditionsAccepted),t.xp6(1),t.hij(" ",t.lcZ(7,5,"applicationCreation.subscription.subscribe")," ")}}function D(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",8)(1,"div")(2,"app-gv-page",19),t.NdJ("loaded",function(){return t.CHM(e),t.oxw(2).refeshGeneralCondition()}),t.qZA(),t._UZ(3,"gv-checkbox",20),t.ALo(4,"translate"),t.qZA()()}if(2&g){const e=t.oxw(2);t.xp6(2),t.Q6J("page",e.getCurrentGeneralConditions()),t.xp6(1),t.s9C("label",t.lcZ(4,2,"common.general_conditions.accept"))}}const w=function(){return{count:0}};function N(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",8)(1,"gv-table",21),t.NdJ("input",function(){return t.CHM(e),t.oxw(2).onRequestChange()}),t.ALo(2,"translate"),t.qZA()()}if(2&g){const e=t.oxw(2);t.xp6(1),t.s9C("emptymessage",t.xi3(2,3,"applicationCreation.subscription.description",t.DdM(6,w))),t.Q6J("items",e.subscribeList)("options",e.subscriptionListOptions)}}function s(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"gv-autocomplete",3,4),t.NdJ("gv-autocomplete:search",function(q){return t.CHM(e),t.oxw().onSearchApi(q)})("gv-autocomplete:select",function(q){return t.CHM(e),t.oxw().onSelectApi(q)}),t._UZ(4,"gv-input",5),t.ALo(5,"translate"),t.qZA(),t.YNc(6,c,3,3,"h3",6),t.qZA(),t.TgZ(7,"div")(8,"div",7)(9,"div",8),t.YNc(10,r,3,2,"div",9),t.YNc(11,Y,8,7,"div",10),t.qZA(),t.YNc(12,D,5,4,"div",11),t.YNc(13,N,3,7,"div",11),t.qZA()()()}if(2&g){const e=t.oxw();t.Q6J("formGroup",e.planForm),t.xp6(2),t.Q6J("options",e.apiList),t.xp6(2),t.s9C("placeholder",t.lcZ(5,9,"applicationCreation.subscription.api.description")),t.Q6J("value",e.selectedApiName),t.xp6(2),t.Q6J("ngIf",e.hasGeneralConditions&&!e.canAddPlan&&!e.generalConditionsAcceptedAndPlanSubscribed),t.xp6(4),t.Q6J("ngIf",e.disabledPlans>0||e.plans&&0===e.plans.length),t.xp6(1),t.Q6J("ngIf",e.selectedApi&&e.plans&&e.plans.length>0),t.xp6(1),t.Q6J("ngIf",e.hasGeneralConditions&&!e.canAddPlan&&!e.generalConditionsAcceptedAndPlanSubscribed),t.xp6(1),t.Q6J("ngIf",!e.hasGeneralConditions||e.canAddPlan||e.generalConditionsAcceptedAndPlanSubscribed)}}let f=(()=>{class g{constructor(e,S,q,rt,ft){this.formBuilder=e,this.apiService=S,this.activatedRoute=q,this.translateService=rt,this.ref=ft,this.updated=new t.vpe,this.changeStep=new t.vpe,this.generalConditions=new Map,this._generalConditionsAccepted=!1,this.apiList=[],this.subscribeList=[],this.disabledPlans=0,this.plans=[]}refeshGeneralCondition(){this.ref.detectChanges()}ngOnInit(){if(this.planForm=this.formBuilder.group({apiId:new V.NI(null,[V.kI.required]),planId:new V.NI(null,[V.kI.required]),general_conditions_accepted:new V.NI(null)}),this.planForm.valueChanges.pipe((0,C.x)((e,S)=>e.planId===S.planId)).subscribe(()=>{if(this.hasGeneralConditions){this.planForm.get("general_conditions_accepted").setValidators(V.kI.requiredTrue);const e=this.selectedPlan.general_conditions;if(void 0===this.generalConditions.get(e)){let S=this.planForm.get("apiId").value;!S&&this.activatedRoute.snapshot.queryParamMap.has("api")&&(S=this.activatedRoute.snapshot.queryParamMap.get("api")),this.apiService.getPageByApiIdAndPageId({apiId:S,pageId:this.selectedPlan.general_conditions,include:["content"]}).toPromise().then(q=>{this.generalConditions.set(q.id,q),this.currentGeneralConditions=q})}else this.currentGeneralConditions=this.generalConditions.get(e)}else this.planForm.get("general_conditions_accepted").clearValidators();this.planForm.get("general_conditions_accepted").setValue(!1),this._generalConditionsAccepted=!1,this.ref.detectChanges()}),this.planForm.valueChanges.pipe((0,C.x)((e,S)=>e.general_conditions_accepted===S.general_conditions_accepted)).subscribe(()=>{this._generalConditionsAccepted=this.planForm.get("general_conditions_accepted").value,this.ref.detectChanges()}),this.activatedRoute.snapshot.queryParamMap.has("api")){const e=this.activatedRoute.snapshot.queryParamMap.get("api");this.apiService.getApiByApiId({apiId:e}).toPromise().then(S=>this.loadPlans(S))}this.translateService.get([(0,d.J)("apiSubscribe.apps.comment"),(0,d.J)("applicationCreation.subscription.comment"),(0,d.J)("applicationCreation.subscription.remove")]).toPromise().then(e=>{const S=Object.values(e);this.subscriptionListOptions={data:[{field:"api.name",label:"Api"},{field:"plan.name",label:"Plan"},{field:"request",label:S[1],type:"gv-text",attributes:{rows:2,required:q=>q.requiredComment,placeholder:q=>q.plan.comment_question||S[0]},width:"300px"},{type:"gv-icon",width:"25px",attributes:{shape:"general:trash",clickable:!0,onClick:q=>this.removePlan(q.plan),title:S[2]}}]}})}onSearchApi({detail:e}){return this.plans=[],this.apiService.searchApis(new b.M(e,5)).toPromise().then(S=>{this.apiList=S.data.length?S.data.map(q=>{const rt=document.createElement("gv-row");return rt.item=q,{value:q.name,element:rt,id:q.id,data:q}}):[]})}get selectedApiName(){return this.selectedApi?this.selectedApi.name:""}goToStep2(){this.changeStep.emit({step:2,fragment:"appClientId"})}onRequestChange(){clearTimeout(this.updateStepsTimer),this.updateStepsTimer=setTimeout(()=>this.updated.emit(this.subscribeList),200)}get selectedPlan(){const e=this.planForm.get("planId").value;return this.plans.find(S=>S.id===e)}onSelectApi({detail:e}){var S=this;return(0,A.Z)(function*(){const q=S.apiList.find(rt=>rt.id===e.id).data;S.planForm.get("apiId").setValue(q.id),S.loadPlans(q)})()}get generalConditionsAccepted(){return!this.hasGeneralConditions||this._generalConditionsAccepted}get generalConditionsAcceptedAndPlanSubscribed(){return!this.hasGeneralConditions||this.canAddPlan&&this._generalConditionsAccepted}requireComment(){return this.hasRequireComment(this.selectedPlan)}hasRequireComment(e){return e&&e.comment_required}getCurrentGeneralConditions(){return this.currentGeneralConditions}get hasGeneralConditions(){const e=this.selectedPlan;return void 0!==e&&void 0!==e.general_conditions&&""!==e.general_conditions}loadPlans(e){var S=this;return(0,A.Z)(function*(){if(e){const q=yield S.apiService.getApiPlansByApiId({apiId:e.id,size:-1}).toPromise();S.plans=q.data.filter(rt=>rt.security.toUpperCase()!==x.fU.SecurityEnum.KEYLESS),null==S.selectedPlan&&S.plans.length>0&&S.planForm.get("planId").setValue(S.plans[0].id),S.planForm.get("apiId").setValue(e.id),S.selectedApi=e}})()}get canAddPlan(){return this.subscribeList&&null!=this.subscribeList.find(e=>e.plan.id===this.selectedPlan.id)}get requireClientId(){return!this.hasValidClientId(this.selectedPlan)}addPlan(){if(this.planForm.valid&&this.selectedApi&&this.selectedPlan){const e={api:this.selectedApi,plan:this.selectedPlan,requiredComment:this.requireComment(),request:""};this.hasGeneralConditions&&(e.general_conditions_accepted=this.planForm.get("general_conditions_accepted").value,e.general_conditions_content_revision=this.currentGeneralConditions.contentRevisionId),this.subscribeList=[...this.subscribeList,e],this.updated.emit(this.subscribeList)}}removePlan(e){this.planForm.get("planId").value===e.id&&this.hasGeneralConditions&&(this.planForm.get("general_conditions_accepted").setValue(!1),this._generalConditionsAccepted=!1),this.subscribeList=this.subscribeList.filter(S=>S.plan.id!==e.id),this.updated.emit(this.subscribeList),this.ref.detectChanges()}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(V.qu),t.Y36(x.sM),t.Y36(u.gz),t.Y36(mt.sK),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation-step3"]],viewQuery:function(e,S){if(1&e&&t.Gf(i,5),2&e){let q;t.iGM(q=t.CRH())&&(S.searchApiAutocomplete=q.first)}},inputs:{subscribeList:"subscribeList",hasValidClientId:"hasValidClientId"},outputs:{updated:"updated",changeStep:"changeStep"},decls:1,vars:1,consts:[["class","form step application-creation__subscription-form",3,"formGroup",4,"ngIf"],[1,"form","step","application-creation__subscription-form",3,"formGroup"],[1,"application-creation__subscription-form__title"],[1,"form-control","application-creation__autocomplete",3,"options","gv-autocomplete:search","gv-autocomplete:select"],["searchApiAutocomplete",""],["type","search","icon-left","general:search",3,"value","placeholder"],[4,"ngIf"],[1,"step-grid-content"],[1,"step-grid-column"],["class","form-control message",4,"ngIf"],["class","application-creation__subscription-form__plans",4,"ngIf"],["class","step-grid-column",4,"ngIf"],[1,"form-control","message"],[1,"application-creation__subscription-form__plans"],["formControlName","planId","name","planId","size","2","ngDefaultControl","",3,"plans"],[1,"actions"],["link","",3,"gv-button:click",4,"ngIf"],[3,"disabled","gv-button:click"],["link","",3,"gv-button:click"],[1,"application-creation__subscription-form__plans__gcu",3,"page","loaded"],["id","general_conditions_accepted","formControlName","general_conditions_accepted","name","general_conditions_accepted","ngDefaultControl","",3,"label"],["rowheight","75px",3,"items","emptymessage","options","input"]],template:function(e,S){1&e&&t.YNc(0,s,14,11,"form",0),2&e&&t.Q6J("ngIf",S.planForm)},directives:[kt.O5,V._Y,V.JL,V.sg,V.JJ,V.u,V.Fj,l.G,p.I],pipes:[mt.X$],styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();Mt(84834);let R=(()=>{class g{constructor(e){this.translateService=e,this.updated=new t.vpe}ngOnInit(){this.translateService.get([(0,d.J)("apiKeyMode.exclusive.title"),(0,d.J)("apiKeyMode.exclusive.description"),(0,d.J)("apiKeyMode.shared.title"),(0,d.J)("apiKeyMode.shared.description")]).toPromise().then(e=>{const S=Object.values(e);this.apiKeyModeOptions=[{id:x.eg.EXCLUSIVE,title:S[0],description:S[1]},{id:x.eg.SHARED,title:S[2],description:S[3]}]})}onModeChange({detail:e}){this.updated.emit(e.id)}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(mt.sK))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation-step4"]],inputs:{apiKeyMode:"apiKeyMode"},outputs:{updated:"updated"},decls:8,vars:8,consts:[[1,"form","step","application-creation__api-key-form"],["name","apiKeyMode",3,"options","value","gv-option:select"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"gv-option",1),t.NdJ("gv-option:select",function(rt){return S.onModeChange(rt)}),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"apiKeyMode.title")),t.xp6(3),t.Oqu(t.lcZ(6,6,"apiKeyMode.description")),t.xp6(2),t.Q6J("options",S.apiKeyModeOptions)("value",S.apiKeyMode))},pipes:[mt.X$],styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();function z(g,E){if(1&g&&(t.TgZ(0,"div"),t._UZ(1,"gv-image",15),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.pictureSrc)}}function H(g,E){if(1&g&&(t.TgZ(0,"div",10)(1,"div")(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.qZA()()),2&g){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,2,"applicationType.security.clientId.label")),t.xp6(2),t.hij(" ",e.appClientId," ")}}function m(g,E){if(1&g&&(t.TgZ(0,"div"),t.YNc(1,H,6,4,"div",13),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.appClientId)}}function j(g,E){if(1&g&&(t.TgZ(0,"span")(1,"gv-tag",17),t._uU(2),t.qZA()()),2&g){const e=E.$implicit;t.xp6(2),t.Oqu(e)}}function T(g,E){if(1&g&&(t.TgZ(0,"gv-tag",19),t._uU(1),t.qZA()),2&g){const e=E.$implicit;t.xp6(1),t.Oqu(e)}}function Z(g,E){if(1&g&&(t.TgZ(0,"div",10)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,T,2,1,"gv-tag",18),t.qZA()),2&g){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"applicationType.security.redirectUris.label")),t.xp6(2),t.Q6J("ngForOf",e.redirectURIs)}}function B(g,E){if(1&g&&(t.TgZ(0,"div")(1,"div",10)(2,"div"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,j,3,1,"span",16),t.qZA(),t.YNc(6,Z,5,4,"div",13),t.qZA()),2&g){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,3,"applicationCreation.security.label")),t.xp6(2),t.Q6J("ngForOf",e.grantTypeNames),t.xp6(1),t.Q6J("ngIf",e.requiresRedirectUris)}}function tt(g,E){1&g&&(t.TgZ(0,"h2"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"applicationCreation.step.apiKeyMode")))}function $(g,E){if(1&g&&(t.TgZ(0,"div",10)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.qZA()),2&g){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"applicationCreation.apiKeyMode.title")),t.xp6(2),t.hij(" ",e.apiKeyModeTitle," ")}}const nt=function(g){return{count:g}};function ot(g,E){if(1&g&&(t.TgZ(0,"div",6),t._UZ(1,"gv-table",20),t.ALo(2,"translate"),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.s9C("title",t.xi3(2,3,"applicationCreation.validation.subscriptionTitle",t.VKq(6,nt,e.subscribeList.length))),t.Q6J("items",e.subscribeList)("options",e.validationListOptions)}}const pt=function(g){return{"no-subscription":g}};function ut(g,E){if(1&g&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",8),t.YNc(7,z,2,1,"div",9),t.TgZ(8,"div",10)(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"div",10)(14,"span"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17),t.qZA()(),t._UZ(18,"div",11),t.TgZ(19,"h2"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",12)(23,"div",10)(24,"span"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._uU(27),t.qZA(),t.YNc(28,m,2,1,"div",9),t.YNc(29,B,7,5,"div",9),t.qZA(),t.YNc(30,tt,3,3,"h2",9),t.YNc(31,$,5,4,"div",13),t.qZA()(),t.YNc(32,ot,3,8,"div",14),t.qZA()),2&g){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(25,pt,0===e.subscribeList.length)),t.xp6(2),t.Oqu(t.lcZ(5,15,"applicationCreation.step.general")),t.xp6(3),t.Q6J("ngIf",e.pictureSrc),t.xp6(3),t.Oqu(t.lcZ(11,17,"applicationCreation.general.name.label")),t.xp6(2),t.hij(" ",e.appName," "),t.xp6(3),t.Oqu(t.lcZ(16,19,"applicationCreation.general.description.label")),t.xp6(2),t.hij(" ",e.appDescription," "),t.xp6(3),t.Oqu(t.lcZ(21,21,"applicationCreation.step.security")),t.xp6(5),t.Oqu(t.lcZ(26,23,"applicationType.security.simple.title")),t.xp6(2),t.hij(" ",e.applicationType.name," "),t.xp6(1),t.Q6J("ngIf",e.isSimpleApp),t.xp6(1),t.Q6J("ngIf",!e.isSimpleApp),t.xp6(1),t.Q6J("ngIf",e.apiKeyModeTitle),t.xp6(1),t.Q6J("ngIf",e.apiKeyModeTitle),t.xp6(1),t.Q6J("ngIf",5===e.currentStep&&e.subscribeList.length>0)}}function ct(g,E){1&g&&(t.TgZ(0,"div",21),t._UZ(1,"gv-icon",22),t.TgZ(2,"h2"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"p",23),t.ALo(6,"translate"),t.qZA()),2&g&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"applicationCreation.validation.pending.title")),t.xp6(2),t.Q6J("innerHTML",t.lcZ(6,4,"applicationCreation.validation.pending.description"),t.oJD))}const ht=function(g){return["/catalog/api/",g,"subscribe"]};function st(g,E){if(1&g&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"gv-button",26),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&g){const e=E.$implicit;t.xp6(2),t.Oqu(e.message),t.xp6(1),t.Q6J("routerLink",t.VKq(5,ht,e.api.id)),t.xp6(1),t.Oqu(t.lcZ(5,3,"applicationCreation.subscription.resubscribe"))}}function F(g,E){if(1&g&&(t.TgZ(0,"div",27)(1,"ul"),t.YNc(2,st,6,7,"li",16),t.qZA()()),2&g){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.subscriptionErrors)}}const Q=function(g){return["/applications/",g]},it=function(g){return{name:g}};function at(g,E){if(1&g&&(t.TgZ(0,"div",24),t._UZ(1,"gv-icon",22),t.TgZ(2,"h2"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,F,3,1,"div",25),t.TgZ(6,"gv-button",26),t._uU(7),t.ALo(8,"translate"),t.qZA()()),2&g){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"apiSubscribe.success.congratulations")),t.xp6(2),t.Q6J("ngIf",e.subscriptionErrors&&e.subscriptionErrors.length>0),t.xp6(1),t.Q6J("routerLink",t.VKq(9,Q,e.createdApplication.id)),t.xp6(1),t.Oqu(t.xi3(8,6,"applicationCreation.validation.confirm",t.VKq(11,it,e.createdApplication.name)))}}function lt(g,E){1&g&&(t.TgZ(0,"div",28),t._UZ(1,"gv-icon",22),t.TgZ(2,"h2"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"div",23),t.ALo(6,"translate"),t.qZA()),2&g&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"applicationCreation.validation.error.title")),t.xp6(2),t.Q6J("innerHTML",t.lcZ(6,4,"applicationCreation.validation.error.description"),t.oJD))}let dt=(()=>{class g{constructor(e){this.translateService=e}get grantTypeNames(){if(!this.isSimpleApp&&this.applicationForm.contains("settings")){const{settings:e}=this.applicationForm.getRawValue(),S=this.applicationType.allowed_grant_types;return e.oauth.grant_types.map(q=>S.find(rt=>rt.type===q).name)}return[]}get pictureSrc(){return this.applicationForm.get("picture").value}get appName(){return this.applicationForm.get("name").value}get appDescription(){return this.applicationForm.get("description").value}get appClientId(){if(this.isSimpleApp&&this.applicationForm.contains("settings")){const{settings:e}=this.applicationForm.getRawValue();return e.app.client_id}return null}get redirectURIs(){if(!this.isSimpleApp&&this.applicationForm.contains("settings")){const{settings:e}=this.applicationForm.getRawValue();return e.oauth.redirect_uris}return[]}get requiresRedirectUris(){return this.applicationType.requires_redirect_uris}get isSimpleApp(){return"simple"===this.applicationType.id.toLowerCase()}ngOnInit(){this.translateService.get([(0,d.J)("applicationCreation.subscription.comment"),(0,d.J)("applicationCreation.subscription.validation.type"),(0,d.J)("applicationCreation.subscription.validation.auto"),(0,d.J)("applicationCreation.subscription.validation.manual")]).toPromise().then(e=>{const S=Object.values(e);this.validationListOptions={data:[{field:"api.name",label:"Api"},{field:"plan.name",label:"Plan"},{field:"request",label:S[0]},{field:q=>q.plan.validation.toUpperCase()===x.fU.ValidationEnum.AUTO?S[2]:S[3],label:S[1]}]}})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(mt.sK))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation-step5"]],inputs:{canValidate:"canValidate",creationError:"creationError",creationSuccess:"creationSuccess",applicationForm:"applicationForm",subscribeList:"subscribeList",subscriptionErrors:"subscriptionErrors",applicationType:"applicationType",createdApplication:"createdApplication",currentStep:"currentStep",apiKeyModeTitle:"apiKeyModeTitle"},decls:5,vars:4,consts:[[1,"step"],["class","step-grid-content",4,"ngIf"],["class","message message-full message-pending",4,"ngIf"],["class","message message-full message-confirm",4,"ngIf"],["class","message message-full message-error",4,"ngIf"],[1,"step-grid-content"],[1,"step-grid-column"],[1,"validation-summary",3,"ngClass"],[1,"general-summary","form-control"],[4,"ngIf"],[1,"form-control"],[1,"form-control",2,"clear","both"],[1,"security-summary"],["class","form-control",4,"ngIf"],["class","step-grid-column",4,"ngIf"],[1,"application-creation__picture",3,"src"],[4,"ngFor","ngForOf"],["major",""],["minor","",4,"ngFor","ngForOf"],["minor",""],[3,"items","title","options"],[1,"message","message-full","message-pending"],["shape","general:smile"],[3,"innerHTML"],[1,"message","message-full","message-confirm"],["class","application-creation__subscription-errors",4,"ngIf"],["link","","outlined","",3,"routerLink"],[1,"application-creation__subscription-errors"],[1,"message","message-full","message-error"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ut,33,27,"div",1),t.YNc(2,ct,7,6,"div",2),t.YNc(3,at,9,13,"div",3),t.YNc(4,lt,7,6,"div",4),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",S.canValidate&&!S.creationError),t.xp6(1),t.Q6J("ngIf",!S.canValidate&&!S.creationSuccess&&!S.creationError),t.xp6(1),t.Q6J("ngIf",S.creationSuccess),t.xp6(1),t.Q6J("ngIf",S.creationError))},directives:[kt.O5,kt.mk,kt.sg,u.rH],pipes:[mt.X$],styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();Mt(30423),Mt(42715),Mt(71256);var _t=Mt(93369),vt=Mt(55302),Pt=Mt(74937),wt=Mt(97963);function Tt(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"app-application-creation-step2",15),t.NdJ("updated",function(q){return t.CHM(e),t.oxw().onStepTwoUpdated(q)})("applicationTypeSelected",function(q){return t.CHM(e),t.oxw().onApplicationTypeSelected(q)}),t.qZA()}if(2&g){const e=t.oxw();t.Q6J("allowedTypes",e.allowedTypes)("requireClientId",e.requireClientId)}}function bt(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",16),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().onPrevious()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw();t.Q6J("disabled",!e.canPrevious()),t.xp6(1),t.hij("",t.lcZ(2,2,"applicationCreation.step.previous")," ")}}function jt(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",17),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().onNext()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"applicationCreation.step.next")))}function Nt(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",18),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().createApp()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw();t.Q6J("disabled",!e.canValidate())("loading",e.creationInProgress),t.xp6(1),t.Oqu(t.lcZ(2,3,"applicationCreation.step.createApp"))}}const Lt=function(g,E,e,S,q){return{"step-content":!0,one:g,two:E,three:e,four:S,five:q}},Ut=x.fU.SecurityEnum;let Wt=(()=>{class g{constructor(e,S,q,rt,ft,yt,At,Ot,St,Et,Ft,$t){this.translateService=e,this.configurationService=S,this.formBuilder=q,this.router=rt,this.route=ft,this.portalService=yt,this.notificationService=At,this.apiService=Ot,this.activatedRoute=St,this.subscriptionService=Et,this.applicationService=Ft,this.ref=$t,this.apiKeyMode=x.eg.UNSPECIFIED,this.currentStep=1,this.readSteps=[1],this.subscriptionErrors=[]}ngOnInit(){var e=this;return(0,A.Z)(function*(){const S=[(0,d.J)("applicationCreation.step.general"),(0,d.J)("applicationCreation.step.security"),(0,d.J)("applicationCreation.step.subscription"),(0,d.J)("applicationCreation.step.validate")];e.canConfigureSharedApiKey()&&S.splice(3,0,(0,d.J)("applicationCreation.step.apiKeyMode")),e._allSteps=yield Promise.all(S.map(q=>e.translateService.get(q).toPromise().then(rt=>({title:rt})))),e.steps=e._allSteps,e.allowedTypes=yield Promise.all(e.route.snapshot.data.enabledApplicationTypes.map(q=>e.translateService.get([`applicationType.${q.id}.title`,`applicationType.${q.id}.description`]).toPromise().then(rt=>{const[ft,yt]=Object.values(rt);return{...q,icon:(0,_t.Od)(q.id),title:ft,description:yt}}))),e.applicationForm=e.formBuilder.group({name:new V.NI(null,[V.kI.required]),description:new V.NI(null,[V.kI.required]),domain:new V.NI(null),picture:new V.NI(null),settings:new V.NI(null,[V.kI.required])})})()}setCurrentStep(e){this.creationSuccess||(this.readSteps.includes(e)||(this.readSteps.push(e),3===e&&(this.subscribeList=[])),this.ref.detectChanges(),this.updateSteps(),this.currentStep=e)}onChangeStep({detail:{current:e}}){!this.canDisplayApiKeyModeStep()&&4===e&&(e+=1),this.notificationService.reset(),this.creationError=!1,this.setCurrentStep(e)}get requireClientId(){return!!(this.applicationType&&this.isSimpleApp&&this.subscribeList&&this.subscribeList.find(S=>!this.hasValidClientId(S.plan)))}hasValidClientId(e){if(this.isSimpleApp&&(e.security.toUpperCase()===x.fU.SecurityEnum.OAUTH2||e.security.toUpperCase()===x.fU.SecurityEnum.JWT)){const{settings:S}=this.applicationForm.getRawValue();if(S.app&&(null==S.app.client_id||""===S.app.client_id.trim()))return!1}return!0}hasValidSubscriptions(){return this.readSteps.includes(3)&&null==this.subscribeList.find(e=>this.hasRequireComment(e.plan)&&(null==e.request||""===e.request.trim()))}hasRequireComment(e){return e&&e.comment_required}onStepOneUpdated(e){this.stepOneForm=e,this.applicationForm.patchValue(this.stepOneForm.getRawValue()),this.updateSteps()}get stepOneState(){return this.stepOneForm?{description:this.stepOneForm.get("name").value,valid:this.stepOneForm.valid,invalid:this.readSteps.includes(2)&&this.stepOneForm.invalid}:{description:"",valid:!1,invalid:!1}}onStepTwoUpdated(e){this.stepTwoForm=e,this.applicationForm.get("settings").patchValue(this.stepTwoForm.getRawValue()),this.updateSteps()}get stepTwoState(){return this.stepTwoForm?{description:this.readSteps.includes(2)&&this.applicationType?this.applicationType.name:"",valid:this.stepTwoForm.valid,invalid:this.stepTwoForm.invalid}:{description:"",valid:!1,invalid:!1}}onStepThreeUpdated(e){this.subscribeList=e,this.updateSteps().then(()=>this.ref.detectChanges())}stepThreeState(){var e=this;return(0,A.Z)(function*(){if(e.subscribeList){const S=yield e.translateService.get((0,d.J)("applicationCreation.subscription.description"),{count:e.subscribeList.length}).toPromise(),q=e.hasValidSubscriptions();return{description:S,valid:q,invalid:!q}}return{description:"",valid:!1,invalid:!1}})()}onStepFourUpdated(e){this.apiKeyMode=e,this.updateSteps()}stepFourState(){var e=this;return(0,A.Z)(function*(){if(e.apiKeyMode!==x.eg.UNSPECIFIED){e.apiKeyModeTitle=yield e.translateService.get((0,d.J)(`apiKeyMode.${e.apiKeyMode.toLowerCase()}.title`)).toPromise();const S=[x.eg.SHARED,x.eg.EXCLUSIVE].includes(e.apiKeyMode);return{description:e.apiKeyModeTitle,valid:S,invalid:!S}}return{description:"",valid:!1,invalid:!1}})()}updateSteps(){var e=this;return(0,A.Z)(function*(){const S=e.createdApplication?new Date(e.createdApplication.created_at).toLocaleString(e.translateService.currentLang):"",q=yield e.stepThreeState(),rt=[e.stepOneState,e.stepTwoState,q,{description:S,valid:e.creationSuccess,invalid:!1}];if(e.canConfigureSharedApiKey()){const ft=yield e.stepFourState();rt.splice(3,0,ft)}e.steps=rt.map(({description:ft,valid:yt,invalid:At},Ot)=>{const St=e._allSteps[Ot];return St.description=ft,St.valid=e.readSteps.includes(Ot+1)&&yt,St.invalid=e.readSteps.includes(Ot+1)&&At,St}),e.canDisplayApiKeyModeStep()||e.steps.splice(3,1)})()}onNext(){if(this.canNext()){let e=this.currentStep+1;!this.canDisplayApiKeyModeStep()&&4===e&&(e+=1),this.setCurrentStep(e)}}canNext(){return this._allSteps&&this.currentStep<this._allSteps.length&&!this.creationSuccess}canPrevious(){return this.currentStep>1&&!this.creationSuccess}onPrevious(){if(this.canPrevious()){let e=this.currentStep-1;!this.canDisplayApiKeyModeStep()&&4===e&&(e-=1),this.setCurrentStep(e)}}onExit(){this.router.navigate(["../"],{relativeTo:this.route})}canValidate(){if(this.steps&&!this.creationSuccess){const e=this.canDisplayApiKeyModeStep()?3:2;if(this.steps.filter((q,rt)=>rt<=e&&q.valid).length===e+1)return this.applicationForm.valid&&this.hasValidSubscriptions()}return!1}hasNext(){return this.currentStep<=4}hasCreate(){return 5===this.currentStep&&!this.creationSuccess}createApp(){var e=this;this.creationSuccess=!1,this.creationError=!1,this.creationInProgress=!0,this.subscriptionErrors=[];const S=this.applicationForm.getRawValue();S.api_key_mode=this.apiKeyMode,this.applicationService.createApplication({applicationInput:S}).toPromise().then(function(){var q=(0,A.Z)(function*(rt){e.createdApplication=rt;for(const ft of e.subscribeList){const yt={application:rt.id,plan:ft.plan.id,request:ft.request};ft.general_conditions_accepted&&(yt.general_conditions_accepted=ft.general_conditions_accepted,yt.general_conditions_content_revision=ft.general_conditions_content_revision);try{yield e.subscriptionService.createSubscription({subscriptionInput:yt}).toPromise()}catch(At){let Ot=null;if(At.error&&At.error.errors){const St=At.error.errors[0];Ot=yield e.translateService.get(St.code,St.parameters).toPromise()}e.subscriptionErrors.push({api:ft.api,message:Ot})}}e.creationSuccess=!0,e.creationInProgress=!1,setTimeout(e.updateSteps.bind(e),200)});return function(rt){return q.apply(this,arguments)}}()).catch(()=>{this.creationError=!0,this.creationInProgress=!1})}onApplicationTypeSelected(e){setTimeout(()=>{this.applicationType=e,this.updateSteps()},0)}get isSimpleApp(){return"simple"===this.applicationType.id.toLowerCase()}onRequireChangeStep(e){this.setCurrentStep(e.step),e.fragment&&setTimeout(()=>{const S=document.getElementById(e.fragment);S&&S.focus()})}canConfigureSharedApiKey(){return this.configurationService.hasFeature(vt.l.sharedApiKey)}canDisplayApiKeyModeStep(){return this.canConfigureSharedApiKey()&&this.hasAtLeastTwoApiKeySubscriptionsNotOnSameApi()}hasAtLeastTwoApiKeySubscriptionsNotOnSameApi(){const e=[],S=this.subscribeList?.filter(q=>q.plan.security===Ut.APIKEY);if(!S||S.length<2)return!1;for(const q of S){if(e.includes(q.api.id))return!1;e.push(q.api.id)}return!0}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(mt.sK),t.Y36(Pt.e),t.Y36(V.qu),t.Y36(u.F0),t.Y36(u.gz),t.Y36(x.EA),t.Y36(wt.g),t.Y36(x.sM),t.Y36(u.gz),t.Y36(x.FF),t.Y36(x.IX),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-creation"]],decls:18,vars:29,consts:[[1,"page__content"],[1,"application-creation__content"],[1,"application-creation__stepper"],[3,"steps","current","gv-stepper:change"],[3,"ngClass"],[3,"updated"],[3,"allowedTypes","requireClientId","updated","applicationTypeSelected",4,"ngIf"],[3,"hasValidClientId","subscribeList","updated","changeStep"],[3,"apiKeyMode","updated"],[3,"canValidate","applicationType","subscribeList","subscriptionErrors","creationError","creationSuccess","applicationForm","createdApplication","currentStep","apiKeyModeTitle"],[1,"actions"],["outlined","","icon","code:stop",3,"gv-button:click"],["primary","","outlined","","icon","navigation:angle-left",3,"disabled","gv-button:click",4,"ngIf"],["primary","","icon-right","navigation:angle-right",3,"gv-button:click",4,"ngIf"],["primary","","icon","code:check",3,"disabled","loading","gv-button:click",4,"ngIf"],[3,"allowedTypes","requireClientId","updated","applicationTypeSelected"],["primary","","outlined","","icon","navigation:angle-left",3,"disabled","gv-button:click"],["primary","","icon-right","navigation:angle-right",3,"gv-button:click"],["primary","","icon","code:check",3,"disabled","loading","gv-button:click"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"gv-stepper",3),t.NdJ("gv-stepper:change",function(rt){return S.onChangeStep(rt)}),t.qZA()(),t.TgZ(4,"div",4)(5,"app-application-creation-step1",5),t.NdJ("updated",function(rt){return S.onStepOneUpdated(rt)}),t.qZA(),t.YNc(6,Tt,1,2,"app-application-creation-step2",6),t.TgZ(7,"app-application-creation-step3",7),t.NdJ("updated",function(rt){return S.onStepThreeUpdated(rt)})("changeStep",function(rt){return S.onRequireChangeStep(rt)}),t.qZA(),t.TgZ(8,"app-application-creation-step4",8),t.NdJ("updated",function(rt){return S.onStepFourUpdated(rt)}),t.qZA(),t._UZ(9,"app-application-creation-step5",9),t.qZA(),t.TgZ(10,"div",10)(11,"div")(12,"gv-button",11),t.NdJ("gv-button:click",function(){return S.onExit()}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,bt,3,4,"gv-button",12),t.qZA(),t.YNc(16,jt,3,3,"gv-button",13),t.YNc(17,Nt,3,5,"gv-button",14),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("steps",S.steps)("current",S.currentStep),t.xp6(1),t.Q6J("ngClass",t.qbA(23,Lt,1===S.currentStep,2===S.currentStep,3===S.currentStep,4===S.currentStep,5===S.currentStep)),t.xp6(2),t.Q6J("ngIf",S.allowedTypes),t.xp6(1),t.Q6J("hasValidClientId",S.hasValidClientId.bind(S))("subscribeList",S.subscribeList),t.xp6(1),t.Q6J("apiKeyMode",S.apiKeyMode),t.xp6(1),t.Q6J("canValidate",S.canValidate())("applicationType",S.applicationType)("subscribeList",S.subscribeList)("subscriptionErrors",S.subscriptionErrors)("creationError",S.creationError)("creationSuccess",S.creationSuccess)("applicationForm",S.applicationForm)("createdApplication",S.createdApplication)("currentStep",S.currentStep)("apiKeyModeTitle",S.apiKeyModeTitle),t.xp6(4),t.Oqu(t.lcZ(14,21,"applicationCreation.exit")),t.xp6(2),t.Q6J("ngIf",!S.creationSuccess),t.xp6(1),t.Q6J("ngIf",S.hasNext()),t.xp6(1),t.Q6J("ngIf",S.hasCreate()))},styles:["[_nghost-%COMP%]{--gv-option--fxw: wrap;--gv-table-header--fz: var(--gv-theme-font-size--m, 14px);--gv-table-header--p: 0;--gv-button--fz: var(--gv-theme-font-size-l)}.page__content[_ngcontent-%COMP%]{display:flex}.application-creation__content[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color-lightest);margin-right:1rem;flex:1;display:flex;flex-direction:column;height:100%;width:100%}.step[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{height:100%}.step-content[_ngcontent-%COMP%]{padding:1rem 2rem;min-height:490px;max-height:490px;height:490px;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}app-application-creation-step1[_ngcontent-%COMP%], app-application-creation-step2[_ngcontent-%COMP%], app-application-creation-step3[_ngcontent-%COMP%], app-application-creation-step4[_ngcontent-%COMP%], app-application-creation-step5[_ngcontent-%COMP%]{display:none;opacity:0}.one[_ngcontent-%COMP%]   app-application-creation-step1[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   app-application-creation-step2[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   app-application-creation-step3[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   app-application-creation-step4[_ngcontent-%COMP%], .five[_ngcontent-%COMP%]   app-application-creation-step5[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;opacity:1;-webkit-animation:fade-in .2s ease-in;animation:fade-in .2s ease-in}.one[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .two[_ngcontent-%COMP%]   .application-creation__form[_ngcontent-%COMP%], .three[_ngcontent-%COMP%]   .application-creation__subscription-form[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]   .application-creation__api-key-form[_ngcontent-%COMP%]{display:flex;opacity:1;flex-direction:column;flex:1}.application-creation__subscription-form__title[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:4rem}.application-creation__subscription-form__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 0}.application-creation__subscription-form__plans[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   gv-button[_ngcontent-%COMP%]{align-self:center;margin:2rem 0}.application-creation__subscription-form__plans__gcu[_ngcontent-%COMP%]{margin:1rem .2rem;box-sizing:border-box;border-left:6px double var(--gv-theme-neutral-color-dark);background-color:var(--gv-theme-neutral-color-lighter);font-size:var(--gv-theme-font-size-m);overflow-y:auto;overflow-x:hidden;height:320px;overflow-wrap:anywhere;word-break:break-word}.application-creation__api-key-form[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{display:block;margin:0 auto;width:50%}.form-control[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}app-application-creation-step1[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{margin-top:3rem}app-application-creation-step3[_ngcontent-%COMP%]   .step-grid-content[_ngcontent-%COMP%]{grid-gap:.5rem}app-application-creation-step3[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{height:410px;overflow-x:hidden}gv-table[_ngcontent-%COMP%]{height:430px}app-application-creation-step3[_ngcontent-%COMP%]   gv-option.has-disabled-plans[_ngcontent-%COMP%]{height:320px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:1px solid var(--gv-theme-neutral-color-dark);padding:2rem}.application-creation__subscription-form__plans[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0}.label[_ngcontent-%COMP%]{padding-left:.2rem}.message[_ngcontent-%COMP%]{padding:.5rem 0;text-align:center;border-radius:2px;background-color:var(--gv-theme-neutral-color);font-size:var(--gv-theme-font-size-m);line-height:22px}.application-creation__stepper[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--gv-theme-neutral-color-dark);padding:1.5rem 1rem 1rem;min-height:110px}.application-creation__stepper[_ngcontent-%COMP%]   gv-stepper[_ngcontent-%COMP%]{flex:1;margin-top:2rem}.step-grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1}.step-grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}gv-input[_ngcontent-%COMP%], gv-text[_ngcontent-%COMP%], gv-option[_ngcontent-%COMP%], gv-select[_ngcontent-%COMP%], .form-control-grants[_ngcontent-%COMP%], gv-switch[_ngcontent-%COMP%]{width:100%}.application-creation__avatar[_ngcontent-%COMP%]{height:225px}.grant-types[_ngcontent-%COMP%]{padding:0 .5rem;margin-top:2rem;display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.application-types[_ngcontent-%COMP%]{--gv-option-button--maw: 220px;display:flex;justify-content:center}.form-control-redirect-uri[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;grid-template-columns:repeat(2,1fr)}.redirect-uri-tags[_ngcontent-%COMP%]{display:flex;align-items:center}.message-full[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center;flex-direction:column;height:100%}.message-confirm[_ngcontent-%COMP%], .message-pending[_ngcontent-%COMP%], .message-error[_ngcontent-%COMP%]{--gv-icon--s: 128px;display:flex;flex-direction:column;justify-content:space-around}.message-confirm[_ngcontent-%COMP%]{background-color:var(--gv-theme-color);color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light)}.application-creation__picture[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:1rem;--gv-image--of: contain}.general-summary[_ngcontent-%COMP%]{display:block}.general-summary[_ngcontent-%COMP%]   gv-image[_ngcontent-%COMP%]{float:left;margin:0 .5rem .5rem 0}.validation-summary[_ngcontent-%COMP%]{max-height:500px;overflow-x:auto;word-break:break-word}.validation-summary.no-subscription[_ngcontent-%COMP%]{align-self:center;min-width:700px}.validation-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--gv-table-header--fz);margin:.2rem 0 1rem;text-transform:uppercase;border-bottom:1px solid var(--gv-theme-neutral-color-dark);line-height:20px}.validation-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker)}.application-creation__autocomplete[_ngcontent-%COMP%]{align-self:center}.application-creation__subscription-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--gv-theme-font-size-m)}"]}),g})();function It(g,E){if(1&g&&(t.TgZ(0,"gv-button",1),t._uU(1),t.qZA()),2&g){const e=E.ngIf;t.xp6(1),t.hij(" ",e,"\n")}}let Gt=(()=>{class g{constructor(e){this.router=e}onClick(){this.router.navigate(["/applications/creation"],{})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.F0))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-gv-button-create-application"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-button:click",function(){return S.onClick()})},decls:2,vars:3,consts:[["link","","primary","","icon","code:plus",4,"ngIf"],["link","","primary","","icon","code:plus"]],template:function(e,S){1&e&&(t.YNc(0,It,2,1,"gv-button",0),t.ALo(1,"translate")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,"gv-create-application.createApplication"))},directives:[kt.O5],pipes:[mt.X$],styles:["gv-button[_ngcontent-%COMP%]{transition:all .2s ease-in}gv-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),g})();var Qt=Mt(43877),De=(Mt(96750),Mt(80501),Mt(65260));let Di=(()=>{class g{constructor(e,S,q){this.route=e,this.router=S,this.analyticsService=q}ngOnInit(){if(this.route.firstChild&&this.route.firstChild.firstChild&&this.route.firstChild.firstChild.firstChild){const e=this.route.firstChild.firstChild.firstChild.snapshot.data.dashboards;e&&e.length&&(this.dashboard=this.route.snapshot.queryParams.dashboard?e.find(S=>S.id===this.route.snapshot.queryParams.dashboard):e[0],this._onChangDisplay(this.dashboard.id),this.dashboardsSelect=e.map(S=>({label:S.name,value:S.id})))}}_onChangDisplay(e){this.router.navigate([],{queryParams:{dashboard:e},queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(De.y))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-gv-select-dashboard"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-select:select",function(rt){return S._onChangDisplay(rt.detail)})},decls:1,vars:2,consts:[[1,"application__analytics__filter__dashboard",3,"options","value"]],template:function(e,S){1&e&&t._UZ(0,"gv-select",0),2&e&&t.Q6J("options",S.dashboardsSelect)("value",S.dashboard&&S.dashboard.id)},encapsulation:2}),g})(),Ni=(()=>{class g{constructor(e){this.applicationService=e}resolve(e){return this.applicationService.getApplicationType({applicationId:e.params.applicationId})}}return g.\u0275fac=function(e){return new(e||g)(t.LFG(x.IX))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var Ri=Mt(10722);let Ui=(()=>{class g{constructor(e){this.portalService=e}resolve(e){return this.portalService.getDashboards()}}return g.\u0275fac=function(e){return new(e||g)(t.LFG(x.EA))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Fi=(()=>{class g{constructor(e){this.portalService=e}resolve(e){return this.portalService.getEnabledApplicationTypes().toPromise().then(S=>S.data)}}return g.\u0275fac=function(e){return new(e||g)(t.LFG(x.EA))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var ri=Mt(32979),Dt=Mt(91028),Zi=(Mt(59042),Mt(39110),Mt(93470)),ne=Mt.n(Zi),oe=Mt(9455),Bi=Mt(81220),zi=Mt.n(Bi),si=Mt(71182),ai=Mt(46836),ae=Mt(78724);const Yi=(0,ai.XM)(class extends ai.Xe{constructor(g){super(g),this.tt=new WeakMap}render(g){return[g]}update(g,[E]){if((0,ae.hN)(this.it)&&(!(0,ae.hN)(E)||this.it.strings!==E.strings)){const e=(0,ae.i9)(g).pop();let S=this.tt.get(this.it.strings);if(void 0===S){const q=document.createDocumentFragment();S=(0,si.sY)(si.Ld,q),S.setConnected(!1),this.tt.set(this.it.strings,S)}(0,ae.hl)(S,[e]),(0,ae._Y)(S,void 0,e)}if((0,ae.hN)(E)){if(!(0,ae.hN)(this.it)||this.it.strings!==E.strings){const e=this.tt.get(E.strings);if(void 0!==e){const S=(0,ae.i9)(e).pop();(0,ae.E_)(g),(0,ae._Y)(g,void 0,S),(0,ae.hl)(g,[S])}}this.it=E}else this.it=void 0;return this.render(E)}});var Gi=Mt(94774);function Ge(g){return class extends((0,Gi.k)(g)){static get properties(){return{series:{type:Array},options:{type:Array},_additionalOptions:{type:Object,attribute:!1},_series:{type:Array,attribute:!1}}}static get styles(){return[...super.styles,Dt.iv`
          :host {
            box-sizing: border-box;
            display: flex;
            height: 100%;
            width: 100%;
            flex-direction: column;
            justify-content: center;
            align-content: center;
          }

          .container {
            flex: 1;
          }

          .tooltip {
            display: grid;
          }

          .tooltip-2 {
            grid-template-columns: repeat(2, 1fr);
          }

          .tooltip-3 {
            grid-template-columns: repeat(3, 1fr);
          }

          .tooltip-4 {
            grid-template-columns: repeat(4, 1fr);
          }

          .tooltip-5 {
            grid-template-columns: repeat(5, 1fr);
          }
        `]}constructor(){super(),this._skeletonAttribute="series",this._eventListener=function(){for(let e=0;e<ne().charts.length;e++)ne().charts[e].reflow()}}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this._eventListener)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._eventListener)}getOptions(){return function(g,E,e,S){return new(e||(e=Promise))(function(rt,ft){function yt(St){try{Ot(S.next(St))}catch(Et){ft(Et)}}function At(St){try{Ot(S.throw(St))}catch(Et){ft(Et)}}function Ot(St){St.done?rt(St.value):function q(rt){return rt instanceof e?rt:new e(function(ft){ft(rt)})}(St.value).then(yt,At)}Ot((S=S.apply(g,E||[])).next())})}(this,void 0,void 0,function*(){})}updated(E){super.updated(E),E.has("_series")&&this.getOptions().then(e=>{this._additionalOptions=e})}render(){if(this._error)return Dt.dy` <div class="error">${(0,oe.ag)("gv-chart.error")}</div>`;if(this._empty)return Dt.dy` <div class="empty">${(0,oe.ag)("gv-chart.empty")}</div>`;const E=document.createElement("div");if(E.id="container",E.className=this._skeleton||null==this._additionalOptions?"skeleton":"",E.classList.add("container"),this._additionalOptions){const e=Object.assign({chart:{height:"100%",width:"100%"},credits:{enabled:!1},title:{text:""},time:{useUTC:!1}},this._additionalOptions);this._series&&this._series.values&&this._series.values[0]&&this._series.values[0].data&&(e.series=this._series&&this._series.values),setTimeout(()=>{e.chart.map?zi().mapChart(E,e):ne().chart(E,e)})}return Dt.dy`${Yi(E)}`}}}var re=Mt(79313);class Xi extends(Ge(Dt.oi)){getOptions(){return g=this,E=void 0,S=function*(){if(this._series&&this._series.values&&this._series.values[0]&&this._series.values[0].buckets){const E=this._series.values[0].buckets.slice(),e=this._series.values[0].metadata;E.forEach((S,q)=>{this._series.values[q]=Object.assign(Object.assign({},S),this.options.data[0]);let rt=this.options.request.aggs&&this.options.request.aggs.startsWith("field:");("1"===S.name||S.name.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"))&&(rt=!1);let ft=this.options.labels?this.options.labels[0]:"";!ft&&e&&e[S.name]&&(ft=e[S.name].name),rt?(this._series.values[q].name=S.name,this._series.values[q].labelPrefix=ft,this._series.values[q].value=S.name):(this._series.values[q].name=ft,this._series.values[q].labelPrefix="",this._series.values[q].value=S.name)})}return this.options.plotLines=this.options.plotLines?this.options.plotLines.map(E=>Object.assign(Object.assign({},E),{events:{mouseover:function(){this.label.element.firstElementChild.style.visibility="visible"},mouseout:function(){this.label.element.firstElementChild.style.visibility="hidden"}}})):[],{chart:{type:"areaspline",zoomType:"x",events:{selection:E=>{E.preventDefault(),(0,re.h)(this,"zoom",{from:Math.floor(E.xAxis[0].min),to:Math.round(E.xAxis[0].max)})}}},tooltip:{formatter:function(){const E=Math.trunc(this.points.filter(S=>S.y).length/10);let e="<div><b>"+new Date(this.x).toLocaleString((0,oe.G3)())+"</b></div>";if(e+='<div class="'+(E>=2?"tooltip tooltip-"+(E>5?5:E):"")+'">',this.points.filter(S=>0!==S.y).length){let S=0;this.points.forEach(q=>{q.y&&(E<2&&S++>0&&(e+="<br />"),e+='<span style="margin: 1px 5px;"><span style="color:'+q.color+'">\u25cf</span> '+(q.series.options.labelPrefix?q.series.options.labelPrefix+" "+q.series.name:q.series.name)+": <b>"+(q.series.options.decimalFormat?ne().numberFormat(q.y,2):q.y)+(q.series.options.labelSuffix?q.series.options.labelSuffix:"")+"</b></span>")})}return e+="</div>",e},shared:!0,useHTML:!0},plotOptions:{line:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}},series:Object.assign(Object.assign(Object.assign({},this.options),{marker:{enabled:!1},fillOpacity:.1}),{events:{legendItemClick:E=>{E.preventDefault(),(0,re.h)(this,"select",E.target)}}})},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},crosshair:!0,plotLines:[...this.options.plotLines]},yAxis:{title:{text:""}}}},new((e=void 0)||(e=Promise))(function(rt,ft){function yt(St){try{Ot(S.next(St))}catch(Et){ft(Et)}}function At(St){try{Ot(S.throw(St))}catch(Et){ft(Et)}}function Ot(St){St.done?rt(St.value):function q(rt){return rt instanceof e?rt:new e(function(ft){ft(rt)})}(St.value).then(yt,At)}Ot((S=S.apply(g,E||[])).next())});var g,E,e,S}updated(E){super.updated(E),E.has("options")&&this.getOptions().then(e=>{this._additionalOptions=e})}firstUpdated(){this.shadowRoot.addEventListener("mousemove",E=>{let e,S,q,rt;for(S=0;S<ne().charts.length;S++)e=ne().charts[S],e&&e.pointer&&(q=e.pointer.normalize(E.originalEvent?E.originalEvent:E),rt=e.series.map(ft=>ft.searchPoint(q,!0)),rt=rt.filter(ft=>ft),E.points=rt,rt.length&&rt[0]&&rt[0].series.area&&rt[0].highlight(E))}),ne().Pointer.prototype.reset=function(){let E;for(let e=0;e<ne().charts.length;e++)E=ne().charts[e],E&&(E.tooltip&&E.tooltip.hide(this),E.xAxis[0]&&E.xAxis[0].hideCrosshair())},ne().Point.prototype.highlight=function(E){E.points.length&&(this.series.chart.tooltip.refresh(E.points),this.series.chart.xAxis[0].drawCrosshair(E,this))}}}window.customElements.define("gv-chart-line",Xi);class Vi extends(Ge(Dt.oi)){getOptions(){return g=this,E=void 0,S=function*(){let E=0;return this._series&&this._series.values&&(this.options.data.forEach((e,S)=>{e.y=this._series.values[Object.keys(this._series.values)[S]]||0}),this.options.data.forEach(e=>{E+=e.y})),E||(this._empty=!0),{chart:{type:"pie"},series:0===E?[]:[this.options],plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}},series:{animation:!1,events:{click:e=>{e.preventDefault(),(0,re.h)(this,"select",e.point.options)}}}},tooltip:{pointFormat:"Nb hits: <b>{point.y}</b>"},title:{text:"Total: "+E,useHTML:!0,align:"left",verticalAlign:"bottom",y:10,style:{fontSize:"12px",fontWeight:"bold"}}}},new((e=void 0)||(e=Promise))(function(rt,ft){function yt(St){try{Ot(S.next(St))}catch(Et){ft(Et)}}function At(St){try{Ot(S.throw(St))}catch(Et){ft(Et)}}function Ot(St){St.done?rt(St.value):function q(rt){return rt instanceof e?rt:new e(function(ft){ft(rt)})}(St.value).then(yt,At)}Ot((S=S.apply(g,E||[])).next())});var g,E,e,S}}window.customElements.define("gv-chart-pie",Vi);class Qi extends(Ge(Dt.oi)){getOptions(){return g=this,E=void 0,S=function*(){const E=[];let e,S;if(this._series&&this._series.values&&Object.keys(this._series.values).forEach(q=>{(!this.options.excludedKeys||this.options.excludedKeys&&!this.options.excludedKeys.includes(q))&&E.push({key:q,value:this._series.values[q]})}),this.options.zone){const q=this.options.zone.toLowerCase();e="name",S=yield Mt(9025)("./"+q.substring(0,2)+"/"+q+"-all.geo.json")}else e="hc-a2",S=yield Mt.e(4149).then(Mt.t.bind(Mt,14149,19));return{chart:{map:S},mapNavigation:{enabled:!0,enableMouseWheelZoom:!1},legend:{layout:"vertical",align:"left",verticalAlign:"bottom"},colorAxis:{min:0,stops:[[0,"#EFEFFF"],[.5,ne().getOptions().colors[0]],[1,ne().Color(ne().getOptions().colors[0]).brighten(-.5).get()]]},series:[{data:E,joinBy:[e,"key"],name:this.options.name,dataLabels:{enabled:!0,formatter:function(){return"name"===e?this.point[e]:""}},states:{hover:{color:"#a4edba",borderColor:"gray"}},nullColor:"#eaecfd",point:{events:{click:q=>{q.preventDefault(),(0,re.h)(this,"select",q.point.properties)}}}}],tooltip:{headerFormat:"",pointFormat:"<b>{point.name}:</b> {point.value}"}}},new((e=void 0)||(e=Promise))(function(rt,ft){function yt(St){try{Ot(S.next(St))}catch(Et){ft(Et)}}function At(St){try{Ot(S.throw(St))}catch(Et){ft(Et)}}function Ot(St){St.done?rt(St.value):function q(rt){return rt instanceof e?rt:new e(function(ft){ft(rt)})}(St.value).then(yt,At)}Ot((S=S.apply(g,E||[])).next())});var g,E,e,S}}window.customElements.define("gv-chart-map",Qi),Mt(84769),Mt(85713);var li=Mt(19490);const Ki=function(g){return["/applications",g,"alerts"]};function $i(g,E){if(1&g&&(t.TgZ(0,"gv-button",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(4,Ki,e.application.id)),t.xp6(1),t.Oqu(t.lcZ(2,2,"application.analytics.goToAlerts"))}}function tn(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-table",14),t.NdJ("gv-table:select",function(q){return t.CHM(e),t.oxw(2).onTableSelect(q)}),t.ALo(1,"translate"),t.qZA()}if(2&g){const e=t.oxw().$implicit;t.Q6J("emptymessage",t.lcZ(1,4,"analytics.empty"))("items",e.items)("options",e.chart)("selected",e.selected)}}function en(g,E){if(1&g&&t._UZ(0,"gv-chart-pie",15),2&g){const e=t.oxw().$implicit;t.Q6J("series",e.items)("options",e.chart)}}function nn(g,E){if(1&g&&t._UZ(0,"gv-chart-line",15),2&g){const e=t.oxw().$implicit;t.Q6J("series",e.items)("options",e.chart)}}function on(g,E){if(1&g&&t._UZ(0,"gv-chart-map",15),2&g){const e=t.oxw().$implicit;t.Q6J("series",e.items)("options",e.chart)}}function rn(g,E){if(1&g&&t._UZ(0,"gv-stats",16),2&g){const e=t.oxw().$implicit;t.Q6J("stats",e.items)("options",e.chart.data)}}const sn=function(g){return{"grid-area":g}};function an(g,E){if(1&g&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),t._uU(5),t.qZA(),t.TgZ(6,"h3",7),t._uU(7),t.qZA()(),t.YNc(8,$i,3,6,"gv-button",8),t.qZA(),t.TgZ(9,"div",9),t.YNc(10,tn,2,6,"gv-table",10),t.YNc(11,en,1,2,"gv-chart-pie",11),t.YNc(12,nn,1,2,"gv-chart-line",11),t.YNc(13,on,1,2,"gv-chart-map",11),t.YNc(14,rn,1,2,"gv-stats",12),t.qZA()()()),2&g){const e=E.$implicit,S=t.oxw();t.Q6J("ngStyle",t.VKq(10,sn,e.row+1+"/"+(e.col+1)+"/"+(e.sizeY+e.row+1)+"/"+(e.sizeX+e.col+1))),t.xp6(5),t.Oqu(e.title),t.xp6(2),t.Oqu(e.subhead),t.xp6(1),t.Q6J("ngIf",S.hasLinkToAlert(e.title)),t.xp6(1),t.Q6J("ngSwitch",e.chart.type),t.xp6(1),t.Q6J("ngSwitchCase","table"),t.xp6(1),t.Q6J("ngSwitchCase","pie"),t.xp6(1),t.Q6J("ngSwitchCase","line"),t.xp6(1),t.Q6J("ngSwitchCase","map"),t.xp6(1),t.Q6J("ngSwitchCase","stats")}}let hi=(()=>{class g{constructor(e,S,q,rt,ft){this.route=e,this.router=S,this.applicationService=q,this.analyticsService=rt,this.navRouteService=ft,this.searching=new t.vpe}hasLinkToAlert(e){return"Response times"===e||"Response Status"===e}ngOnInit(){this.subscription=this.route.queryParams.subscribe(e=>{e&&!e.skipRefresh&&this.refresh(e)})}ngOnDestroy(){this.subscription.unsubscribe()}refresh(e){if(this.dashboard){this.application=this.route.snapshot.data.application;const S=this.analyticsService.getTimeSlotFromQueryParams(),q=[];this.definition=JSON.parse(this.dashboard.definition).map(rt=>{if(rt.chart.request.ranges&&(rt.chart.request.ranges=rt.chart.request.ranges.replace(/%3B/g,";")),rt.chart.columns){rt.chart.selectable="multi",rt.chart.data=rt.chart.columns.map(At=>({label:At}));const yt=e[rt.chart.request.field];rt.selected=Array.isArray(yt)?yt:[yt],rt.chart.percent&&rt.chart.data.push({label:"%"})}else rt.chart.data||(rt.chart.excludedKeys=["Unknown"],rt.chart.data=[],rt.chart.labels?rt.chart.labels.forEach((yt,At)=>{rt.chart.data.push({name:yt,color:rt.chart.colors?rt.chart.colors[At]:"",labelPrefix:yt,pointStart:S.from,pointInterval:S.interval})}):rt.chart.data.push({pointStart:S.from,pointInterval:S.interval}));const ft={applicationId:this.application.id,from:S.from,to:S.to,interval:S.interval,...rt.chart.request,...this.analyticsService.getQueryFromPath(rt.chart.request.field,rt.chart.request.ranges)};if(rt.chart.percent){const yt=[];yt.push(this.applicationService.getApplicationAnalytics(ft).toPromise()),delete ft.query,ft.type="count",yt.push(this.applicationService.getApplicationAnalytics(ft).toPromise()),q.push(Promise.all(yt))}else q.push(this.applicationService.getApplicationAnalytics(ft).toPromise());return rt}),this.searching.emit(!0),Promise.all(q).then(rt=>{this.definition.forEach((ft,yt)=>{let At,Ot;if(Array.isArray(rt[yt])?(At=rt[yt][0],Ot=rt[yt][1]):At=rt[yt],"table"===ft.chart.type){const St=()=>"justify-content: flex-end; text-align: right;";ft.chart.data[0].field="key",ft.chart.data[0].width="fit-content(90%)",ft.chart.data[0].style=()=>"--gv-table-cell--d: block; height: auto; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;",ft.chart.data[1].field="value",ft.chart.data[1].headerStyle=St,ft.chart.data[1].style=St,ft.chart.data[1].width="auto",Ot&&(ft.chart.data[2].field="percent",ft.chart.data[2].headerStyle=St,ft.chart.data[2].style=St,ft.chart.data[2].width="auto");const Et=Object.keys(At.values);ft.items=Et.map(Ot?Ft=>{const $t=At.values[Ft];return{id:Ft,key:At.metadata[Ft].name,value:$t,percent:`${parseFloat($t/Ot.hits*100+"").toFixed(2)}%`}}:Ft=>({id:Ft,key:At.metadata[Ft].name,value:At.values[Ft],percent:void 0}))}else{const St=At.values;Array.isArray(St)&&St.forEach(Et=>{const Ft=e[Et.field];Ft&&Et.buckets.forEach($t=>{$t.visible=!Ft.length||Ft.includes($t.name)})}),ft.items=At}})}).finally(()=>this.searching.emit(!1))}}onTableSelect({detail:e}){const S={};S[e.options.request.field]=e.items.map(q=>q.id||q.key),this.router.navigate([],{queryParams:S,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}onChartLineZoom(e){e.timeframe=null,this.router.navigate([],{queryParams:e,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}onChartLineSelect(e){const S=e.request.aggs;if(S&&e.value){const q=S.split("field:");if(q&&q[1]){const rt={},ft=this.route.snapshot.queryParams[q[1]];if(ft){const yt=!ft.includes(e.value);Array.isArray(ft)?yt?rt[q[1]]=ft.concat(e.value):(ft.splice(ft.indexOf(e.value),1),rt[q[1]]=[...ft]):rt[q[1]]=yt?[ft,e.value]:null}else rt[q[1]]=e.value;this.navRouteService.navigateForceRefresh([],{queryParams:rt,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}}}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(x.IX),t.Y36(De.y),t.Y36(li.Z))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-gv-analytics-dashboard"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-chart-line:zoom",function(rt){return S.onChartLineZoom(rt.detail)})("gv-chart-line:select",function(rt){return S.onChartLineSelect(rt.detail.options)})},inputs:{dashboard:"dashboard"},outputs:{searching:"searching"},decls:2,vars:1,consts:[[1,"gv-analytics-dashboard__container"],["class","gv-analytics-dashboard__widget",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gv-analytics-dashboard__widget",3,"ngStyle"],[1,"gv-analytics-dashboard__widget__container"],[1,"gv-analytics-dashboard__header__block"],[1,"gv-analytics-dashboard__header__block__left"],[1,"gv-analytics-dashboard__header"],[1,"gv-analytics-dashboard__subheader"],["class","gv-analytics-dashboard__link__alert","link","",3,"routerLink",4,"ngIf"],[1,"gv-analytics-dashboard__widget__content",3,"ngSwitch"],["rowheight","30px",3,"emptymessage","items","options","selected","gv-table:select",4,"ngSwitchCase"],[3,"series","options",4,"ngSwitchCase"],[3,"stats","options",4,"ngSwitchCase"],["link","",1,"gv-analytics-dashboard__link__alert",3,"routerLink"],["rowheight","30px",3,"emptymessage","items","options","selected","gv-table:select"],[3,"series","options"],[3,"stats","options"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0),t.YNc(1,an,15,12,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",S.definition))},directives:[kt.sg,kt.PC,kt.O5,u.rH,kt.RF,kt.n9],pipes:[mt.X$],styles:[".gv-analytics-dashboard__container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:20px;grid-auto-rows:300px}.gv-analytics-dashboard__widget[_ngcontent-%COMP%]{position:relative;margin:10px 0}.gv-analytics-dashboard__widget__container[_ngcontent-%COMP%]{position:relative;justify-content:space-between;background-color:var(--gv-theme-neutral-color-lightest);border-radius:4px;padding:10px 4px;height:100%}.gv-analytics-dashboard__widget__content[_ngcontent-%COMP%]{height:calc(100% - 69px)}.gv-analytics-dashboard__header__block[_ngcontent-%COMP%]{border-bottom:1px solid var(--gv-theme-neutral-color);margin-bottom:10px;height:50px;display:flex;justify-content:space-between}.gv-analytics-dashboard__header[_ngcontent-%COMP%]{margin:0 10px}.gv-analytics-dashboard__subheader[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-darker);margin-left:10px;margin-top:0}.gv-analytics-dashboard__link__alert[_ngcontent-%COMP%]{margin:0 10px}"]}),g})();var He=Mt(58521),Me=(Mt(17441),Mt(8653),Mt(98539));function Rt(g,E){if(E.length<g)throw new TypeError(g+" argument"+(g>1?"s":"")+" required, but only "+E.length+" present")}function Bt(g){Rt(1,arguments);var E=Object.prototype.toString.call(g);return g instanceof Date||"object"==typeof g&&"[object Date]"===E?new Date(g.getTime()):"number"==typeof g||"[object Number]"===E?new Date(g):(("string"==typeof g||"[object String]"===E)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function We(g){Rt(1,arguments);var E=Bt(g);return E.setHours(0,0,0,0),E}var ve=Mt(62967);function we(g,E,e,S=!0,q=[]){if(g){if(E){const rt=new Date(1e3*E);if(S&&rt.setHours(0,0),rt.setSeconds(0,0),g<rt.getTime()/1e3)return!0}if(e){const rt=new Date(1e3*e);if(S&&rt.setHours(23,59),rt.setSeconds(59,59),g>rt.getTime()/1e3)return!0}if(-1!==q.findIndex(rt=>parseInt(rt,10)===g))return!0}return!1}function hn(g){return Rt(1,arguments),g instanceof Date||"object"==typeof g&&"[object Date]"===Object.prototype.toString.call(g)}function pn(g){if(Rt(1,arguments),!hn(g)&&"number"!=typeof g)return!1;var E=Bt(g);return!isNaN(Number(E))}window.customElements.define("gv-date-picker-cell",class ln extends Dt.oi{static get properties(){return{data:{type:Object},selected:{type:Boolean},hovered:{type:Boolean},dateTo:{type:Number},dateFrom:{type:Number},month:{type:String},hoveredDate:{type:Number},min:{type:Number},max:{type:Number},disabled:{type:Boolean},isCurrent:{type:Boolean},time:{type:Boolean},disabledDate:{type:Array}}}static get styles(){return[Dt.iv`
        :host {
          display: block;
        }

        .cell {
          height: 100%;
          width: 100%;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        .cell:not(.disabled):not(.selected):hover {
          background: var(--gv-date-picker-hover--bgc, var(--gv-theme-color-light, #86c3d0));
          color: var(--gv-date-picker-hover--c, var(--gv-theme-font-color-dark, #262626));
          cursor: pointer;
          opacity: 1;
        }

        .cell.hovered {
          opacity: 0.5;
        }

        .cell.current {
          font-weight: bold;
          background: var(--gv-theme-neutral-color, #f5f5f5);
        }

        .cell.hovered,
        .cell.selected {
          background: var(--gv-date-picker-selected--bgc, var(--gv-theme-color, #5a7684));
          color: var(--gv-date-picker-selected--c, var(--gv-theme-font-color-light, #ffffff));
        }

        .cell.disabled {
          opacity: 0.4;
        }
      `]}constructor(){super(),this.selected=!1,this.hovered=!1,this.isCurrent=!1,this.disabledDates=[]}render(){const E=this.isDisabled();return Dt.dy`
      <div @click="${E?null:this._onClick}" @mouseover="${this._onMouseOver}" class="${(0,Me.$)({cell:!0,current:this.isCurrent,selected:this.selected,hovered:this.hovered,disabled:E})}">
        <div>${(0,ve.C)(this.data?this.data.title:null)}</div>
      </div>
    `}updated(E){(E.has("dateFrom")||E.has("dateTo")||E.has("hoveredDate")||E.has("data"))&&this.dateChanged(this.dateFrom,this.dateTo,this.hoveredDate,this.data)}isSelected(E,e,S){return e&&We(1e3*e).getTime()/1e3===S.date||E&&We(1e3*E).getTime()/1e3===S.date}dateChanged(E,e,S,q){this.selected=!1,this.hovered=!1;const rt=parseInt(E,10),ft=parseInt(e,10);(q||S)&&(this.selected=this.isSelected(rt,ft,q),((S===q.date||q.date<S)&&q.date>rt&&!ft&&!Number.isNaN(rt)&&void 0!==rt&&!this.selected||q.date>rt&&q.date<ft)&&(this.hovered=!0))}_onClick(){(0,re.h)(this,"select",{date:this.data.date})}_onMouseOver(){(0,re.h)(this,"hover",{date:this.data.date})}isDisabled(){return!(!this.data||!this.data.date)&&we(this.data.date,this.min,this.max,!0,this.disabledDates)}});var cn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Xe(g){return function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=E.width?String(E.width):g.defaultWidth,S=g.formats[e]||g.formats[g.defaultWidth];return S}}var vn={date:Xe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Xe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Xe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Oe(g){return function(E,e){var rt,S=e||{};if("formatting"===(S.context?String(S.context):"standalone")&&g.formattingValues){var ft=g.defaultFormattingWidth||g.defaultWidth,yt=S.width?String(S.width):ft;rt=g.formattingValues[yt]||g.formattingValues[ft]}else{var At=g.defaultWidth,Ot=S.width?String(S.width):g.defaultWidth;rt=g.values[Ot]||g.values[At]}return rt[g.argumentCallback?g.argumentCallback(E):E]}}function Te(g){return function(E){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=e.width,q=S&&g.matchPatterns[S]||g.matchPatterns[g.defaultMatchWidth],rt=E.match(q);if(!rt)return null;var Ot,ft=rt[0],yt=S&&g.parsePatterns[S]||g.parsePatterns[g.defaultParseWidth],At=Array.isArray(yt)?En(yt,function(Et){return Et.test(ft)}):Ln(yt,function(Et){return Et.test(ft)});Ot=g.valueCallback?g.valueCallback(At):At,Ot=e.valueCallback?e.valueCallback(Ot):Ot;var St=E.slice(ft.length);return{value:Ot,rest:St}}}function Ln(g,E){for(var e in g)if(g.hasOwnProperty(e)&&E(g[e]))return e}function En(g,E){for(var e=0;e<g.length;e++)if(E(g[e]))return e}const qe={code:"en-US",formatDistance:function(g,E,e){var S,q=cn[g];return S="string"==typeof q?q:1===E?q.one:q.other.replace("{{count}}",E.toString()),null!=e&&e.addSuffix?e.comparison&&e.comparison>0?"in "+S:S+" ago":S},formatLong:vn,formatRelative:function(g,E,e,S){return xn[g]},localize:{ordinalNumber:function(g,E){var e=Number(g),S=e%100;if(S>20||S<10)switch(S%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:Oe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Oe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(g){return g-1}}),month:Oe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Oe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Oe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function In(g){return function(E){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=E.match(g.matchPattern);if(!S)return null;var q=S[0],rt=E.match(g.parsePattern);if(!rt)return null;var ft=g.valueCallback?g.valueCallback(rt[0]):rt[0];ft=e.valueCallback?e.valueCallback(ft):ft;var yt=E.slice(q.length);return{value:ft,rest:yt}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(g){return parseInt(g,10)}}),era:Te({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Te({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(g){return g+1}}),month:Te({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Te({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Te({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function zt(g){if(null===g||!0===g||!1===g)return NaN;var E=Number(g);return isNaN(E)?E:E<0?Math.ceil(E):Math.floor(E)}function qn(g,E){Rt(2,arguments);var e=Bt(g).getTime(),S=zt(E);return new Date(e+S)}function pi(g,E){Rt(2,arguments);var e=zt(E);return qn(g,-e)}function Se(g){Rt(1,arguments);var E=1,e=Bt(g),S=e.getUTCDay(),q=(S<E?7:0)+S-E;return e.setUTCDate(e.getUTCDate()-q),e.setUTCHours(0,0,0,0),e}function ci(g){Rt(1,arguments);var E=Bt(g),e=E.getUTCFullYear(),S=new Date(0);S.setUTCFullYear(e+1,0,4),S.setUTCHours(0,0,0,0);var q=Se(S),rt=new Date(0);rt.setUTCFullYear(e,0,4),rt.setUTCHours(0,0,0,0);var ft=Se(rt);return E.getTime()>=q.getTime()?e+1:E.getTime()>=ft.getTime()?e:e-1}function Qn(g){Rt(1,arguments);var E=ci(g),e=new Date(0);e.setUTCFullYear(E,0,4),e.setUTCHours(0,0,0,0);var S=Se(e);return S}var Kn=6048e5;function di(g){Rt(1,arguments);var E=Bt(g),e=Se(E).getTime()-Qn(E).getTime();return Math.round(e/Kn)+1}function be(g,E){Rt(1,arguments);var e=E||{},S=e.locale,q=S&&S.options&&S.options.weekStartsOn,rt=null==q?0:zt(q),ft=null==e.weekStartsOn?rt:zt(e.weekStartsOn);if(!(ft>=0&&ft<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var yt=Bt(g),At=yt.getUTCDay(),Ot=(At<ft?7:0)+At-ft;return yt.setUTCDate(yt.getUTCDate()-Ot),yt.setUTCHours(0,0,0,0),yt}function Ve(g,E){Rt(1,arguments);var e=Bt(g),S=e.getUTCFullYear(),q=E||{},rt=q.locale,ft=rt&&rt.options&&rt.options.firstWeekContainsDate,yt=null==ft?1:zt(ft),At=null==q.firstWeekContainsDate?yt:zt(q.firstWeekContainsDate);if(!(At>=1&&At<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ot=new Date(0);Ot.setUTCFullYear(S+1,0,At),Ot.setUTCHours(0,0,0,0);var St=be(Ot,E),Et=new Date(0);Et.setUTCFullYear(S,0,At),Et.setUTCHours(0,0,0,0);var Ft=be(Et,E);return e.getTime()>=St.getTime()?S+1:e.getTime()>=Ft.getTime()?S:S-1}function $n(g,E){Rt(1,arguments);var e=E||{},S=e.locale,q=S&&S.options&&S.options.firstWeekContainsDate,rt=null==q?1:zt(q),ft=null==e.firstWeekContainsDate?rt:zt(e.firstWeekContainsDate),yt=Ve(g,E),At=new Date(0);At.setUTCFullYear(yt,0,ft),At.setUTCHours(0,0,0,0);var Ot=be(At,E);return Ot}var to=6048e5;function ui(g,E){Rt(1,arguments);var e=Bt(g),S=be(e,E).getTime()-$n(e,E).getTime();return Math.round(S/to)+1}function Yt(g,E){for(var e=g<0?"-":"",S=Math.abs(g).toString();S.length<E;)S="0"+S;return e+S}const ye_y=function(g,E){var e=g.getUTCFullYear(),S=e>0?e:1-e;return Yt("yy"===E?S%100:S,E.length)},ye_M=function(g,E){var e=g.getUTCMonth();return"M"===E?String(e+1):Yt(e+1,2)},ye_d=function(g,E){return Yt(g.getUTCDate(),E.length)},ye_h=function(g,E){return Yt(g.getUTCHours()%12||12,E.length)},ye_H=function(g,E){return Yt(g.getUTCHours(),E.length)},ye_m=function(g,E){return Yt(g.getUTCMinutes(),E.length)},ye_s=function(g,E){return Yt(g.getUTCSeconds(),E.length)},ye_S=function(g,E){var e=E.length,S=g.getUTCMilliseconds();return Yt(Math.floor(S*Math.pow(10,e-3)),E.length)};function fi(g,E){var e=g>0?"-":"+",S=Math.abs(g),q=Math.floor(S/60),rt=S%60;if(0===rt)return e+String(q);var ft=E||"";return e+String(q)+ft+Yt(rt,2)}function gi(g,E){return g%60==0?(g>0?"-":"+")+Yt(Math.abs(g)/60,2):Ce(g,E)}function Ce(g,E){var e=E||"",S=g>0?"-":"+",q=Math.abs(g);return S+Yt(Math.floor(q/60),2)+e+Yt(q%60,2)}const no={G:function(g,E,e){var S=g.getUTCFullYear()>0?1:0;switch(E){case"G":case"GG":case"GGG":return e.era(S,{width:"abbreviated"});case"GGGGG":return e.era(S,{width:"narrow"});default:return e.era(S,{width:"wide"})}},y:function(g,E,e){if("yo"===E){var S=g.getUTCFullYear();return e.ordinalNumber(S>0?S:1-S,{unit:"year"})}return ye_y(g,E)},Y:function(g,E,e,S){var q=Ve(g,S),rt=q>0?q:1-q;return"YY"===E?Yt(rt%100,2):"Yo"===E?e.ordinalNumber(rt,{unit:"year"}):Yt(rt,E.length)},R:function(g,E){return Yt(ci(g),E.length)},u:function(g,E){return Yt(g.getUTCFullYear(),E.length)},Q:function(g,E,e){var S=Math.ceil((g.getUTCMonth()+1)/3);switch(E){case"Q":return String(S);case"QQ":return Yt(S,2);case"Qo":return e.ordinalNumber(S,{unit:"quarter"});case"QQQ":return e.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(S,{width:"narrow",context:"formatting"});default:return e.quarter(S,{width:"wide",context:"formatting"})}},q:function(g,E,e){var S=Math.ceil((g.getUTCMonth()+1)/3);switch(E){case"q":return String(S);case"qq":return Yt(S,2);case"qo":return e.ordinalNumber(S,{unit:"quarter"});case"qqq":return e.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(S,{width:"narrow",context:"standalone"});default:return e.quarter(S,{width:"wide",context:"standalone"})}},M:function(g,E,e){var S=g.getUTCMonth();switch(E){case"M":case"MM":return ye_M(g,E);case"Mo":return e.ordinalNumber(S+1,{unit:"month"});case"MMM":return e.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(S,{width:"narrow",context:"formatting"});default:return e.month(S,{width:"wide",context:"formatting"})}},L:function(g,E,e){var S=g.getUTCMonth();switch(E){case"L":return String(S+1);case"LL":return Yt(S+1,2);case"Lo":return e.ordinalNumber(S+1,{unit:"month"});case"LLL":return e.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(S,{width:"narrow",context:"standalone"});default:return e.month(S,{width:"wide",context:"standalone"})}},w:function(g,E,e,S){var q=ui(g,S);return"wo"===E?e.ordinalNumber(q,{unit:"week"}):Yt(q,E.length)},I:function(g,E,e){var S=di(g);return"Io"===E?e.ordinalNumber(S,{unit:"week"}):Yt(S,E.length)},d:function(g,E,e){return"do"===E?e.ordinalNumber(g.getUTCDate(),{unit:"date"}):ye_d(g,E)},D:function(g,E,e){var S=function Jn(g){Rt(1,arguments);var E=Bt(g),e=E.getTime();E.setUTCMonth(0,1),E.setUTCHours(0,0,0,0);var S=E.getTime();return Math.floor((e-S)/864e5)+1}(g);return"Do"===E?e.ordinalNumber(S,{unit:"dayOfYear"}):Yt(S,E.length)},E:function(g,E,e){var S=g.getUTCDay();switch(E){case"E":case"EE":case"EEE":return e.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(S,{width:"short",context:"formatting"});default:return e.day(S,{width:"wide",context:"formatting"})}},e:function(g,E,e,S){var q=g.getUTCDay(),rt=(q-S.weekStartsOn+8)%7||7;switch(E){case"e":return String(rt);case"ee":return Yt(rt,2);case"eo":return e.ordinalNumber(rt,{unit:"day"});case"eee":return e.day(q,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(q,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(q,{width:"short",context:"formatting"});default:return e.day(q,{width:"wide",context:"formatting"})}},c:function(g,E,e,S){var q=g.getUTCDay(),rt=(q-S.weekStartsOn+8)%7||7;switch(E){case"c":return String(rt);case"cc":return Yt(rt,E.length);case"co":return e.ordinalNumber(rt,{unit:"day"});case"ccc":return e.day(q,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(q,{width:"narrow",context:"standalone"});case"cccccc":return e.day(q,{width:"short",context:"standalone"});default:return e.day(q,{width:"wide",context:"standalone"})}},i:function(g,E,e){var S=g.getUTCDay(),q=0===S?7:S;switch(E){case"i":return String(q);case"ii":return Yt(q,E.length);case"io":return e.ordinalNumber(q,{unit:"day"});case"iii":return e.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(S,{width:"short",context:"formatting"});default:return e.day(S,{width:"wide",context:"formatting"})}},a:function(g,E,e){var q=g.getUTCHours()/12>=1?"pm":"am";switch(E){case"a":case"aa":return e.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(q,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(q,{width:"narrow",context:"formatting"});default:return e.dayPeriod(q,{width:"wide",context:"formatting"})}},b:function(g,E,e){var q,S=g.getUTCHours();switch(q=12===S?"noon":0===S?"midnight":S/12>=1?"pm":"am",E){case"b":case"bb":return e.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(q,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(q,{width:"narrow",context:"formatting"});default:return e.dayPeriod(q,{width:"wide",context:"formatting"})}},B:function(g,E,e){var q,S=g.getUTCHours();switch(q=S>=17?"evening":S>=12?"afternoon":S>=4?"morning":"night",E){case"B":case"BB":case"BBB":return e.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(q,{width:"narrow",context:"formatting"});default:return e.dayPeriod(q,{width:"wide",context:"formatting"})}},h:function(g,E,e){if("ho"===E){var S=g.getUTCHours()%12;return 0===S&&(S=12),e.ordinalNumber(S,{unit:"hour"})}return ye_h(g,E)},H:function(g,E,e){return"Ho"===E?e.ordinalNumber(g.getUTCHours(),{unit:"hour"}):ye_H(g,E)},K:function(g,E,e){var S=g.getUTCHours()%12;return"Ko"===E?e.ordinalNumber(S,{unit:"hour"}):Yt(S,E.length)},k:function(g,E,e){var S=g.getUTCHours();return 0===S&&(S=24),"ko"===E?e.ordinalNumber(S,{unit:"hour"}):Yt(S,E.length)},m:function(g,E,e){return"mo"===E?e.ordinalNumber(g.getUTCMinutes(),{unit:"minute"}):ye_m(g,E)},s:function(g,E,e){return"so"===E?e.ordinalNumber(g.getUTCSeconds(),{unit:"second"}):ye_s(g,E)},S:function(g,E){return ye_S(g,E)},X:function(g,E,e,S){var rt=(S._originalDate||g).getTimezoneOffset();if(0===rt)return"Z";switch(E){case"X":return gi(rt);case"XXXX":case"XX":return Ce(rt);default:return Ce(rt,":")}},x:function(g,E,e,S){var rt=(S._originalDate||g).getTimezoneOffset();switch(E){case"x":return gi(rt);case"xxxx":case"xx":return Ce(rt);default:return Ce(rt,":")}},O:function(g,E,e,S){var rt=(S._originalDate||g).getTimezoneOffset();switch(E){case"O":case"OO":case"OOO":return"GMT"+fi(rt,":");default:return"GMT"+Ce(rt,":")}},z:function(g,E,e,S){var rt=(S._originalDate||g).getTimezoneOffset();switch(E){case"z":case"zz":case"zzz":return"GMT"+fi(rt,":");default:return"GMT"+Ce(rt,":")}},t:function(g,E,e,S){return Yt(Math.floor((S._originalDate||g).getTime()/1e3),E.length)},T:function(g,E,e,S){return Yt((S._originalDate||g).getTime(),E.length)}};function mi(g,E){switch(g){case"P":return E.date({width:"short"});case"PP":return E.date({width:"medium"});case"PPP":return E.date({width:"long"});default:return E.date({width:"full"})}}function vi(g,E){switch(g){case"p":return E.time({width:"short"});case"pp":return E.time({width:"medium"});case"ppp":return E.time({width:"long"});default:return E.time({width:"full"})}}const yi={p:vi,P:function oo(g,E){var rt,e=g.match(/(P+)(p+)?/)||[],S=e[1],q=e[2];if(!q)return mi(g,E);switch(S){case"P":rt=E.dateTime({width:"short"});break;case"PP":rt=E.dateTime({width:"medium"});break;case"PPP":rt=E.dateTime({width:"long"});break;default:rt=E.dateTime({width:"full"})}return rt.replace("{{date}}",mi(S,E)).replace("{{time}}",vi(q,E))}};function xi(g){var E=new Date(Date.UTC(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()));return E.setUTCFullYear(g.getFullYear()),g.getTime()-E.getTime()}var so=["D","DD"],ao=["YY","YYYY"];function _i(g){return-1!==so.indexOf(g)}function bi(g){return-1!==ao.indexOf(g)}function Ne(g,E,e){if("YYYY"===g)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(E,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if("YY"===g)throw new RangeError("Use `yy` instead of `YY` (in `".concat(E,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if("D"===g)throw new RangeError("Use `d` instead of `D` (in `".concat(E,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"));if("DD"===g)throw new RangeError("Use `dd` instead of `DD` (in `".concat(E,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"))}var lo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ho=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,po=/^'([^]*?)'?$/,co=/''/g,uo=/[a-zA-Z]/;function Zt(g,E,e){Rt(2,arguments);var S=String(E),q=e||{},rt=q.locale||qe,ft=rt.options&&rt.options.firstWeekContainsDate,yt=null==ft?1:zt(ft),At=null==q.firstWeekContainsDate?yt:zt(q.firstWeekContainsDate);if(!(At>=1&&At<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ot=rt.options&&rt.options.weekStartsOn,St=null==Ot?0:zt(Ot),Et=null==q.weekStartsOn?St:zt(q.weekStartsOn);if(!(Et>=0&&Et<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!rt.localize)throw new RangeError("locale must contain localize property");if(!rt.formatLong)throw new RangeError("locale must contain formatLong property");var Ft=Bt(g);if(!pn(Ft))throw new RangeError("Invalid time value");var $t=xi(Ft),he=pi(Ft,$t),fe={firstWeekContainsDate:At,weekStartsOn:Et,locale:rt,_originalDate:Ft},ge=S.match(ho).map(function(te){var ie=te[0];return"p"===ie||"P"===ie?(0,yi[ie])(te,rt.formatLong,fe):te}).join("").match(lo).map(function(te){if("''"===te)return"'";var ie=te[0];if("'"===ie)return fo(te);var Jt=no[ie];if(Jt)return!q.useAdditionalWeekYearTokens&&bi(te)&&Ne(te,E,g),!q.useAdditionalDayOfYearTokens&&_i(te)&&Ne(te,E,g),Jt(he,te,rt.localize,fe);if(ie.match(uo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ie+"`");return te}).join("");return ge}function fo(g){return g.match(po)[1].replace(co,"'")}function Ci(g,E){Rt(2,arguments);var e=Bt(g),S=Bt(E);return e.getTime()<S.getTime()}function Mi(g,E){Rt(2,arguments);var e=Bt(g),S=Bt(E);return e.getTime()>S.getTime()}function ke(g){return Rt(1,arguments),Bt(g).getFullYear()}function Le(g){Rt(1,arguments);var E=Bt(g),e=E.getMonth();return e}function go(g,E){if(null==g)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in E=E||{})Object.prototype.hasOwnProperty.call(E,e)&&(g[e]=E[e]);return g}function Je(g,E,e){Rt(2,arguments);var S=e||{},q=S.locale,rt=q&&q.options&&q.options.weekStartsOn,ft=null==rt?0:zt(rt),yt=null==S.weekStartsOn?ft:zt(S.weekStartsOn);if(!(yt>=0&&yt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var At=Bt(g),Ot=zt(E),St=At.getUTCDay(),Et=Ot%7,Ft=(Et+7)%7,$t=(Ft<yt?7:0)+Ot-St;return At.setUTCDate(At.getUTCDate()+$t),At}var Vt_month=/^(1[0-2]|0?\d)/,Vt_date=/^(3[0-1]|[0-2]?\d)/,Vt_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Vt_week=/^(5[0-3]|[0-4]?\d)/,Vt_hour23h=/^(2[0-3]|[0-1]?\d)/,Vt_hour24h=/^(2[0-4]|[0-1]?\d)/,Vt_hour11h=/^(1[0-1]|0?\d)/,Vt_hour12h=/^(1[0-2]|0?\d)/,Vt_minute=/^[0-5]?\d/,Vt_second=/^[0-5]?\d/,Vt_singleDigit=/^\d/,Vt_twoDigits=/^\d{1,2}/,Vt_threeDigits=/^\d{1,3}/,Vt_fourDigits=/^\d{1,4}/,Vt_anyDigitsSigned=/^-?\d+/,Vt_singleDigitSigned=/^-?\d/,Vt_twoDigitsSigned=/^-?\d{1,2}/,Vt_threeDigitsSigned=/^-?\d{1,3}/,Vt_fourDigitsSigned=/^-?\d{1,4}/,de_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,de_basic=/^([+-])(\d{2})(\d{2})|Z/,de_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,de_extended=/^([+-])(\d{2}):(\d{2})|Z/,de_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ht(g,E,e){var S=E.match(g);if(!S)return null;var q=parseInt(S[0],10);return{value:e?e(q):q,rest:E.slice(S[0].length)}}function ue(g,E){var e=E.match(g);return e?"Z"===e[0]?{value:0,rest:E.slice(1)}:{value:("+"===e[1]?1:-1)*(36e5*(e[2]?parseInt(e[2],10):0)+6e4*(e[3]?parseInt(e[3],10):0)+1e3*(e[5]?parseInt(e[5],10):0)),rest:E.slice(e[0].length)}:null}function wi(g,E){return Ht(Vt_anyDigitsSigned,g,E)}function Xt(g,E,e){switch(g){case 1:return Ht(Vt_singleDigit,E,e);case 2:return Ht(Vt_twoDigits,E,e);case 3:return Ht(Vt_threeDigits,E,e);case 4:return Ht(Vt_fourDigits,E,e);default:return Ht(new RegExp("^\\d{1,"+g+"}"),E,e)}}function Re(g,E,e){switch(g){case 1:return Ht(Vt_singleDigitSigned,E,e);case 2:return Ht(Vt_twoDigitsSigned,E,e);case 3:return Ht(Vt_threeDigitsSigned,E,e);case 4:return Ht(Vt_fourDigitsSigned,E,e);default:return Ht(new RegExp("^-?\\d{1,"+g+"}"),E,e)}}function Qe(g){switch(g){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Si(g,E){var q,e=E>0,S=e?E:1-E;if(S<=50)q=g||100;else{var rt=S+50;q=g+100*Math.floor(rt/100)-(g>=rt%100?100:0)}return e?q:1-q}var Co=[31,28,31,30,31,30,31,31,30,31,30,31],Mo=[31,29,31,30,31,30,31,31,30,31,30,31];function Ai(g){return g%400==0||g%4==0&&g%100!=0}const So={G:{priority:140,parse:function(g,E,e,S){switch(E){case"G":case"GG":case"GGG":return e.era(g,{width:"abbreviated"})||e.era(g,{width:"narrow"});case"GGGGG":return e.era(g,{width:"narrow"});default:return e.era(g,{width:"wide"})||e.era(g,{width:"abbreviated"})||e.era(g,{width:"narrow"})}},set:function(g,E,e,S){return E.era=e,g.setUTCFullYear(e,0,1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(g,E,e,S){var q=function(rt){return{year:rt,isTwoDigitYear:"yy"===E}};switch(E){case"y":return Xt(4,g,q);case"yo":return e.ordinalNumber(g,{unit:"year",valueCallback:q});default:return Xt(E.length,g,q)}},validate:function(g,E,e){return E.isTwoDigitYear||E.year>0},set:function(g,E,e,S){var q=g.getUTCFullYear();if(e.isTwoDigitYear){var rt=Si(e.year,q);return g.setUTCFullYear(rt,0,1),g.setUTCHours(0,0,0,0),g}return g.setUTCFullYear("era"in E&&1!==E.era?1-e.year:e.year,0,1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(g,E,e,S){var q=function(rt){return{year:rt,isTwoDigitYear:"YY"===E}};switch(E){case"Y":return Xt(4,g,q);case"Yo":return e.ordinalNumber(g,{unit:"year",valueCallback:q});default:return Xt(E.length,g,q)}},validate:function(g,E,e){return E.isTwoDigitYear||E.year>0},set:function(g,E,e,S){var q=Ve(g,S);if(e.isTwoDigitYear){var rt=Si(e.year,q);return g.setUTCFullYear(rt,0,S.firstWeekContainsDate),g.setUTCHours(0,0,0,0),be(g,S)}return g.setUTCFullYear("era"in E&&1!==E.era?1-e.year:e.year,0,S.firstWeekContainsDate),g.setUTCHours(0,0,0,0),be(g,S)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(g,E,e,S){return Re("R"===E?4:E.length,g)},set:function(g,E,e,S){var q=new Date(0);return q.setUTCFullYear(e,0,4),q.setUTCHours(0,0,0,0),Se(q)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(g,E,e,S){return Re("u"===E?4:E.length,g)},set:function(g,E,e,S){return g.setUTCFullYear(e,0,1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(g,E,e,S){switch(E){case"Q":case"QQ":return Xt(E.length,g);case"Qo":return e.ordinalNumber(g,{unit:"quarter"});case"QQQ":return e.quarter(g,{width:"abbreviated",context:"formatting"})||e.quarter(g,{width:"narrow",context:"formatting"});case"QQQQQ":return e.quarter(g,{width:"narrow",context:"formatting"});default:return e.quarter(g,{width:"wide",context:"formatting"})||e.quarter(g,{width:"abbreviated",context:"formatting"})||e.quarter(g,{width:"narrow",context:"formatting"})}},validate:function(g,E,e){return E>=1&&E<=4},set:function(g,E,e,S){return g.setUTCMonth(3*(e-1),1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(g,E,e,S){switch(E){case"q":case"qq":return Xt(E.length,g);case"qo":return e.ordinalNumber(g,{unit:"quarter"});case"qqq":return e.quarter(g,{width:"abbreviated",context:"standalone"})||e.quarter(g,{width:"narrow",context:"standalone"});case"qqqqq":return e.quarter(g,{width:"narrow",context:"standalone"});default:return e.quarter(g,{width:"wide",context:"standalone"})||e.quarter(g,{width:"abbreviated",context:"standalone"})||e.quarter(g,{width:"narrow",context:"standalone"})}},validate:function(g,E,e){return E>=1&&E<=4},set:function(g,E,e,S){return g.setUTCMonth(3*(e-1),1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(g,E,e,S){var q=function(rt){return rt-1};switch(E){case"M":return Ht(Vt_month,g,q);case"MM":return Xt(2,g,q);case"Mo":return e.ordinalNumber(g,{unit:"month",valueCallback:q});case"MMM":return e.month(g,{width:"abbreviated",context:"formatting"})||e.month(g,{width:"narrow",context:"formatting"});case"MMMMM":return e.month(g,{width:"narrow",context:"formatting"});default:return e.month(g,{width:"wide",context:"formatting"})||e.month(g,{width:"abbreviated",context:"formatting"})||e.month(g,{width:"narrow",context:"formatting"})}},validate:function(g,E,e){return E>=0&&E<=11},set:function(g,E,e,S){return g.setUTCMonth(e,1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(g,E,e,S){var q=function(rt){return rt-1};switch(E){case"L":return Ht(Vt_month,g,q);case"LL":return Xt(2,g,q);case"Lo":return e.ordinalNumber(g,{unit:"month",valueCallback:q});case"LLL":return e.month(g,{width:"abbreviated",context:"standalone"})||e.month(g,{width:"narrow",context:"standalone"});case"LLLLL":return e.month(g,{width:"narrow",context:"standalone"});default:return e.month(g,{width:"wide",context:"standalone"})||e.month(g,{width:"abbreviated",context:"standalone"})||e.month(g,{width:"narrow",context:"standalone"})}},validate:function(g,E,e){return E>=0&&E<=11},set:function(g,E,e,S){return g.setUTCMonth(e,1),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(g,E,e,S){switch(E){case"w":return Ht(Vt_week,g);case"wo":return e.ordinalNumber(g,{unit:"week"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=1&&E<=53},set:function(g,E,e,S){return be(function yo(g,E,e){Rt(2,arguments);var S=Bt(g),q=zt(E),rt=ui(S,e)-q;return S.setUTCDate(S.getUTCDate()-7*rt),S}(g,e,S),S)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(g,E,e,S){switch(E){case"I":return Ht(Vt_week,g);case"Io":return e.ordinalNumber(g,{unit:"week"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=1&&E<=53},set:function(g,E,e,S){return Se(function vo(g,E){Rt(2,arguments);var e=Bt(g),S=zt(E),q=di(e)-S;return e.setUTCDate(e.getUTCDate()-7*q),e}(g,e,S),S)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(g,E,e,S){switch(E){case"d":return Ht(Vt_date,g);case"do":return e.ordinalNumber(g,{unit:"date"});default:return Xt(E.length,g)}},validate:function(g,E,e){var q=Ai(g.getUTCFullYear()),rt=g.getUTCMonth();return q?E>=1&&E<=Mo[rt]:E>=1&&E<=Co[rt]},set:function(g,E,e,S){return g.setUTCDate(e),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(g,E,e,S){switch(E){case"D":case"DD":return Ht(Vt_dayOfYear,g);case"Do":return e.ordinalNumber(g,{unit:"date"});default:return Xt(E.length,g)}},validate:function(g,E,e){return Ai(g.getUTCFullYear())?E>=1&&E<=366:E>=1&&E<=365},set:function(g,E,e,S){return g.setUTCMonth(0,e),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(g,E,e,S){switch(E){case"E":case"EE":case"EEE":return e.day(g,{width:"abbreviated",context:"formatting"})||e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"});case"EEEEE":return e.day(g,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"});default:return e.day(g,{width:"wide",context:"formatting"})||e.day(g,{width:"abbreviated",context:"formatting"})||e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"})}},validate:function(g,E,e){return E>=0&&E<=6},set:function(g,E,e,S){return(g=Je(g,e,S)).setUTCHours(0,0,0,0),g},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(g,E,e,S){var q=function(rt){var ft=7*Math.floor((rt-1)/7);return(rt+S.weekStartsOn+6)%7+ft};switch(E){case"e":case"ee":return Xt(E.length,g,q);case"eo":return e.ordinalNumber(g,{unit:"day",valueCallback:q});case"eee":return e.day(g,{width:"abbreviated",context:"formatting"})||e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"});case"eeeee":return e.day(g,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"});default:return e.day(g,{width:"wide",context:"formatting"})||e.day(g,{width:"abbreviated",context:"formatting"})||e.day(g,{width:"short",context:"formatting"})||e.day(g,{width:"narrow",context:"formatting"})}},validate:function(g,E,e){return E>=0&&E<=6},set:function(g,E,e,S){return(g=Je(g,e,S)).setUTCHours(0,0,0,0),g},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(g,E,e,S){var q=function(rt){var ft=7*Math.floor((rt-1)/7);return(rt+S.weekStartsOn+6)%7+ft};switch(E){case"c":case"cc":return Xt(E.length,g,q);case"co":return e.ordinalNumber(g,{unit:"day",valueCallback:q});case"ccc":return e.day(g,{width:"abbreviated",context:"standalone"})||e.day(g,{width:"short",context:"standalone"})||e.day(g,{width:"narrow",context:"standalone"});case"ccccc":return e.day(g,{width:"narrow",context:"standalone"});case"cccccc":return e.day(g,{width:"short",context:"standalone"})||e.day(g,{width:"narrow",context:"standalone"});default:return e.day(g,{width:"wide",context:"standalone"})||e.day(g,{width:"abbreviated",context:"standalone"})||e.day(g,{width:"short",context:"standalone"})||e.day(g,{width:"narrow",context:"standalone"})}},validate:function(g,E,e){return E>=0&&E<=6},set:function(g,E,e,S){return(g=Je(g,e,S)).setUTCHours(0,0,0,0),g},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(g,E,e,S){var q=function(rt){return 0===rt?7:rt};switch(E){case"i":case"ii":return Xt(E.length,g);case"io":return e.ordinalNumber(g,{unit:"day"});case"iii":return e.day(g,{width:"abbreviated",context:"formatting",valueCallback:q})||e.day(g,{width:"short",context:"formatting",valueCallback:q})||e.day(g,{width:"narrow",context:"formatting",valueCallback:q});case"iiiii":return e.day(g,{width:"narrow",context:"formatting",valueCallback:q});case"iiiiii":return e.day(g,{width:"short",context:"formatting",valueCallback:q})||e.day(g,{width:"narrow",context:"formatting",valueCallback:q});default:return e.day(g,{width:"wide",context:"formatting",valueCallback:q})||e.day(g,{width:"abbreviated",context:"formatting",valueCallback:q})||e.day(g,{width:"short",context:"formatting",valueCallback:q})||e.day(g,{width:"narrow",context:"formatting",valueCallback:q})}},validate:function(g,E,e){return E>=1&&E<=7},set:function(g,E,e,S){return g=function mo(g,E){Rt(2,arguments);var e=zt(E);e%7==0&&(e-=7);var S=1,q=Bt(g),rt=q.getUTCDay(),At=((e%7+7)%7<S?7:0)+e-rt;return q.setUTCDate(q.getUTCDate()+At),q}(g,e,S),g.setUTCHours(0,0,0,0),g},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(g,E,e,S){switch(E){case"a":case"aa":case"aaa":return e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaaa":return e.dayPeriod(g,{width:"narrow",context:"formatting"});default:return e.dayPeriod(g,{width:"wide",context:"formatting"})||e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"})}},set:function(g,E,e,S){return g.setUTCHours(Qe(e),0,0,0),g},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(g,E,e,S){switch(E){case"b":case"bb":case"bbb":return e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbbb":return e.dayPeriod(g,{width:"narrow",context:"formatting"});default:return e.dayPeriod(g,{width:"wide",context:"formatting"})||e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"})}},set:function(g,E,e,S){return g.setUTCHours(Qe(e),0,0,0),g},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(g,E,e,S){switch(E){case"B":case"BB":case"BBB":return e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBBB":return e.dayPeriod(g,{width:"narrow",context:"formatting"});default:return e.dayPeriod(g,{width:"wide",context:"formatting"})||e.dayPeriod(g,{width:"abbreviated",context:"formatting"})||e.dayPeriod(g,{width:"narrow",context:"formatting"})}},set:function(g,E,e,S){return g.setUTCHours(Qe(e),0,0,0),g},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(g,E,e,S){switch(E){case"h":return Ht(Vt_hour12h,g);case"ho":return e.ordinalNumber(g,{unit:"hour"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=1&&E<=12},set:function(g,E,e,S){var q=g.getUTCHours()>=12;return g.setUTCHours(q&&e<12?e+12:q||12!==e?e:0,0,0,0),g},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(g,E,e,S){switch(E){case"H":return Ht(Vt_hour23h,g);case"Ho":return e.ordinalNumber(g,{unit:"hour"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=0&&E<=23},set:function(g,E,e,S){return g.setUTCHours(e,0,0,0),g},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(g,E,e,S){switch(E){case"K":return Ht(Vt_hour11h,g);case"Ko":return e.ordinalNumber(g,{unit:"hour"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=0&&E<=11},set:function(g,E,e,S){var q=g.getUTCHours()>=12;return g.setUTCHours(q&&e<12?e+12:e,0,0,0),g},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(g,E,e,S){switch(E){case"k":return Ht(Vt_hour24h,g);case"ko":return e.ordinalNumber(g,{unit:"hour"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=1&&E<=24},set:function(g,E,e,S){return g.setUTCHours(e<=24?e%24:e,0,0,0),g},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(g,E,e,S){switch(E){case"m":return Ht(Vt_minute,g);case"mo":return e.ordinalNumber(g,{unit:"minute"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=0&&E<=59},set:function(g,E,e,S){return g.setUTCMinutes(e,0,0),g},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(g,E,e,S){switch(E){case"s":return Ht(Vt_second,g);case"so":return e.ordinalNumber(g,{unit:"second"});default:return Xt(E.length,g)}},validate:function(g,E,e){return E>=0&&E<=59},set:function(g,E,e,S){return g.setUTCSeconds(e,0),g},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(g,E,e,S){return Xt(E.length,g,function(rt){return Math.floor(rt*Math.pow(10,3-E.length))})},set:function(g,E,e,S){return g.setUTCMilliseconds(e),g},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(g,E,e,S){switch(E){case"X":return ue(de_basicOptionalMinutes,g);case"XX":return ue(de_basic,g);case"XXXX":return ue(de_basicOptionalSeconds,g);case"XXXXX":return ue(de_extendedOptionalSeconds,g);default:return ue(de_extended,g)}},set:function(g,E,e,S){return E.timestampIsSet?g:new Date(g.getTime()-e)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(g,E,e,S){switch(E){case"x":return ue(de_basicOptionalMinutes,g);case"xx":return ue(de_basic,g);case"xxxx":return ue(de_basicOptionalSeconds,g);case"xxxxx":return ue(de_extendedOptionalSeconds,g);default:return ue(de_extended,g)}},set:function(g,E,e,S){return E.timestampIsSet?g:new Date(g.getTime()-e)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(g,E,e,S){return wi(g)},set:function(g,E,e,S){return[new Date(1e3*e),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(g,E,e,S){return wi(g)},set:function(g,E,e,S){return[new Date(e),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var Po=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,To=/^'([^]*?)'?$/,ko=/''/g,Lo=/\S/,Eo=/[a-zA-Z]/;function le(g,E,e,S){Rt(3,arguments);var q=String(g),rt=String(E),ft=S||{},yt=ft.locale||qe;if(!yt.match)throw new RangeError("locale must contain match property");var At=yt.options&&yt.options.firstWeekContainsDate,Ot=null==At?1:zt(At),St=null==ft.firstWeekContainsDate?Ot:zt(ft.firstWeekContainsDate);if(!(St>=1&&St<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Et=yt.options&&yt.options.weekStartsOn,Ft=null==Et?0:zt(Et),$t=null==ft.weekStartsOn?Ft:zt(ft.weekStartsOn);if(!($t>=0&&$t<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===rt)return""===q?Bt(e):new Date(NaN);var ge,he={firstWeekContainsDate:St,weekStartsOn:$t,locale:yt},fe=[{priority:10,subPriority:-1,set:Io,index:0}],te=rt.match(Oo).map(function(se){var pe=se[0];return"p"===pe||"P"===pe?(0,yi[pe])(se,yt.formatLong,he):se}).join("").match(Po),ie=[];for(ge=0;ge<te.length;ge++){var Jt=te[ge];!ft.useAdditionalWeekYearTokens&&bi(Jt)&&Ne(Jt,rt,g),!ft.useAdditionalDayOfYearTokens&&_i(Jt)&&Ne(Jt,rt,g);var Pe=Jt[0],_e=So[Pe];if(_e){var Li=_e.incompatibleTokens;if(Array.isArray(Li)){for(var ii=void 0,ze=0;ze<ie.length;ze++){var Ei=ie[ze].token;if(-1!==Li.indexOf(Ei)||Ei===Pe){ii=ie[ze];break}}if(ii)throw new RangeError("The format string mustn't contain `".concat(ii.fullToken,"` and `").concat(Jt,"` at the same time"))}else if("*"===_e.incompatibleTokens&&ie.length)throw new RangeError("The format string mustn't contain `".concat(Jt,"` and any other token at the same time"));ie.push({token:Pe,fullToken:Jt});var ni=_e.parse(q,Jt,yt.match,he);if(!ni)return new Date(NaN);fe.push({priority:_e.priority,subPriority:_e.subPriority||0,set:_e.set,validate:_e.validate,value:ni.value,index:fe.length}),q=ni.rest}else{if(Pe.match(Eo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Pe+"`");if("''"===Jt?Jt="'":"'"===Pe&&(Jt=jo(Jt)),0!==q.indexOf(Jt))return new Date(NaN);q=q.slice(Jt.length)}}if(q.length>0&&Lo.test(q))return new Date(NaN);var Ii=fe.map(function(se){return se.priority}).sort(function(se,pe){return pe-se}).filter(function(se,pe,je){return je.indexOf(se)===pe}).map(function(se){return fe.filter(function(pe){return pe.priority===se}).sort(function(pe,je){return je.subPriority-pe.subPriority})}).map(function(se){return se[0]}),oi=Bt(e);if(isNaN(oi))return new Date(NaN);var Ee=pi(oi,xi(oi)),ji={};for(ge=0;ge<Ii.length;ge++){var Ie=Ii[ge];if(Ie.validate&&!Ie.validate(Ee,Ie.value,he))return new Date(NaN);var Ye=Ie.set(Ee,ji,Ie.value,he);Ye[0]?(Ee=Ye[0],go(ji,Ye[1])):Ee=Ye}return Ee}function Io(g,E){if(E.timestampIsSet)return g;var e=new Date(0);return e.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),e.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),e}function jo(g){return g.match(To)[1].replace(ko,"'")}function No(g){Rt(1,arguments);var E=Bt(g),e=E.getDay();return e}function Ro(g,E){Rt(2,arguments);var e=Bt(g),S=zt(E);return isNaN(S)?new Date(NaN):(S&&e.setDate(e.getDate()+S),e)}function Ke(g,E){Rt(2,arguments);var e=Bt(g),S=zt(E);if(isNaN(S))return new Date(NaN);if(!S)return e;var q=e.getDate(),rt=new Date(e.getTime());rt.setMonth(e.getMonth()+S+1,0);var ft=rt.getDate();return q>=ft?rt:(e.setFullYear(rt.getFullYear(),rt.getMonth(),q),e)}function $e(g,E){Rt(2,arguments);var e=zt(E);return Ke(g,12*e)}function Pi(g,E){Rt(2,arguments);var e=zt(E);return $e(g,-e)}window.customElements.define("gv-date-picker-calendar",class Bo extends Dt.oi{static get properties(){return{dateFrom:{type:Number},dateTo:{type:Number},disabledDates:{type:Array},hoveredDate:{type:Number},locale:{type:Object},max:{type:Number},min:{type:Number},month:{type:String},monthMode:{type:Boolean},next:{type:Boolean},prev:{type:Boolean},range:{type:Boolean},time:{type:Boolean},small:{type:Boolean,reflect:!0},strict:{type:Boolean},year:{type:String},yearMode:{type:Boolean},_dayNamesOfWeek:{type:Array,attribute:!1},_dimensions:{type:Array,attribute:!1},_hasGoToday:{type:Boolean,attribute:!1},_hour:{type:Number,attribute:!1},_minute:{type:Number,attribute:!1},_second:{type:Number,attribute:!1},_monthsList:{type:Array,attribute:!1},_locale:{type:Object,attribute:!1},_from:{type:Number,attribute:!1},_to:{type:Number,attribute:!1}}}static get styles(){return[Dt.iv`
        :host {
          display: block;
        }

        :host > div {
          overflow: hidden;
        }

        .nav,
        .foot,
        .nav-times {
          display: flex;
          padding: 0.5rem;
          height: 30px;
        }

        .nav .current,
        .foot {
          flex: 1;
          display: flex;
          justify-content: center;
        }

        .monthName,
        .day {
          text-transform: capitalize;
        }

        .foot-time {
          justify-content: flex-end;
        }

        .calendar-grid {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          padding: 0.5rem 0.5rem 0 0.5rem;
        }

        .calendar-grid-large {
          grid-template-columns: repeat(3, 1fr);
        }

        .header,
        .content {
          display: grid;
          grid-template-columns: repeat(2, auto);
        }

        gv-date-picker-cell {
          height: 32px;
        }

        .calendar-grid-large gv-date-picker-cell {
          height: 48px;
        }

        .calendar-grid,
        .foot,
        .time {
          border-top: 1px solid var(--gv-theme-neutral-color-dark);
        }

        .nav-times {
          justify-content: center;
          align-items: center;
        }

        .nav-times,
        .time {
          border-left: 1px solid var(--gv-theme-neutral-color-dark);
        }

        .day {
          height: 32px;
          width: 33px;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 12px;
        }

        :host([small]) .day {
          height: 25px;
          width: 26px;
        }

        .box-col,
        .times {
          display: flex;
        }

        .box-col {
          flex-direction: column;
        }

        .box-col:first-of-type {
          width: 260px;
        }

        :host([small]) .box-col:first-of-type {
          width: 195px;
        }

        .box {
          display: flex;
        }

        .times {
          max-height: 235px;
          flex-direction: row;
        }

        .time {
          scroll-behavior: smooth;
          overflow-x: auto;
          min-width: 50px;
          width: 100%;
        }

        .time > div {
          height: 32px;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        :host([small]) .time > div {
          height: 25px;
        }

        .time > div:hover {
          background: var(--gv-date-picker-hover--bgc, var(--gv-theme-color-light, #86c3d0));
          color: var(--gv-date-picker-hover--c, var(--gv-theme-font-color-dark, #262626));
        }

        .time > div.selected {
          background: var(--gv-date-picker-selected--bgc, var(--gv-theme-color, #5a7684));
          color: var(--gv-date-picker-selected--c, var(--gv-theme-font-color-light, #ffffff));
        }

        .time > div.disabled {
          opacity: 0.4;
        }
      `]}constructor(){super(),this._dayNamesOfWeek=[],this._monthsList=["01","02","03","04","05","06","07","08","09","10","11","12"],this.range=!1,this.currentDate=parseInt(Zt(We(Date.now()),"t"),10),this._hasGoToday=!0,this._hours=this.computeArrayOfTime(24),this._minutes=this.computeArrayOfTime(60),this._seconds=this.computeArrayOfTime(60)}set dateFrom(E){if(this._from=E,this.time&&this._from){const e=new Date(1e3*this._from);this._hour=Zt(e,"HH"),this._minute=Zt(e,"mm"),this.isStrictTime()&&(this._second=Zt(e,"ss"))}}set dateTo(E){this._to=E}computeArrayOfTime(E){return new Array(E).fill("").map((e,S)=>{let q=S.toString();return 1===q.length&&(q=`0${q}`),q})}_renderPreviousNav(){return this.prev||this.monthMode||this.yearMode?Dt.dy`
        <gv-button link icon="navigation:angle-double-left" @click="${this._onPrevYear}" ?small="${this.small}"></gv-button>
        ${this.monthMode||this.yearMode?"":Dt.dy`<gv-button link icon="navigation:angle-left" ?small="${this.small}" @click="${this._onPrevMonth}"></gv-button>`}
      `:""}_renderCurrentNav(){return Dt.dy`
      <div class="current">
        ${this.yearMode?"":Dt.dy`<gv-button link @click="${this._onSelectMonth}" ?small="${this.small}"
              ><span class="monthName">${(0,ve.C)(this.computeName(this.month,this.year))}</span></gv-button
            >`}
        <gv-button ?small="${this.small}" link @click="${this._onSelectYear}">${this.computeCurrentYearName()}</gv-button>
      </div>
    `}_renderNextNav(){if(this.next||this.monthMode||this.yearMode)return Dt.dy`
        ${this.monthMode||this.yearMode?"":Dt.dy`<gv-button link icon="navigation:angle-right" ?small="${this.small}" @click="${this._onNextMonth}"></gv-button>`}
        <gv-button ?small="${this.small}" link icon="navigation:angle-double-right" @click="${this._onNextYear}"></gv-button>
      `}_renderDays(){return Dt.dy` ${this._dayNamesOfWeek&&this._dayNamesOfWeek.map(E=>Dt.dy`<div class="day">${E}</div>`)}
    ${this._dimensions&&this._dimensions.map(E=>Dt.dy`${E&&E.map(e=>Dt.dy` <div>
            ${e?Dt.dy`
                  <gv-date-picker-cell
                    .disabledDates="${this.disabledDates}"
                    .min="${this.monthMode||this.yearMode?null:this.min}"
                    .max="${this.monthMode||this.yearMode?null:this.max}"
                    .month="${this.month}"
                    .hoveredDate="${this.hoveredDate}"
                    .dateTo="${this._to}"
                    .dateFrom="${this._from}"
                    .data="${e}"
                    .time="${this.time}"
                    ?isCurrent="${this.isCurrentDate(e)}"
                    @gv-date-picker-cell:hover="${this._onHover}"
                    @gv-date-picker-cell:select="${this._onSelect}"
                  ></gv-date-picker-cell>
                `:null}
          </div>`)}`)}`}isStrictTime(){return!0===this.time&&!0===this.strict}render(){const E={"calendar-grid":!0,"calendar-grid-large":this.monthMode||this.yearMode};return Dt.dy`
      <div class="box">
        ${this.isStrictTime()?"":Dt.dy`<div class="box-col">
              <div class="nav">${this._renderPreviousNav()} ${this._renderCurrentNav()} ${this._renderNextNav()}</div>
              <div class="${(0,Me.$)(E)}">${this._renderDays()}</div>
            </div>`}
        ${!this.time||this.monthMode||this.yearMode?"":Dt.dy`<div class="box-col">
              ${this.isStrictTime()?"":Dt.dy`<div class="nav-times">${this.getTime()}</div>`}
              <div class="times">
                <div class="time">
                  ${this._hours&&this._hours.map(e=>Dt.dy`<div
                        @click="${this._onSelectHour.bind(this,e)}"
                        class="${(0,Me.$)({hour:!0,selected:this._hour===e,disabled:this.isHoursDisabled(e)})}"
                      >
                        ${e}
                      </div>`)}
                </div>
                <div class="time">
                  ${this._minutes&&this._minutes.map(e=>Dt.dy`<div
                        @click="${this._onSelectMinute.bind(this,e)}"
                        class="${(0,Me.$)({minute:!0,selected:this._minute===e,disabled:this.isMinutesDisabled(e)})}"
                      >
                        ${e}
                      </div>`)}
                </div>

                ${this.isStrictTime()?Dt.dy`<div class="time">
                      ${this._seconds&&this._seconds.map(e=>Dt.dy`<div
                            @click="${this._onSelectSecond.bind(this,e)}"
                            class="${(0,Me.$)({second:!0,selected:this._second===e,disabled:this.isSecondsDisabled(e)})}"
                          >
                            ${e}
                          </div>`)}
                    </div>`:""}
              </div>
            </div>`}
      </div>
      ${this.hasGoToday()?Dt.dy` <div class="foot">
            <gv-button link @click=${this.goToday}>${(0,oe.ag)("gv-date-picker.today")}</gv-button>
          </div>`:""}
      ${!this.time||this.monthMode||this.yearMode?"":Dt.dy` <div class="foot foot-time">
            <gv-button primary outlined small @click=${this._onNow}
              >${this.isStrictTime()?(0,oe.ag)("gv-date-picker.currentTime"):(0,oe.ag)("gv-date-picker.now")}</gv-button
            >
            <gv-button primary small @click=${this._onDateTimeSelected} .disabled="${!0===this.disableValidation}"
              >${(0,oe.ag)("gv-date-picker.ok")}</gv-button
            >
          </div>`}
    `}isMinutesDisabled(E){if(this._from&&null!=this._hour){const e=new Date(1e3*this._from);if(e.setHours(parseInt(this._hour,10),parseInt(E,10),0,0),this.min&&Ci(e,new Date(1e3*this.min)))return!0;if(this.max&&Mi(e,new Date(1e3*this.max)))return!0}return!1}isSecondsDisabled(E){if(this._from&&null!=this._hour){const e=new Date(1e3*this._from);if(e.setHours(parseInt(this._hour,10),parseInt(E,10),0,0),this.min&&Ci(e,new Date(1e3*this.min)))return!0;if(this.max&&Mi(e,new Date(1e3*this.max)))return!0}return!1}isHoursDisabled(E){if(this._from){const e=new Date(1e3*this._from);if(e.setHours(parseInt(E,10)),this.min){const S=new Date(1e3*this.min);if(S.setMinutes(0,0,0),e.getTime()<S.getTime())return!0}if(this.max){const S=new Date(1e3*this.max);if(e.getTime()>S.getTime())return!0}}return!1}_updateTime(){setTimeout(()=>{if(!this._hour||this.isHoursDisabled(this._hour)){const E=this.shadowRoot.querySelector(".hour:not(.disabled)");E&&(this._hour=E.textContent)}},0),setTimeout(()=>{if(!this._minute||this.isMinutesDisabled(this._minute)){const E=this.shadowRoot.querySelector(".minute:not(.disabled)");E&&(this._minute=E.textContent)}},0),this.isStrictTime()&&setTimeout(()=>{if(!this._second||this.isSecondsDisabled(this._second)){const E=this.shadowRoot.querySelector(".second:not(.disabled)");E&&(this._second=E.textContent)}},0)}getTime(){return this._hour&&this._minute?`${this._hour}:${this._minute}`:""}isCurrentDate(E){return this.yearMode?ke(1e3*E.date)===ke(1e3*this.currentDate):this.monthMode?Le(1e3*E.date)===Le(1e3*this.currentDate):E.date===this.currentDate}updated(E){E.has("year")&&this.dispatchEvent(new CustomEvent("year-changed",{detail:{value:this.year}})),(E.has("locale")||E.has("year")||E.has("month")||E.has("monthMode")||E.has("yearMode"))&&this.yearAndMonthChanged(this.year,this.month),(E.has("_hour")||E.has("_minute"))&&this.shadowRoot.querySelectorAll(".selected").forEach(e=>{e.parentNode.scrollTop=e.offsetTop-e.parentNode.offsetTop})}_updateDays(){const E=[];for(let q=0;q<7;q+=1)E.push(this.locale.localize.day(q,{width:"short"}));const e=this.locale.options.weekStartsOn,S=E.slice().splice(0,e);this._dayNamesOfWeek=E.slice().splice(e,E.length).concat(S)}yearAndMonthChanged(E,e){if(E&&e&&this.locale)if(this.yearMode){this._dayNamesOfWeek=[];const S=[null],{start:q,end:rt}=this.getYearInterval(E);for(let ft=q;ft<rt;ft++){const At=le(`01/${e}/${ft}`,"dd/MM/yyyy",new Date,{awareOfUnicodeTokens:!0});S.push({hover:!1,date:parseInt(Zt(At,"t"),10),title:this.computeName(e,ft,"yyyy")})}S.push(null),this._dimensions=[S]}else if(this.monthMode)this._dayNamesOfWeek=[],this._dimensions=[this._monthsList.map(S=>{const rt=le(`01/${S}/${E}`,"dd/MM/yyyy",new Date,{awareOfUnicodeTokens:!0});return{hover:!1,date:parseInt(Zt(rt,"t"),10),title:this.computeName(S,this.year,"MMM")}})];else{this._updateDays();let S=e;S=S.substring(S.length-2);let q=`01/${S}/${E}`,rt=le(q,"dd/MM/yyyy",new Date,{awareOfUnicodeTokens:!0});const ft=function Do(g){Rt(1,arguments);var E=Bt(g),e=E.getMonth();return E.setFullYear(E.getFullYear(),e+1,0),E.setHours(23,59,59,999),E}(rt),yt=Zt(ft,"dd/MM/yyyy",{awareOfUnicodeTokens:!0}),At=this.locale.options.weekStartsOn,Ot=[];let St=[];const Et=6;for(;q!==yt;){let Ft=No(rt)-At;Ft<0&&(Ft=6);const $t={hover:!1,date:parseInt(Zt(rt,"t"),10),title:parseInt(Zt(rt,"d",{awareOfUnicodeTokens:!0}),10)};if(St.push($t),Ft===Et){for(let he=St.length;he<Et+1;he+=1)St.unshift(0);Ot.push(St.slice()),St=[]}if(rt=Ro(rt,1),q=Zt(rt,"dd/MM/yyyy",{awareOfUnicodeTokens:!0}),q===yt){const he={hover:!1,date:parseInt(Zt(rt,"t"),10),title:parseInt(Zt(rt,"d",{awareOfUnicodeTokens:!0}),10)};St.push(he);for(let fe=St.length;fe<=Et;fe+=1)St.push(0);Ot.push(St.slice()),St=[]}}this._dimensions=Ot}}getYearInterval(E=this.year){let e=parseInt(E,10);for(;e%10!=0;)e--;return{start:e,end:e+10}}computeName(E,e,S="MMMM"){return E&&e?Zt(le(`${E}/${e}`,"MM/yyyy",new Date),S,{locale:this.locale}):""}computeCurrentYearName(){if(this.yearMode){const{start:E,end:e}=this.getYearInterval();return`${E}-${e-1}`}return this.year}_onSelectHour(E){this._hour=E,this._updateTime()}_onSelectMinute(E){this._minute=E,this._updateTime()}_onSelectSecond(E){this._second=E,this._updateTime()}_onSelectMonth(){this.monthMode?this._from=this._dateFrom:(this._dateFrom=this._from,this._from=null),this.yearMode=!1,this.monthMode=!this.monthMode,this.yearAndMonthChanged(this.year,this.month),(0,re.h)(this,"month-mode",{mode:this.monthMode,month:this.month,year:this.year})}_onSelectYear(){this.yearMode?this._from=this._dateFrom:(this._dateFrom=this._from,this._from=null),this.monthMode=!1,this.yearMode=!this.yearMode,this.yearAndMonthChanged(this.year,this.month),(0,re.h)(this,"year-mode",{mode:this.yearMode,month:this.month,year:this.year})}get datetimeSelected(){this.isStrictTime()&&null==this._from&&(this._from=(new Date).valueOf()/1e3);let E=new Date(1e3*this._from);return E=function Uo(g,E){Rt(2,arguments);var e=Bt(g),S=zt(E);return e.setHours(S),e}(E,parseInt(this._hour?this._hour:0,10)),E=function Fo(g,E){Rt(2,arguments);var e=Bt(g),S=zt(E);return e.setMinutes(S),e}(E,parseInt(this._minute?this._minute:0,10)),E.getTime()/1e3}_onDateTimeSelected(){this.value=this.datetimeSelected,this.dispatchEvent(new CustomEvent("date-from-changed",{detail:{value:this.value}}))}_onNow(){const E=new Date;this.isStrictTime()||E.setSeconds(0,0),this._from=E.getTime()/1e3,this.month=Zt(E,"MM"),this.year=Zt(E,"yyyy"),this._hour=Zt(E,"HH"),this._minute=Zt(E,"mm"),this.isStrictTime()&&(this._second=Zt(E,"mm")),this.dispatchEvent(new CustomEvent("date-from-changed",{detail:{value:this._from}}))}get disableValidation(){const E=this.datetimeSelected;return!(!E||!(this.min&&E<this.min||this.max&&E>this.max))}_onSelect({detail:E}){const{date:e}=E;if(this.yearMode){this.yearMode=!1,this.monthMode=!0,this._from=this._dateFrom;const S=new Date(1e3*e);this.year=Zt(S,"yyyy"),(0,re.h)(this,"year-changed",{year:this.year})}else if(this.monthMode){this.monthMode=!1,this._from=this._dateFrom;const S=new Date(1e3*e);this.month=Zt(S,"MM"),this.year=Zt(S,"yyyy"),(0,re.h)(this,"month-changed",{month:this.month,year:this.year})}else this.time?(this._from=e,this._updateTime()):this.range?(this._from&&this._to?(this._from=e,this._to=null,this.hoveredDate=void 0,this.dispatchEvent(new CustomEvent("hovered-date-changed",{detail:{value:this.hoveredDate}}))):!this._from||this._from&&e<this._from?this._from=e:(!this._to||this._to&&e>this._to)&&(this._to=e),this.dispatchEvent(new CustomEvent("date-from-changed",{detail:{value:this._from}})),this.dispatchEvent(new CustomEvent("date-to-changed",{detail:{value:this._to}}))):(this._from=e,this.dispatchEvent(new CustomEvent("date-from-changed",{detail:{value:this._from}})))}_onHover(E){this.range&&(this.hoveredDate=E.detail.date,this.dispatchEvent(new CustomEvent("hovered-date-changed",{detail:{value:this.hoveredDate}})))}_onNextMonth(){const S=Zt(Ke(le(this.month,"MM",new Date),1),"MM",{locale:this.locale});if(this.month=S,"01"===this.month){const ft=Zt($e(le(this.year,"yyyy",new Date),1),"yyyy",{locale:this.locale});this.year=ft}}_onPrevMonth(){const e=function Zo(g,E){Rt(2,arguments);var e=zt(E);return Ke(g,-e)}(le(this.month,"MM",new Date),1),S=Zt(e,"MM",{locale:this.locale});if(this.month=S,"12"===this.month){const ft=Zt(Pi(le(this.year,"yyyy",new Date),1),"yyyy",{locale:this.locale});this.year=ft}}_onNextYear(){this.yearMode&&(this.year=parseInt(this.year,10)+10);const S=Zt($e(le(this.year,"yyyy",new Date),1),"yyyy",{locale:this.locale});this.year=S}_onPrevYear(){this.yearMode&&(this.year=parseInt(this.year,10)-10);const S=Zt(Pi(le(this.year,"yyyy",new Date),1),"yyyy",{locale:this.locale});this.year=S}goToday(){this.month=`0${Le(new Date)+1}`.slice(-2),this.year=ke(new Date),this._onSelect({detail:{date:(new Date).getTime()/1e3}})}hasGoToday(){return!this.range&&!this.time&&!this.monthMode&&!this.yearMode&&this._hasGoToday}});var Oi=function(g,E,e,S){return new(e||(e=Promise))(function(rt,ft){function yt(St){try{Ot(S.next(St))}catch(Et){ft(Et)}}function At(St){try{Ot(S.throw(St))}catch(Et){ft(Et)}}function Ot(St){St.done?rt(St.value):function q(rt){return rt instanceof e?rt:new e(function(ft){ft(rt)})}(St.value).then(yt,At)}Ot((S=S.apply(g,E||[])).next())})};const Ue={en:qe};function Yo(g,E){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.analytics.filters.advanced.hide")))}function Go(g,E){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.analytics.filters.advanced.show")))}function Ho(g,E){1&g&&(t._UZ(0,"gv-input",28),t.ALo(1,"translate"),t.ALo(2,"translate")),2&g&&(t.s9C("label",t.lcZ(1,2,"application.analytics.filters.path.title")),t.s9C("placeholder",t.lcZ(2,4,"application.analytics.filters.path.label")))}function Wo(g,E){if(1&g&&(t.TgZ(0,"div",19),t._UZ(1,"gv-input",20),t.ALo(2,"translate"),t.ALo(3,"translate"),t._UZ(4,"gv-input",21),t.ALo(5,"translate"),t.ALo(6,"translate"),t._UZ(7,"gv-select",22),t.ALo(8,"translate"),t.ALo(9,"translate"),t._UZ(10,"gv-select",23),t.ALo(11,"translate"),t.ALo(12,"translate"),t._UZ(13,"gv-select",24),t.ALo(14,"translate"),t.ALo(15,"translate"),t._UZ(16,"gv-select",25),t.ALo(17,"translate"),t.ALo(18,"translate"),t._UZ(19,"gv-input",26),t.ALo(20,"translate"),t.ALo(21,"translate"),t.YNc(22,Ho,3,6,"gv-input",27),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.s9C("label",t.lcZ(2,19,"application.analytics.filters.requestId.title")),t.s9C("placeholder",t.lcZ(3,21,"application.analytics.filters.requestId.label")),t.xp6(3),t.s9C("label",t.lcZ(5,23,"application.analytics.filters.transactionId.title")),t.s9C("placeholder",t.lcZ(6,25,"application.analytics.filters.transactionId.label")),t.xp6(3),t.s9C("label",t.lcZ(8,27,"application.analytics.filters.methods.title")),t.s9C("placeholder",t.lcZ(9,29,"application.analytics.filters.methods.label")),t.Q6J("options",e.analyticsService.methods),t.xp6(3),t.s9C("label",t.lcZ(11,31,"application.analytics.filters.status.title")),t.s9C("placeholder",t.lcZ(12,33,"application.analytics.filters.status.label")),t.Q6J("options",e.analyticsService.httpStatus),t.xp6(3),t.s9C("label",t.lcZ(14,35,"application.analytics.filters.responseTimes.title")),t.s9C("placeholder",t.lcZ(15,37,"application.analytics.filters.responseTimes.label")),t.Q6J("options",e.analyticsService.responseTimes),t.xp6(3),t.s9C("label",t.lcZ(17,39,"application.analytics.filters.api.title")),t.s9C("placeholder",t.lcZ(18,41,"application.analytics.filters.api.label")),t.Q6J("options",e.apisOptions),t.xp6(3),t.s9C("label",t.lcZ(20,43,"application.analytics.filters.payloads.title")),t.s9C("placeholder",t.lcZ(21,45,"application.analytics.filters.payloads.label")),t.xp6(3),t.Q6J("ngIf",e.withURI)}}function Xo(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-tag",29),t.NdJ("gv-tag:click",function(){const rt=t.CHM(e).$implicit;return t.oxw().onTagRemove(rt)}),t._uU(1),t.qZA()}if(2&g){const e=E.$implicit;t.Q6J("clickable",!0),t.xp6(1),t.Oqu(e)}}function qo(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",30),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().export.emit()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw();t.Q6J("disabled",e.exportDisabled)("loading",e.exportLoading),t.xp6(1),t.hij(" ",t.lcZ(2,3,"application.analytics.exportCSV")," ")}}function Vo(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",31),t.NdJ("gv-button:click",function(){t.CHM(e);const q=t.oxw();return q.goTo(q.link.relativePath)}),t._uU(1),t.qZA()}if(2&g){const e=t.oxw();t.Q6J("icon",e.link.icon),t.xp6(1),t.hij(" ",e.link.label," ")}}window.customElements.define("gv-date-picker",class zo extends Dt.oi{static get properties(){return{range:{type:Boolean},label:{type:String},name:{type:String},time:{type:Boolean},strict:{type:Boolean},small:{type:Boolean},value:{type:Array,reflect:!0},min:{type:Number},max:{type:Number},distanceFromNow:{type:Number},disabledDates:{type:Array},format:{type:String},invalid:{type:Boolean,reflect:!0},valid:{type:Boolean,reflect:!0},_hoveredDate:{type:String,attribute:!1},_open:{type:Boolean,attribute:!1},_month:{type:String,attribute:!1},_year:{type:String,attribute:!1},_monthPlus:{type:String,attribute:!1},_yearPlus:{type:Number,attribute:!1},_mode:{type:String,attribute:!1},_from:{type:Number,attribute:!1},_to:{type:Number,attribute:!1},_min:{type:Number,attribute:!1},_max:{type:Number,attribute:!1},_distance:{type:Number,attribute:!1}}}static get styles(){return[Dt.iv`
        :host {
          box-sizing: border-box;
          display: inline-block;
          margin: 0.2rem;
          --gv-input-icon--bgc: transparent;
          --gv-icon--s: 22px;
          --date-picker-hover--bgc: var(--gv-date-picker-hover--bgc, var(--gv-theme-color-light, #86c3d0));
          --date-picker-hover--c: var(--gv-date-picker-hover--c, var(--gv-theme-font-color-dark, #262626));
          --date-picker-selected--bgc: var(--gv-date-picker-selected--bgc, var(--gv-theme-color, #5a7684));
          --date-picker-selected--c: var(--gv-date-picker-selected--c, var(--gv-theme-font-color-light, #ffffff));
          font-size: var(--gv-theme-font-size-m, 14px);
        }

        :host([small]) {
          font-size: var(--gv-theme-font-size-s, 12px);
        }

        .box {
          display: inline-block;
          width: 100%;
        }

        gv-input {
          width: 160px;
          margin: 0;
        }

        .time gv-input {
          width: 205px;
        }

        :not(.range) gv-input {
          width: 100%;
        }

        .range gv-input {
          --gv-input--bds: none;
          --gv-input--bdw: 0;
        }

        .time .range-input gv-input {
          width: 150px;
        }

        .range-input gv-input {
          width: 120px;
        }

        .range.hasFrom.open gv-input:first-of-type,
        .range.hasFrom.open .box-icon:first-of-type {
          border-bottom: 1px solid var(--gv-date-picker-selected--bgc, var(--gv-theme-color, #5a7684));
        }

        .range.hasTo.open gv-input:last-of-type,
        .range.hasTo.open .box-icon:not(.box-icon-calendar) {
          border-bottom: 1px solid var(--gv-date-picker-selected--bgc, var(--gv-theme-color, #5a7684));
        }

        .range-input {
          position: relative;
          z-index: 10;
          border: var(--gv-input--bdw, 1px) var(--gv-input--bds, solid) var(--gv-input--bdc, var(--gv-theme-neutral-color-dark, #d9d9d9));
          border-radius: 4px;
          margin: 0.2rem;
          display: flex;
        }

        .box-icon {
          display: flex;
          justify-content: center;
          align-items: center;
        }

        .box-icon-calendar {
          padding: 0 6px;
        }

        .box-icon-arrow,
        .box-icon-calendar {
        }

        .box-icon-clear {
          --gv-icon--s: 16px;
          padding-right: 6px;
          width: 22px;
        }

        .box-icon-clear gv-icon {
          cursor: pointer;
        }

        .box.open .calendar {
          visibility: visible;
          opacity: 1;
          -webkit-transform: -webkit-translateY(0%);
          transform: translateY(0%);
          z-index: 100;
        }

        .calendar {
          background-color: var(--gv-theme-neutral-color-lightest, #ffffff);
          color: var(--gv-theme-font-color, #262626);
          margin: 0.2rem;
          position: absolute;
          box-shadow: 0 0 0 1px var(--gv-theme-neutral-color, #f5f5f5), 0 1px 3px var(--gv-theme-neutral-color-dark, #bfbfbf);
          border-radius: 2px;
          display: flex;
          cursor: pointer;
          visibility: hidden;
          opacity: 0;
          -webkit-transform: -webkit-translateY(-2em);
          transform: translateY(-2em);
          -webkit-transition: -webkit-transform 150ms ease-in-out, opacity 150ms ease-in-out;
          -moz-transition: all 150ms ease-in-out;
          -ms-transition: all 150ms ease-in-out;
          -o-transition: all 150ms ease-in-out;
          overflow: auto;
          position: absolute;
        }

        :host([invalid]) .range-input {
          border-left: 5px solid #a94442;
          padding-left: 0;
        }

        :host([invalid]) .box-icon-calendar {
          padding-left: 2px;
        }
      `]}constructor(){super(),this._id="gv-id",this.strict=!1,this.range=!1,this.time=!1,this.format="dd/MM/yyyy";const E=(0,oe.ag)("gv-date-picker.format");"unknown"!==E&&(this.format=E),this.timeFormat="HH:mm",this.strictTimeFormat="HH:mm:ss",this.handleClick=this._onClick.bind(this),this.handleDocumentClick=this._onDocumentClick.bind(this),this.disabledDates=[]}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick),document.addEventListener("click",this.handleDocumentClick),this.getLocale().then(E=>{this._year=Zt((new Date).getTime(),"yyyy",{locale:E}),this._month=Zt((new Date).getTime(),"MM",{locale:E})})}disconnectedCallback(){clearInterval(this._distanceTimer),this.removeEventListener("click",this.handleClick),document.removeEventListener("click",this.handleDocumentClick),super.disconnectedCallback()}set min(E){this._min=parseInt(E/1e3,10)}set max(E){this._max=parseInt(E/1e3,10)}set distanceFromNow(E){this._distance=E,this._max=parseInt(Date.now()/1e3,10),this._min=parseInt((Date.now()-E)/1e3,10),this._from&&this._from<this._min&&(this._from=this._min)}_onClick(E){E.preventDefault(),E.stopPropagation()}_onDocumentClick(E){this._open=!1,this.performUpdate()}_onFocus(E){this._open=!0,this.time&&this.range&&(this._mode=E),this.performUpdate()}getLocale(){return Oi(this,void 0,void 0,function*(){const E=(0,oe.G3)();if(!E)return Ue.en;if(!Ue[E])try{const e=yield Mt(78858)(`./${E}/index.js`);Ue[E]=e.default}catch(e){console.error(`[Error] cannot load locale ${E}`,e)}return Ue[E]})}get dateFromPlaceholder(){return this.range&&this.time&&this.strict?(0,oe.ag)("gv-date-picker.startTime"):this.range?(0,oe.ag)("gv-date-picker.startDate"):this.getFormat()}get dateToPlaceholder(){return this.range&&this.time&&this.strict?(0,oe.ag)("gv-date-picker.endTime"):this.range?(0,oe.ag)("gv-date-picker.endDate"):this.getFormat()}get icon(){return null!=this._from||null!=this._to?"code:error":"general:calendar"}get hasContent(){return null!=this._from||null!=this._to}_onClear(){this.invalid=!1,this.value=null,this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),(0,re.h)(this,"input",this.value)}render(){const E={box:!0,open:this._open,range:this.range,time:this.time,hasFrom:this.hasFrom(),hasTo:this.hasTo()};return Dt.dy` <div class="${(0,Me.$)(E)}">
      ${this.range?Dt.dy`
            ${this.label?Dt.dy`<label for=${this._id} title="${this.label}">${this.label}</label>`:""}
            <div class="range-input">
              <div class="box-icon box-icon-calendar"><gv-icon shape="general:calendar"></gv-icon></div>
              <gv-input
                id="${this._id}"
                ?small="${this.small}"
                ?disabled="${this.disabled}"
                @focus="${this._onFocus.bind(this,"from")}"
                @blur="${this._onBlurForm}"
                @gv-input:submit="${this._onBlurForm}"
                .value="${(0,ve.C)(this.getFormattedDate(this._from))}"
                .placeholder="${this.dateFromPlaceholder}"
              ></gv-input>
              <div class="box-icon box-icon-arrow"><gv-icon shape="navigation:arrow-right"></gv-icon></div>
              <gv-input
                .placeholder="${this.dateToPlaceholder}"
                ?small="${this.small}"
                ?disabled="${this.disabled}"
                @focus="${this._onFocus.bind(this,"to")}"
                @blur="${this._onBlurTo}"
                @gv-input:submit="${this._onBlurTo}"
                .value="${(0,ve.C)(this.getFormattedDate(this._to))}"
              ></gv-input>
              <div class="box-icon box-icon-clear">
                ${this.hasContent?Dt.dy`<gv-icon class="link" @click=${this._onClear} shape="code:error"></gv-icon>`:""}
              </div>
            </div>
          `:Dt.dy`
        <gv-input
        id="${this._id}"
        icon="${this.time&&this.strict?"home:timer":"general:calendar"}"
        ?small="${this.small}"
        ?disabled="${this.disabled}"
        clearable
        .label="${this.label}"
        @focus="${this._onFocus.bind(this,null)}"
        @blur="${this._onBlurForm}"
        ?invalid="${this.invalid}"
         @gv-input:submit="${this._onBlurForm}"
         @gv-input:clear="${this._onClear}"
        .placeholder="${this.dateToPlaceholder}"
        .value="${(0,ve.C)(this.getFormattedDate(this._from))}"></gv-input></div>
        `}

      <span class="calendar">
        ${this.range?Dt.dy`
              ${this.hasFrom()?Dt.dy`<gv-date-picker-calendar
                    .disabledDates="${this.disabledDates}"
                    .min="${this._min}"
                    .max="${this._max}"
                    ?time="${this.time}"
                    ?strict="${this.strict}"
                    ?small="${this.small}"
                    ?prev="${!0}"
                    ?next="${this.time}"
                    ?range="${this.range&&!this.time}"
                    .month="${this._month}"
                    .year="${this._year}"
                    .hoveredDate="${this._hoveredDate}"
                    .dateTo="${this._to}"
                    .dateFrom="${this._from}"
                    .locale="${(0,ve.C)(this.getLocale())}"
                    @gv-date-picker-calendar:month-mode="${this._onMonthMode}"
                    @gv-date-picker-calendar:year-mode="${this._onYearMode}"
                    @gv-date-picker-calendar:month-changed="${this._onMonthChanged}"
                    @gv-date-picker-calendar:year-changed="${this._onYearChanged}"
                    @hovered-date-changed="${this.hoveredDateChanged}"
                    @date-to-changed="${this.dateToChanged}"
                    @date-from-changed="${this.dateFromChanged}"
                  >
                  </gv-date-picker-calendar>`:""}
              ${this.hasTo()?Dt.dy`<gv-date-picker-calendar
                    .disabledDates="${this.disabledDates}"
                    .min="${this._min}"
                    .max="${this._max}"
                    ?time="${this.time}"
                    ?strict="${this.strict}"
                    ?small="${this.small}"
                    ?prev="${this.time}"
                    ?next="${!0}"
                    ?range="${this.range&&!this.time}"
                    .month="${this._monthPlus}"
                    .year="${this._yearPlus}"
                    .hoveredDate="${this._hoveredDate}"
                    .dateTo="${this._to}"
                    .dateFrom="${this._from}"
                    .locale="${(0,ve.C)(this.getLocale())}"
                    @gv-date-picker-calendar:month-mode="${this._onMonthMode}"
                    @gv-date-picker-calendar:year-mode="${this._onYearMode}"
                    @gv-date-picker-calendar:month-changed="${this._onMonthChanged}"
                    @gv-date-picker-calendar:year-changed="${this._onYearChanged}"
                    @hovered-date-changed="${this.hoveredDateChanged}"
                    @date-to-changed="${this.dateToChanged}"
                    @date-from-changed="${this.dateFromChanged}"
                  >
                  </gv-date-picker-calendar>`:""}
            `:Dt.dy`
              <gv-date-picker-calendar
                .disabledDates="${this.disabledDates}"
                .min="${this._min}"
                .max="${this._max}"
                ?time="${this.time}"
                ?small="${this.small}"
                ?strict="${this.strict}"
                ?prev="${!0}"
                ?next="${!0}"
                ?range="${this.range}"
                .month="${this._month}"
                .year="${this._year}"
                .hoveredDate="${this._hoveredDate}"
                .dateTo="${this._to}"
                .dateFrom="${this._from}"
                .locale="${(0,ve.C)(this.getLocale())}"
                @hovered-date-changed="${this.hoveredDateChanged}"
                @date-to-changed="${this.dateToChanged}"
                @date-from-changed="${this.dateFromChanged}"
              >
              </gv-date-picker-calendar>
            `}
      </span>
    </div>`}hasFrom(){return null==this._mode||"from"===this._mode}hasTo(){return null==this._mode||"to"===this._mode}firstUpdated(){this.time&&this.range&&(this._mode="from"),this._distance&&(this._distanceTimer=setInterval(()=>{this.distanceFromNow=this._distance},3e4))}monthChanged(E,e){if(e&&E){const S=this.time&&this.range?0:1,q=`0${E%12+S}`;this._monthPlus=q.substring(q.length-2),this._yearPlus="01"===this._monthPlus?parseInt(e,10)+S:parseInt(e,10)}}updated(E){(E.has("_month")||E.has("_year"))&&this.monthChanged(this._month,this._year),E.has("value")&&(null==this.value||this.value.filter&&0===this.value.filter(e=>null!=e).length?(this._from=null,this._to=null):this.range?(this._from=this.value&&this.value.length>0?this.value[0]/1e3:null,this._to=this.value&&this.value.length>1?this.value[1]/1e3:null):this._from=this.value/1e3)}_onMonthChanged({detail:E}){this._month=E.month,this._year=E.year,this._hoveredDate=null,this.range&&this.time||(this._mode=null)}_onYearChanged({detail:E}){this._year=E.year}_onMonthMode({detail:E}){this.time&&this.range&&(this._month=E.month,this._year=E.year)}_onYearMode({detail:E}){this.time&&this.range&&(this._month=E.month,this._year=E.year)}_onBlurForm({target:E}){const e=E.value;if(e){const S=this.parseValue(e);S&&!isNaN(S)&&(this._month=(Le(S)+1).toString(),this._year=ke(S).toString(),this._from=S.getTime()/1e3,this.invalid=we(this._from,this._min,this._max,!this.time))}}_onBlurTo({target:E}){const e=E.value;if(e){const S=this.parseValue(e);S&&!isNaN(S)&&(this._month=(Le(S)+1).toString(),this._year=ke(S).toString(),this._to=S.getTime()/1e3,this.invalid=we(this._to,this._min,this._max,!this.time))}}hoveredDateChanged({detail:E}){this._hoveredDate=E.value}dateFromChanged({detail:E}){if(this.time&&this.range){if("from"===this._mode){this._from=E.value;const e=this.shadowRoot.querySelectorAll(".range-input gv-input");e[e.length-1].focus(),setTimeout(()=>this._mode="to",0)}else if(this._to=E.value,this._open=!1,this._to<this._from){const e=this._to;this._to=this._from,this._from=e}}else this.range?this._from=E.value:(this._from=E.value,this._open=!1);this._distance&&(this.distanceFromNow=this._distance),this.range?(this.value=[1e3*this._from,1e3*this._to],this.invalid=we(this._to,this._min,this._max,!this.time)||we(this._from,this._min,this._max,!this.time)||this._to===this._form):(this.value=1e3*this._from,this.invalid=we(this._from,this._min,this._max,!this.time)),this.valid=!this.invalid,this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),(0,re.h)(this,"input",this.value)}dateToChanged({detail:E}){this._distance&&(this.distanceFromNow=this._distance),this._to=E.value,this._to&&(this._open=!1,this.value=[1e3*this._from,1e3*this._to],this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),(0,re.h)(this,"input",this.value))}getFormat(){return this.time&&this.strict?this.strictTimeFormat:this.time?`${this.format} ${this.timeFormat}`:this.format}getFormattedDate(E){return Oi(this,void 0,void 0,function*(){if(E){const e=yield this.getLocale();return Zt(new Date(1e3*E),this.getFormat(),e)}return""})}parseValue(E){return E?le(E,this.getFormat(),new Date):""}});let Fe=(()=>{class g{constructor(e,S,q,rt,ft,yt){this.router=e,this.formBuilder=S,this.applicationService=q,this.route=rt,this.analyticsService=ft,this.navRouteService=yt,this.export=new t.vpe}ngOnInit(){this.analyticsForm=this.formBuilder.group({timeframe:new V.NI(null),range:new V.NI([null,null]),requestId:new V.NI(null),transactionId:new V.NI(null),methods:new V.NI(null),path:new V.NI(null),responseTimes:new V.NI(null),status:new V.NI(null),api:new V.NI(null),payloads:new V.NI(null)}),this.analyticsForm.get("timeframe").setValidators(He.d.oneRequired(this.analyticsForm.get("range"))),this.analyticsForm.get("range").setValidators([He.d.dateRange,He.d.oneRequired(this.analyticsForm.get("timeframe"))]),this.analyticsForm.get("range").valueChanges.subscribe(e=>{null!==e&&2===e.filter(S=>null!=S).length&&this.analyticsForm.get("timeframe").setValue(null)}),this.analyticsForm.get("timeframe").valueChanges.subscribe(e=>{e&&this.analyticsForm.get("range").setValue([null,null])}),this.route.queryParams.subscribe(e=>{!this.route.snapshot.queryParams.timeframe&&(!this.route.snapshot.queryParams.from||!this.route.snapshot.queryParams.to)&&this.router.navigate([],{queryParams:{timeframe:"1d"},queryParamsHandling:"merge",fragment:this.analyticsService.fragment}),this.analyticsForm.reset({timeframe:e.timeframe,range:[e.from,e.to],requestId:e._id,transactionId:e.transaction,methods:e.method,path:e.uri,responseTimes:e["response-time"],api:e.api,payloads:e.body}),this.tags=[],Object.keys(e).filter(q=>!this.analyticsService.queryParams.includes(q)).filter(q=>!this.analyticsService.advancedQueryParams.includes(q)).forEach(q=>{const rt=e[q];"string"==typeof rt?this.tags.push(q+": "+rt):rt.forEach(ft=>{this.tags.push(q+": "+ft)})}),(e._id||e.transaction||e.method||e.uri||e["response-time"]||e.status||e.api||e.body)&&(this.advancedFiltersDisplayed=!0)}),this.maxDate=(new Date).getTime(),this.maxDateTimer=setInterval(()=>{this.maxDate=(new Date).getTime()},3e4)}ngOnDestroy(){clearInterval(this.maxDateTimer)}ngAfterViewInit(){this.route.snapshot.params.applicationId&&this.applicationService.getSubscriberApisByApplicationId({applicationId:this.route.snapshot.params.applicationId,size:-1}).toPromise().then(e=>{this.apisOptions=e.data.map(S=>({label:S.name+" ("+S.version+")",value:S.id}))})}_onChangeDisplay({id:e}){const S={timeframe:e,...this.analyticsService.getRemovableQueryParams()};this.router.navigate([],{queryParams:S,queryParamsHandling:"merge",fragment:this.analyticsService.fragment}).then(()=>{this.search()})}onTagRemove(e){const S={...this.route.snapshot.queryParams},q=e.split(": "),rt=q[0],ft=q[1];Object.keys(S).filter(yt=>yt===rt).forEach(yt=>{S[yt].includes(ft)&&("string"==typeof S[yt]?(S[yt]=S[yt].replace(ft,""),S[yt]||(S[yt]=null)):(S[yt].splice(S[yt].indexOf(ft),1),S[yt].length||(S[yt]=null)))}),this.router.navigate([],{queryParams:S,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}search(){this.analyticsForm.valid&&this.navRouteService.navigateForceRefresh([],{queryParams:{_id:this.analyticsForm.value.requestId||null,transaction:this.analyticsForm.value.transactionId||null,method:this.analyticsForm.value.methods||null,uri:this.analyticsForm.value.path||null,"response-time":this.analyticsForm.value.responseTimes||null,status:this.analyticsForm.value.status||null,api:this.analyticsForm.value.api||null,body:this.analyticsForm.value.payloads||null,from:this.analyticsForm.value.range[0],to:this.analyticsForm.value.range[1],timeframe:this.analyticsForm.value.timeframe},queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}reset(){const e={from:this.analyticsForm.value.range[0],to:this.analyticsForm.value.range[1]};(null==this.analyticsForm.value.range||0===this.analyticsForm.value.range.length)&&(e.timeframe=this.route.snapshot.queryParams.timeframe||"1d"),Object.keys(this.route.snapshot.queryParams).filter(S=>this.analyticsService.queryParams.includes(S)).forEach(S=>{e[S]=this.route.snapshot.queryParams[S]}),this.router.navigate([],{queryParams:e,fragment:this.analyticsService.fragment})}goTo(e){this.router.navigate([e],{relativeTo:this.route,queryParamsHandling:"merge",queryParams:this.analyticsService.getRemovableQueryParams()})}toggleFilters(){this.advancedFiltersDisplayed=!this.advancedFiltersDisplayed}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.F0),t.Y36(V.qu),t.Y36(x.IX),t.Y36(u.gz),t.Y36(De.y),t.Y36(li.Z))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-gv-analytics-filters"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-option:select",function(rt){return S._onChangeDisplay(rt.detail)})},inputs:{dashboard:"dashboard",withURI:"withURI",link:"link",exportDisabled:"exportDisabled",exportLoading:"exportLoading",searchLoading:"searchLoading"},outputs:{export:"export"},decls:28,vars:23,consts:[[1,"page__box"],[1,"page__box-title"],[1,"title"],["link","",1,"gv-analytics-filter__reset",3,"gv-button:click"],[1,"form",3,"formGroup","ngSubmit"],[1,"page__box-content"],[1,"form__control","timeframe"],["formControlName","timeframe","name","timeframe","ngDefaultControl","","reverse","",3,"options"],[1,"form__control","timepicker"],["time","","range","","formControlName","range","name","range","ngDefaultControl","",1,"form__control",3,"label","max"],["link","",1,"gv-analytics-filter__showhide",3,"gv-button:click"],[4,"ngIf"],["class","grid-filters",4,"ngIf"],[1,"page__box-footer","form__actions"],["class","gv-analytics-filter__tags","icon-right","general:close","major","",3,"clickable","gv-tag:click",4,"ngFor","ngForOf"],[1,"gv-analytics-filter__inputs"],["type","button","class","gv-analytics-filter__input","icon","finance:export","outlined","",3,"disabled","loading","gv-button:click",4,"ngIf"],["type","button","class","gv-analytics-filter__input",3,"icon","gv-button:click",4,"ngIf"],["type","submit","icon","general:search","primary","",1,"gv-analytics-filter__input",3,"disabled","loading"],[1,"grid-filters"],["formControlName","requestId","name","requestId","ngDefaultControl","",3,"label","placeholder"],["formControlName","transactionId","name","transactionId","ngDefaultControl","",3,"label","placeholder"],["multiple","","formControlName","methods","name","methods","ngDefaultControl","",3,"label","placeholder","options"],["multiple","","formControlName","status","name","status","ngDefaultControl","",3,"label","placeholder","options"],["multiple","","formControlName","responseTimes","name","responseTimes","ngDefaultControl","",3,"label","placeholder","options"],["multiple","","formControlName","api","name","api","ngDefaultControl","",3,"label","placeholder","options"],["formControlName","payloads","name","payloads","ngDefaultControl","",3,"label","placeholder"],["formControlName","path","name","path","ngDefaultControl","",3,"label","placeholder",4,"ngIf"],["formControlName","path","name","path","ngDefaultControl","",3,"label","placeholder"],["icon-right","general:close","major","",1,"gv-analytics-filter__tags",3,"clickable","gv-tag:click"],["type","button","icon","finance:export","outlined","",1,"gv-analytics-filter__input",3,"disabled","loading","gv-button:click"],["type","button",1,"gv-analytics-filter__input",3,"icon","gv-button:click"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"gv-button",3),t.NdJ("gv-button:click",function(){return S.reset()}),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"form",4),t.NdJ("ngSubmit",function(){return S.search()}),t.TgZ(9,"div",5)(10,"div",6),t._UZ(11,"gv-option",7),t.qZA(),t.TgZ(12,"div",8)(13,"div"),t._UZ(14,"gv-date-picker",9),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"gv-button",10),t.NdJ("gv-button:click",function(){return S.toggleFilters()}),t.YNc(17,Yo,3,3,"span",11),t.YNc(18,Go,3,3,"span",11),t.qZA()(),t.YNc(19,Wo,23,47,"div",12),t.qZA(),t.TgZ(20,"div",13),t.YNc(21,Xo,2,2,"gv-tag",14),t.TgZ(22,"div",15),t.YNc(23,qo,3,5,"gv-button",16),t.YNc(24,Vo,2,2,"gv-button",17),t.TgZ(25,"gv-button",18),t._uU(26),t.ALo(27,"translate"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,15,"common.filters.title")),t.xp6(3),t.hij(" ",t.lcZ(7,17,"common.reset")," "),t.xp6(2),t.Q6J("formGroup",S.analyticsForm),t.xp6(3),t.Q6J("options",S.analyticsService.timeframes),t.xp6(3),t.s9C("label",t.lcZ(15,19,"common.date.range.title")),t.Q6J("max",S.maxDate),t.xp6(3),t.Q6J("ngIf",S.advancedFiltersDisplayed),t.xp6(1),t.Q6J("ngIf",!S.advancedFiltersDisplayed),t.xp6(1),t.Q6J("ngIf",S.advancedFiltersDisplayed),t.xp6(2),t.Q6J("ngForOf",S.tags),t.xp6(2),t.Q6J("ngIf",S.export.observers.length),t.xp6(1),t.Q6J("ngIf",S.link),t.xp6(1),t.Q6J("disabled",S.analyticsForm.invalid)("loading",S.searchLoading),t.xp6(1),t.hij(" ",t.lcZ(27,21,"application.analytics.search")," "))},directives:[V._Y,V.JL,V.sg,V.JJ,V.u,V.Fj,K.T,kt.O5,kt.sg],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.timeframe[_ngcontent-%COMP%]   gv-option[_ngcontent-%COMP%]{--gv-option-button--maw: 75px;width:100%}.timepicker[_ngcontent-%COMP%]{display:flex;flex-direction:row}.timepicker[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.timepicker[_ngcontent-%COMP%]   gv-date-picker[_ngcontent-%COMP%]{width:350px}.grid-filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1rem}.grid-filters[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;align-self:flex-end;width:100%;flex-direction:column}"]}),g})(),Jo=(()=>{class g{constructor(e,S){this.route=e,this.translateService=S}ngOnInit(){this.application=this.route.snapshot.data.application;const e=this.route.snapshot.data.dashboards,S=this.route.snapshot.queryParams.dashboard;e&&(this.dashboard=S?e.find(q=>q.id===S):e[0],this.subscription=this.route.queryParams.subscribe(q=>{q.dashboard&&this.filtersComponent&&this.dashboardComponent&&q.dashboard!==this.dashboard.id&&(this.dashboardComponent.dashboard=this.dashboard=e.find(rt=>rt.id===q.dashboard),this.filtersComponent.reset())}),this.translateService.get("application.analytics.displayLogs").subscribe(q=>{this.link={label:q,relativePath:"../logs",icon:"communication:clipboard-list"}}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}search(e){setTimeout(()=>{this.isSearching=e})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.gz),t.Y36(mt.sK))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-analytics"]],viewQuery:function(e,S){if(1&e&&(t.Gf(Fe,5),t.Gf(hi,5)),2&e){let q;t.iGM(q=t.CRH())&&(S.filtersComponent=q.first),t.iGM(q=t.CRH())&&(S.dashboardComponent=q.first)}},decls:3,vars:3,consts:[[1,"page__content"],[3,"link","searchLoading"],[3,"dashboard","searching"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-gv-analytics-filters",1),t.TgZ(2,"app-gv-analytics-dashboard",2),t.NdJ("searching",function(rt){return S.search(rt)}),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("link",S.link)("searchLoading",S.isSearching),t.xp6(1),t.Q6J("dashboard",S.dashboard))},directives:[Fe,hi],styles:[""]}),g})();Mt(64405),Mt(73513),Mt(30087),Mt(25619);var Ze=Mt(89729),Be=Mt(19426);function Qo(g,E){if(1&g&&(t.TgZ(0,"div",21)(1,"div",22),t._UZ(2,"gv-input",23),t.ALo(3,"translate"),t.ALo(4,"translate"),t._UZ(5,"gv-input",24),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&g){const e=t.oxw(2);t.xp6(2),t.s9C("label",t.lcZ(3,6,"application.type.title")),t.s9C("placeholder",t.lcZ(4,8,"application.type.label")),t.uIk("readonly",e.canUpdate?null:"readonly"),t.xp6(3),t.s9C("label",t.lcZ(6,10,"application.client_id.title")),t.s9C("placeholder",t.lcZ(7,12,"application.client_id.label")),t.uIk("readonly",e.canUpdate?null:"readonly")}}function Ko(g,E){1&g&&(t._UZ(0,"gv-file-upload",25),t.ALo(1,"translate")),2&g&&t.Q6J("label",t.lcZ(1,1,"application.change_background"))}function $o(g,E){if(1&g&&t._UZ(0,"gv-identity-picture",26),2&g){const e=t.oxw(2);t.Q6J("picture",e.application.background)("display_name","bg-"+e.displayName)}}function tr(g,E){1&g&&(t._UZ(0,"gv-file-upload",27),t.ALo(1,"translate")),2&g&&t.Q6J("label",t.lcZ(1,1,"application.change_picture"))}function er(g,E){if(1&g&&t._UZ(0,"gv-identity-picture",26),2&g){const e=t.oxw(2);t.Q6J("picture",e.application.picture)("display_name",e.displayName)}}function ir(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",39),t.NdJ("gv-confirm:ok",function(){return t.CHM(e),t.oxw(3).renewSecret()}),t.ALo(1,"translate"),t.TgZ(2,"gv-button",40),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&g){const e=t.oxw(3);t.Q6J("message",t.lcZ(1,3,"application.renewSecret.message")),t.xp6(2),t.Q6J("loading",e.isRenewing),t.xp6(1),t.hij(" ",t.lcZ(4,5,"application.renewSecret.label")," ")}}function nr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-switch",41),t.NdJ("input",function(q){const ft=t.CHM(e).$implicit;return t.oxw(3).onSwitchGrant(q,ft)}),t.qZA()}if(2&g){const e=E.$implicit;t.Q6J("label",e.name)("value",e.value)("disabled",e.disabled)}}function or(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-tag",47),t.NdJ("gv-tag:click",function(){const rt=t.CHM(e).index;return t.oxw(5).removeRedirectUri(rt)}),t._uU(1),t.qZA()}if(2&g){const e=E.$implicit;t.xp6(1),t.Oqu(e.value)}}function rr(g,E){if(1&g&&(t.TgZ(0,"div")(1,"div",45),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,or,2,1,"gv-tag",46),t.qZA()),2&g){const e=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,2,"applicationType.security.redirectUris.description")),t.xp6(2),t.Q6J("ngForOf",e.redirectURIs.controls)}}function sr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",42)(2,"gv-input",43),t.NdJ("gv-input:submit",function(q){return t.CHM(e),t.oxw(3).addRedirectUri(q)})("blur",function(q){return t.CHM(e),t.oxw(3).addRedirectUri(q)}),t.ALo(3,"translate"),t.qZA()(),t.YNc(4,rr,5,4,"div",44),t.qZA()}if(2&g){const e=t.oxw(3);t.xp6(2),t.Q6J("label",t.lcZ(3,4,"applicationType.security.redirectUris.label"))("valid",e.validRedirectUris)("invalid",!e.validRedirectUris),t.xp6(2),t.Q6J("ngIf",e.redirectURIs.controls.length>0)}}function ar(g,E){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",16)(6,"div",21)(7,"div",28),t._UZ(8,"gv-input",29),t.ALo(9,"translate"),t.ALo(10,"translate"),t.TgZ(11,"div",30),t._UZ(12,"gv-input",31),t.ALo(13,"translate"),t.ALo(14,"translate"),t.YNc(15,ir,5,7,"gv-confirm",32),t.qZA(),t.TgZ(16,"div",33)(17,"div",34)(18,"div",35)(19,"div"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",36),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,nr,1,3,"gv-switch",37),t.qZA()(),t.YNc(26,sr,5,6,"div",38),t.qZA()()()()()),2&g){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,10,"application.oauth2")),t.xp6(5),t.s9C("label",t.lcZ(9,12,"application.client_id.title")),t.s9C("placeholder",t.lcZ(10,14,"application.client_id.label")),t.xp6(4),t.s9C("label",t.lcZ(13,16,"application.client_secret.title")),t.s9C("placeholder",t.lcZ(14,18,"application.client_secret.label")),t.xp6(3),t.Q6J("ngIf",e.canUpdate&&e.application.settings.oauth.renew_client_secret_supported),t.xp6(5),t.Oqu(t.lcZ(21,20,"applicationCreation.security.label")),t.xp6(3),t.Oqu(t.lcZ(24,22,"applicationCreation.security.description")),t.xp6(2),t.Q6J("ngForOf",e.allGrantTypes),t.xp6(1),t.Q6J("ngIf",e.requiresRedirectUris)}}function lr(g,E){if(1&g&&(t.TgZ(0,"gv-button",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g){const e=t.oxw(3);t.Q6J("disabled",e.applicationForm.invalid||e.applicationForm.pristine)("loading",e.isSaving),t.xp6(1),t.hij(" ",t.lcZ(2,3,"common.save")," ")}}function hr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",53),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw(3).reset()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw(3);t.Q6J("disabled",e.applicationForm.pristine),t.xp6(1),t.hij(" ",t.lcZ(2,2,"common.reset")," ")}}function pr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",54),t.NdJ("gv-confirm:ok",function(){return t.CHM(e),t.oxw(3).delete()}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"gv-button",55),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&g){const e=t.oxw(3);t.Q6J("message",t.lcZ(1,5,"application.delete.message"))("cancelLabel",t.lcZ(2,7,"application.delete.cancel"))("okLabel",t.lcZ(3,9,"application.delete.ok")),t.xp6(4),t.Q6J("loading",e.isDeleting),t.xp6(1),t.hij(" ",t.lcZ(6,11,"common.delete")," ")}}function cr(g,E){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h4",5),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",48),t.YNc(6,lr,3,5,"gv-button",49),t.YNc(7,hr,3,4,"gv-button",50),t.YNc(8,pr,7,13,"gv-confirm",51),t.qZA()()),2&g){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,4,"common.options")),t.xp6(3),t.Q6J("ngIf",e.canUpdate),t.xp6(1),t.Q6J("ngIf",e.canUpdate),t.xp6(1),t.Q6J("ngIf",e.canDelete)}}const dr=function(g){return{type:g}};function ur(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().submit()}),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",6)(8,"div"),t._UZ(9,"gv-input",7),t.ALo(10,"translate"),t.ALo(11,"translate"),t._UZ(12,"gv-text",8),t.ALo(13,"translate"),t.ALo(14,"translate"),t._UZ(15,"gv-input",9),t.ALo(16,"translate"),t.ALo(17,"translate"),t.YNc(18,Qo,8,14,"div",10),t.YNc(19,Ko,2,3,"gv-file-upload",11),t.YNc(20,$o,1,2,"gv-identity-picture",12),t.qZA(),t.TgZ(21,"div"),t.YNc(22,tr,2,3,"gv-file-upload",13),t.YNc(23,er,1,2,"gv-identity-picture",12),t.qZA()()(),t.YNc(24,ar,27,24,"div",14),t.qZA(),t.TgZ(25,"aside",15),t.YNc(26,cr,9,6,"div",14),t.TgZ(27,"div",3)(28,"div",4)(29,"h4",5),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"div",16)(33,"ul",17)(34,"li",18)(35,"span"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._uU(38),t.qZA(),t.TgZ(39,"li",18)(40,"span"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"li",18)(46,"span"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t._uU(49),t.qZA(),t.TgZ(50,"li",18)(51,"span"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t._UZ(54,"gv-relative-time",19),t.qZA()()()(),t._UZ(55,"gv-list",20),t.ALo(56,"translate"),t.qZA()()}if(2&g){const e=t.oxw();t.Q6J("formGroup",e.applicationForm),t.xp6(5),t.Oqu(t.lcZ(6,29,"application.general")),t.xp6(4),t.s9C("label",t.lcZ(10,31,"application.name.title")),t.s9C("placeholder",t.lcZ(11,33,"application.name.label")),t.uIk("readonly",e.canUpdate?null:"readonly"),t.xp6(3),t.s9C("label",t.lcZ(13,35,"application.description.title")),t.s9C("placeholder",t.lcZ(14,37,"application.description.label")),t.uIk("readonly",e.canUpdate?null:"readonly"),t.xp6(3),t.s9C("label",t.lcZ(16,39,"application.domain.title")),t.s9C("placeholder",t.lcZ(17,41,"application.domain.label")),t.uIk("readonly",e.canUpdate?null:"readonly"),t.xp6(3),t.Q6J("ngIf",e.application.settings.app),t.xp6(1),t.Q6J("ngIf",e.canUpdate),t.xp6(1),t.Q6J("ngIf",!e.canUpdate),t.xp6(2),t.Q6J("ngIf",e.canUpdate),t.xp6(1),t.Q6J("ngIf",!e.canUpdate),t.xp6(1),t.Q6J("ngIf",e.isOAuth()),t.xp6(2),t.Q6J("ngIf",e.canUpdate||e.canDelete),t.xp6(4),t.Oqu(t.lcZ(31,43,"application.information.title")),t.xp6(6),t.Oqu(t.lcZ(37,45,"application.information.owner")),t.xp6(2),t.hij(" ",e.application.owner.display_name," "),t.xp6(3),t.Oqu(t.lcZ(42,47,"application.information.type")),t.xp6(2),t.hij(" ",t.xi3(44,49,"application.types",t.VKq(58,dr,e.application.applicationType))," "),t.xp6(4),t.Oqu(t.lcZ(48,52,"application.information.createdDate")),t.xp6(2),t.hij(" ",e.toLocaleDateString(e.application.created_at.toString())," "),t.xp6(3),t.Oqu(t.lcZ(53,54,"application.information.lastUpdate")),t.xp6(2),t.Q6J("datetime",e.application.updated_at),t.xp6(1),t.s9C("title",t.lcZ(56,56,"application.list.connectedApis")),t.Q6J("items",e.connectedApis)}}const fr=x.w0.StatusEnum;let gr=(()=>{class g{constructor(e,S,q,rt,ft,yt,At){this.applicationService=e,this.translateService=S,this.route=q,this.router=rt,this.notificationService=ft,this.formBuilder=yt,this.eventService=At}ngOnDestroy(){this.initForm()}ngOnInit(){this.application=this.route.snapshot.data.application,this.permissions=this.route.snapshot.data.permissions,this.application&&(this.applicationTypeEntity=this.route.snapshot.data.applicationType,this.canDelete=this.permissions.DEFINITION&&this.permissions.DEFINITION.includes("D"),this.canUpdate=this.permissions.DEFINITION&&this.permissions.DEFINITION.includes("U"),this.initForm(),this.updateGrantTypes(),this.applicationForm.get("picture").valueChanges.subscribe(e=>{this.eventService.dispatch(new Be.u(Qt.t.UPDATE_PICTURE,{data:e}))}),this.applicationForm.get("background").valueChanges.subscribe(e=>{this.eventService.dispatch(new Be.u(Qt.t.UPDATE_BACKGROUND,{data:e}))}),this.connectedApis=this.applicationService.getSubscriberApisByApplicationId({applicationId:this.application.id,statuses:[fr.ACCEPTED]}).toPromise().then(e=>e.data.map(S=>({item:S,type:"api"}))))}reset(){this.applicationForm.reset(this.application),this.updateGrantTypes()}isOAuth(){return this.application&&null!=this.application.settings.oauth}initForm(){let e;this.application&&(e=this.isOAuth()?this.formBuilder.group({oauth:this.formBuilder.group({client_secret:new V.NI(this.application.settings.oauth.client_secret,null),client_id:new V.NI(this.application.settings.oauth.client_id,null),redirect_uris:new V.Oe([]),grant_types:new V.Oe([])})}):this.formBuilder.group({app:this.formBuilder.group({type:new V.NI(this.application.settings.app.type,null),client_id:new V.NI(this.application.settings.app.client_id,null)})}),this.applicationForm=this.formBuilder.group({id:this.application.id,name:new V.NI(this.application.name,[V.kI.required]),description:new V.NI(this.application.description,[V.kI.required]),domain:new V.NI(this.application.domain),picture:new V.NI(this.application.picture),background:new V.NI(this.application.background),settings:e}))}onSwitchGrant(e,S){if(e.target.value)this.grantTypes.push(new V.NI(S.type));else{let q=-1;this.grantTypes.controls.forEach((rt,ft)=>{rt.value!==S.type||(q=ft)}),this.grantTypes.removeAt(q)}this.applicationForm.markAsDirty()}updateGrantTypes(){this.isOAuth()&&(this.grantTypes.clear(),this.allGrantTypes=this.applicationTypeEntity.allowed_grant_types.map(e=>{const S=null!=this.application.settings.oauth.grant_types.find(rt=>e.type===rt),q=null!=this.applicationTypeEntity.mandatory_grant_types.find(rt=>e.type===rt.type);return!0===S&&this.grantTypes.push(new V.NI(e.type)),{...e,disabled:q,value:S}}),this.requiresRedirectUris&&this.redirectURIs.setValidators(V.kI.required),this.redirectURIs.clear(),this.application.settings.oauth.redirect_uris.forEach(e=>{this.redirectURIs.push(new V.NI(e))}))}get grantTypes(){return this.applicationForm.get("settings.oauth.grant_types")}get requiresRedirectUris(){return!!this.applicationTypeEntity&&this.applicationTypeEntity.requires_redirect_uris}addRedirectUri(e){if(e.target.valid){const S=e.target.value;S&&""!==S.trim()&&(this.redirectURIs.controls.map(q=>q.value).includes(S)||(this.redirectURIs.push(new V.NI(S,V.kI.required)),this.applicationForm.markAsDirty()),e.target.value="")}}get redirectURIs(){return this.applicationForm.get("settings.oauth.redirect_uris")}removeRedirectUri(e){this.redirectURIs.removeAt(e),this.applicationForm.markAsDirty()}get validRedirectUris(){return this.requiresRedirectUris&&this.redirectURIs.length>0||!this.requiresRedirectUris}submit(){this.isSaving=!0,this.applicationService.updateApplicationByApplicationId({applicationId:this.application.id,application:this.applicationForm.getRawValue()}).toPromise().then(e=>{this.application=e,this.reset(),this.notificationService.success((0,d.J)("application.success.save")),this.eventService.dispatch(new Be.u(Qt.t.RELOAD_EVENT))}).finally(()=>this.isSaving=!1)}get displayName(){return(0,Ze.Qu)(this.application)}delete(){this.isDeleting=!0,this.applicationService.deleteApplicationByApplicationId({applicationId:this.application.id}).toPromise().then(()=>{this.router.navigate(["applications"]),this.notificationService.success((0,d.J)("application.success.delete"))}).finally(()=>this.isDeleting=!1)}renewSecret(){this.isRenewing=!0,this.applicationService.renewApplicationSecret({applicationId:this.application.id}).toPromise().then(e=>{this.application=e,this.reset(),this.notificationService.success((0,d.J)("application.success.renewSecret"))}).finally(()=>this.isRenewing=!1)}toLocaleDateString(e){return new Date(e).toLocaleDateString(this.translateService.currentLang)}onGvListClick(e){const S={};S[b.O.APPLICATION]=this.application.id,this.router.navigate([`/catalog/api/${e.item.id}`],{queryParams:S})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(mt.sK),t.Y36(u.gz),t.Y36(u.F0),t.Y36(wt.g),t.Y36(V.qu),t.Y36(Be.P))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-general"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-list:click",function(rt){return S.onGvListClick(rt.detail)})},decls:1,vars:1,consts:[["class","page__content page__content-with-aside form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"page__content","page__content-with-aside","form",3,"formGroup","ngSubmit"],[1,"main"],[1,"page__box"],[1,"page__box-title"],[1,"title"],[1,"page__box-content","grid"],["required","","formControlName","name","name","application.name","ngDefaultControl","",1,"form__control",3,"label","placeholder"],["required","","rows","7","formControlName","description","name","application.description","ngDefaultControl","",1,"form__control",3,"label","placeholder"],["formControlName","domain","name","application.domain","ngDefaultControl","",1,"form__control",3,"label","placeholder"],["formGroupName","settings",4,"ngIf"],["name","background","formControlName","background","ngDefaultControl","","accept","image/*","except",".svg","limit","500000",3,"label",4,"ngIf"],[3,"picture","display_name",4,"ngIf"],["name","picture","formControlName","picture","ngDefaultControl","","accept","image/*","except",".svg","limit","500000",3,"label",4,"ngIf"],["class","page__box",4,"ngIf"],[1,"aside"],[1,"page__box-content"],[1,"info__miscellaneous"],[1,"info__miscellaneous_item"],["noFuture","",3,"datetime"],["clickable","",1,"page__box",3,"items","title"],["formGroupName","settings"],["formGroupName","app"],["formControlName","type","name","application.type","ngDefaultControl","",1,"form__control",3,"label","placeholder"],["formControlName","client_id","name","application.client_id","ngDefaultControl","",1,"form__control",3,"label","placeholder"],["name","background","formControlName","background","ngDefaultControl","","accept","image/*","except",".svg","limit","500000",3,"label"],[3,"picture","display_name"],["name","picture","formControlName","picture","ngDefaultControl","","accept","image/*","except",".svg","limit","500000",3,"label"],["formGroupName","oauth"],["clipboard","","formControlName","client_id","name","application.client_id","ngDefaultControl","",1,"form__control",3,"label","placeholder"],[1,"form__control","form__control_inline"],["clipboard","","type","password","formControlName","client_secret","name","application.client_secret","ngDefaultControl","",3,"label","placeholder"],[3,"message","gv-confirm:ok",4,"ngIf"],[1,"grid-content"],[1,"grid-column"],["formArrayName","grant_types",1,"form__control"],[2,"opacity","0.7"],[3,"label","value","disabled","input",4,"ngFor","ngForOf"],["class","grid-column",4,"ngIf"],[3,"message","gv-confirm:ok"],["secondary","","icon","code:lock-overturning",3,"loading"],[3,"label","value","disabled","input"],[1,"form__control"],["autofocus","","clickable","","no-submit","","type","url","placeholder","https://example.com","icon","code:plus",3,"label","valid","invalid","gv-input:submit","blur"],[4,"ngIf"],[1,"label"],["icon-right","general:close","minor","","clickable","",3,"gv-tag:click",4,"ngFor","ngForOf"],["icon-right","general:close","minor","","clickable","",3,"gv-tag:click"],[1,"page__box-footer","form__actions"],["type","submit","primary","","icon","general:save",3,"disabled","loading",4,"ngIf"],["outlined","",3,"disabled","gv-button:click",4,"ngIf"],["danger","",3,"message","cancelLabel","okLabel","gv-confirm:ok",4,"ngIf"],["type","submit","primary","","icon","general:save",3,"disabled","loading"],["outlined","",3,"disabled","gv-button:click"],["danger","",3,"message","cancelLabel","okLabel","gv-confirm:ok"],["link","",3,"loading"]],template:function(e,S){1&e&&t.YNc(0,ur,57,60,"form",0),2&e&&t.Q6J("ngIf",S.application)},directives:[kt.O5,V._Y,V.JL,V.sg,K.T,V.Q7,V.JJ,V.u,V.Fj,V.x0,V.CE,kt.sg],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 250px;grid-gap:1rem}gv-confirm[_ngcontent-%COMP%]{--gv-confirm--maw: 500px;align-self:center}gv-identity-picture[_ngcontent-%COMP%]{height:150px;width:150px;margin:auto;outline:var(--gv-theme-neutral-color-dark) solid 1px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.grid-content[_ngcontent-%COMP%]{display:grid;grid-gap:4rem;grid-auto-columns:1fr;grid-auto-flow:column;flex:1;margin:2rem .2rem 1rem}.grid-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.info__miscellaneous[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.info__miscellaneous_item[_ngcontent-%COMP%]{padding:1px 0;line-height:22px;vertical-align:middle}.info__miscellaneous_item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 5px 1px 0;opacity:.6}"]}),g})();var mr=Mt(10550);function vr(g,E){if(1&g&&t._UZ(0,"gv-table",10),2&g){const e=t.oxw();t.Q6J("options",e.options)("items",e.logs)("format",e.format)("order",e.getOrder())("selected",e.selectedLogIds)}}function yr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",11)(1,"gv-select",12),t.NdJ("gv-select:select",function(q){return t.CHM(e),t.oxw().onSelectSize(q.detail)}),t.qZA(),t._UZ(2,"gv-pagination",13),t.qZA()}if(2&g){const e=t.oxw();t.xp6(1),t.Q6J("options",e.pageSizes)("value",e.size),t.xp6(1),t.Q6J("data",e.paginationData)}}function xr(g,E){1&g&&(t.TgZ(0,"h3",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.log.requestHeaders")))}function _r(g,E){1&g&&(t.TgZ(0,"h3",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.log.responseHeaders")))}function br(g,E){if(1&g&&(t.TgZ(0,"div",16)(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&g){const e=E.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(2),t.Oqu(e[1])}}function Cr(g,E){if(1&g&&(t.TgZ(0,"div",16)(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&g){const e=E.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(2),t.Oqu(e[1])}}function Mr(g,E){1&g&&(t.TgZ(0,"h3",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.log.requestBody")))}function wr(g,E){1&g&&(t.TgZ(0,"h3",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.log.responseBody")))}function Sr(g,E){1&g&&t._UZ(0,"div")}const Ti=function(g){return{mode:g,lineNumbers:!0,lineWrapping:!0}};function Ar(g,E){if(1&g&&(t.TgZ(0,"div"),t._UZ(1,"gv-code",21),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("options",t.VKq(2,Ti,e.getLang(e.selectedLog.request.headers)))("value",e.selectedLog.request.body)}}function Pr(g,E){1&g&&t._UZ(0,"div")}function Or(g,E){if(1&g&&(t.TgZ(0,"div"),t._UZ(1,"gv-code",21),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("options",t.VKq(2,Ti,e.getLang(e.selectedLog.response.headers)))("value",e.selectedLog.response.body)}}const Tr=function(g){return{color:g}};function kr(g,E){if(1&g&&(t.TgZ(0,"section",14)(1,"div")(2,"section",15)(3,"h3",5),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"h3",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div")(10,"div",16)(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div"),t._uU(15),t.qZA()(),t.TgZ(16,"div",16)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div")(21,"span",17),t._uU(22),t.qZA(),t._uU(23),t.qZA()(),t.TgZ(24,"div",16)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div"),t._uU(29),t.qZA()()(),t.TgZ(30,"div")(31,"div",16)(32,"label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div"),t._uU(36),t.qZA()(),t.TgZ(37,"div",16)(38,"label"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"div"),t._uU(42),t.qZA()(),t.TgZ(43,"div",16)(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div"),t._uU(48),t.qZA()()(),t.YNc(49,xr,3,3,"h3",18),t.YNc(50,_r,3,3,"h3",18),t.TgZ(51,"div"),t.YNc(52,br,5,2,"div",19),t.qZA(),t.TgZ(53,"div"),t.YNc(54,Cr,5,2,"div",19),t.qZA(),t.YNc(55,Mr,3,3,"h3",18),t.YNc(56,wr,3,3,"h3",18),t.YNc(57,Sr,1,0,"div",20),t.YNc(58,Ar,2,4,"div",20),t.YNc(59,Pr,1,0,"div",20),t.YNc(60,Or,2,4,"div",20),t.qZA()()()),2&g){const e=t.oxw();t.xp6(1),t.Gre("application__log__block ","application__log__block-"+e.getCodeByStatus(e.selectedLog.status),""),t.xp6(3),t.Oqu(t.lcZ(5,29,"application.log.request")),t.xp6(3),t.Oqu(t.lcZ(8,31,"application.log.response")),t.xp6(5),t.Oqu(t.lcZ(13,33,"application.log.requestId")),t.xp6(3),t.Oqu(e.selectedLog.id),t.xp6(3),t.Oqu(t.lcZ(19,35,"application.log.request")),t.xp6(3),t.Q6J("ngStyle",t.VKq(45,Tr,e.getMethodColor(e.selectedLog.method))),t.xp6(1),t.Oqu(e.selectedLog.method.toUpperCase()),t.xp6(1),t.hij(" ",e.selectedLog.path," "),t.xp6(3),t.Oqu(t.lcZ(27,37,"application.log.requestContentLength")),t.xp6(3),t.Oqu(e.selectedLog.requestContentLength),t.xp6(4),t.Oqu(t.lcZ(34,39,"application.log.transactionId")),t.xp6(3),t.Oqu(e.selectedLog.transactionId),t.xp6(3),t.Oqu(t.lcZ(40,41,"application.log.responseTime")),t.xp6(3),t.Oqu(e.selectedLog.responseTime+" ms"),t.xp6(3),t.Oqu(t.lcZ(46,43,"application.log.responseContentLength")),t.xp6(3),t.Oqu(e.selectedLog.responseContentLength),t.xp6(1),t.Q6J("ngIf",e.requestHeaders),t.xp6(1),t.Q6J("ngIf",e.responseHeaders),t.xp6(2),t.Q6J("ngForOf",e.requestHeaders),t.xp6(2),t.Q6J("ngForOf",e.responseHeaders),t.xp6(1),t.Q6J("ngIf",e.selectedLog.request),t.xp6(1),t.Q6J("ngIf",e.selectedLog.response),t.xp6(1),t.Q6J("ngIf",e.selectedLog.request&&!e.selectedLog.request.body),t.xp6(1),t.Q6J("ngIf",e.selectedLog.request&&e.selectedLog.request.body),t.xp6(1),t.Q6J("ngIf",e.selectedLog.response&&!e.selectedLog.response.body),t.xp6(1),t.Q6J("ngIf",e.selectedLog.response&&e.selectedLog.response.body)}}let Lr=(()=>{class g{constructor(e,S,q,rt,ft,yt,At){this.applicationService=e,this.analyticsService=S,this.translateService=q,this.route=rt,this.router=ft,this.config=yt,this.scrollService=At,this.paginationData={}}ngOnInit(){this.pageSizes=this.config.get("pagination.size.values"),this.size=this.route.snapshot.queryParams[b.O.SIZE]?parseInt(this.route.snapshot.queryParams[b.O.SIZE],10):this.config.get("pagination.size.default"),this.subscription=this.route.queryParams.subscribe(e=>{e&&!e.skipRefresh&&this.refresh(e)}),this.translateService.get("application.logs.displayAnalytics").subscribe(e=>{this.link={label:e,relativePath:"../analytics",icon:"shopping:chart-line#1"}})}ngOnDestroy(){this.subscription.unsubscribe()}refresh(e){var S=this;return(0,A.Z)(function*(){const q=S.route.snapshot.data.application;if(q){S.isSearching=!0;const rt=yield S.applicationService.getApplicationLogs(S.getRequestParameters(e,q)).toPromise();S.isSearching=!1,S.logs=rt.data;const ft=rt.metadata;S.buildPaginationData(rt.metadata.data.total),S.format=yt=>S.translateService.get(yt).toPromise(),S.options={selectable:!0,data:[{field:"timestamp",type:"datetime",label:(0,d.J)("application.logs.date"),style:"color: #40A9FF",width:"200px"},{tag:"status",label:(0,d.J)("application.logs.status"),style:({status:yt})=>{const At=S.getStatusColor(yt);return`--gv-tag--bdc: ${At}; --gv-tag--c: ${At};`}},{field:"api",label:(0,d.J)("application.logs.api"),format:yt=>ft[yt].name},{field:"plan",label:(0,d.J)("application.logs.plan"),format:yt=>ft[yt].name},{field:"method",label:(0,d.J)("application.logs.method"),format:yt=>yt.toUpperCase(),style:({method:yt})=>"color:"+S.getMethodColor(yt)},{field:"path",label:(0,d.J)("application.logs.path"),width:"350px",style:()=>"--gv-table-cell--d: block; height: auto; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;"},{field:"responseTime",label:(0,d.J)("application.logs.responseTime"),headerStyle:()=>"justify-content: flex-end",format:yt=>yt+" ms",style:()=>"text-align: right"}]},e.log&&e.timestamp?(S.selectedLogIds=S.logs.filter(yt=>yt.id===e.log).map(yt=>yt.id),S._loadLog({id:e.log,timestamp:e.timestamp})):S.selectedLogIds=[]}})()}getRequestParameters(e,S){const q=this.analyticsService.getTimeSlotFromQueryParams();let rt=e[b.O.FIELD]||"@timestamp";return rt="timestamp"===rt?"@timestamp":rt,rt="responseTime"===rt?"response-time":rt,{applicationId:S.id,from:q.from,to:q.to,size:this.size,page:e[b.O.PAGE]||1,field:rt,order:e[b.O.ORDER]||"DESC",query:this.analyticsService.getQueryFromPath().query}}getStatusColor(e){switch(this.getCodeByStatus(e)){case 1:return"black";case 2:return"green";case 3:return"#dbdb0a";case 4:return"orange";case 5:return"red"}}getMethodColor(e){switch(e.toUpperCase()){case"GET":return"#43a047";case"POST":return"#fb8c00";case"PUT":return"#039be5";case"DELETE":return"#e53935";default:return"#757575"}}buildPaginationData(e){const S=e/this.size;this.paginationData={first:1,last:S,current_page:this.route.snapshot.queryParams[b.O.PAGE]||1,total_pages:S,total:e}}getOrder(){const e=this.route.snapshot.queryParams[b.O.FIELD];return e?"DESC"===this.route.snapshot.queryParams[b.O.ORDER]?"-"+e:e:"-timestamp"}getCodeByStatus(e){return Math.round(e/100)}getLang(e){const q=e[Object.keys(e).find(rt=>"content-type"===rt.toLowerCase())];if(q)return q[0].split(";",1)[0].split("/")[1]}_onPaginate({page:e}){const S={};S[b.O.PAGE]=e,S[b.O.SIZE]=this.size,S.log=null,this.router.navigate([],{queryParams:S,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}_onSort({order:e}){const S=e.startsWith("-"),q={};q[b.O.FIELD]=S?e.substring(1):e,q[b.O.ORDER]=S?"DESC":"ASC",q.log=null,this.router.navigate([],{queryParams:q,queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}onSelectSize(e){this.size=e,this.router.navigate([],{queryParams:{size:e,page:null,log:null},queryParamsHandling:"merge",fragment:this.analyticsService.fragment})}onSelectLog(e){e?this.router.navigate([],{queryParams:{log:e?e.id:null,timestamp:e?e.timestamp:null},queryParamsHandling:"merge",fragment:this.analyticsService.fragment}):(this.selectedLog=null,this.selectedLogIds=[])}_loadLog({id:e,timestamp:S}){var q=this;return(0,A.Z)(function*(){q.selectedLog=yield q.applicationService.getApplicationLogByApplicationIdAndLogId({applicationId:q.route.snapshot.data.application.id,logId:e,timestamp:S}).toPromise(),q.selectedLog.request&&(q.requestHeaders=Object.keys(q.selectedLog.request.headers).map(rt=>[rt,q.selectedLog.request.headers[rt]])),q.selectedLog.response&&(q.responseHeaders=Object.keys(q.selectedLog.response.headers).map(rt=>[rt,q.selectedLog.response.headers[rt]])),q.scrollService.scrollToAnchor("log")})()}export(){const e=this.route.snapshot.queryParams,S=this.route.snapshot.data.application;this.isExporting=!0;const q=this.getRequestParameters(e,S);q.page=1,q.size=1e4,this.applicationService.exportApplicationLogsByApplicationId(q).toPromise().then(rt=>{const ft=document.createElement("a");ft.href="data:attachment/csv,"+encodeURIComponent(rt),ft.target="_self";let yt="logs-"+S.name+"-"+Date.now();yt=yt.replace(/[\s]/gi,"-"),yt=yt.replace(/[^\w]/gi,"-"),ft.download=yt+".csv",document.getElementById("hidden-export-container").appendChild(ft),ft.click(),document.getElementById("hidden-export-container").removeChild(ft)}).finally(()=>this.isExporting=!1)}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(De.y),t.Y36(mt.sK),t.Y36(u.gz),t.Y36(u.F0),t.Y36(Pt.e),t.Y36(mr.a))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-logs"]],viewQuery:function(e,S){if(1&e&&t.Gf(Fe,5),2&e){let q;t.iGM(q=t.CRH())&&(S.filtersComponent=q.first)}},hostBindings:function(e,S){1&e&&t.NdJ("gv-pagination:paginate",function(rt){return S._onPaginate(rt.detail)})("gv-table:sort",function(rt){return S._onSort(rt.detail)})("gv-table:select",function(rt){return S.onSelectLog(rt.detail.items[0])})},decls:12,vars:11,consts:[["id","hidden-export-container",2,"display","none"],[1,"page__content"],[3,"link","searchLoading","exportDisabled","exportLoading","withURI","export"],[1,"page__box"],[1,"page__box-title"],[1,"title"],[1,"page__box-content"],["rowheight","40px",3,"options","items","format","order","selected",4,"ngIf"],["class","page__box-footer pagination__block",4,"ngIf"],["id","log","class","application__section",4,"ngIf"],["rowheight","40px",3,"options","items","format","order","selected"],[1,"page__box-footer","pagination__block"],["small","",1,"pagination__size__block",3,"options","value","gv-select:select"],[1,"pagination__pagination__block",3,"data"],["id","log",1,"application__section"],[1,"application__log__infos__section"],[1,"application__log__infos__block"],[3,"ngStyle"],["class","title",4,"ngIf"],["class","application__log__infos__block",4,"ngFor","ngForOf"],[4,"ngIf"],["readonly","","clipboard","",3,"options","value"]],template:function(e,S){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"app-gv-analytics-filters",2),t.NdJ("export",function(){return S.export()}),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6),t.YNc(9,vr,1,5,"gv-table",7),t.qZA(),t.YNc(10,yr,3,3,"div",8),t.qZA(),t.YNc(11,kr,61,47,"section",9),t.qZA()),2&e&&(t.xp6(2),t.Q6J("link",S.link)("searchLoading",S.isSearching)("exportDisabled",!(S.logs&&S.logs.length))("exportLoading",S.isExporting)("withURI",!0),t.xp6(4),t.Oqu(t.lcZ(7,9,"application.logs.title")),t.xp6(3),t.Q6J("ngIf",S.logs),t.xp6(1),t.Q6J("ngIf",S.logs&&S.logs.length),t.xp6(1),t.Q6J("ngIf",S.selectedLog))},directives:[Fe,kt.O5,kt.PC,kt.sg],pipes:[mt.X$],styles:[".pagination__block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.application__section[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto}.application__log__block[_ngcontent-%COMP%]{border-radius:4px;padding:10px 34px}.application__log__block-1[_ngcontent-%COMP%]{background-color:#dadada}.application__log__block-2[_ngcontent-%COMP%]{background-color:#f1f8e9}.application__log__block-3[_ngcontent-%COMP%]{background-color:#ffffc9}.application__log__block-4[_ngcontent-%COMP%]{background-color:#faddad}.application__log__block-5[_ngcontent-%COMP%]{background-color:#ff9e9e}.application__log__infos__section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:30px}.application__log__infos__section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 auto;opacity:.5}.application__log__infos__block[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:10px;background-color:#fff}.application__log__infos__block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.application__log__infos__block[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .application__log__infos__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow-x:auto}.application__log__infos__block[_ngcontent-%COMP%]   gv-tag[_ngcontent-%COMP%]{display:flex}"]}),g})();Mt(70835),Mt(2012);var Er=Mt(11704),Ir=Mt(48910);function jr(g,E){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij("(",e.members.length,")")}}function Dr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"form",13),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().addMember()}),t.TgZ(1,"div",3)(2,"h3",4),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"gv-button",14),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().resetAddMember()}),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6)(9,"div",15)(10,"gv-autocomplete",16),t.NdJ("gv-autocomplete:search",function(q){return t.CHM(e),t.oxw().onSearchUserToAdd(q)})("gv-autocomplete:select",function(q){return t.CHM(e),t.oxw().onSelectUserToAdd(q)}),t._UZ(11,"gv-input",17),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"gv-select",18),t.ALo(15,"translate"),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",19)(18,"gv-button",20),t._uU(19),t.ALo(20,"translate"),t.qZA()()()()}if(2&g){const e=t.oxw();t.Q6J("formGroup",e.addMemberForm),t.xp6(3),t.Oqu(t.lcZ(4,14,"application.members.add.title")),t.xp6(3),t.Oqu(t.lcZ(7,16,"application.members.add.reset")),t.xp6(4),t.Q6J("options",e.userListForAddMember),t.xp6(1),t.s9C("label",t.lcZ(12,18,"application.members.add.user.name")),t.s9C("placeholder",t.lcZ(13,20,"application.members.add.user.placeholder")),t.Q6J("value",e.selectedUserToAddName)("valid",e.hasNewMember)("invalid",!e.hasNewMember),t.xp6(3),t.s9C("label",t.lcZ(15,22,"application.members.add.role.name")),t.s9C("placeholder",t.lcZ(16,24,"application.members.add.role.placeholder")),t.Q6J("options",e.roles),t.xp6(4),t.Q6J("disabled",e.addMemberForm.invalid||!e.hasNewMember),t.xp6(1),t.Oqu(t.lcZ(20,26,"application.members.add.add"))}}const Nr=function(g){return{name:g}};function Rr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"form",21)(1,"div",3)(2,"h3",4),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"gv-button",14),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().resetTransferOwnership()}),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6)(9,"p"),t._UZ(10,"gv-icon",22),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"gv-autocomplete",23),t.NdJ("gv-autocomplete:search",function(q){return t.CHM(e),t.oxw().onSearchUserForTransferOwnership(q)})("gv-autocomplete:select",function(q){return t.CHM(e),t.oxw().onSelectUserForTransferOwnership(q)}),t._UZ(14,"gv-input",17),t.ALo(15,"translate"),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",24)(18,"div",25),t._UZ(19,"gv-identity-picture",26),t.TgZ(20,"div",27),t._uU(21),t.qZA()(),t._UZ(22,"gv-select",28),t.ALo(23,"translate"),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",29)(26,"gv-confirm",30),t.NdJ("gv-confirm:ok",function(){return t.CHM(e),t.oxw().transferOwnership()}),t.ALo(27,"translate"),t.ALo(28,"translate"),t.ALo(29,"translate"),t.TgZ(30,"gv-button",31),t._uU(31),t.ALo(32,"translate"),t.qZA()()()()}if(2&g){const e=t.oxw();t.Q6J("formGroup",e.transferOwnershipForm),t.xp6(3),t.Oqu(t.lcZ(4,21,"application.members.transferOwnership.title")),t.xp6(3),t.Oqu(t.lcZ(7,23,"application.members.transferOwnership.reset")),t.xp6(5),t.hij(" ",t.lcZ(12,25,"application.members.transferOwnership.information"),""),t.xp6(2),t.Q6J("options",e.userListForTransferOwnership),t.xp6(1),t.s9C("label",t.lcZ(15,27,"application.members.transferOwnership.newPrimaryOwner.name")),t.s9C("placeholder",t.lcZ(16,29,"application.members.transferOwnership.newPrimaryOwner.placeholder")),t.Q6J("value",e.selectedUserForTransferOwnershipName)("valid",e.hasUserForTransferOwnership)("invalid",!e.hasUserForTransferOwnership),t.xp6(5),t.Q6J("picture",e.application?e.application.owner._links.avatar:"")("display_name",e.application?e.application.owner.display_name:""),t.xp6(2),t.Oqu(e.application?e.application.owner.display_name:""),t.xp6(1),t.s9C("label",t.lcZ(23,31,"application.members.transferOwnership.currentPrimaryOwnerNewRole.name")),t.s9C("placeholder",t.lcZ(24,33,"application.members.transferOwnership.currentPrimaryOwnerNewRole.placeholder")),t.Q6J("options",e.roles),t.xp6(4),t.s9C("message",t.xi3(27,35,"application.members.transferOwnership.confirm.message",t.VKq(44,Nr,e.selectedUserForTransferOwnershipName))),t.s9C("okLabel",t.lcZ(28,38,"application.members.transferOwnership.confirm.ok")),t.s9C("cancelLabel",t.lcZ(29,40,"application.members.transferOwnership.confirm.cancel")),t.xp6(4),t.Q6J("disabled",e.transferOwnershipForm.invalid||!e.hasUserForTransferOwnership),t.xp6(1),t.hij(" ",t.lcZ(32,42,"application.members.transferOwnership.transfer")," ")}}const Ur=function(g,E){return{nbMembers:g,groupName:E}};function Fr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",33)(1,"h3",4),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"gv-button",34),t.NdJ("click",function(q){return t.CHM(e),t.oxw(2).toggleGroupMembers(q)}),t.TgZ(5,"span",35),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"span",36),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t._UZ(11,"gv-table",37),t.qZA()}if(2&g){const e=E.$implicit,S=t.oxw(2);t.xp6(2),t.hij(" ",t.xi3(3,5,"application.members.inherited.groupTitle",t.WLB(12,Ur,e.nbGroupMembers,e.groupName))," "),t.xp6(4),t.Oqu(t.lcZ(7,8,"application.members.inherited.hide")),t.xp6(3),t.Oqu(t.lcZ(10,10,"application.members.inherited.show")),t.xp6(2),t.Q6J("items",e.groupMembers)("options",S.groupMembersOptions)}}function Zr(g,E){if(1&g&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h3",4),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",6),t.YNc(6,Fr,12,15,"div",32),t.qZA()()),2&g){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"application.members.inherited.title")),t.xp6(3),t.Q6J("ngForOf",e.groups)}}const Br=function(g){return{type:g}};function zr(g,E){if(1&g&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h4",4),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",6)(6,"ul",38)(7,"li",39)(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"li",39)(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"li",39)(19,"span"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"li",39)(24,"span"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"gv-relative-time",40),t.qZA()()()()),2&g){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,9,"application.information.title")),t.xp6(6),t.Oqu(t.lcZ(10,11,"application.information.owner")),t.xp6(2),t.hij(" ",e.application.owner.display_name," "),t.xp6(3),t.Oqu(t.lcZ(15,13,"application.information.type")),t.xp6(2),t.hij(" ",t.xi3(17,15,"application.types",t.VKq(22,Br,e.application.applicationType))," "),t.xp6(4),t.Oqu(t.lcZ(21,18,"application.information.createdDate")),t.xp6(2),t.hij(" ",e.toLocaleDateString(e.application.created_at.toString())," "),t.xp6(3),t.Oqu(t.lcZ(26,20,"application.information.lastUpdate")),t.xp6(2),t.Q6J("datetime",e.application.updated_at)}}const Yr=x.w0.StatusEnum;let Gr=(()=>{class g{constructor(e,S,q,rt,ft,yt,At,Ot,St,Et,Ft){this.applicationService=e,this.groupService=S,this.portalService=q,this.translateService=rt,this.route=ft,this.router=yt,this.notificationService=At,this.permissionService=Ot,this.usersService=St,this.currentUser=Et,this.ref=Ft,this.readonly=!0,this.canSearchUser=!1,this.userListForAddMember=[],this.userListForTransferOwnership=[],this.resetAddMember(),this.resetTransferOwnership()}get hasNewMember(){return null!==this.selectedUserToAdd}get selectedUserToAddName(){return this.hasNewMember?this.selectedUserToAdd.display_name:""}get hasUserForTransferOwnership(){return null!==this.selectedUserForTransferOwnership}get selectedUserForTransferOwnershipName(){return this.hasUserForTransferOwnership?this.selectedUserForTransferOwnership.display_name:""}ngOnInit(){var e=this;return(0,A.Z)(function*(){e.application=e.route.snapshot.data.application,e.application&&(e.canSearchUser=e.currentUser.get().getValue()&&e.currentUser.get().getValue().permissions.USER&&e.currentUser.get().getValue().permissions.USER.includes("R"),e.readonly=yield e.isReadOnly(!0),e.portalService.getApplicationRoles().toPromise().then(S=>{e.roles=[],S.data.forEach(q=>{"PRIMARY_OWNER"!==q.name&&e.roles.push({label:q.name,value:q.id})})}),e.application.groups&&e.application.groups.length>0&&(e.groups=[],e.application.groups.forEach(S=>{e.groupService.getMembersByGroupId({groupId:S.id,size:-1}).toPromise().then(q=>{e.groups.push({groupId:S.id,groupName:S.name,groupMembers:q.data,nbGroupMembers:q.metadata.data.total})})})),e.translateService.get([(0,d.J)("application.members.list.member"),(0,d.J)("application.members.list.role"),(0,d.J)("application.members.list.remove.message"),(0,d.J)("application.members.list.remove.title")]).toPromise().then(S=>{e.tableTranslations=Object.values(S),e.membersOptions=e._buildMemberOptions(),e.application.groups&&e.application.groups.length>0&&(e.groupMembersOptions={paging:5,data:[{field:"user._links.avatar",type:"image",alt:"user.display_name"},{field:"user.display_name",label:e.tableTranslations[0]},{field:"role",label:e.tableTranslations[1]}]}),e.loadMembersTable()}),e.connectedApis=e.applicationService.getSubscriberApisByApplicationId({applicationId:e.application.id,statuses:[Yr.ACCEPTED]}).toPromise().then(S=>S.data.map(q=>({item:q,type:Er.m.API}))))})()}_buildMemberOptions(){const e=[{field:"user._links.avatar",type:"image",alt:"user.display_name"},{field:"user.display_name",label:this.tableTranslations[0]}];return this.readonly?e.push({field:"role",label:this.tableTranslations[1]}):(e.push(this._renderRole(this.tableTranslations[1])),e.push(this._renderDelete(this.tableTranslations[2],this.tableTranslations[3]))),{paging:5,data:e}}_renderRole(e){return{field:"role",label:e,type:"gv-select",attributes:{options:S=>"PRIMARY_OWNER"===S.role?["PRIMARY_OWNER"]:this.roles,disabled:S=>"PRIMARY_OWNER"===S.role,"ongv-select:select":(S,q)=>this.updateMember(S,q)}}}_renderDelete(e,S){return{type:"gv-icon",width:"25px",confirm:{msg:e,danger:!0,position:"left"},condition:q=>"PRIMARY_OWNER"!==q.role,attributes:{onClick:q=>this.removeMember(q),shape:"general:trash",title:S}}}isReadOnly(e){var S=this;return(0,A.Z)(function*(){let q;if(q=e?S.route.snapshot.data.permissions:yield S.permissionService.getCurrentUserPermissions({applicationId:S.application.id}).toPromise(),q){const rt=q.MEMBER;return!rt||0===rt.length||!rt.includes("U")}return!0})()}loadMembersTable(){return this.applicationService.getMembersByApplicationId({applicationId:this.application.id}).toPromise().then(e=>{this.members=e.data})}resetAddMember(){this.selectedUserToAdd=null,this.userListForAddMember=[],this.addMemberForm=new V.cw({newMemberRole:new V.NI("USER")})}resetTransferOwnership(){this.selectedUserForTransferOwnership=null,this.userListForTransferOwnership=[],this.transferOwnershipForm=new V.cw({primaryOwnerNewRole:new V.NI("USER")})}onSearchUserToAdd({detail:e}){this.searchUser(e).then(S=>this.userListForAddMember=S.filter(q=>-1===this.members.findIndex(rt=>rt.user.id===q.id)))}onSearchUserForTransferOwnership({detail:e}){this.searchUser(e).then(S=>this.userListForTransferOwnership=S.filter(q=>this.application.owner.id!==q.id))}onSelectUserToAdd({detail:e}){this.selectedUserToAdd=e.data}onSelectUserForTransferOwnership({detail:e}){this.selectedUserForTransferOwnership=e.data}searchUser(e){return this.usersService.getUsers({q:e}).toPromise().then(S=>{let q=[];return S.data.length&&(q=S.data.map(rt=>{const ft=document.createElement("gv-row");return ft.item={name:rt.display_name,picture:rt._links?rt._links.avatar:""},{value:rt.display_name,element:ft,id:rt.id,data:rt}})),q})}removeMember(e){this.applicationService.deleteApplicationMember({applicationId:this.application.id,memberId:e.user.id}).toPromise().then(()=>this.loadMembersTable()).then(()=>this.notificationService.success((0,d.J)("application.members.list.remove.success")))}addMember(){this.applicationService.createApplicationMember({applicationId:this.application.id,memberInput:{user:this.selectedUserToAdd.id,reference:this.selectedUserToAdd.reference,role:this.addMemberForm.controls.newMemberRole.value}}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.members.add.success")),this.loadMembersTable(),this.resetAddMember()})}toggleGroupMembers(e){e.target.closest(".groupMembers").classList.toggle("show")}transferOwnership(){this.applicationService.transferMemberOwnership({applicationId:this.application.id,transferOwnershipInput:{new_primary_owner_id:this.selectedUserForTransferOwnership.id,new_primary_owner_reference:this.selectedUserForTransferOwnership.reference,primary_owner_newrole:this.transferOwnershipForm.controls.primaryOwnerNewRole.value}}).toPromise().then(()=>this.router.navigate(["applications"])).then(()=>this.notificationService.success((0,d.J)("application.members.transferOwnership.success")))}updateMember(e,{detail:S}){this.applicationService.updateApplicationMemberByApplicationIdAndMemberId({applicationId:this.application.id,memberId:e.user.id,memberInput:{user:e.user.id,role:S}}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.members.list.success")),this.currentUser.exist()&&this.currentUser.getUser().id===e.user.id&&this.isReadOnly().then(q=>{this.readonly=q,this.membersOptions=this._buildMemberOptions(),this.ref.detectChanges()})})}toLocaleDateString(e){return new Date(e).toLocaleDateString(this.translateService.currentLang)}onGvListClick(e){const S={};S[b.O.APPLICATION]=this.application.id,this.router.navigate([`/catalog/api/${e.item.id}`],{queryParams:S})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(x.lT),t.Y36(x.EA),t.Y36(mt.sK),t.Y36(u.gz),t.Y36(u.F0),t.Y36(wt.g),t.Y36(x.qQ),t.Y36(x.fz),t.Y36(Ir.S),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-members"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-list:click",function(rt){return S.onGvListClick(rt.detail)})},decls:17,vars:14,consts:[[1,"page__content","page__content-with-aside"],[1,"main"],[1,"page__box"],[1,"page__box-title"],[1,"title"],[4,"ngIf"],[1,"page__box-content"],["order","user.display_name",3,"items","options"],["class","page__box form",3,"formGroup","ngSubmit",4,"ngIf"],["class","page__box form",3,"formGroup",4,"ngIf"],["class","page__box",4,"ngIf"],[1,"aside"],["clickable","",1,"page__box",3,"items","title"],[1,"page__box","form",3,"formGroup","ngSubmit"],["link","",3,"gv-button:click"],[1,"grid","form__control"],[3,"options","gv-autocomplete:search","gv-autocomplete:select"],["icon-left","general:search","type","search",3,"label","placeholder","value","valid","invalid"],["formControlName","newMemberRole","name","newMemberRole","required","true","ngDefaultControl","",3,"label","placeholder","options"],[1,"form__actions"],["type","submit","primary","",3,"disabled"],[1,"page__box","form",3,"formGroup"],["shape","code:info"],[1,"form__control",3,"options","gv-autocomplete:search","gv-autocomplete:select"],[1,"grid-transfer","form__control"],[1,"grid-owner"],[3,"picture","display_name"],[1,"owner"],["formControlName","primaryOwnerNewRole","name","primaryOwnerNewRole","required","true","ngDefaultControl","",3,"label","placeholder","options"],[1,"page__box-footer","form__actions"],["danger","","icon","code:warning#2",3,"message","okLabel","cancelLabel","gv-confirm:ok"],["danger","",3,"disabled"],["class","groupMembers",4,"ngFor","ngForOf"],[1,"groupMembers"],["link","",3,"click"],[1,"hideTable"],[1,"showTable"],["order","user.display_name",1,"groupMembersTable",3,"items","options"],[1,"info__miscellaneous"],[1,"info__miscellaneous_item"],["noFuture","",3,"datetime"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.YNc(7,jr,2,1,"span",5),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"gv-table",7),t.qZA()(),t.YNc(10,Dr,21,28,"form",8),t.YNc(11,Rr,33,46,"form",9),t.YNc(12,Zr,7,4,"div",10),t.qZA(),t.TgZ(13,"aside",11),t.YNc(14,zr,28,24,"div",10),t._UZ(15,"gv-list",12),t.ALo(16,"translate"),t.qZA()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,10,"application.members.list.title")," "),t.xp6(2),t.Q6J("ngIf",S.members),t.xp6(2),t.Q6J("items",S.members)("options",S.membersOptions),t.xp6(1),t.Q6J("ngIf",!S.readonly&&S.canSearchUser),t.xp6(1),t.Q6J("ngIf",!S.readonly&&S.canSearchUser),t.xp6(1),t.Q6J("ngIf",S.groups&&S.groups.length>0),t.xp6(2),t.Q6J("ngIf",S.application),t.xp6(1),t.s9C("title",t.lcZ(16,12,"application.list.connectedApis")),t.Q6J("items",S.connectedApis))},directives:[kt.O5,V._Y,V.JL,V.sg,K.T,V.JJ,V.u,V.Q7,V.Fj,kt.sg],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:2rem}.grid-transfer[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;grid-gap:2rem}.grid-owner[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr;grid-gap:2rem}.owner[_ngcontent-%COMP%]{display:flex;align-items:center}gv-confirm[_ngcontent-%COMP%]{--gv-confirm--maw: 500px}gv-identity-picture[_ngcontent-%COMP%]{height:60px;width:60px}.groupMembersTable[_ngcontent-%COMP%], .hideTable[_ngcontent-%COMP%], .groupMembers.show[_ngcontent-%COMP%]   .showTable[_ngcontent-%COMP%]{display:none}.groupMembers.show[_ngcontent-%COMP%]   .groupMembersTable[_ngcontent-%COMP%], .groupMembers.show[_ngcontent-%COMP%]   .hideTable[_ngcontent-%COMP%]{display:block}.info__miscellaneous[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.info__miscellaneous_item[_ngcontent-%COMP%]{padding:1px 0;line-height:22px;vertical-align:middle}.info__miscellaneous_item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 5px 1px 0;opacity:.6}"]}),g})();function Hr(g,E){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij("(",e.metadata.length-1,")")}}function Wr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",9)(1,"gv-button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().reset()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"gv-button",11),t.NdJ("click",function(q){return t.CHM(e),t.oxw().updateMetadata(q)}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&g){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.canReset()),t.xp6(1),t.Oqu(t.lcZ(3,4,"application.metadata.reset.title")),t.xp6(2),t.Q6J("disabled",!e.canUpdate()),t.xp6(1),t.Oqu(t.lcZ(6,6,"application.metadata.update.title"))}}let Xr=(()=>{class g{constructor(e,S,q,rt,ft,yt,At,Ot){this.applicationService=e,this.formBuilder=S,this.translateService=q,this.route=rt,this.router=ft,this.notificationService=yt,this.permissionService=At,this.ref=Ot,this.hasCreatePermission=!1,this.hasUpdatePermission=!1,this.resetAddMetadata(),this.metadataToDelete=[]}ngOnInit(){var e=this;return(0,A.Z)(function*(){e.application=e.route.snapshot.data.application,e.application&&(yield e.initPermissions(),e.formats=Object.values(x.wS),e.translateService.get([(0,d.J)("application.metadata.key"),(0,d.J)("application.metadata.name"),(0,d.J)("application.metadata.format"),(0,d.J)("application.metadata.value"),(0,d.J)("application.metadata.list.remove.title"),(0,d.J)("application.metadata.list.add.title")]).toPromise().then(S=>{e.tableTranslations=Object.values(S),e.metadataOptions=e._buildMetadataOptions(),e.loadMetadataTable()}))})()}_buildMetadataOptions(){let e=[];return e=this.canUpdate?[...e,this._renderKey(this.tableTranslations[0]),this._renderName(this.tableTranslations[1]),this._renderFormat(this.tableTranslations[2]),this._renderValue(this.tableTranslations[3]),this._renderAction(this.tableTranslations[4],this.tableTranslations[5])]:[{field:"key",label:this.tableTranslations[0]},{field:"name",label:this.tableTranslations[1]},{field:"format",label:this.tableTranslations[2]},{field:"value",label:this.tableTranslations[3]}],{data:e}}_isAddFormLine(e){return this.hasCreatePermission&&!0===e._new&&null==e.key}_isNewLine(e){return this.hasCreatePermission&&!0===e._new&&null!=e.key}_renderAction(e,S){return{type:"gv-button",width:"140px",attributes:{onClick:(q,rt,ft)=>this._isAddFormLine(q)?this.addMetadata(q,ft):this.removeMetadata(q,ft),innerHTML:q=>this._isAddFormLine(q)?S:e,danger:q=>!this._isAddFormLine(q),outlined:!0,disabled:q=>this._isAddFormLine(q)&&this._disabledNewLine(q),icon:q=>this._isAddFormLine(q)?"code:plus":"home:trash"}}}_renderKey(e){return{field:"key",label:e,style:S=>this._isNewLine(S)?"visibility: hidden;":""}}_renderName(e){return{field:"name",label:e,type:S=>this._isAddFormLine(S)?"gv-input":"div",attributes:{required:!0,innerText:S=>this._isAddFormLine(S)?"":S.name,"ongv-input:input":this._onInput.bind(this)}}}_renderFormat(e){return{field:"format",label:e,type:"gv-select",format:S=>S.toUpperCase(),attributes:{options:this.formats,"ongv-select:select":S=>{if(S.value=null,this._isAddFormLine(S))this.addMetadataForm.get("value").setValidators(this.getValidators(S)),this.addMetadataForm.get("value").setValue(this._getDefaultValue(S)),this.addMetadataForm.get("format").setValue(S.format);else{const q=this._getUpdateForm(S);q.get("value").setValidators(this.getValidators(S)),q.patchValue(S)}this.metadataOptions=this._buildMetadataOptions(),this.ref.detectChanges()}}}}_getUpdateForm(e){return null==e.key?(e.key=`${(new Date).getTime()}`,this.updateMetadataForms[e.key]=this.formBuilder.group({name:new V.NI(e.name,V.kI.required),format:new V.NI(e.format,V.kI.required),value:new V.NI(e.value,V.kI.required),new:new V.NI(!0)})):null==this.updateMetadataForms[e.key]&&(this.updateMetadataForms[e.key]=this.formBuilder.group({name:new V.NI(e.name,V.kI.required),format:new V.NI(e.format,V.kI.required),value:new V.NI(e.value,V.kI.required)})),this.updateMetadataForms[e.key]}_removeUpdateForm(e){null!=e.key&&null!=this.updateMetadataForms[e.key]&&delete this.updateMetadataForms[e.key]}_onInput(e,S,q){this._isAddFormLine(e)?(this.addMetadataForm.patchValue(e),q.parentElement.parentElement.querySelector("gv-button").disabled=this.addMetadataForm.invalid):(this._getUpdateForm(e).patchValue(e),this.ref.detectChanges())}_onChecked(e,S,q){e.value=q.hasAttribute("checked")?"true":"false",this._onInput(e,S,q)}_onDatePicked(e,S,q){e.value=q.value?this.formatDate(q.value):null,this._onInput(e,S,q)}getValidators(e){if("BOOLEAN"===e.format.toUpperCase())return[];const S=[V.kI.required];return"MAIL"===e.format.toUpperCase()?S.push(V.kI.email):"URL"===e.format.toUpperCase()&&S.push(V.kI.pattern("(https?://.w*)(:\\d*)?\\/?(.*)")),S}_getDefaultValue(e){return"BOOLEAN"!==e.format.toUpperCase()&&null}_renderValue(e){return{field:"value",label:e,type:S=>{switch(S.format.toUpperCase()){case"BOOLEAN":return"gv-checkbox";case"DATE":return"gv-date-picker";default:return"gv-input"}},attributes:{value:S=>"DATE"===S.format.toUpperCase()&&null!=S.value?Date.parse(S.value):S.value,required:S=>"BOOLEAN"!==S.format.toUpperCase(),"ongv-input:input":this._onInput.bind(this),"ongv-date-picker:input":this._onDatePicked.bind(this),"ongv-checkbox:input":this._onChecked.bind(this),checked:S=>"BOOLEAN"===S.format.toUpperCase()&&(!0===S.value||"true"===S.value),type:S=>"MAIL"===S.format.toUpperCase()?"email":"NUMERIC"===S.format.toUpperCase()?"number":"URL"===S.format.toUpperCase()?"url":"STRING"===S.format.toUpperCase()?"text":null}}}initPermissions(){var e=this;return(0,A.Z)(function*(){const S=yield e.permissionService.getCurrentUserPermissions({applicationId:e.application.id}).toPromise();if(S){const q=S.METADATA;q&&q.length>0&&(e.hasCreatePermission=q.includes("C"),e.hasUpdatePermission=q.includes("U"))}})()}loadMetadataTable(){return this.applicationService.getMetadataByApplicationId({applicationId:this.application.id,size:-1}).toPromise().then(e=>{this.updateMetadataForms={},this.metadata=this.hasCreatePermission?[{_new:!0,format:"STRING",name:"",value:"",key:null},...e.data]:e.data})}resetAddMetadata(){this.addMetadataForm=this.formBuilder.group({name:new V.NI(null,V.kI.required),format:new V.NI("STRING",V.kI.required),value:new V.NI(null,V.kI.required)})}removeMetadata(e,S){S.setAttribute("loading","true"),this._removeUpdateForm(e),this.metadata=this.metadata.filter(q=>q.key!==e.key),this._isNewLine(e)||this.metadataToDelete.push(e),this.ref.detectChanges(),S.removeAttribute("loading")}addMetadata(e,S){if(this.addMetadataForm.valid){S.setAttribute("loading","true");const q={...e,...this.addMetadataForm.getRawValue()};e.value=null,e.name=null,e.format="STRING",this.metadata=[...this.metadata,q],this._getUpdateForm(q).patchValue(q),this.resetAddMetadata(),this.ref.detectChanges(),S.removeAttribute("loading")}}formatDate(e){return null!=e?new Date(e).toISOString().split("T")[0]:null}updateMetadata(e){if(this.canUpdate()){e.target.loading=!0;const q=Object.keys(this.updateMetadataForms).map(ft=>{const yt=this.updateMetadataForms[ft];return yt.get("new")?(yt.removeControl("new"),this.applicationService.createApplicationMetadata({applicationId:this.application.id,referenceMetadataInput:this.updateMetadataForms[ft].getRawValue()}).toPromise()):this.applicationService.updateApplicationMetadataByApplicationIdAndMetadataId({applicationId:this.application.id,metadataId:ft,referenceMetadataInput:this.updateMetadataForms[ft].getRawValue()}).toPromise()}),rt=this.metadataToDelete.map(ft=>this.applicationService.deleteApplicationMetadata({applicationId:this.application.id,metadataId:ft.key}).toPromise());Promise.all([...q,...rt]).then(()=>(this.metadataToDelete=[],this.loadMetadataTable())).then(()=>{this.notificationService.success((0,d.J)("application.metadata.update.success"))}).finally(()=>{e.target.loading=!1})}}canUpdate(){if(this.metadataToDelete.length>0)return!0;if(this.updateMetadataForms){const e=Object.values(this.updateMetadataForms);return this.hasUpdatePermission&&e.length>0&&null==e.find(S=>S.invalid)}return!1}canReset(){if(this.metadataToDelete.length>0)return!0;if(this.updateMetadataForms){const e=Object.values(this.updateMetadataForms);return this.hasUpdatePermission&&e.length>0}return!1}hasMetadata(){return null!=this.metadata&&this.metadata.length>0}_disabledNewLine(e){return this.addMetadataForm.invalid}reset(){return this.loadMetadataTable()}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(V.qu),t.Y36(mt.sK),t.Y36(u.gz),t.Y36(u.F0),t.Y36(wt.g),t.Y36(x.qQ),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-metadata"]],decls:11,vars:7,consts:[[1,"page__content"],[1,"main"],[1,"page__box","form"],[1,"page__box-title"],[1,"title"],[4,"ngIf"],[1,"page__box-content"],["order","key","nosort","","rowheight","52px",3,"items","options"],["class","page__box-footer form__actions",4,"ngIf"],[1,"page__box-footer","form__actions"],["primary","","outlined","",3,"disabled","click"],["primary","","icon","general:save",3,"disabled","click"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.YNc(7,Hr,2,1,"span",5),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"gv-table",7),t.qZA(),t.YNc(10,Wr,7,8,"div",8),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,5,"application.metadata.list.title")," "),t.xp6(2),t.Q6J("ngIf",S.metadata),t.xp6(2),t.Q6J("items",S.metadata)("options",S.metadataOptions),t.xp6(1),t.Q6J("ngIf",S.hasUpdatePermission&&S.hasMetadata))},directives:[kt.O5],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{justify-content:space-between}"]}),g})();function qr(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-switch",9),t.NdJ("gv-switch:input",function(q){const ft=t.CHM(e).$implicit;return t.oxw(2).onSwitch(ft,q.detail)}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=E.$implicit,S=t.oxw(2);t.Q6J("label",t.lcZ(1,3,"application.notifications."+e.id+".label"))("description",t.lcZ(2,5,"application.notifications."+e.id+".description"))("value",S.hooks.includes(e.id))}}function Vr(g,E){if(1&g&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",7),t.YNc(5,qr,3,7,"gv-switch",8),t.qZA()()),2&g){const e=E.$implicit,S=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"application.notifications."+e+".title")),t.xp6(3),t.Q6J("ngForOf",S.hooksByCategory[e])}}let Jr=(()=>{class g{constructor(e,S,q){this.applicationService=e,this.notificationService=S,this.route=q}ngOnInit(){const e=this.route.snapshot.params.applicationId;e&&this.applicationService.getHooks().toPromise().then(S=>{this.applicationService.getNotificationsByApplicationId({applicationId:e}).toPromise().then(q=>{this.hooks=q,this.hooksByCategory={},S.forEach(rt=>{this.hooksByCategory[rt.category]?this.hooksByCategory[rt.category].push(rt):this.hooksByCategory[rt.category]=[rt]}),this.categories=Object.keys(this.hooksByCategory)})})}onSwitch(e,S){const q=this.route.snapshot.params.applicationId;S?this.hooks.push(e.id):this.hooks.splice(this.hooks.indexOf(e.id),1),this.applicationService.updateApplicationNotifications({applicationId:q,notificationInput:{hooks:this.hooks}}).toPromise().then(rt=>{this.notificationService.success((0,d.J)("application.notifications.saveSuccess"))})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(wt.g),t.Y36(u.gz))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-notifications"]],decls:11,vars:7,consts:[[1,"page__content"],[1,"page__box"],[1,"page__box-title"],[1,"title"],[1,"notifications__header"],[1,"page__box-content"],[4,"ngFor","ngForOf"],[1,"notifications"],[3,"label","description","value","gv-switch:input",4,"ngFor","ngForOf"],[3,"label","description","value","gv-switch:input"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",5),t.YNc(10,Vr,6,4,"div",6),t.qZA()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,3,"application.notifications.title")),t.xp6(3),t.Oqu(t.lcZ(8,5,"application.notifications.header")),t.xp6(3),t.Q6J("ngForOf",S.categories))},directives:[kt.sg],pipes:[mt.X$],styles:[".page__box-title[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.notifications[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:2rem;margin:2rem 0 2rem 2rem}"]}),g})();var Qr=Mt(8809);function Kr(g,E){1&g&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&g&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"application.shared-key.no-key.message")," "))}function $r(g,E){1&g&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"application.shared-key.no-key.create")," "))}function ts(g,E){1&g&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"application.shared-key.no-key.recommendation")," "))}function es(g,E){if(1&g&&(t.TgZ(0,"div",19),t.YNc(1,$r,3,3,"div",24),t.YNc(2,ts,3,3,"div",24),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.canRenewSharedApiKey()),t.xp6(1),t.Q6J("ngIf",!e.canRenewSharedApiKey())}}function is(g,E){if(1&g&&(t.TgZ(0,"div",20)(1,"h5",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"gv-relative-time",26),t.qZA()),2&g){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"application.shared-key.info.end_at")),t.xp6(2),t.Q6J("datetime",e.sharedAPIKey.expire_at)}}function ns(g,E){if(1&g&&(t.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"h4",5),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"gv-input",25),t.qZA()(),t.TgZ(7,"div",19)(8,"div",20)(9,"h5",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._uU(12),t.ALo(13,"localizedDate"),t.qZA(),t.YNc(14,is,5,4,"div",24),t.qZA()()),2&g){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,5,"application.shared-key.info.title")),t.xp6(2),t.Q6J("value",e.sharedAPIKey.key),t.xp6(4),t.Oqu(t.lcZ(11,7,"application.shared-key.info.created_at")),t.xp6(2),t.hij(" ",t.Dn7(13,9,e.sharedAPIKey.created_at,"shortDate","--")," "),t.xp6(2),t.Q6J("ngIf",e.sharedAPIKey.expire_at)}}function os(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",30),t.NdJ("gv-confirm:ok",function(){return t.CHM(e),t.oxw(3).renewSharedApiKey()}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"gv-button",31),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&g&&(t.Q6J("message",t.lcZ(1,4,"application.shared-key.renew.message"))("cancelLabel",t.lcZ(2,6,"common.cancel"))("okLabel",t.lcZ(3,8,"common.ok")),t.xp6(5),t.Oqu(t.lcZ(6,10,"application.shared-key.renew.title")))}function rs(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",32),t.NdJ("gv-confirm:ok",function(){return t.CHM(e),t.oxw(3).revokeSharedApiKey()}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"gv-button",33),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&g&&(t.Q6J("message",t.lcZ(1,4,"application.shared-key.revoke.message"))("cancelLabel",t.lcZ(2,6,"common.cancel"))("okLabel",t.lcZ(3,8,"common.ok")),t.xp6(5),t.hij(" ",t.lcZ(6,10,"application.shared-key.revoke.title"),""))}function ss(g,E){if(1&g&&(t.TgZ(0,"div",27),t.YNc(1,os,7,12,"gv-confirm",28),t.YNc(2,rs,7,12,"gv-confirm",29),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.canRenewSharedApiKey()),t.xp6(1),t.Q6J("ngIf",e.canRevokeSharedApiKey()&&e.sharedAPIKey)}}function as(g,E){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",17)(6,"div",18)(7,"div",19)(8,"div",20),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.YNc(11,Kr,4,3,"div",21),t.YNc(12,es,3,2,"div",21),t.qZA(),t.YNc(13,ns,15,13,"div",22),t.YNc(14,ss,3,2,"div",23),t.qZA()()),2&g){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,6,"application.shared-key.title")," "),t.xp6(6),t.hij(" ",t.lcZ(10,8,"application.shared-key.message")," "),t.xp6(2),t.Q6J("ngIf",!e.sharedAPIKey),t.xp6(1),t.Q6J("ngIf",!e.sharedAPIKey),t.xp6(1),t.Q6J("ngIf",e.sharedAPIKey),t.xp6(1),t.Q6J("ngIf",e.canRenewSharedApiKey()||e.canRevokeSharedApiKey&&e.sharedAPIKey)}}function ls(g,E){if(1&g&&(t.TgZ(0,"div",34)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"gv-relative-time",26),t.qZA()),2&g){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"application.subscriptions.end_at")),t.xp6(2),t.Q6J("datetime",e.selectedSubscription.end_at)}}function hs(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",38),t.NdJ("gv-confirm:ok",function(){t.CHM(e);const q=t.oxw(2);return q.closeSubscription(q.selectedSubscription.id)}),t.ALo(1,"translate"),t.TgZ(2,"gv-button",39),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&g&&(t.Q6J("message",t.lcZ(1,2,"application.subscriptions.close.message")),t.xp6(3),t.Oqu(t.lcZ(4,4,"application.subscriptions.close.title")))}function ps(g,E){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h4",5),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",7)(6,"div",34)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._uU(10),t.ALo(11,"localizedDate"),t.qZA(),t.TgZ(12,"div",34)(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16),t.ALo(17,"localizedDate"),t.qZA(),t.YNc(18,ls,5,4,"div",35),t.qZA(),t.TgZ(19,"div",36),t.YNc(20,hs,5,6,"gv-confirm",37),t.qZA()()),2&g){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"application.subscriptions.selected.title")),t.xp6(5),t.Oqu(t.lcZ(9,9,"application.subscriptions.processed_at")),t.xp6(2),t.hij(" ",t.Dn7(11,11,e.selectedSubscription.processed_at,"shortDate","--")," "),t.xp6(4),t.Oqu(t.lcZ(15,15,"application.subscriptions.start_at")),t.xp6(2),t.hij(" ",t.Dn7(17,17,e.selectedSubscription.start_at,"shortDate","--")," "),t.xp6(2),t.Q6J("ngIf",e.selectedSubscription.end_at),t.xp6(2),t.Q6J("ngIf",e.canCloseSubscription(e.selectedSubscription))}}function cs(g,E){if(1&g&&(t.TgZ(0,"div",34)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"gv-relative-time",26),t.qZA()),2&g){const e=t.oxw().$implicit,S=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"application.subscriptions.apiKey.end_at")),t.xp6(2),t.Q6J("datetime",S.endAt(e))}}function ds(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",46),t.NdJ("gv-confirm:ok",function(){t.CHM(e);const q=t.oxw(3);return q.renewApiKey(q.selectedSubscription.id)}),t.ALo(1,"translate"),t.TgZ(2,"gv-button",47),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&g&&(t.Q6J("message",t.lcZ(1,2,"application.subscriptions.renew.message")),t.xp6(3),t.Oqu(t.lcZ(4,4,"application.subscriptions.renew.title")))}function us(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-confirm",32),t.NdJ("gv-confirm:ok",function(){t.CHM(e);const q=t.oxw().$implicit,rt=t.oxw(2);return rt.revokeApiKey(rt.selectedSubscription.id,q.key)}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"gv-button",48),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&g&&(t.Q6J("message",t.lcZ(1,4,"application.subscriptions.apiKey.revoke.message"))("cancelLabel",t.lcZ(2,6,"common.cancel"))("okLabel",t.lcZ(3,8,"common.ok")),t.xp6(5),t.hij(" ",t.lcZ(6,10,"application.subscriptions.apiKey.revoke.label")," "))}function fs(g,E){if(1&g&&(t.TgZ(0,"div",7),t._UZ(1,"gv-input",25),t.TgZ(2,"div",34)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._uU(6),t.ALo(7,"localizedDate"),t.qZA(),t.YNc(8,cs,5,4,"div",35),t.TgZ(9,"div",44),t.YNc(10,ds,5,6,"gv-confirm",45),t.YNc(11,us,7,12,"gv-confirm",29),t.qZA()()),2&g){const e=E.$implicit,S=t.oxw(2);t.xp6(1),t.Q6J("value",e.key),t.xp6(3),t.Oqu(t.lcZ(5,6,"application.subscriptions.apiKey.created_at")),t.xp6(2),t.hij(" ",t.lcZ(7,8,e.created_at)," "),t.xp6(2),t.Q6J("ngIf",S.endAt(e)),t.xp6(2),t.Q6J("ngIf",S.canRenewApiKey(S.selectedSubscription)&&!S.endAt(e)),t.xp6(1),t.Q6J("ngIf",S.canRevokeApiKey(S.selectedSubscription))}}function gs(g,E){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.subscriptions.apiKey.expired.hide")))}function ms(g,E){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"application.subscriptions.apiKey.expired.show")))}function vs(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-button",6),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw(2).toggleDisplayExpired()}),t.YNc(1,gs,3,3,"span",49),t.YNc(2,ms,3,3,"span",49),t.qZA()}if(2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.displayExpiredApiKeys),t.xp6(1),t.Q6J("ngIf",!e.displayExpiredApiKeys)}}function ys(g,E){if(1&g&&(t.TgZ(0,"div",52),t._UZ(1,"gv-input",53),t.TgZ(2,"div",34)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._uU(6),t.ALo(7,"localizedDate"),t.qZA(),t.TgZ(8,"div",34)(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._uU(12),t.ALo(13,"localizedDate"),t.qZA()()),2&g){const e=E.$implicit,S=t.oxw(3);t.xp6(1),t.Q6J("value",e.key),t.xp6(3),t.Oqu(t.lcZ(5,5,"application.subscriptions.apiKey.created_at")),t.xp6(2),t.hij("",t.lcZ(7,7,e.created_at)," "),t.xp6(4),t.Oqu(t.lcZ(11,9,"application.subscriptions.apiKey.ended_at")),t.xp6(2),t.hij("",t.xi3(13,11,S.endAt(e),"longDate")," ")}}function xs(g,E){if(1&g&&(t.TgZ(0,"div",50),t.YNc(1,ys,14,14,"div",51),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.getExpiredApiKeys(e.selectedSubscription))}}function _s(g,E){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h4",5),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,fs,12,10,"div",40),t.TgZ(6,"div",41),t.YNc(7,vs,3,2,"gv-button",42),t.qZA(),t.YNc(8,xs,2,1,"div",43),t.qZA()),2&g){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"application.subscriptions.apiKey.title")),t.xp6(2),t.Q6J("ngForOf",e.getValidApiKeys(e.selectedSubscription)),t.xp6(2),t.Q6J("ngIf",e.getExpiredApiKeys(e.selectedSubscription)),t.xp6(1),t.Q6J("ngIf",e.displayExpiredApiKeys)}}const qt=x.w0.StatusEnum,bs=x.fU.SecurityEnum;let Cs=(()=>{class g{constructor(e,S,q,rt,ft,yt,At,Ot,St,Et,Ft){this.route=e,this.router=S,this.applicationService=q,this.subscriptionService=rt,this.notificationService=ft,this.translateService=yt,this.apiService=At,this.formBuilder=Ot,this.permissionsService=St,this.ref=Et,this.ngZone=Ft,this.form=this.formBuilder.group({api:"",status:[],apiKey:""})}ngOnInit(){this.application=this.route.snapshot.data.application;const e=this.route.snapshot.data.permissions;if(this.application){this.canDelete=e?.SUBSCRIPTION?.includes("D"),this.canUpdate=e?.SUBSCRIPTION?.includes("U"),this.format=q=>this.translateService.get(q).toPromise(),this.apisOptions=[],this.options={selectable:!0,data:[{field:"api",type:"image",alt:q=>this.metadata[q.api]&&(0,Ze.Qu)(this.metadata[q.api]),format:q=>this.metadata[q]&&this.metadata[q].pictureUrl},{field:"api",label:(0,d.J)("application.subscriptions.api"),tag:q=>this.metadata[q.api]&&this.metadata[q.api].version,format:q=>this.metadata[q]&&this.metadata[q].name},{field:"plan",label:(0,d.J)("application.subscriptions.plan"),format:q=>this.metadata[q]&&this.metadata[q].name},{field:"plan",label:(0,d.J)("application.subscriptions.security_type"),type:()=>"div",attributes:{innerHTML:q=>{const rt=this.metadata[q.plan]?.securityType.toLocaleLowerCase().replace("_"," ");return this.isAPIKeySubscription(q.plan)&&this.applicationHasSharedKey()?`${rt} <gv-state> ${this.application.api_key_mode} </gv-state>`:rt}}},{field:"created_at",type:"date",label:(0,d.J)("application.subscriptions.created_at"),width:"160px"},{field:"subscribed_by",label:(0,d.J)("application.subscriptions.subscribed_by"),format:q=>this.metadata[q]&&this.metadata[q].name,width:"190px"},{field:"status",label:(0,d.J)("application.subscriptions.status"),width:"80px",format:q=>{const rt="common.status."+q.toUpperCase();return this.translateService.get(rt).toPromise()},style:q=>{switch(q.status.toUpperCase()){case qt.ACCEPTED:return"color: #009B5B";case qt.PAUSED:case qt.PENDING:return"color: #FA8C16";case qt.REJECTED:return"color: #F5222D"}}},{type:"gv-button",width:"25px",condition:q=>this.metadata[q.api]&&"published"===this.metadata[q.api].state,attributes:{link:!0,href:q=>`/catalog/api/${q.api}`,title:(0,d.J)("application.subscriptions.navigateToApi"),icon:"communication:share",onClick:q=>this.goToApi(q.api)}}]},this.applicationService.getSubscriberApisByApplicationId({applicationId:this.application.id,size:-1}).toPromise().then(q=>{this.apisOptions=[],q.data.forEach(rt=>{this.apisOptions.push({label:rt.name+" ("+rt.version+")",value:rt.id})})});const S=Object.keys(qt).map(q=>"common.status."+q);this.translateService.get(S).toPromise().then(q=>{this.statusOptions=Object.keys(qt).map((rt,ft)=>({label:Object.values(q)[ft],value:rt})),this.form.patchValue({status:[qt.ACCEPTED,qt.PAUSED,qt.PENDING]})}).then(()=>this.search(!0))}}computeSharedApiKey(){if(this.applicationHasSharedKey()){this.sharedAPIKeyLoaded=!1,delete this.sharedAPIKey;const e=this.subscriptions?.find(S=>this.isAPIKeySubscription(S.plan)&&[qt.ACCEPTED,qt.PAUSED,qt.CLOSED].includes(S.status));e&&this.loadSubscriptionKeys(e.id).then(S=>{this.sharedAPIKey=S.find(q=>!this.endAt(q)),this.sharedAPIKey||(this.sharedAPIKey=S.find(q=>this.isApiKeyValid(q)))}).finally(()=>this.sharedAPIKeyLoaded=!0)}}canRenewApiKey(e){return e&&this.canUpdate&&[`${qt.ACCEPTED}`,`${qt.PAUSED}`].includes(e.status.toUpperCase())&&this.isAPIKeySubscription(e.plan)&&!this.applicationHasSharedKey()}canRevokeApiKey(e){return e&&this.canUpdate&&[`${qt.ACCEPTED}`,`${qt.PAUSED}`].includes(e.status.toUpperCase())&&this.isAPIKeySubscription(e.plan)&&!this.applicationHasSharedKey()}canRenewSharedApiKey(){return this.canUpdate&&this.applicationHasSharedKey()}canRevokeSharedApiKey(){return this.canUpdate&&this.applicationHasSharedKey()}canCloseSubscription(e){return e&&this.canDelete&&[`${qt.ACCEPTED}`,`${qt.PAUSED}`,`${qt.PENDING}`].includes(e.status.toUpperCase())}goToApi(e){this.ngZone.run(()=>this.router.navigate(["/catalog/api/",e]))}search(e){const q={applicationId:this.route.snapshot.params.applicationId};return this.form.value.api&&(q.apiId=this.form.value.api),this.form.value.status&&(q.statuses=this.form.value.status),this.isSearching=!0,this.subscriptionService.getSubscriptions(q).toPromise().then(rt=>{if(this.subscriptions=rt.data,this.metadata=rt.metadata,e&&this.route.snapshot.queryParams.subscription){const ft=this.subscriptions.find(yt=>yt.id===this.route.snapshot.queryParams.subscription);this.selectedSubscriptions=[ft.id],this.onSelectSubscription(ft)}else this.selectedSubscriptions=[],this.onSelectSubscription(null)}).then(()=>this.computeSharedApiKey()).finally(()=>this.isSearching=!1)}reset(){this.form.reset({status:[qt.ACCEPTED,qt.PAUSED,qt.PENDING]})}closeSubscription(e){this.subscriptionService.closeSubscription({subscriptionId:e}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.subscriptions.success.close")),this.search(!1)})}renewApiKey(e){this.subscriptionService.renewKeySubscription({subscriptionId:e}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.subscriptions.success.renew")),this.search(!0)})}revokeApiKey(e,S){this.subscriptionService.revokeKeySubscription({subscriptionId:e,apiKey:S}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.subscriptions.apiKey.success.revoke")),this.search(!0)})}renewSharedApiKey(){this.applicationService.renewSharedKey({applicationId:this.application.id}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.shared-key.renew.success")),this.search(!0)})}revokeSharedApiKey(){this.applicationService.revokeSharedKey({applicationId:this.application.id,apiKey:this.sharedAPIKey.id}).toPromise().then(()=>{this.notificationService.success((0,d.J)("application.shared-key.revoke.success")),this.search(!0)})}onSelectSubscription(e){this.router.navigate([],{queryParams:{subscription:e?e.id:null},fragment:"s"}),e?(this.selectedSubscription=e,(!this.selectedSubscription.keys||!this.selectedSubscription.keys[0])&&this.loadSubscriptionKeys(e.id)):delete this.selectedSubscription}loadSubscriptionKeys(e){return this.subscriptionService.getSubscriptionById({subscriptionId:e,include:["keys"]}).toPromise().then(S=>(this.subscriptions.find(q=>q.id===e).keys=S.keys,this.ref.detectChanges(),S.keys))}getValidApiKeys(e){if(e&&e.keys){const S=e.keys.filter(q=>this.isApiKeyValid(q));if(S&&S.length>0)return S}}getExpiredApiKeys(e){if(e&&e.keys){const S=e.keys.filter(q=>!this.isApiKeyValid(q));if(S&&S.length>0)return S}}endAt(e){return e.revoked_at||e.expire_at}apiKeyEnded(e){const S=this.endAt(e);return S&&new Date(S)<new Date}isApiKeyValid(e){return!this.endAt(e)||!this.apiKeyEnded(e)}toggleDisplayExpired(){this.displayExpiredApiKeys=!this.displayExpiredApiKeys,this.ref.detectChanges()}isAPIKeySubscription(e){return this.metadata[e].securityType===bs.APIKEY}applicationHasSharedKey(){return this.application?.api_key_mode===x.eg.SHARED}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(x.IX),t.Y36(x.FF),t.Y36(wt.g),t.Y36(mt.sK),t.Y36(x.sM),t.Y36(V.qu),t.Y36(x.qQ),t.Y36(t.sBO),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-subscriptions"]],decls:29,vars:32,consts:[[1,"page__content","page__content-with-aside","application-subscriptions"],[1,"main"],["class","page__box",4,"ngIf"],[1,"page__box"],[1,"page__box-title"],[1,"title"],["link","",3,"gv-button:click"],[1,"page__box-content"],[1,"form",3,"formGroup","ngSubmit"],[1,"grid","form__control"],["formControlName","api","name","api","ngDefaultControl","",3,"label","placeholder","options"],["multiple","","formControlName","status","name","status","ngDefaultControl","",3,"label","placeholder","options"],[1,"form__actions"],["type","submit","primary","","icon","general:search",1,"application-subscriptions__search__button",3,"loading"],[1,"page__box-footer","page__box-footer_subscriptions"],["order","api",3,"items","options","format","selected","gv-table:select"],[1,"aside","form"],[1,"page__box-content","page__box-content_shared-key"],[1,"application-subscriptions__shared-key-info"],[1,"application-subscriptions__shared-key-info__row"],[1,"application-subscriptions__shared-key-info__row__cell"],["class","application-subscriptions__shared-key-info__row",4,"ngIf"],["class","application-subscriptions__shared-key-info",4,"ngIf"],["class","application-subscriptions__shared-key-actions",4,"ngIf"],["class","application-subscriptions__shared-key-info__row__cell",4,"ngIf"],["readonly","","clipboard","",3,"value"],[3,"datetime"],[1,"application-subscriptions__shared-key-actions"],[3,"message","cancelLabel","okLabel","gv-confirm:ok",4,"ngIf"],["danger","",3,"message","cancelLabel","okLabel","gv-confirm:ok",4,"ngIf"],[3,"message","cancelLabel","okLabel","gv-confirm:ok"],["primary","",1,"application-subscriptions__shared-key-actions__button"],["danger","",3,"message","cancelLabel","okLabel","gv-confirm:ok"],["outlined","",1,"application-subscriptions__shared-key-actions__button"],[1,"page__box-row"],["class","page__box-row",4,"ngIf"],[1,"page__box-footer","form__actions"],["danger","",3,"message","gv-confirm:ok",4,"ngIf"],["danger","",3,"message","gv-confirm:ok"],["link",""],["class","page__box-content",4,"ngFor","ngForOf"],["id","expired-keys",1,"page__box-footer"],["link","",3,"gv-button:click",4,"ngIf"],["class","expired-keys",4,"ngIf"],[1,"confirm__right"],[3,"message","gv-confirm:ok",4,"ngIf"],[3,"message","gv-confirm:ok"],["primary",""],["outlined",""],[4,"ngIf"],[1,"expired-keys"],["class","page__box-footer",4,"ngFor","ngForOf"],[1,"page__box-footer"],["disabled","",3,"value"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,as,15,10,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"gv-button",6),t.NdJ("gv-button:click",function(){return S.reset()}),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"div",7)(12,"form",8),t.NdJ("ngSubmit",function(){return S.search()}),t.TgZ(13,"div",9),t._UZ(14,"gv-select",10),t.ALo(15,"translate"),t.ALo(16,"translate"),t._UZ(17,"gv-select",11),t.ALo(18,"translate"),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",12)(21,"gv-button",13),t._uU(22),t.ALo(23,"translate"),t.qZA()()()(),t.TgZ(24,"div",14)(25,"gv-table",15),t.NdJ("gv-table:select",function(rt){return S.onSelectSubscription(rt.detail.items[0])}),t.qZA()()()(),t.TgZ(26,"aside",16),t.YNc(27,ps,21,21,"div",2),t.YNc(28,_s,9,6,"div",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",S.applicationHasSharedKey()&&S.sharedAPIKeyLoaded),t.xp6(4),t.Oqu(t.lcZ(7,18,"application.subscriptions.title")),t.xp6(3),t.hij(" ",t.lcZ(10,20,"common.reset")," "),t.xp6(3),t.Q6J("formGroup",S.form),t.xp6(2),t.s9C("label",t.lcZ(15,22,"application.subscriptions.filters.api.title")),t.s9C("placeholder",t.lcZ(16,24,"application.subscriptions.filters.api.label")),t.Q6J("options",S.apisOptions),t.xp6(3),t.s9C("label",t.lcZ(18,26,"application.subscriptions.filters.status.title")),t.s9C("placeholder",t.lcZ(19,28,"application.subscriptions.filters.status.label")),t.Q6J("options",S.statusOptions),t.xp6(4),t.Q6J("loading",S.isSearching),t.xp6(1),t.hij(" ",t.lcZ(23,30,"common.search")," "),t.xp6(3),t.Q6J("items",S.subscriptions)("options",S.options)("format",S.format)("selected",S.selectedSubscriptions),t.xp6(2),t.Q6J("ngIf",S.canCloseSubscription(S.selectedSubscription)),t.xp6(1),t.Q6J("ngIf",S.getValidApiKeys(S.selectedSubscription)||S.getExpiredApiKeys(S.selectedSubscription)))},directives:[kt.O5,V._Y,V.JL,V.sg,K.T,V.JJ,V.u,V.Fj,kt.sg],pipes:[mt.X$,Qr.g],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:2rem}.aside[_ngcontent-%COMP%]   .page__box-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .aside[_ngcontent-%COMP%]   .page__box-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gv-theme-neutral-color-dark);filter:contrast(0);margin:.2rem;box-sizing:border-box;line-height:20px;height:20px}.aside[_ngcontent-%COMP%]   .page__box-content[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%]{width:100%}.aside[_ngcontent-%COMP%]   .expired-keys[_ngcontent-%COMP%]{max-height:40vh;overflow:auto}gv-confirm[_ngcontent-%COMP%]{--gv-confirm--maw: 500px}.confirm__right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.page__box-footer_subscriptions[_ngcontent-%COMP%], .expired-keys[_ngcontent-%COMP%]   .page__box-footer[_ngcontent-%COMP%]{padding:.5rem}.page__box-row[_ngcontent-%COMP%]{margin:.2rem;box-sizing:border-box}.page__box-content_shared-key[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.application-subscriptions__shared-key-message[_ngcontent-%COMP%], .application-subscriptions__shared-key-info[_ngcontent-%COMP%], .application-subscriptions__shared-key-actions[_ngcontent-%COMP%]{padding:0 5px}.application-subscriptions__shared-key-message[_ngcontent-%COMP%]{flex:1}.application-subscriptions__shared-key-info[_ngcontent-%COMP%]{flex:2}.application-subscriptions__shared-key-info__title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:10px;font-size:var(--gv-theme-font-size-xs, 10px);font-style:normal;font-weight:700;line-height:14px;letter-spacing:.25px}.application-subscriptions__shared-key-info__row[_ngcontent-%COMP%]{display:flex;margin:5px}.application-subscriptions__shared-key-info__row__cell[_ngcontent-%COMP%]{flex:1}.application-subscriptions__shared-key-actions[_ngcontent-%COMP%], .application-subscriptions__shared-key-info__row__cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}.application-subscriptions__shared-key-actions__button[_ngcontent-%COMP%], .application-subscriptions__search__button[_ngcontent-%COMP%]{min-width:160px}"]}),g})();var Ms=Mt(826),ws=Mt(69054);function xe(g){return E=>E.lift(new Ss(g))}class Ss{constructor(E){this.notifier=E}call(E,e){const S=new As(E),q=(0,ws.D)(S,this.notifier);return q&&!S.seenValue?(S.add(q),e.subscribe(S)):S}}class As extends Ms.L{constructor(E){super(E),this.seenValue=!1}notifyNext(E,e,S,q,rt){this.seenValue=!0,this.complete()}notifyComplete(){}}var ki=Mt(87545),ti=Mt(8929),Ps=Mt(49860);function Os(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-table",9),t.NdJ("gv-table:select",function(q){return t.CHM(e),t.oxw().onSubscriptionClick(q)}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}if(2&g){const e=t.oxw();t.s9C("title",t.lcZ(1,8,"subscriptions.subscriptions.title")),t.Q6J("format",e.format)("emptymessage",t.lcZ(2,10,e.emptyKeySubscriptions))("selected",e.selectedSubscriptions)("items",e.subs)("options",e.optionsSubscriptions)("rowsheight",e.rowsHeight)("skeleton",e.skeleton)}}const Ts=function(){return{mode:"shell",lineNumbers:!0,lineWrapping:!0}};function ks(g,E){if(1&g&&(t.TgZ(0,"section",10)(1,"div",11),t._UZ(2,"gv-code",12),t.qZA()()),2&g){const e=t.oxw();t.xp6(2),t.Q6J("options",t.DdM(2,Ts))("value",e.curlExample)}}const Ls=x.w0.StatusEnum;let Es=(()=>{class g{constructor(e,S,q,rt,ft,yt,At,Ot,St,Et){this.applicationService=e,this.subscriptionService=S,this.apiService=q,this.translateService=rt,this.router=ft,this.configurationService=yt,this.ngZone=At,this.ref=Ot,this.activatedRoute=St,this.config=Et,this.subscriptionsMetadata=new Map,this.apis=new Map,this.skeleton=!0,this.fragments={pagination:"pagination"},this.unsubscribe$=new ti.xQ}ngOnInit(){this.applications=[],this.subsByApplication={},this.subs=[],this.emptyKeyApplications=(0,d.J)("subscriptions.applications.init"),this.emptyKeySubscriptions=(0,d.J)("subscriptions.subscriptions.init"),this.apikeyHeader=this.configurationService.get("portal.apikeyHeader"),this.options={selectable:!0,data:[{field:"_links.picture",type:"image",alt:e=>(0,Ze.Qu)(e)},{field:"name",type:"gv-icon",width:"30px",attributes:{shape:e=>(0,_t.Od)(e.applicationType),title:e=>e.applicationType}},{field:"name",label:(0,d.J)("subscriptions.applications.name")},{field:"owner.display_name",label:(0,d.J)("subscriptions.applications.owner")},{type:"gv-button",width:"30px",attributes:{link:!0,href:e=>`/applications/${e.id}`,title:(0,d.J)("subscriptions.applications.navigate"),icon:"communication:share",onClick:e=>this.goToApplication(e.id)}}]},this.paginationPageSizes=this.config.get("pagination.size.values",[5,10,25,50,100]),this.paginationSize=this.config.get("pagination.size.default",10),this.optionsSubscriptions={selectable:!0,data:[{field:e=>this.subscriptionsMetadata[e.subscription.api].pictureUrl,type:"image",alt:e=>this.subscriptionsMetadata[e.subscription.api]&&(0,Ze.Qu)(this.subscriptionsMetadata[e.subscription.api])},{field:e=>this.subscriptionsMetadata[e.subscription.api].name,tag:e=>this.subscriptionsMetadata[e.subscription.api]&&this.subscriptionsMetadata[e.subscription.api].version,label:(0,d.J)("subscriptions.subscriptions.api")},{field:"plan.name",label:(0,d.J)("subscriptions.subscriptions.plan")},{field:"subscription.start_at",type:"date",label:(0,d.J)("subscriptions.subscriptions.start_date")},{field:"subscription.end_at",type:"date",label:(0,d.J)("subscriptions.subscriptions.end_date")},{type:"gv-button",width:"25px",attributes:{link:!0,href:e=>`/applications/${this.selectedApplicationId}/subscriptions?subscription=${e.subscription.id}`,title:(0,d.J)("subscriptions.subscriptions.navigate"),icon:"communication:share",onClick:e=>this.goToSubscription(e.subscription.id)}}]},this.format=e=>this.translateService.get(e).toPromise(),this.activatedRoute.queryParamMap.pipe(xe(this.unsubscribe$),(0,ki.w)(e=>this.applicationService.getApplications({size:Number(e.get("size")??this.paginationSize),page:Number(e.get("page")??1)}))).subscribe(e=>{this.applications=e.data,this.skeleton=!1;const S=e.metadata.pagination;S?(this.paginationData={size:this.paginationSize,sizes:this.paginationPageSizes,...this.paginationData,...S},this.nbApplications=this.paginationData.total):(this.paginationData=null,this.nbApplications=0),this.empty=0===this.applications.length})}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.unsubscribe()}displayCurlExample(e){var S=this;return(0,A.Z)(function*(){let q;if(delete S.curlExample,S.ref.detectChanges(),e.subscription.keys&&e.subscription.keys[0])q=e.subscription.keys;else{const yt=yield S.subscriptionService.getSubscriptionById({subscriptionId:e.subscription.id,include:["keys"]}).toPromise();q=yt.keys,e.subscription.keys=yt.keys}const rt=S.subscriptionsMetadata[e.subscription.api].entrypoints,ft=rt&&rt[0]&&rt[0].target;ft&&q[0]&&(S.curlExample=(0,Ps.B)(ft,{name:S.apikeyHeader,value:q[0].key}))})()}goToApplication(e){this.ngZone.run(()=>this.router.navigate(["/applications",e]))}goToSubscription(e){this.ngZone.run(()=>this.router.navigate(["/applications",this.selectedApplicationId,"subscriptions"],{queryParams:{subscription:e}}))}onApplicationMouseEnter({detail:e}){this.selectSubscriptions(e.item)}onApplicationClick({detail:e}){this.selectSubscriptions(e.items[0])}onSubscriptionClick({detail:e}){e.items[0]?this.displayCurlExample(e.items[0]):this.curlExample=null}onFocusOut(){this.emptyKeySubscriptions=(0,d.J)("subscriptions.subscriptions.init"),this.subs=[]}get rowsHeight(){return this.curlExample?"25vh":"45vh"}selectSubscriptions(e){var S=this;return(0,A.Z)(function*(){if(S.selectedApplicationId=e?.id,S.curlExample=null,S.selectedSubscriptions=[],S.selectedApplicationId){if(null==S.subsByApplication[S.selectedApplicationId]){const q={applicationId:S.selectedApplicationId,statuses:[Ls.ACCEPTED]},{data:rt,metadata:ft}=yield S.subscriptionService.getSubscriptions(q).toPromise();S.subscriptionsMetadata={...S.subscriptionsMetadata,...ft};const yt=yield Promise.all(rt.map(function(){var At=(0,A.Z)(function*(Ot){return{subscription:Ot,api:S.subscriptionsMetadata[Ot.api],plan:S.subscriptionsMetadata[Ot.plan]}});return function(Ot){return At.apply(this,arguments)}}()));S.subsByApplication[S.selectedApplicationId]=yt}S.subs=S.subsByApplication[S.selectedApplicationId]}else S.subs=[];(!S.subs||!S.subs.length)&&(S.emptyKeySubscriptions=(0,d.J)("subscriptions.subscriptions.empty"))})()}onPaginate({page:e,size:S}){this.router.navigate([],{queryParams:{page:e,size:S},fragment:this.fragments.pagination})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(x.FF),t.Y36(x.sM),t.Y36(mt.sK),t.Y36(u.F0),t.Y36(Pt.e),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(u.gz),t.Y36(Pt.e))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-subscriptions"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-pagination:paginate",function(rt){return S.onPaginate(rt.detail)})},decls:16,vars:19,consts:[[1,"page__content"],[1,"title"],[1,"table-container"],["order","name","nosort","",3,"title","total","format","emptymessage","items","options","rowsheight","skeleton","gv-table:select","gv-table:mouseenter","gv-table:mouseleave"],[1,"page__content__pagination",3,"id"],["widget","","has-select","",3,"data"],[1,"table-between"],["order","api.name","nosort","",3,"title","format","emptymessage","selected","items","options","rowsheight","skeleton","gv-table:select",4,"ngIf"],["class","page__box",4,"ngIf"],["order","api.name","nosort","",3,"title","format","emptymessage","selected","items","options","rowsheight","skeleton","gv-table:select"],[1,"page__box"],[1,"page__box-content"],["readonly","","clipboard","",3,"options","value"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"section")(5,"div",2)(6,"div")(7,"gv-table",3),t.NdJ("gv-table:select",function(rt){return S.onApplicationClick(rt)})("gv-table:mouseenter",function(rt){return S.onApplicationMouseEnter(rt)})("gv-table:mouseleave",function(){return S.onFocusOut()}),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",4),t._UZ(11,"gv-pagination",5),t.qZA()(),t._UZ(12,"div",6),t.TgZ(13,"div",2),t.YNc(14,Os,3,12,"gv-table",7),t.qZA()(),t.YNc(15,ks,3,3,"section",8),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,13,"subscriptions.title")),t.xp6(5),t.s9C("title",t.lcZ(8,15,"subscriptions.applications.title")),t.Q6J("total",S.nbApplications)("format",S.format)("emptymessage",t.lcZ(9,17,S.emptyKeyApplications))("items",S.applications)("options",S.options)("rowsheight",S.rowsHeight)("skeleton",S.skeleton),t.xp6(3),t.Q6J("id",S.fragments.pagination),t.xp6(1),t.Q6J("data",S.paginationData),t.xp6(3),t.Q6J("ngIf",S.applications&&S.applications.length),t.xp6(1),t.Q6J("ngIf",S.curlExample))},directives:[kt.O5],pipes:[mt.X$],styles:["section[_ngcontent-%COMP%]{display:flex}.table-container[_ngcontent-%COMP%]{background-color:#fff;width:100%}.table-between[_ngcontent-%COMP%]{width:10%}.curl-example[_ngcontent-%COMP%]{flex:1 1 auto}.page__content__pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:1rem .5rem}"]}),g})();var Is=Mt(3009);let js=(()=>{class g{}return g.httpStatus=[{value:"100",label:"100 - CONTINUE"},{value:"101",label:"101 - SWITCHING PROTOCOLS"},{value:"102",label:"102 - PROCESSING"},{value:"200",label:"200 - OK"},{value:"201",label:"201 - CREATED"},{value:"202",label:"202 - ACCEPTED"},{value:"203",label:"203 - NON AUTHORITATIVE INFORMATION"},{value:"204",label:"204 - NO CONTENT"},{value:"205",label:"205 - RESET CONTENT"},{value:"206",label:"206 - PARTIAL CONTENT"},{value:"207",label:"207 - MULTI STATUS"},{value:"300",label:"300 - MULTIPLE CHOICES"},{value:"301",label:"301 - MOVED PERMANENTLY"},{value:"302",label:"302 - FOUND"},{value:"303",label:"303 - SEE OTHER"},{value:"304",label:"304 - NOT MODIFIED"},{value:"305",label:"305 - USE PROXY"},{value:"307",label:"307 - TEMPORARY REDIRECT"},{value:"400",label:"400 - BAD REQUEST"},{value:"401",label:"401 - UNAUTHORIZED"},{value:"402",label:"402 - PAYMENT REQUIRED"},{value:"403",label:"403 - FORBIDDEN"},{value:"404",label:"404 - NOT FOUND"},{value:"405",label:"405 - METHOD NOT ALLOWED"},{value:"406",label:"406 - NOT ACCEPTABLE"},{value:"407",label:"407 - PROXY AUTHENTICATION REQUIRED"},{value:"408",label:"408 - REQUEST TIMEOUT"},{value:"409",label:"409 - CONFLICT"},{value:"410",label:"410 - GONE"},{value:"411",label:"411 - LENGTH REQUIRED"},{value:"412",label:"412 - PRECONDITION FAILED"},{value:"413",label:"413 - REQUEST ENTITY TOO LARGE"},{value:"414",label:"414 - REQUEST URI TOO LONG"},{value:"415",label:"415 - UNSUPPORTED MEDIA TYPE"},{value:"416",label:"416 - REQUESTED RANGE NOT SATISFIABLE"},{value:"417",label:"417 - EXPECTATION FAILED"},{value:"422",label:"422 - UNPROCESSABLE ENTITY"},{value:"423",label:"423 - LOCKED"},{value:"424",label:"424 - FAILED DEPENDENCY"},{value:"429",label:"429 - TOO MANY REQUESTS"},{value:"500",label:"500 - INTERNAL SERVER ERROR"},{value:"501",label:"501 - NOT IMPLEMENTED"},{value:"502",label:"502 - BAD GATEWAY"},{value:"503",label:"503 - SERVICE UNAVAILABLE"},{value:"504",label:"504 - GATEWAY TIMEOUT"},{value:"505",label:"505 - HTTP VERSION NOT SUPPORTED"},{value:"507",label:"507 - INSUFFICIENT STORAGE"}],g})();function Ds(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div",19)(1,"h3",20),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"gv-button",21),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().reset()}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&g&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"application.alerts.add.title")),t.xp6(3),t.Oqu(t.lcZ(6,4,"application.alerts.add.reset")))}function Ns(g,E){if(1&g&&t._UZ(0,"gv-select",22),2&g){const e=t.oxw();t.Q6J("options",e.apisOptions)}}function Rs(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",e.apiLabel," ")}}function Us(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-select",23),t.NdJ("gv-select:select",function(q){return t.CHM(e),t.oxw().onTypeChange(q.detail)}),t.ALo(1,"translate"),t.qZA()}if(2&g){const e=t.oxw();t.s9C("placeholder",t.lcZ(1,3,"application.alerts.add.type.placeholder")),t.Q6J("options",e.types)("disabled",e.isEditionMode)}}function Fs(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",e.typeLabel," ")}}function Zs(g,E){if(1&g&&(t._UZ(0,"gv-select",26),t.ALo(1,"translate")),2&g){const e=t.oxw(2);t.s9C("placeholder",t.lcZ(1,2,"application.alerts.add.type.status.http_status.placeholder")),t.Q6J("options",e.httpStatus)}}function Bs(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getHttpStatusLabel(e.alert.status_code)," ")}}function zs(g,E){1&g&&(t._UZ(0,"gv-input",27),t.ALo(1,"translate")),2&g&&t.s9C("placeholder",t.lcZ(1,1,"application.alerts.add.type.status.percent.placeholder"))}function Ys(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.alert.status_percent," ")}}function Gs(g,E){if(1&g&&(t.ynx(0),t.YNc(1,Zs,2,4,"gv-select",24),t.YNc(2,Bs,2,1,"strong",7),t._uU(3),t.ALo(4,"translate"),t.YNc(5,zs,2,3,"gv-input",25),t.YNc(6,Ys,2,1,"strong",7),t._uU(7),t.ALo(8,"translate"),t.BQk()),2&g){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isCreationMode||e.isEditionMode),t.xp6(1),t.Q6J("ngIf",e.isReadingMode),t.xp6(1),t.hij(" ",t.lcZ(4,6,"application.alerts.phrase.status.second")," "),t.xp6(2),t.Q6J("ngIf",e.isCreationMode||e.isEditionMode),t.xp6(1),t.Q6J("ngIf",e.isReadingMode),t.xp6(1),t.hij(" ",t.lcZ(8,8,"application.alerts.phrase.status.third")," ")}}function Hs(g,E){1&g&&(t._UZ(0,"gv-input",30),t.ALo(1,"translate")),2&g&&t.s9C("placeholder",t.lcZ(1,1,"application.alerts.add.type.status.percent.placeholder"))}function Ws(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.alert.response_time," ")}}function Xs(g,E){if(1&g&&(t.ynx(0,28),t._uU(1),t.ALo(2,"translate"),t.YNc(3,Hs,2,3,"gv-input",29),t.YNc(4,Ws,2,1,"strong",7),t._uU(5),t.ALo(6,"translate"),t.BQk()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"application.alerts.phrase.response_time.second")," "),t.xp6(2),t.Q6J("ngIf",e.isCreationMode||e.isEditionMode),t.xp6(1),t.Q6J("ngIf",e.isReadingMode),t.xp6(1),t.hij(" ",t.lcZ(6,6,"application.alerts.phrase.response_time.third")," ")}}function qs(g,E){if(1&g&&t._UZ(0,"gv-select",31),2&g){const e=t.oxw();t.Q6J("options",e.durations)}}function Vs(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",e.alert.duration," ")}}function Js(g,E){if(1&g&&t._UZ(0,"gv-select",32),2&g){const e=t.oxw();t.Q6J("options",e.timeUnits)}}function Qs(g,E){if(1&g&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",e.timeUnitTranslated()," ")}}function Ks(g,E){if(1&g&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.Oqu(e.alert.description)}}function $s(g,E){1&g&&(t._UZ(0,"gv-text",34),t.ALo(1,"translate"),t.ALo(2,"translate")),2&g&&t.Q6J("label",t.lcZ(1,2,"application.alerts.add.description.label"))("placeholder",t.lcZ(2,4,"application.alerts.add.description.placeholder"))}function ta(g,E){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"application.alerts.webhook.switch.label")," : ",e.alert.webhook.httpMethod," ",e.alert.webhook.url,"")}}function ea(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"gv-switch",35),t.NdJ("gv-switch:input",function(q){return t.CHM(e),t.oxw().toggleWebhook(q)}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}2&g&&(t.s9C("label",t.lcZ(1,2,"application.alerts.webhook.switch.label")),t.s9C("title",t.lcZ(2,4,"application.alerts.webhook.switch.title")))}function ia(g,E){if(1&g&&(t.ynx(0),t._UZ(1,"gv-select",36),t.ALo(2,"translate"),t._UZ(3,"gv-input",37),t.ALo(4,"translate"),t.ALo(5,"translate"),t.BQk()),2&g){const e=t.oxw();t.xp6(1),t.s9C("title",t.lcZ(2,4,"application.alerts.webhook.method.title")),t.Q6J("options",e.webhookHttpMethods),t.xp6(2),t.s9C("title",t.lcZ(4,6,"application.alerts.webhook.url.title")),t.s9C("placeholder",t.lcZ(5,8,"application.alerts.webhook.url.placeholder"))}}function na(g,E){1&g&&(t.TgZ(0,"div")(1,"gv-message",38),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&g&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"application.alerts.webhook.notifierWarning")," "))}function oa(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div")(1,"gv-button",39),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().edit()}),t.qZA(),t.TgZ(2,"gv-button",40),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().delete()}),t.qZA()()}if(2&g){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.hasUpdatePermission()||!e.isAlertingEnabled),t.xp6(1),t.Q6J("disabled",!e.hasDeletePermission()||!e.isAlertingEnabled)}}function ra(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div")(1,"gv-button",41),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().cancelEdition()}),t.qZA(),t.TgZ(2,"gv-button",42),t.NdJ("gv-button:click",function(){return t.CHM(e),t.oxw().update()}),t.qZA()()}if(2&g){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.alertForm.invalid)}}function sa(g,E){if(1&g&&(t.TgZ(0,"div",43)(1,"gv-button",44),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&g){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.alertForm.invalid||!e.hasCreatePermission()||!e.isAlertingEnabled||e.maxReached),t.xp6(1),t.Oqu(t.lcZ(3,2,"application.alerts.add.title"))}}const aa=function(g){return{"gv-alert__disabled":g}},ei=x.w0.StatusEnum;var me=(()=>{return(g=me||(me={})).CREATION="CREATION",g.EDITION="EDITION",g.READING="READING",me;var g})();let la=(()=>{class g{constructor(e,S,q,rt,ft,yt,At){this.applicationService=e,this.route=S,this.translateService=q,this.notificationService=rt,this.permissionsService=ft,this.subscriptionService=yt,this.notifiersService=At,this.alertCreated=new t.vpe,this.alertDeleted=new t.vpe,this.isWebhookNotifierEnabled=!1,this.unsubscribe$=new ti.xQ}get isStatusAlert(){return"status"===(this.isCreationMode?this.alertForm?.value?.type?.toLowerCase():this.alert?.type?.toLowerCase())}get isResponseTimeAlert(){return"response_time"===(this.isCreationMode?this.alertForm?.value?.type?.toLowerCase():this.alert?.type?.toLowerCase())}get isCreationMode(){return this.mode===me.CREATION}get isEditionMode(){return this.mode===me.EDITION}get isReadingMode(){return this.mode===me.READING}get isAlertEnabled(){return this.alert?.enabled}get typeLabel(){return this.isStatusAlert?this.statusLabel:this.responseTimeLabel}get apiLabel(){return this.apisOptions?.find(e=>e.value===this.alert?.api)?.label??this.apiAllLabel}get isAlertingEnabled(){return this.status?.available_plugins>0&&this.status?.enabled}ngOnInit(){this.application=this.route.snapshot.data.application,this.application&&this.permissionsService.getCurrentUserPermissions({applicationId:this.application.id}).pipe(xe(this.unsubscribe$)).subscribe(e=>{this.permissions=e.ALERT}),this.notifiersService.getNotifiers().pipe(xe(this.unsubscribe$)).subscribe(e=>{this.isWebhookNotifierEnabled=e.some(S=>"webhook-notifier"===S.id)}),this.resetAddAlert(),this.resetAddAlertStatus(),this.application&&(this.httpStatus=[{value:"1xx",label:"1xx - INFORMATION"},{value:"2xx",label:"2xx - SUCCESS"},{value:"3xx",label:"3xx - REDIRECTION"},{value:"4xx",label:"4xx - CLIENT ERROR"},{value:"5xx",label:"5xx - SERVER ERROR"}].concat(js.httpStatus),this.webhookHttpMethods=[x.w$.PUT,x.w$.POST,x.w$.GET,x.w$.DELETE,x.w$.PATCH],this.durations=[1,5,10,15,20,25,30,35,40,45,50,55],this.translateService.get([(0,d.J)("application.alerts.type.status"),(0,d.J)("application.alerts.type.response_time"),(0,d.J)("application.alerts.timeUnits.seconds"),(0,d.J)("application.alerts.timeUnits.minutes"),(0,d.J)("application.alerts.timeUnits.hours"),(0,d.J)("application.alerts.phrase.api.all")]).subscribe(e=>{this.statusLabel=""+Object.values(e)[0],this.responseTimeLabel=""+Object.values(e)[1],this.types=[{label:Object.values(e)[0],value:x.NK.STATUS},{label:Object.values(e)[1],value:x.NK.RESPONSETIME}],this.timeUnits=[{label:Object.values(e)[2],value:x.jK.SECONDS},{label:Object.values(e)[3],value:x.jK.MINUTES},{label:Object.values(e)[4],value:x.jK.HOURS}],this.apiAllLabel=Object.values(e)[5]}),this.subscriptionService.getSubscriptions({applicationId:this.application.id,statuses:[ei.ACCEPTED,ei.PAUSED,ei.PENDING],size:-1}).pipe(xe(this.unsubscribe$)).subscribe(e=>{this.apisOptions=[{label:this.apiAllLabel,value:""},...e.data.map(S=>{const q=e.metadata[S.api];return{label:q.name+" ("+q.version+")",value:S.api}})]}))}toggleWebhook({detail:e}){this.alertForm.controls.hasWebhook.setValue(e),this.alertForm.controls.webhookUrl.setValidators(e?[V.kI.required]:[]),this.alertForm.controls.webhookUrl.updateValueAndValidity()}addAlert(){this.applicationService.createApplicationAlert({applicationId:this.application.id,alertInput:{...this.isStatusAlert?{status_code:this.alertForm.controls.status.value,status_percent:this.alertForm.controls.threshold.value}:{response_time:this.alertForm.controls.responseTime.value},...this.alertForm.controls.hasWebhook.value&&this.isWebhookNotifierEnabled?{webhook:{httpMethod:this.alertForm.controls.webhookMethod.value,url:this.alertForm.controls.webhookUrl.value}}:{},enabled:!0,api:this.alertForm.controls.api.value,type:this.alertForm.controls.type.value,duration:this.alertForm.controls.duration.value,time_unit:this.alertForm.controls.timeUnit.value,description:this.alertForm.controls.description.value}}).pipe(xe(this.unsubscribe$)).subscribe(q=>{this.notificationService.success((0,d.J)("application.alerts.add.success")),this.resetAddAlert(),this.resetAddAlertStatus(),this.alertCreated.emit(q)})}onTypeChange(e){e===x.NK.STATUS?this.resetAddAlertStatus():this.resetAddAlertResponseTime()}getHttpStatusLabel(e){return this.httpStatus.find(S=>S.value===""+e)?.label}reset(){this.resetAddAlert(),this.resetAddAlertStatus()}resetAddAlert(){this.alertForm=new V.cw({api:new V.NI(""),type:new V.NI(x.NK.STATUS,[V.kI.required]),duration:new V.NI("1"),timeUnit:new V.NI(x.jK.MINUTES,[V.kI.required]),description:new V.NI(""),hasWebhook:new V.NI(!1),webhookMethod:new V.NI(x.w$.POST),webhookUrl:new V.NI("")})}hasDeletePermission(){return this.permissions?.find(e=>"D"===e)}hasCreatePermission(){return this.permissions?.find(e=>"C"===e)}hasUpdatePermission(){return this.permissions?.find(e=>"U"===e)}hasReadPermission(){return this.permissions?.find(e=>"R"===e)}resetAddAlertStatus(){this.alertForm.addControl("status",new V.NI("4xx",[V.kI.required])),this.alertForm.addControl("threshold",new V.NI("1",[V.kI.min(1),V.kI.max(100)])),this.alertForm.removeControl("responseTime")}resetAddAlertResponseTime(){this.alertForm.removeControl("status"),this.alertForm.removeControl("threshold"),this.alertForm.addControl("responseTime",new V.NI("1",[V.kI.min(1),V.kI.max(1e5)]))}edit(){this.mode=me.EDITION;const e=this.isStatusAlert?{status:new V.NI(this.alert.status_code,[V.kI.required]),threshold:new V.NI(""+this.alert.status_percent,[V.kI.min(1),V.kI.max(100)])}:{responseTime:new V.NI(""+this.alert.response_time,[V.kI.min(1),V.kI.max(1e5)])};this.alertForm=new V.cw({type:new V.NI({value:this.alert.type,disabled:!0}),api:new V.NI(this.alert.api),duration:new V.NI(this.alert.duration),timeUnit:new V.NI(this.alert.time_unit.toUpperCase(),[V.kI.required]),description:new V.NI(this.alert.description),hasWebhook:new V.NI(!!this.alert.webhook),webhookMethod:new V.NI(this.alert.webhook?this.alert.webhook.httpMethod:x.w$.POST),webhookUrl:new V.NI(this.alert.webhook?.url,this.alert.webhook?[V.kI.required]:[]),...e})}delete(){this.applicationService.deleteApplicationAlert({applicationId:this.application.id,alertId:this.alert.id}).pipe(xe(this.unsubscribe$)).subscribe(()=>{this.notificationService.success((0,d.J)("application.alerts.delete.success")),this.alertDeleted.emit(this.alert)})}cancelEdition(){this.mode=me.READING}update(){this.applicationService.updateAlert({applicationId:this.application.id,alertId:this.alert.id,alertInput:{...this.isStatusAlert?{status_code:this.alertForm.controls.status.value,status_percent:this.alertForm.controls.threshold.value}:{response_time:this.alertForm.controls.responseTime.value},...this.alertForm.controls.hasWebhook.value&&this.isWebhookNotifierEnabled?{webhook:{httpMethod:this.alertForm.controls.webhookMethod.value,url:this.alertForm.controls.webhookUrl.value}}:{},enabled:!0,api:this.alertForm.controls.api.value,type:this.alert.type,duration:this.alertForm.controls.duration.value,time_unit:this.alertForm.controls.timeUnit.value,description:this.alertForm.controls.description.value}}).pipe(xe(this.unsubscribe$)).subscribe(q=>{this.alert=q,this.notificationService.success((0,d.J)("application.alerts.update.success")),this.mode=me.READING})}timeUnitTranslated(){return this.timeUnits?.find(e=>e?.value?.toLowerCase()===this.alert.time_unit?.toLowerCase())?.label}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.unsubscribe()}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(u.gz),t.Y36(mt.sK),t.Y36(wt.g),t.Y36(x.qQ),t.Y36(x.FF),t.Y36(x.Rx))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-gv-alert"]],inputs:{mode:"mode",alert:"alert",maxReached:"maxReached",status:"status"},outputs:{alertCreated:"alertCreated",alertDeleted:"alertDeleted"},decls:34,vars:34,consts:[[1,"page__box","form","gv-alert",3,"formGroup","ngSubmit"],["class","page__box-title",4,"ngIf"],[3,"ngClass"],[1,"gv-alert__row"],[1,"gv-alert__row__content",3,"ngClass"],[1,"gv-alert__row__content__on"],["class","gv-alert__row__content__on__api-select","formControlName","api","name","api","ngDefaultControl","",3,"options",4,"ngIf"],[4,"ngIf"],[1,"gv-alert__row__content__when"],["class","gv-alert__row__content__when__type-select","formControlName","type","name","type","required","true","ngDefaultControl","",3,"placeholder","options","disabled","gv-select:select",4,"ngIf"],["class","gv-alert__phrase",4,"ngIf"],["class","gv-alert__row__content__when__duration-select","formControlName","duration","name","duration","ngDefaultControl","",3,"options",4,"ngIf"],["class","gv-alert__row__content__when__time-unit-select","formControlName","timeUnit","name","timeUnit","ngDefaultControl","",3,"options",4,"ngIf"],[1,"gv-alert__row__content__description"],["class","gv-alert__row__content__description__text",4,"ngIf"],["ngDefaultControl","","class","gv-alert__row__content__description__input","formControlName","description","name","description","rows","3","maxlength","256",3,"label","placeholder",4,"ngIf"],[1,"gv-alert__row__content__webhook"],["class","gv-alert__row__content__switch","formControlName","hasWebhook","name","hasWebhook","ngDefaultControl","",3,"label","title","gv-switch:input",4,"ngIf"],["class","form__actions",4,"ngIf"],[1,"page__box-title"],[1,"title"],["link","",3,"gv-button:click"],["formControlName","api","name","api","ngDefaultControl","",1,"gv-alert__row__content__on__api-select",3,"options"],["formControlName","type","name","type","required","true","ngDefaultControl","",1,"gv-alert__row__content__when__type-select",3,"placeholder","options","disabled","gv-select:select"],["class","gv-alert__row__content__when__status-select","formControlName","status","name","status","ngDefaultControl","",3,"placeholder","options",4,"ngIf"],["class","gv-alert__row__content__when__status-percent-input","type","number","min","1","max","100","formControlName","threshold","required","true","name","threshold","ngDefaultControl","",3,"placeholder",4,"ngIf"],["formControlName","status","name","status","ngDefaultControl","",1,"gv-alert__row__content__when__status-select",3,"placeholder","options"],["type","number","min","1","max","100","formControlName","threshold","required","true","name","threshold","ngDefaultControl","",1,"gv-alert__row__content__when__status-percent-input",3,"placeholder"],[1,"gv-alert__phrase"],["class","gv-alert__row__content__when__response-time-input","type","number","min","1","max","100_000","formControlName","responseTime","name","responseTime","required","true","ngDefaultControl","",3,"placeholder",4,"ngIf"],["type","number","min","1","max","100_000","formControlName","responseTime","name","responseTime","required","true","ngDefaultControl","",1,"gv-alert__row__content__when__response-time-input",3,"placeholder"],["formControlName","duration","name","duration","ngDefaultControl","",1,"gv-alert__row__content__when__duration-select",3,"options"],["formControlName","timeUnit","name","timeUnit","ngDefaultControl","",1,"gv-alert__row__content__when__time-unit-select",3,"options"],[1,"gv-alert__row__content__description__text"],["ngDefaultControl","","formControlName","description","name","description","rows","3","maxlength","256",1,"gv-alert__row__content__description__input",3,"label","placeholder"],["formControlName","hasWebhook","name","hasWebhook","ngDefaultControl","",1,"gv-alert__row__content__switch",3,"label","title","gv-switch:input"],["formControlName","webhookMethod","name","webhookMethod","ngDefaultControl","",1,"gv-alert__row__content__webhook__method",3,"title","options"],["formControlName","webhookUrl","name","webhookUrl","type","url","ngDefaultControl","",1,"gv-alert__row__content__webhook__url",3,"title","placeholder"],["type","warning"],["icon","general:rename","link","true",3,"disabled","gv-button:click"],["icon","general:trash","link","true",3,"disabled","gv-button:click"],["icon","general:close","link","true",3,"gv-button:click"],["icon","code:check","link","true",3,"disabled","gv-button:click"],[1,"form__actions"],["type","submit","primary","",3,"disabled"]],template:function(e,S){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return S.addAlert()}),t.YNc(1,Ds,7,6,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.YNc(8,Ns,1,1,"gv-select",6),t.YNc(9,Rs,2,1,"strong",7),t.qZA(),t.TgZ(10,"div",8),t._uU(11),t.ALo(12,"translate"),t.YNc(13,Us,2,5,"gv-select",9),t.YNc(14,Fs,2,1,"strong",7),t.YNc(15,Gs,9,10,"ng-container",7),t.YNc(16,Xs,7,8,"ng-container",10),t._uU(17),t.ALo(18,"translate"),t.YNc(19,qs,1,1,"gv-select",11),t.YNc(20,Vs,2,1,"strong",7),t.YNc(21,Js,1,1,"gv-select",12),t.YNc(22,Qs,2,1,"strong",7),t.qZA(),t.TgZ(23,"div",13),t.YNc(24,Ks,2,1,"span",14),t.YNc(25,$s,3,6,"gv-text",15),t.qZA(),t.TgZ(26,"div",16),t.YNc(27,ta,3,5,"span",7),t.YNc(28,ea,3,6,"gv-switch",17),t.YNc(29,ia,6,10,"ng-container",7),t.YNc(30,na,4,3,"div",7),t.qZA()(),t.YNc(31,oa,3,2,"div",7),t.YNc(32,ra,3,1,"div",7),t.qZA(),t.YNc(33,sa,4,4,"div",18),t.qZA()()),2&e&&(t.Q6J("formGroup",S.alertForm),t.xp6(1),t.Q6J("ngIf",S.isCreationMode),t.xp6(1),t.Q6J("ngClass",S.isCreationMode?"page__box-content":S.isEditionMode?"page__box-content-edit":""),t.xp6(2),t.Q6J("ngClass",t.VKq(32,aa,S.isReadingMode&&!S.isAlertEnabled)),t.xp6(2),t.hij(" ",t.lcZ(7,26,"application.alerts.phrase.on")," "),t.xp6(2),t.Q6J("ngIf",S.isCreationMode||S.isEditionMode),t.xp6(1),t.Q6J("ngIf",S.isReadingMode),t.xp6(2),t.hij(" ",t.lcZ(12,28,"application.alerts.phrase.when")," "),t.xp6(2),t.Q6J("ngIf",S.isCreationMode||S.isEditionMode),t.xp6(1),t.Q6J("ngIf",S.isReadingMode),t.xp6(1),t.Q6J("ngIf",S.isStatusAlert),t.xp6(1),t.Q6J("ngIf",S.isResponseTimeAlert),t.xp6(1),t.hij(" ",t.lcZ(18,30,"application.alerts.phrase.last")," "),t.xp6(2),t.Q6J("ngIf",S.isCreationMode||S.isEditionMode),t.xp6(1),t.Q6J("ngIf",S.isReadingMode),t.xp6(1),t.Q6J("ngIf",S.isCreationMode||S.isEditionMode),t.xp6(1),t.Q6J("ngIf",S.isReadingMode),t.xp6(2),t.Q6J("ngIf",S.isReadingMode&&S.alert.description),t.xp6(1),t.Q6J("ngIf",S.isCreationMode||S.isEditionMode),t.xp6(2),t.Q6J("ngIf",S.isReadingMode&&S.isWebhookNotifierEnabled&&S.alert.webhook),t.xp6(1),t.Q6J("ngIf",S.isEditionMode||S.isCreationMode),t.xp6(1),t.Q6J("ngIf",(S.isCreationMode||S.isEditionMode)&&S.isWebhookNotifierEnabled&&S.alertForm.controls.hasWebhook.value),t.xp6(1),t.Q6J("ngIf",S.alertForm.controls.hasWebhook.value&&!S.isWebhookNotifierEnabled),t.xp6(1),t.Q6J("ngIf",S.isReadingMode),t.xp6(1),t.Q6J("ngIf",S.isEditionMode),t.xp6(1),t.Q6J("ngIf",S.isCreationMode))},directives:[V._Y,V.JL,V.sg,kt.O5,kt.mk,K.T,V.JJ,V.u,V.Fj,V.Q7,V.nD],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.gv-alert[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%], .gv-alert[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .gv-alert[_ngcontent-%COMP%]   gv-switch[_ngcontent-%COMP%]{width:auto;padding:.2rem 0}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content[_ngcontent-%COMP%]{padding:.4rem;flex:1 1 auto}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:contents}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__on__api-select[_ngcontent-%COMP%]{width:240px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when[_ngcontent-%COMP%]{display:flex;align-items:center}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__type-select[_ngcontent-%COMP%], .gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__type-text[_ngcontent-%COMP%], .gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__status-select[_ngcontent-%COMP%]{flex:1 1 auto}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__response-time-input[_ngcontent-%COMP%]{width:80px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__status-percent-input[_ngcontent-%COMP%], .gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__duration-select[_ngcontent-%COMP%]{width:55px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__when__time-unit-select[_ngcontent-%COMP%]{width:90px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__description__text[_ngcontent-%COMP%]{white-space:pre-line}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__description__input[_ngcontent-%COMP%]{margin:0}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__webhook[_ngcontent-%COMP%]{display:flex;align-items:center}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__webhook__switch[_ngcontent-%COMP%]{margin-right:16px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__webhook__method[_ngcontent-%COMP%]{width:150px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__row__content__webhook__url[_ngcontent-%COMP%]{flex:1 1 auto;min-width:300px;margin-right:0}.gv-alert__disabled[_ngcontent-%COMP%]{color:gray;text-decoration:line-through}.gv-alert[_ngcontent-%COMP%]   .page__box-content-edit[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:var(--gv-theme-neutral-color-light);border-radius:4px}.gv-alert[_ngcontent-%COMP%]   .gv-alert__fields-edit[_ngcontent-%COMP%]{display:inline-block}"]}),g})();function ha(g,E){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.hij("(",e.alerts.length,")")}}function pa(g,E){if(1&g){const e=t.EpF();t.TgZ(0,"div")(1,"app-gv-alert",12),t.NdJ("alertDeleted",function(q){return t.CHM(e),t.oxw(2).onDeleteAlert(q)}),t.qZA()()}if(2&g){const e=E.$implicit,S=t.oxw(2);t.xp6(1),t.Q6J("mode","READING")("alert",e)("status",S.status)}}function ca(g,E){if(1&g&&(t.TgZ(0,"div",10),t.YNc(1,pa,2,3,"div",11),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.alerts)}}function da(g,E){1&g&&(t.TgZ(0,"div",10)(1,"div",13),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&g&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"application.alerts.list.empty")," "))}let ua=(()=>{class g{constructor(e,S,q,rt,ft){this.applicationService=e,this.translateService=S,this.route=q,this.notificationService=rt,this.permissionsService=ft,this.alerts=[]}get isAlertingEnabled(){return this.status?.available_plugins>0&&this.status?.enabled}ngOnInit(){this.application=this.route.snapshot.data.application,this.application&&this.permissionsService.getCurrentUserPermissions({applicationId:this.application.id}).toPromise().then(e=>{this.permissions=e.ALERT,this.hasReadPermission()&&this.applicationService.getApplicationAlertStatus({applicationId:this.application.id}).toPromise().then(S=>{this.status=S,this.isAlertingEnabled?this.resetAlerts():this.notificationService.warning((0,d.J)("application.alerts.disabled"))})})}hasReadPermission(){return this.permissions?.find(e=>"R"===e)}resetAlerts(){this.application&&this.isAlertingEnabled&&this.applicationService.getAlertsByApplicationId({applicationId:this.application.id}).toPromise().then(e=>{this.alerts=e})}onAddAlert(e){this.alerts.push(e),10===this.alerts.length&&this.notificationService.info((0,d.J)("application.alerts.maximum"))}onDeleteAlert(e){this.alerts=this.alerts.filter(S=>S.id!==e.id)}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(mt.sK),t.Y36(u.gz),t.Y36(wt.g),t.Y36(x.qQ))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-application-alerts"]],decls:16,vars:12,consts:[[1,"page__content","page__content-with-aside"],[1,"main"],[1,"page__box"],[1,"application-alerts__information"],["shape","code:info"],[1,"page__box-title"],[1,"title"],[4,"ngIf"],["class","page__box-content",4,"ngIf"],[3,"mode","status","maxReached","alertCreated"],[1,"page__box-content"],[4,"ngFor","ngForOf"],[3,"mode","alert","status","alertDeleted"],[1,"empty"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t._UZ(4,"gv-icon",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",2)(8,"div",5)(9,"h3",6),t._uU(10),t.ALo(11,"translate"),t.YNc(12,ha,2,1,"span",7),t.qZA()(),t.YNc(13,ca,2,1,"div",8),t.YNc(14,da,4,3,"div",8),t.qZA(),t.TgZ(15,"app-gv-alert",9),t.NdJ("alertCreated",function(rt){return S.onAddAlert(rt)}),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,8,"application.alerts.information")," "),t.xp6(5),t.hij(" ",t.lcZ(11,10,"application.alerts.list.title")," "),t.xp6(2),t.Q6J("ngIf",S.alerts),t.xp6(1),t.Q6J("ngIf",(null==S.alerts?null:S.alerts.length)>0),t.xp6(1),t.Q6J("ngIf",0===(null==S.alerts?null:S.alerts.length)),t.xp6(1),t.Q6J("mode","CREATION")("status",S.status)("maxReached",10===(null==S.alerts?null:S.alerts.length)))},directives:[kt.O5,kt.sg,la],pipes:[mt.X$],styles:[".form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{padding:24px}.form[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]{flex-direction:column;text-align:center;align-items:stretch}.form.aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   .form__actions[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form__actions-column[_ngcontent-%COMP%]   gv-confirm[_ngcontent-%COMP%]{align-self:center}.form[_ngcontent-%COMP%]   gv-input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-text[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   gv-select[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form__control[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.2rem .2rem 1rem;box-sizing:border-box;width:100%}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 .2rem;align-self:flex-end}.form[_ngcontent-%COMP%]   .form__control_inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin:0}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:var(--gv-theme-color);border-radius:2px;color:var(--gv-theme-font-color-light);--gv-icon--c: var(--gv-theme-font-color-light);--gv-icon--s: 100px;display:flex;flex-direction:column;font-size:var(--gv-theme-font-size-xs);justify-content:space-around;line-height:22px;padding:2rem;text-align:center}.form[_ngcontent-%COMP%]   .form__message[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1rem 0}.application-alerts__information[_ngcontent-%COMP%]{padding:0 4rem}"]}),g})();var fa=Mt(37432);function ga(g,E){if(1&g&&(t.TgZ(0,"h1",7),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&g){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,"applications.title")," "),t.xp6(3),t.hij("(",e.nbApplications,")")}}function ma(g,E){1&g&&(t.TgZ(0,"section")(1,"gv-message",8),t._UZ(2,"gv-icon",9)(3,"div",10),t.ALo(4,"translate"),t.qZA()()),2&g&&(t.xp6(3),t.Q6J("innerHTML",t.lcZ(4,1,"dashboard.empty"),t.oJD))}function va(g,E){if(1&g&&(t.TgZ(0,"section"),t._UZ(1,"gv-card-list",11),t.qZA()),2&g){const e=t.oxw();t.xp6(1),t.Q6J("items",e.applications)}}Mt(3120);const ya=[{path:"",redirectTo:"mine",pathMatch:"full"},{path:"mine",component:(()=>{class g{constructor(e,S,q,rt,ft,yt){this.applicationService=e,this.subscriptionService=S,this.permissionsService=q,this.router=rt,this.translateService=ft,this.activatedRoute=yt,this.applications=[],this.paginationPageSizes=[6,12,24,48,96],this.initialPaginationSize=12,this.unsubscribe$=new ti.xQ,this.metrics=[]}ngOnInit(){this.empty=!1,this.activatedRoute.queryParamMap.pipe(xe(this.unsubscribe$),(0,ki.w)(e=>this.applicationService.getApplications({size:Number(e.get("size")??this.initialPaginationSize),page:Number(e.get("page")??1)}))).subscribe(e=>{const S=e.metadata.pagination;S?(this.paginationData={size:this.initialPaginationSize,sizes:this.paginationPageSizes,...this.paginationData,...S},this.nbApplications=this.paginationData.total):(this.paginationData=null,this.nbApplications=0),this.applications=e.data.map(q=>({item:q,metrics:this._getMetrics(q,e.metadata)})),this.empty=0===this.applications.length})}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.unsubscribe()}_getMetrics(e,S){var q=this;return(0,A.Z)(function*(){let rt=0;return S.subscriptions&&S.subscriptions[e.id]&&(rt=S.subscriptions[e.id].length),{subscribers:{value:rt,clickable:!0,title:yield q.translateService.get("applications.subscribers.title",{count:rt,appName:e.name}).toPromise()}}})()}onClickToApp(e){Promise.resolve(e).then(S=>{this.router.navigate(["/applications",S.id])})}onClickToAppSubscribers({key:e,item:S}){"subscribers"===e&&this.router.navigate(["/applications/"+S.id+"/subscriptions"])}onPaginate({page:e,size:S}){this.router.navigate([],{queryParams:{page:e,size:S}})}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(x.IX),t.Y36(x.FF),t.Y36(x.qQ),t.Y36(u.F0),t.Y36(mt.sK),t.Y36(u.gz))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-applications"]],hostBindings:function(e,S){1&e&&t.NdJ("gv-card-full:click",function(rt){return S.onClickToApp(rt.detail)})("gv-metrics:click",function(rt){return S.onClickToAppSubscribers(rt.detail)})("gv-pagination:paginate",function(rt){return S.onPaginate(rt.detail)})},decls:8,vars:5,consts:[[1,"page__content"],[1,"page__content__header"],["class","title",4,"ngIf"],["widget","","has-select","",3,"data"],[4,"ngIf"],[1,"page__content__pagination"],[3,"data"],[1,"title"],[1,"message-empty"],["shape","code:plus"],[1,"title",3,"innerHTML"],[3,"items"]],template:function(e,S){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ga,5,4,"h1",2),t._UZ(3,"gv-pagination",3),t.qZA(),t.YNc(4,ma,5,3,"section",4),t.YNc(5,va,2,1,"section",4),t.TgZ(6,"div",5),t._UZ(7,"gv-pagination",6),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",!S.empty),t.xp6(1),t.Q6J("data",S.paginationData),t.xp6(1),t.Q6J("ngIf",S.empty),t.xp6(1),t.Q6J("ngIf",!S.empty),t.xp6(2),t.Q6J("data",S.paginationData))},directives:[kt.O5],pipes:[mt.X$],styles:[".page__content__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.page__content__pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}"]}),g})(),data:{title:(0,d.J)("route.myApplications"),icon:"devices:server",animation:{type:"slide",group:"apps",index:1},menu:{slots:{right:Gt,expectedFeature:vt.l.applicationCreation,expectedPermissions:["APPLICATION-C"]}}}},{path:"subscriptions",component:Es,data:{title:(0,d.J)("route.mySubscriptions"),icon:"finance:share",animation:{type:"slide",group:"apps",index:2},menu:{slots:{right:Gt,expectedFeature:vt.l.applicationCreation,expectedPermissions:["APPLICATION-C"]}}}},{path:"creation",component:Wt,canActivate:[ri.j,fa.n],data:{title:(0,d.J)("route.applicationCreation"),expectedFeature:vt.l.applicationCreation,animation:{type:"fade"},expectedPermissions:["APPLICATION-C"]},resolve:{enabledApplicationTypes:Fi}},{path:":applicationId",data:{menu:{slots:{top:Qt.t},animation:{type:"fade"}}},resolve:{application:Ri.s,permissions:Is.T},children:[{path:"",component:gr,data:{icon:"general:clipboard",title:(0,d.J)("route.catalogApi"),animation:{type:"slide",group:"app",index:1},expectedPermissions:[]},resolve:{applicationType:Ni}},{path:"metadata",component:Xr,data:{icon:"home:book-open",title:(0,d.J)("route.metadata"),animation:{type:"slide",group:"app",index:2},expectedPermissions:["METADATA-R"]}},{path:"subscriptions",component:Cs,data:{icon:"home:key",title:(0,d.J)("route.subscriptions"),animation:{type:"slide",group:"app",index:3},expectedPermissions:["SUBSCRIPTION-R"]}},{path:"members",component:Gr,data:{icon:"communication:group",title:(0,d.J)("route.members"),animation:{type:"slide",group:"app",index:4},expectedPermissions:["MEMBER-R"]}},{path:"analytics",component:Jo,data:{icon:"shopping:chart-line#1",menu:{slots:{right:Di}},title:(0,d.J)("route.analyticsApplication"),animation:{type:"slide",group:"app",index:5},expectedPermissions:["ANALYTICS-R"]},resolve:{dashboards:Ui}},{path:"logs",component:Lr,data:{icon:"communication:clipboard-list",title:(0,d.J)("route.logsApplication"),animation:{type:"slide",group:"app",index:6},expectedPermissions:["LOG-R"]}},{path:"notifications",component:Jr,data:{icon:"general:notifications#2",title:(0,d.J)("route.notifications"),animation:{type:"slide",group:"app",index:7},expectedPermissions:["NOTIFICATION-R"]}},{path:"alerts",component:ua,canActivate:[ri.j],data:{icon:"home:alarm-clock",title:(0,d.J)("route.alerts"),expectedFeature:vt.l.alert,animation:{type:"slide",group:"app",index:8},expectedPermissions:["ALERT-R"]}}]}];let xa=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[[u.Bz.forChild(ya)],u.Bz]}),g})(),_a=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[[xa,kt.ez,W.m,mt.aw.forChild({loader:{provide:mt.Zw,useFactory:E=>new X.w(E),deps:[Kt.eN]},compiler:{provide:mt.k2,useClass:G.Fq}})],W.m]}),g})();t.B6R(Wt,[kt.mk,J,kt.O5,_,f,R,dt],[mt.X$])},93470:function(ee,ce,Mt){var Kt,kt,mt;kt=typeof window<"u"?window:this,mt=function(kt){function mt(G,W,t,V){G.hasOwnProperty(W)||(G[W]=V.apply(null,t),"function"==typeof CustomEvent&&kt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:W,module:G[W]}})))}var X={};return mt(X,"Core/Globals.js",[],function(){var G,W;return(W=G||(G={})).SVG_NS="http://www.w3.org/2000/svg",W.product="Highcharts",W.version="10.0.0",W.win=typeof kt<"u"?kt:{},W.doc=W.win.document,W.svg=W.doc&&W.doc.createElementNS&&!!W.doc.createElementNS(W.SVG_NS,"svg").createSVGRect,W.userAgent=W.win.navigator&&W.win.navigator.userAgent||"",W.isChrome=-1!==W.userAgent.indexOf("Chrome"),W.isFirefox=-1!==W.userAgent.indexOf("Firefox"),W.isMS=/(edge|msie|trident)/i.test(W.userAgent)&&!W.win.opera,W.isSafari=!W.isChrome&&-1!==W.userAgent.indexOf("Safari"),W.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(W.userAgent),W.isWebKit=-1!==W.userAgent.indexOf("AppleWebKit"),W.deg2rad=2*Math.PI/360,W.hasBidiBug=W.isFirefox&&4>parseInt(W.userAgent.split("Firefox/")[1],10),W.hasTouch=!!W.win.TouchEvent,W.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],W.noop=function(){},W.supportsPassiveEvents=function(){var t=!1;if(!W.isMS){var V=Object.defineProperty({},"passive",{get:function(){t=!0}});W.win.addEventListener&&W.win.removeEventListener&&(W.win.addEventListener("testPassive",W.noop,V),W.win.removeEventListener("testPassive",W.noop,V))}return t}(),W.charts=[],W.dateFormats={},W.seriesTypes={},W.symbolSizes={},W.chartCount=0,G}),mt(X,"Core/Utilities.js",[X["Core/Globals.js"]],function(G){function W(n,r,a,M){var L=r?"Highcharts error":"Highcharts warning";32===n&&(n=L+": Deprecated member");var Y=O(n),D=Y?L+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(typeof M<"u"){var w="";Y&&(D+="?"),C(M,function(N,s){w+="\n - "+s+": "+N,Y&&(D+=encodeURI(s)+"="+encodeURI(N))}),D+=w}b(G,"displayError",{chart:a,code:n,message:D,params:M},function(){if(r)throw Error(D);p.console&&-1===W.messages.indexOf(D)&&console.warn(D)}),W.messages.push(D)}function V(n,r){return parseInt(n,r||10)}function K(n){return"string"==typeof n}function et(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function J(n,r){return!(!n||"object"!=typeof n||r&&et(n))}function U(n){return J(n)&&"number"==typeof n.nodeType}function I(n){var r=n&&n.constructor;return!(!J(n,!0)||U(n)||!r||!r.name||"Object"===r.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function P(n){return typeof n<"u"&&null!==n}function y(n,r,a){var L,M=K(r)&&!P(a),Y=function(D,w){P(D)?n.setAttribute(w,D):M?(L=n.getAttribute(w))||"class"!==w||(L=n.getAttribute(w+"Name")):n.removeAttribute(w)};return K(r)?Y(a,r):C(r,Y),L}function h(n,r){var a;for(a in n||(n={}),r)n[a]=r[a];return n}function v(){for(var n=arguments,r=n.length,a=0;a<r;a++){var M=n[a];if(typeof M<"u"&&null!==M)return M}}function _(n,r){G.isMS&&!G.svg&&r&&P(r.opacity)&&(r.filter="alpha(opacity="+100*r.opacity+")"),h(n.style,r)}function A(n,r){return 1e14<n?n:parseFloat(n.toPrecision(r||14))}function C(n,r,a){for(var M in n)Object.hasOwnProperty.call(n,M)&&r.call(a||n[M],n[M],M,n)}function x(n,r,a){function M(w,N){var s=n.removeEventListener||G.removeEventListenerPolyfill;s&&s.call(n,w,N,!1)}function L(w){var N;if(n.nodeName){if(r){var s={};s[r]=!0}else s=w;C(s,function(f,k){if(w[k])for(N=w[k].length;N--;)M(k,w[k][N].fn)})}}var Y="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(Y,"hcEvents")){var D=Y.hcEvents;r?(Y=D[r]||[],a?(D[r]=Y.filter(function(w){return a!==w.fn}),M(r,a)):(L(D),D[r]=[])):(L(D),delete Y.hcEvents)}}function b(n,r,a,M){if(a=a||{},l.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==G)){var L=l.createEvent("Events");L.initEvent(r,!0,!0),a=h(L,a),n.dispatchEvent?n.dispatchEvent(a):n.fireEvent(r,a)}else if(n.hcEvents){a.target||h(a,{preventDefault:function(){a.defaultPrevented=!0},target:n,type:r}),L=[];for(var Y=n,D=!1;Y.hcEvents;)Object.hasOwnProperty.call(Y,"hcEvents")&&Y.hcEvents[r]&&(L.length&&(D=!0),L.unshift.apply(L,Y.hcEvents[r])),Y=Object.getPrototypeOf(Y);D&&L.sort(function(w,N){return w.order-N.order}),L.forEach(function(w){!1===w.fn.call(n,a)&&a.preventDefault()})}M&&!a.defaultPrevented&&M.call(n,a)}var u=G.charts,l=G.doc,p=G.win;(W||(W={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var i=Array.prototype.find?function(n,r){return n.find(r)}:function(n,r){var a,M=n.length;for(a=0;a<M;a++)if(r(n[a],a))return n[a]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,r){G[r]=function(a){var M;return W(32,!1,void 0,((M={})["Highcharts."+r]="use Array."+n,M)),Array.prototype[n].apply(a,[].slice.call(arguments,1))}});var c,n,r,o=(n=Math.random().toString(36).substring(2,9)+"-",r=0,function(){return"highcharts-"+(c?"":n)+r++});return p.jQuery&&(p.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(G[K(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):u[y(this[0],"data-highcharts-chart")]}),i={addEvent:function(n,r,a,M){void 0===M&&(M={});var L="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(L,"hcEvents")||(L.hcEvents={}),L=L.hcEvents,G.Point&&n instanceof G.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var Y=n.addEventListener||G.addEventListenerPolyfill;return Y&&Y.call(n,r,a,!!G.supportsPassiveEvents&&{passive:void 0===M.passive?-1!==r.indexOf("touch"):M.passive,capture:!1}),L[r]||(L[r]=[]),L[r].push({fn:a,order:"number"==typeof M.order?M.order:1/0}),L[r].sort(function(D,w){return D.order-w.order}),function(){x(n,r,a)}},arrayMax:function(n){for(var r=n.length,a=n[0];r--;)n[r]>a&&(a=n[r]);return a},arrayMin:function(n){for(var r=n.length,a=n[0];r--;)n[r]<a&&(a=n[r]);return a},attr:y,clamp:function(n,r,a){return n>r?n<a?n:a:r},cleanRecursively:function t(n,r){var a={};return C(n,function(M,L){J(n[L],!0)&&!n.nodeType&&r[L]?(M=t(n[L],r[L]),Object.keys(M).length&&(a[L]=M)):(J(n[L])||n[L]!==r[L]||L in n&&!(L in r))&&(a[L]=n[L])}),a},clearTimeout:function(n){P(n)&&clearTimeout(n)},correctFloat:A,createElement:function(n,r,a,M,L){return n=l.createElement(n),r&&h(n,r),L&&_(n,{padding:"0",border:"none",margin:"0"}),a&&_(n,a),M&&M.appendChild(n),n},css:_,defined:P,destroyObjectProperties:function(n,r){C(n,function(a,M){a&&a!==r&&a.destroy&&a.destroy(),delete n[M]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,r){for(var a=n.length;a--;)if(n[a]===r){n.splice(a,1);break}},error:W,extend:h,extendClass:function(n,r){var a=function(){};return h(a.prototype=new n,r),a},find:i,fireEvent:b,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,r){for(n=n.split(".");n.length&&P(r);){var a=n.shift();if(typeof a>"u"||"__proto__"===a||!P(r=r[a])||"function"==typeof r||"number"==typeof r.nodeType||r===p)return}return r},getStyle:function d(n,r,a){var M=G.getStyle||d;if("width"===r)return r=Math.min(n.offsetWidth,n.scrollWidth),(a=n.getBoundingClientRect&&n.getBoundingClientRect().width)<r&&a>=r-1&&(r=Math.floor(a)),Math.max(0,r-(M(n,"padding-left",!0)||0)-(M(n,"padding-right",!0)||0));if("height"===r)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(M(n,"padding-top",!0)||0)-(M(n,"padding-bottom",!0)||0));if(p.getComputedStyle||W(27,!0),n=p.getComputedStyle(n,void 0)){var L=n.getPropertyValue(r);v(a,"opacity"!==r)&&(L=V(L))}return L},inArray:function(n,r,a){return W(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),r.indexOf(n,a)},isArray:et,isClass:I,isDOMElement:U,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:J,isString:K,keys:function(n){return W(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,r=arguments,a={},M=function(Y,D){return"object"!=typeof Y&&(Y={}),C(D,function(w,N){"__proto__"!==N&&"constructor"!==N&&(Y[N]=!J(w,!0)||I(w)||U(w)?D[N]:M(Y[N]||{},w))}),Y};!0===r[0]&&(a=r[1],r=Array.prototype.slice.call(r,2));var L=r.length;for(n=0;n<L;n++)a=M(a,r[n]);return a},normalizeTickInterval:function(n,r,a,M,L){var Y=n,D=n/(a=v(a,1));for(r||(r=L?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===M&&(1===a?r=r.filter(function(w){return w%1==0}):.1>=a&&(r=[1/a]))),M=0;M<r.length&&(Y=r[M],!(L&&Y*a>=n||!L&&D<=(r[M]+(r[M+1]||r[M]))/2));M++);return A(Y*a,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var r=l.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(p.pageYOffset||r.scrollTop)-(r.clientTop||0),left:n.left+(p.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:n.width,height:n.height}},pad:function(n,r,a){return Array((r||2)+1-String(n).replace("-","").length).join(a||"0")+n},pick:v,pInt:V,relativeLength:function(n,r,a){return/%$/.test(n)?r*parseFloat(n)/100+(a||0):parseFloat(n)},removeEvent:x,splat:function(n){return et(n)?n:[n]},stableSort:function(n,r){var M,L,a=n.length;for(L=0;L<a;L++)n[L].safeI=L;for(n.sort(function(Y,D){return 0===(M=r(Y,D))?Y.safeI-D.safeI:M}),L=0;L<a;L++)delete n[L].safeI},syncTimeout:function(n,r,a){return 0<r?setTimeout(n,r,a):(n.call(0,a),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(n){return c=v(n,c)},wrap:function(n,r,a){var M=n[r];n[r]=function(){var L=Array.prototype.slice.call(arguments),Y=arguments,D=this;return D.proceed=function(){M.apply(D,arguments.length?arguments:Y)},L.unshift(M),L=a.apply(this,L),D.proceed=null,L}}},i}),mt(X,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),mt(X,"Core/Color/Color.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=W.isNumber,V=W.merge,K=W.pInt;return function(){function et(J){this.rgba=[NaN,NaN,NaN,NaN],this.input=J;var U=G.Color;return U&&U!==et?new U(J):this instanceof et?void this.init(J):new et(J)}return et.parse=function(J){return J?new et(J):et.None},et.prototype.init=function(J){var U;if("object"==typeof J&&typeof J.stops<"u")this.stops=J.stops.map(function(y){return new et(y[1])});else if("string"==typeof J){if(this.input=J=et.names[J.toLowerCase()]||J,"#"===J.charAt(0)){var I=J.length,O=parseInt(J.substr(1),16);7===I?U=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===I&&(U=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!U)for(O=et.parsers.length;O--&&!U;){var P=et.parsers[O];(I=P.regex.exec(J))&&(U=P.parse(I))}}U&&(this.rgba=U)},et.prototype.get=function(J){var U=this.input,I=this.rgba;if("object"==typeof U&&typeof this.stops<"u"){var O=V(U);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(P,y){O.stops[y]=[O.stops[y][0],P.get(J)]}),O}return I&&t(I[0])?"rgb"===J||!J&&1===I[3]?"rgb("+I[0]+","+I[1]+","+I[2]+")":"a"===J?""+I[3]:"rgba("+I.join(",")+")":U},et.prototype.brighten=function(J){var U=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(J)});else if(t(J)&&0!==J)for(var I=0;3>I;I++)U[I]+=K(255*J),0>U[I]&&(U[I]=0),255<U[I]&&(U[I]=255);return this},et.prototype.setOpacity=function(J){return this.rgba[3]=J,this},et.prototype.tweenTo=function(J,U){var I=this.rgba,O=J.rgba;return t(I[0])&&t(O[0])?((J=1!==O[3]||1!==I[3])?"rgba(":"rgb(")+Math.round(O[0]+(I[0]-O[0])*(1-U))+","+Math.round(O[1]+(I[1]-O[1])*(1-U))+","+Math.round(O[2]+(I[2]-O[2])*(1-U))+(J?","+(O[3]+(I[3]-O[3])*(1-U)):"")+")":J.input||"none"},et.names={white:"#ffffff",black:"#000000"},et.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[K(J[1]),K(J[2]),K(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[K(J[1]),K(J[2]),K(J[3]),1]}}],et.None=new et(""),et}()}),mt(X,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),mt(X,"Core/Time.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=G.win,V=W.defined,K=W.error,et=W.extend,J=W.isObject,U=W.merge,I=W.objectEach,O=W.pad,P=W.pick,y=W.splat,h=W.timeUnits,v=G.isSafari&&t.Intl&&t.Intl.DateTimeFormat.prototype.formatRange,_=G.isSafari&&t.Intl&&!t.Intl.DateTimeFormat.prototype.formatRange;return W=function(){function A(d){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=t.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(d)}return A.prototype.get=function(d,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),b=x-this.getTimezoneOffset(C);return C.setTime(b),d=C["getUTC"+d](),C.setTime(x),d}return this.useUTC?C["getUTC"+d]():C["get"+d]()},A.prototype.set=function(d,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===d||"Seconds"===d||"Minutes"===d&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+d](x);var b=this.getTimezoneOffset(C);return b=C.getTime()-b,C.setTime(b),C["setUTC"+d](x),d=this.getTimezoneOffset(C),b=C.getTime()+d,C.setTime(b)}return this.useUTC||v&&"FullYear"===d?C["setUTC"+d](x):C["set"+d](x)},A.prototype.update=function(d){var C=P(d&&d.useUTC,!0);this.options=d=U(!0,this.options||{},d),this.Date=d.Date||t.Date||Date,this.timezoneOffset=(this.useUTC=C)&&d.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!d.getTimezoneOffset&&!d.timezone)},A.prototype.makeTime=function(d,C,x,b,u,l){if(this.useUTC){var p=this.Date.UTC.apply(0,arguments),i=this.getTimezoneOffset(p),c=this.getTimezoneOffset(p+=i);i!==c?p+=c-i:i-36e5!==this.getTimezoneOffset(p-36e5)||_||(p-=36e5)}else p=new this.Date(d,C,P(x,1),P(b,0),P(u,0),P(l,0)).getTime();return p},A.prototype.timezoneOffsetFunction=function(){var d=this,C=this.options,x=C.getTimezoneOffset,b=C.moment||t.moment;if(!this.useUTC)return function(u){return 6e4*new Date(u.toString()).getTimezoneOffset()};if(C.timezone){if(b)return function(u){return 6e4*-b.tz(u,C.timezone).utcOffset()};K(25)}return this.useUTC&&x?function(u){return 6e4*x(u.valueOf())}:function(){return 6e4*(d.timezoneOffset||0)}},A.prototype.dateFormat=function(d,C,x){if(!V(C)||isNaN(C))return G.defaultOptions.lang&&G.defaultOptions.lang.invalidDate||"";d=P(d,"%Y-%m-%d %H:%M:%S");var b=this,u=new this.Date(C),l=this.get("Hours",u),p=this.get("Day",u),i=this.get("Date",u),c=this.get("Month",u),o=this.get("FullYear",u),n=G.defaultOptions.lang,r=n&&n.weekdays,a=n&&n.shortWeekdays;return u=et({a:a?a[p]:r[p].substr(0,3),A:r[p],d:O(i),e:O(i,2," "),w:p,b:n.shortMonths[c],B:n.months[c],m:O(c+1),o:c+1,y:o.toString().substr(2,2),Y:o,H:O(l),k:l,I:O(l%12||12),l:l%12||12,M:O(this.get("Minutes",u)),p:12>l?"AM":"PM",P:12>l?"am":"pm",S:O(u.getSeconds()),L:O(Math.floor(C%1e3),3)},G.dateFormats),I(u,function(M,L){for(;-1!==d.indexOf("%"+L);)d=d.replace("%"+L,"function"==typeof M?M.call(b,C):M)}),x?d.substr(0,1).toUpperCase()+d.substr(1):d},A.prototype.resolveDTLFormat=function(d){return J(d,!0)?d:{main:(d=y(d))[0],from:d[1],to:d[2]}},A.prototype.getTimeTicks=function(d,C,x,b){var n,u=this,l=[],p={},i=new u.Date(C),c=d.unitRange,o=d.count||1;if(b=P(b,1),V(C)){if(u.set("Milliseconds",i,c>=h.second?0:o*Math.floor(u.get("Milliseconds",i)/o)),c>=h.second&&u.set("Seconds",i,c>=h.minute?0:o*Math.floor(u.get("Seconds",i)/o)),c>=h.minute&&u.set("Minutes",i,c>=h.hour?0:o*Math.floor(u.get("Minutes",i)/o)),c>=h.hour&&u.set("Hours",i,c>=h.day?0:o*Math.floor(u.get("Hours",i)/o)),c>=h.day&&u.set("Date",i,c>=h.month?1:Math.max(1,o*Math.floor(u.get("Date",i)/o))),c>=h.month){u.set("Month",i,c>=h.year?0:o*Math.floor(u.get("Month",i)/o));var r=u.get("FullYear",i)}c>=h.year&&u.set("FullYear",i,r-r%o),c===h.week&&(r=u.get("Day",i),u.set("Date",i,u.get("Date",i)-r+b+(r<b?-7:0))),r=u.get("FullYear",i),b=u.get("Month",i);var a=u.get("Date",i),M=u.get("Hours",i);for(C=i.getTime(),!u.variableTimezone&&u.useUTC||!V(x)||(n=x-C>4*h.month||u.getTimezoneOffset(C)!==u.getTimezoneOffset(x)),C=i.getTime(),i=1;C<x;)l.push(C),C=c===h.year?u.makeTime(r+i*o,0):c===h.month?u.makeTime(r,b+i*o):!n||c!==h.day&&c!==h.week?n&&c===h.hour&&1<o?u.makeTime(r,b,a,M+i*o):C+c*o:u.makeTime(r,b,a+i*o*(c===h.day?1:7)),i++;l.push(C),c<=h.hour&&1e4>l.length&&l.forEach(function(L){L%18e5==0&&"000000000"===u.dateFormat("%H%M%S%L",L)&&(p[L]="day")})}return l.info=et(d,{higherRanks:p,totalRange:c*o}),l},A.prototype.getDateFormat=function(d,C,x,b){var u=this.dateFormat("%m-%d %H:%M:%S.%L",C),l={millisecond:15,second:12,minute:9,hour:6,day:3},p="millisecond";for(i in h){if(d===h.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===u.substr(6)){var i="week";break}if(h[i]>d){i=p;break}if(l[i]&&u.substr(l[i])!=="01-01 00:00:00.000".substr(l[i]))break;"week"!==i&&(p=i)}if(i)var c=this.resolveDTLFormat(b[i]).main;return c},A}(),W}),mt(X,"Core/DefaultOptions.js",[X["Core/Chart/ChartDefaults.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Color/Palettes.js"],X["Core/Time.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){W=W.parse;var J=et.merge,U={colors:V.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:G,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:W("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};U.chart.styledMode=!1;var I=new K(J(U.global,U.time));return{defaultOptions:U,defaultTime:I,getOptions:function(){return U},setOptions:function(O){return J(!0,U,O),(O.time||O.global)&&(t.time?t.time.update(J(U.global,U.time,O.global,O.time)):t.time=I),U}}}),mt(X,"Core/Animation/Fx.js",[X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=G.parse,K=W.win,et=t.isNumber,J=t.objectEach;return function(){function U(I,O,P){this.pos=NaN,this.options=O,this.elem=I,this.prop=P}return U.prototype.dSetter=function(){var I=this.paths,O=I&&I[0];I=I&&I[1];var P=this.now||0,y=[];if(1!==P&&O&&I)if(O.length===I.length&&1>P)for(var h=0;h<I.length;h++){for(var v=O[h],_=I[h],A=[],d=0;d<_.length;d++){var C=v[d],x=_[d];A[d]=et(C)&&et(x)&&("A"!==_[0]||4!==d&&5!==d)?C+P*(x-C):x}y.push(A)}else y=I;else y=this.toD||[];this.elem.attr("d",y,void 0,!0)},U.prototype.update=function(){var I=this.elem,O=this.prop,P=this.now,y=this.options.step;this[O+"Setter"]?this[O+"Setter"]():I.attr?I.element&&I.attr(O,P,null,!0):I.style[O]=P+this.unit,y&&y.call(I,P,this)},U.prototype.run=function(I,O,P){var y=this,h=y.options,v=function(d){return!v.stopped&&y.step(d)},_=K.requestAnimationFrame||function(d){setTimeout(d,13)},A=function(){for(var d=0;d<U.timers.length;d++)U.timers[d]()||U.timers.splice(d--,1);U.timers.length&&_(A)};I!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=I,this.end=O,this.unit=P,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===U.timers.push(v)&&_(A)):(delete h.curAnim[this.prop],h.complete&&0===Object.keys(h.curAnim).length&&h.complete.call(this.elem))},U.prototype.step=function(I){var O=+new Date,P=this.options,y=this.elem,h=P.complete,v=P.duration,_=P.curAnim;if(y.attr&&!y.element)I=!1;else if(I||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var A=_[this.prop]=!0;J(_,function(d){!0!==d&&(A=!1)}),A&&h&&h.call(y),I=!1}else this.pos=P.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),I=!0;return I},U.prototype.initPath=function(I,O,P){function y(u,l){for(;u.length<b;){var p=u[0],i=l[b-u.length];i&&"M"===p[0]&&(u[0]="C"===i[0]?["C",p[1],p[2],p[1],p[2],p[1],p[2]]:["L",p[1],p[2]]),u.unshift(p),A&&(p=u.pop(),u.push(u[u.length-1],p))}}function h(u,l){for(;u.length<b;)if("C"===(l=u[Math.floor(u.length/d)-1].slice())[0]&&(l[1]=l[5],l[2]=l[6]),A){var p=u[Math.floor(u.length/d)].slice();u.splice(u.length/2,0,l,p)}else u.push(l)}var v=I.startX,_=I.endX;P=P.slice();var A=I.isArea,d=A?2:1;if(!(O=O&&O.slice()))return[P,P];if(v&&_&&_.length){for(I=0;I<v.length;I++){if(v[I]===_[0]){var C=I;break}if(v[0]===_[_.length-v.length+I]){C=I;var x=!0;break}if(v[v.length-1]===_[_.length-v.length+I]){C=v.length-I;break}}typeof C>"u"&&(O=[])}if(O.length&&et(C)){var b=P.length+C*d;x?(y(O,P),h(P,O)):(y(P,O),h(O,P))}return[O,P]},U.prototype.fillSetter=function(){U.prototype.strokeSetter.apply(this,arguments)},U.prototype.strokeSetter=function(){this.elem.attr(this.prop,V(this.start).tweenTo(V(this.end),this.pos),void 0,!0)},U.timers=[],U}()}),mt(X,"Core/Animation/AnimationUtilities.js",[X["Core/Animation/Fx.js"],X["Core/Utilities.js"]],function(G,W){function t(h){return I(h)?O({duration:500,defer:0},h):{duration:h?500:0,defer:0}}function V(h,v){for(var _=G.timers.length;_--;)G.timers[_].elem!==h||v&&v!==G.timers[_].prop||(G.timers[_].stopped=!0)}var K=W.defined,et=W.getStyle,J=W.isArray,U=W.isNumber,I=W.isObject,O=W.merge,P=W.objectEach,y=W.pick;return{animate:function(h,v,_){var A,C,x,d="";if(!I(_)){var b=arguments;_={duration:b[2],easing:b[3],complete:b[4]}}U(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),P(v,function(u,l){V(h,l),x=new G(h,_,l),C=void 0,"d"===l&&J(v.d)?(x.paths=x.initPath(h,h.pathArray,v.d),x.toD=v.d,A=0,C=1):h.attr?A=h.attr(l):(A=parseFloat(et(h,l))||0,"opacity"!==l&&(d="px")),C||(C=u),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(A,C,d)})},animObject:t,getDeferredAnimation:function(h,v,_){var A=t(v),d=0,C=0;return(_?[_]:h.series).forEach(function(x){x=t(x.options.animation),d=v&&K(v.defer)?A.defer:Math.max(d,x.duration+x.defer),C=Math.min(A.duration,x.duration)}),h.renderer.forExport&&(d=0),{defer:Math.max(0,d-C),duration:Math.min(d,C)}},setAnimation:function(h,v){v.renderer.globalAnimation=y(h,v.options.chart.animation,!0)},stop:V}}),mt(X,"Core/Renderer/HTML/AST.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=G.SVG_NS,V=W.attr,K=W.createElement,et=W.css,J=W.error,U=W.isFunction,I=W.isString,O=W.objectEach,P=W.splat,y=(W=G.win.trustedTypes)&&U(W.createPolicy)&&W.createPolicy("highcharts",{createHTML:function(_){return _}}),h=y?y.createHTML(""):"";try{var v=!!(new DOMParser).parseFromString(h,"text/html")}catch{v=!1}return function(){function _(A){this.nodes="string"==typeof A?this.parseMarkup(A):A}return _.filterUserAttributes=function(A){return O(A,function(d,C){var x=!0;-1===_.allowedAttributes.indexOf(C)&&(x=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(C)&&(x=I(d)&&_.allowedReferences.some(function(b){return 0===d.indexOf(b)})),x||(J("Highcharts warning: Invalid attribute '"+C+"' in config"),delete A[C])}),A},_.parseStyle=function(A){return A.split(";").reduce(function(d,C){var x=(C=C.split(":").map(function(b){return b.trim()}))[0].replace(/-([a-z])/g,function(b){return b[1].toUpperCase()});return C[1]&&(d[x]=C[1]),d},{})},_.setElementHTML=function(A,d){A.innerHTML=_.emptyHTML,d&&new _(d).addToDOM(A)},_.prototype.addToDOM=function(A){return function d(C,x){var b;return P(C).forEach(function(u){var l=u.tagName,p=u.textContent?G.doc.createTextNode(u.textContent):void 0,i=_.bypassHTMLFiltering;if(l)if("#text"===l)var c=p;else if(-1!==_.allowedTags.indexOf(l)||i){l=G.doc.createElementNS("svg"===l?t:x.namespaceURI||t,l);var o=u.attributes||{};O(u,function(n,r){"tagName"!==r&&"attributes"!==r&&"children"!==r&&"style"!==r&&"textContent"!==r&&(o[r]=n)}),V(l,i?o:_.filterUserAttributes(o)),u.style&&et(l,u.style),p&&l.appendChild(p),d(u.children||[],l),c=l}else J("Highcharts warning: Invalid tagName "+l+" in config");c&&x.appendChild(c),b=c}),b}(this.nodes,A)},_.prototype.parseMarkup=function(A){var d=[];if(A=A.trim().replace(/ style="/g,' data-style="'),v)A=(new DOMParser).parseFromString(y?y.createHTML(A):A,"text/html");else{var C=K("div");C.innerHTML=A,A={body:C}}var x=function(b,u){var l=b.nodeName.toLowerCase(),p={tagName:l};if("#text"===l&&(p.textContent=b.textContent||""),l=b.attributes){var i={};[].forEach.call(l,function(o){"data-style"===o.name?p.style=_.parseStyle(o.value):i[o.name]=o.value}),p.attributes=i}if(b.childNodes.length){var c=[];[].forEach.call(b.childNodes,function(o){x(o,c)}),c.length&&(p.children=c)}u.push(p)};return[].forEach.call(A.body.childNodes,function(b){return x(b,d)}),d},_.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),_.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),_.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),_.emptyHTML=h,_.bypassHTMLFiltering=!1,_}()}),mt(X,"Core/FormatUtilities.js",[X["Core/DefaultOptions.js"],X["Core/Utilities.js"]],function(G,W){function t(O,P,y,h){P=+P;var v=V.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,A=O.toString().split("e"),d=P;if(-1===P)P=Math.min(_,20);else if(J(P)){if(P&&A[1]&&0>A[1]){var C=P+ +A[1];0<=C?(A[0]=(+A[0]).toExponential(C).split("e")[0],P=C):(A[0]=A[0].split(".")[0]||0,O=20>P?(A[0]*Math.pow(10,A[1])).toFixed(P):0,A[1]=0)}}else P=2;C=(Math.abs(A[1]?A[0]:O)+Math.pow(10,-Math.max(P,_)-1)).toFixed(P);var x=3<(_=String(I(C))).length?_.length%3:0;return y=U(y,v.decimalPoint),h=U(h,v.thousandsSep),O=(0>O?"-":"")+(x?_.substr(0,x)+h:""),O=0>+A[1]&&!d?"0":O+_.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+h),P&&(O+=y+C.slice(-P)),A[1]&&0!=+O&&(O+="e"+A[1]),O}var V=G.defaultOptions,K=G.defaultTime,et=W.getNestedProperty,J=W.isNumber,U=W.pick,I=W.pInt;return{dateFormat:function(O,P,y){return K.dateFormat(O,P,y)},format:function(O,P,y){var h="{",v=!1,_=/f$/,A=/\.([0-9])/,d=V.lang,C=y&&y.time||K;y=y&&y.numberFormatter||t;for(var x=[];O;){var b=O.indexOf(h);if(-1===b)break;var u=O.slice(0,b);if(v){if(u=u.split(":"),h=et(u.shift()||"",P),u.length&&"number"==typeof h)if(u=u.join(":"),_.test(u)){var l=parseInt((u.match(A)||["","-1"])[1],10);null!==h&&(h=y(h,l,d.decimalPoint,-1<u.indexOf(",")?d.thousandsSep:""))}else h=C.dateFormat(u,h);x.push(h)}else x.push(u);O=O.slice(b+1),h=(v=!v)?"}":"{"}return x.push(O),x.join("")},numberFormat:t}}),mt(X,"Core/Renderer/RendererUtilities.js",[X["Core/Utilities.js"]],function(G){var K,W=G.clamp,t=G.pick,V=G.stableSort;return(K||(K={})).distribute=function J(U,I,O){var _,P=U,y=P.reducedLen||I,h=function(x,b){return(b.rank||0)-(x.rank||0)},v=function(x,b){return x.target-b.target},A=!0,d=[],C=0;for(_=U.length;_--;)C+=U[_].size;if(C>y){for(V(U,h),C=_=0;C<=y;)C+=U[_].size,_++;d=U.splice(_-1,U.length)}for(V(U,v),U=U.map(function(x){return{size:x.size,targets:[x.target],align:t(x.align,.5)}});A;){for(_=U.length;_--;)y=U[_],h=(Math.min.apply(0,y.targets)+Math.max.apply(0,y.targets))/2,y.pos=W(h-y.size*y.align,0,I-y.size);for(_=U.length,A=!1;_--;)0<_&&U[_-1].pos+U[_-1].size>U[_].pos&&(U[_-1].size+=U[_].size,U[_-1].targets=U[_-1].targets.concat(U[_].targets),U[_-1].align=.5,U[_-1].pos+U[_-1].size>I&&(U[_-1].pos=I-U[_-1].size),U.splice(_,1),A=!0)}return P.push.apply(P,d),_=0,U.some(function(x){var b=0;return(x.targets||[]).some(function(){return P[_].pos=x.pos+b,typeof O<"u"&&Math.abs(P[_].pos-P[_].target)>O?(P.slice(0,_+1).forEach(function(u){return delete u.pos}),P.reducedLen=(P.reducedLen||I)-.1*I,P.reducedLen>.1*I&&J(P,I,O),!0):(b+=P[_].size,_++,!1)})}),V(P,v),P},K}),mt(X,"Core/Renderer/SVG/SVGElement.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Renderer/HTML/AST.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=G.animate,J=G.animObject,U=G.stop,I=V.deg2rad,O=V.doc,P=V.noop,y=V.svg,h=V.SVG_NS,v=V.win,_=K.addEvent,A=K.attr,d=K.createElement,C=K.css,x=K.defined,b=K.erase,u=K.extend,l=K.fireEvent,p=K.isArray,i=K.isFunction,c=K.isNumber,o=K.isString,n=K.merge,r=K.objectEach,a=K.pick,M=K.pInt,L=K.syncTimeout,Y=K.uniqueKey;return G=function(){function D(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=h,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return D.prototype._defaultGetter=function(w){return w=a(this[w+"Value"],this[w],this.element?this.element.getAttribute(w):null,0),/^[\-0-9\.]+$/.test(w)&&(w=parseFloat(w)),w},D.prototype._defaultSetter=function(w,N,s){s.setAttribute(N,w)},D.prototype.add=function(w){var N=this.renderer,s=this.element;if(w&&(this.parentGroup=w),this.parentInverted=w&&w.inverted,typeof this.textStr<"u"&&"text"===this.element.nodeName&&N.buildText(this),this.added=!0,!w||w.handleZ||this.zIndex)var f=this.zIndexSetter();return f||(w?w.element:N.box).appendChild(s),this.onAdd&&this.onAdd(),this},D.prototype.addClass=function(w,N){var s=N?"":this.attr("class")||"";return(w=(w||"").split(/ /g).reduce(function(f,k){return-1===s.indexOf(k)&&f.push(k),f},s?[s]:[]).join(" "))!==s&&this.attr("class",w),this},D.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},D.prototype.align=function(w,N,s){var z,H,m,f={},k=this.renderer,R=k.alignedObjects;w?(this.alignOptions=w,this.alignByTranslate=N,(!s||o(s))&&(this.alignTo=z=s||"renderer",b(R,this),R.push(this),s=void 0)):(w=this.alignOptions,N=this.alignByTranslate,z=this.alignTo),s=a(s,k[z],"scrollablePlotBox"===z?k.plotBox:void 0,k);var j=w.verticalAlign;return k=(s.x||0)+(w.x||0),R=(s.y||0)+(w.y||0),"right"===(z=w.align)?H=1:"center"===z&&(H=2),H&&(k+=(s.width-(w.width||0))/H),f[N?"translateX":"x"]=Math.round(k),"bottom"===j?m=1:"middle"===j&&(m=2),m&&(R+=(s.height-(w.height||0))/m),f[N?"translateY":"y"]=Math.round(R),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},D.prototype.alignSetter=function(w){var N={left:"start",center:"middle",right:"end"};N[w]&&(this.alignValue=w,this.element.setAttribute("text-anchor",N[w]))},D.prototype.animate=function(w,N,s){var f=this,k=J(a(N,this.renderer.globalAnimation,!0));return N=k.defer,a(O.hidden,O.msHidden,O.webkitHidden,!1)&&(k.duration=0),0!==k.duration?(s&&(k.complete=s),L(function(){f.element&&et(f,w,k)},N)):(this.attr(w,void 0,s||k.complete),r(w,function(R,z){k.step&&k.step.call(this,R,{prop:z,pos:1,elem:this})},this)),this},D.prototype.applyTextOutline=function(w){var N=this.element;-1!==w.indexOf("contrast")&&(w=w.replace(/contrast/g,this.renderer.getContrast(N.style.fill)));var s=w.split(" ");if(w=s[s.length-1],(s=s[0])&&"none"!==s&&V.svg){this.fakeTS=!0,this.ySetter=this.xSetter,s=s.replace(/(^[\d\.]+)(.*?)$/g,function(R,z,H){return 2*Number(z)+H}),this.removeTextOutline();var f=O.createElementNS(h,"tspan");A(f,{class:"highcharts-text-outline",fill:w,stroke:w,"stroke-width":s,"stroke-linejoin":"round"}),[].forEach.call(N.childNodes,function(R){var z=R.cloneNode(!0);z.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(H){return z.removeAttribute(H)}),f.appendChild(z)});var k=O.createElementNS(h,"tspan");k.textContent="\u200b",["x","y"].forEach(function(R){var z=N.getAttribute(R);z&&k.setAttribute(R,z)}),f.appendChild(k),N.insertBefore(f,N.firstChild)}},D.prototype.attr=function(w,N,s,f){var z,m,j,k=this.element,R=this.symbolCustomAttribs,H=this;if("string"==typeof w&&typeof N<"u"){var T=w;(w={})[T]=N}return"string"==typeof w?H=(this[w+"Getter"]||this._defaultGetter).call(this,w,k):(r(w,function(Z,B){m=!1,f||U(this,B),this.symbolName&&-1!==R.indexOf(B)&&(z||(this.symbolAttr(w),z=!0),m=!0),!this.rotation||"x"!==B&&"y"!==B||(this.doTransform=!0),m||((j=this[B+"Setter"]||this._defaultSetter).call(this,Z,B,k),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(B)&&this.updateShadows(B,Z,j))},this),this.afterSetters()),s&&s.call(this),H},D.prototype.clip=function(w){return this.attr("clip-path",w?"url("+this.renderer.url+"#"+w.id+")":"none")},D.prototype.crisp=function(w,N){N=N||w.strokeWidth||0;var s=Math.round(N)%2/2;return w.x=Math.floor(w.x||this.x||0)+s,w.y=Math.floor(w.y||this.y||0)+s,w.width=Math.floor((w.width||this.width||0)-2*s),w.height=Math.floor((w.height||this.height||0)-2*s),x(w.strokeWidth)&&(w.strokeWidth=N),w},D.prototype.complexColor=function(w,N,s){var k,R,z,H,m,j,T,Z,B,tt,nt,f=this.renderer,$=[];l(this.renderer,"complexColor",{args:arguments},function(){if(w.radialGradient?R="radialGradient":w.linearGradient&&(R="linearGradient"),R){if(m=f.gradients,j=w.stops,B=s.radialReference,p(z=w[R])&&(w[R]=z={x1:z[0],y1:z[1],x2:z[2],y2:z[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===R&&B&&!x(z.gradientUnits)&&(z=n(z,f.getRadialAttr(B,H=z),{gradientUnits:"userSpaceOnUse"})),r(z,function(pt,ut){"id"!==ut&&$.push(ut,pt)}),r(j,function(pt){$.push(pt)}),$=$.join(","),m[$])tt=m[$].attr("id");else{z.id=tt=Y();var ot=m[$]=f.createElement(R).attr(z).add(f.defs);ot.radAttr=H,ot.stops=[],j.forEach(function(pt){0===pt[1].indexOf("rgba")?(k=t.parse(pt[1]),T=k.get("rgb"),Z=k.get("a")):(T=pt[1],Z=1),pt=f.createElement("stop").attr({offset:pt[0],"stop-color":T,"stop-opacity":Z}).add(ot),ot.stops.push(pt)})}s.setAttribute(N,nt="url("+f.url+"#"+tt+")"),s.gradient=$,w.toString=function(){return nt}}})},D.prototype.css=function(w){var N=this.styles,s={},f=this.element,k=!N;if(w.color&&(w.fill=w.color),N&&r(w,function(H,m){N&&N[m]!==H&&(s[m]=H,k=!0)}),k){if(N&&(w=u(N,s)),null===w.width||"auto"===w.width)delete this.textWidth;else if("text"===f.nodeName.toLowerCase()&&w.width)var R=this.textWidth=M(w.width);this.styles=w,R&&!y&&this.renderer.forExport&&delete w.width;var z=n(w);f.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(H){return z&&delete z[H]}),C(f,z),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),w.textOutline&&this.applyTextOutline(w.textOutline))}return this},D.prototype.dashstyleSetter=function(w){var N=this["stroke-width"];if("inherit"===N&&(N=1),w=w&&w.toLowerCase()){var s=w.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(w=s.length;w--;)s[w]=""+M(s[w])*a(N,NaN);w=s.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",w)}},D.prototype.destroy=function(){var w=this,N=w.element||{},s=w.renderer,f=N.ownerSVGElement,k=s.isSVG&&"SPAN"===N.nodeName&&w.parentGroup||void 0;if(N.onclick=N.onmouseout=N.onmouseover=N.onmousemove=N.point=null,U(w),w.clipPath&&f){var R=w.clipPath;[].forEach.call(f.querySelectorAll("[clip-path],[CLIP-PATH]"),function(z){-1<z.getAttribute("clip-path").indexOf(R.element.id)&&z.removeAttribute("clip-path")}),w.clipPath=R.destroy()}if(w.stops){for(f=0;f<w.stops.length;f++)w.stops[f].destroy();w.stops.length=0,w.stops=void 0}for(w.safeRemoveChild(N),s.styledMode||w.destroyShadows();k&&k.div&&0===k.div.childNodes.length;)N=k.parentGroup,w.safeRemoveChild(k.div),delete k.div,k=N;w.alignTo&&b(s.alignedObjects,w),r(w,function(z,H){w[H]&&w[H].parentGroup===w&&w[H].destroy&&w[H].destroy(),delete w[H]})},D.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(w){this.safeRemoveChild(w)},this),this.shadows=void 0},D.prototype.destroyTextPath=function(w,N){var s=w.getElementsByTagName("text")[0];if(s){if(s.removeAttribute("dx"),s.removeAttribute("dy"),N.element.setAttribute("id",""),this.textPathWrapper&&s.getElementsByTagName("textPath").length){for(w=this.textPathWrapper.element.childNodes;w.length;)s.appendChild(w[0]);s.removeChild(this.textPathWrapper.element)}}else(w.getAttribute("dx")||w.getAttribute("dy"))&&(w.removeAttribute("dx"),w.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},D.prototype.dSetter=function(w,N,s){p(w)&&("string"==typeof w[0]&&(w=this.renderer.pathToSegments(w)),this.pathArray=w,w=w.reduce(function(f,k,R){return k&&k.join?(R?f+" ":"")+k.join(" "):(k||"").toString()},"")),/(NaN| {2}|^$)/.test(w)&&(w="M 0 0"),this[N]!==w&&(s.setAttribute(N,w),this[N]=w)},D.prototype.fadeOut=function(w){var N=this;N.animate({opacity:0},{duration:a(w,150),complete:function(){N.attr({y:-9999}).hide()}})},D.prototype.fillSetter=function(w,N,s){"string"==typeof w?s.setAttribute(N,w):w&&this.complexColor(w,N,s)},D.prototype.getBBox=function(w,N){var s=this.renderer,f=this.element,k=this.styles,R=this.textStr,z=s.cache,H=s.cacheKeys,m=f.namespaceURI===this.SVG_NS;N=a(N,this.rotation,0);var T,j=s.styledMode?f&&D.prototype.getStyle.call(f,"font-size"):k&&k.fontSize;if(x(R)){var Z=R.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",N,j,this.textWidth,k&&k.textOverflow,k&&k.fontWeight].join()}if(Z&&!w&&(T=z[Z]),!T){if(m||s.forExport){try{var B=this.fakeTS&&function(tt){var $=f.querySelector(".highcharts-text-outline");$&&C($,{display:tt})};i(B)&&B("none"),T=f.getBBox?u({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},i(B)&&B("")}catch{}(!T||0>T.width)&&(T={width:0,height:0})}else T=this.htmlGetBBox();if(s.isSVG&&(w=T.width,s=T.height,m&&(T.height=s={"11px,17":14,"13px,20":16}[(j||"")+","+Math.round(s)]||s),N&&(m=N*I,T.width=Math.abs(s*Math.sin(m))+Math.abs(w*Math.cos(m)),T.height=Math.abs(s*Math.cos(m))+Math.abs(w*Math.sin(m)))),Z&&(""===R||0<T.height)){for(;250<H.length;)delete z[H.shift()];z[Z]||H.push(Z),z[Z]=T}}return T},D.prototype.getStyle=function(w){return v.getComputedStyle(this.element||this,"").getPropertyValue(w)},D.prototype.hasClass=function(w){return-1!==(""+this.attr("class")).split(" ").indexOf(w)},D.prototype.hide=function(w){return this.attr(w?{y:-9999}:{visibility:"hidden"}),this},D.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},D.prototype.init=function(w,N){this.element="span"===N?d(N):O.createElementNS(this.SVG_NS,N),this.renderer=w,l(this,"afterInit")},D.prototype.invert=function(w){return this.inverted=w,this.updateTransform(),this},D.prototype.on=function(w,N){var s=this.onEvents;return s[w]&&s[w](),s[w]=_(this.element,w,N),this},D.prototype.opacitySetter=function(w,N,s){this.opacity=w=Number(Number(w).toFixed(3)),s.setAttribute(N,w)},D.prototype.removeClass=function(w){return this.attr("class",(""+this.attr("class")).replace(o(w)?new RegExp("(^| )"+w+"( |$)"):w," ").replace(/ +/g," ").trim())},D.prototype.removeTextOutline=function(){var w=this.element.querySelector("tspan.highcharts-text-outline");w&&this.safeRemoveChild(w)},D.prototype.safeRemoveChild=function(w){var N=w.parentNode;N&&N.removeChild(w)},D.prototype.setRadialReference=function(w){var N=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=w,N&&N.radAttr&&N.animate(this.renderer.getRadialAttr(w,N.radAttr)),this},D.prototype.setTextPath=function(w,N){var s=this.element,f=this.text?this.text.element:s,k={textAnchor:"text-anchor"},R=!1,z=this.textPathWrapper,H=!z;N=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},N);var m=W.filterUserAttributes(N.attributes);if(w&&N&&N.enabled){z&&null===z.element.parentNode?(H=!0,z=z.destroy()):z&&this.removeTextOutline.call(z.parentGroup),this.options&&this.options.padding&&(m.dx=-this.options.padding),z||(this.textPathWrapper=z=this.renderer.createElement("textPath"),R=!0);var j=z.element;if((N=w.element.getAttribute("id"))||w.element.setAttribute("id",N=Y()),H)for(f.setAttribute("y",0),c(m.dx)&&f.setAttribute("x",-m.dx),w=[].slice.call(f.childNodes),H=0;H<w.length;H++){var T=w[H];T.nodeType!==v.Node.TEXT_NODE&&"tspan"!==T.nodeName||j.appendChild(T)}R&&z&&z.add({element:f}),j.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+N),x(m.dy)&&(j.parentNode.setAttribute("dy",m.dy),delete m.dy),x(m.dx)&&(j.parentNode.setAttribute("dx",m.dx),delete m.dx),r(m,function(Z,B){j.setAttribute(k[B]||B,Z)}),s.removeAttribute("transform"),this.removeTextOutline.call(z),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=P}else z&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(s,w),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},D.prototype.shadow=function(w,N,s){var m,f=[],k=this.element,R=this.oldShadowOptions,z={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},H=!1;if(!0===w?m=z:"object"==typeof w&&(m=u(z,w)),m&&(m&&R&&r(m,function(tt,$){tt!==R[$]&&(H=!0)}),H&&this.destroyShadows(),this.oldShadowOptions=m),m){if(!this.shadows){var j=m.opacity/m.width,T=this.parentInverted?"translate("+m.offsetY+", "+m.offsetX+")":"translate("+m.offsetX+", "+m.offsetY+")";for(z=1;z<=m.width;z++){var Z=k.cloneNode(!1),B=2*m.width+1-2*z;A(Z,{stroke:w.color||"#000000","stroke-opacity":j*z,"stroke-width":B,transform:T,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),s&&(A(Z,"height",Math.max(A(Z,"height")-B,0)),Z.cutHeight=B),N?N.element.appendChild(Z):k.parentNode&&k.parentNode.insertBefore(Z,k),f.push(Z)}this.shadows=f}}else this.destroyShadows();return this},D.prototype.show=function(w){return this.attr({visibility:w?"inherit":"visible"})},D.prototype.strokeSetter=function(w,N,s){this[N]=w,this.stroke&&this["stroke-width"]?(D.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===N&&0===w&&this.hasStroke?(s.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},D.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var w=this.getStyle("stroke-width"),N=0;if(w.indexOf("px")===w.length-2)N=M(w);else if(""!==w){var s=O.createElementNS(h,"rect");A(s,{width:w,"stroke-width":0}),this.element.parentNode.appendChild(s),N=s.getBBox().width,s.parentNode.removeChild(s)}return N},D.prototype.symbolAttr=function(w){var N=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(s){N[s]=a(w[s],N[s])}),N.attr({d:N.renderer.symbols[N.symbolName](N.x,N.y,N.width,N.height,N)})},D.prototype.textSetter=function(w){w!==this.textStr&&(delete this.textPxLength,this.textStr=w,this.added&&this.renderer.buildText(this))},D.prototype.titleSetter=function(w){var N=this.element,s=N.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");N.insertBefore?N.insertBefore(s,N.firstChild):N.appendChild(s),s.textContent=String(a(w,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},D.prototype.toFront=function(){var w=this.element;return w.parentNode.appendChild(w),this},D.prototype.translate=function(w,N){return this.attr({translateX:w,translateY:N})},D.prototype.updateShadows=function(w,N,s){var f=this.shadows;if(f)for(var k=f.length;k--;)s.call(f[k],"height"===w?Math.max(N-(f[k].cutHeight||0),0):"d"===w?this.d:N,w,f[k])},D.prototype.updateTransform=function(){var w=this.scaleX,N=this.scaleY,s=this.inverted,f=this.rotation,k=this.matrix,R=this.element,z=this.translateX||0,H=this.translateY||0;s&&(z+=this.width,H+=this.height),z=["translate("+z+","+H+")"],x(k)&&z.push("matrix("+k.join(",")+")"),s?z.push("rotate(90) scale(-1,1)"):f&&z.push("rotate("+f+" "+a(this.rotationOriginX,R.getAttribute("x"),0)+" "+a(this.rotationOriginY,R.getAttribute("y")||0)+")"),(x(w)||x(N))&&z.push("scale("+a(w,1)+" "+a(N,1)+")"),z.length&&R.setAttribute("transform",z.join(" "))},D.prototype.visibilitySetter=function(w,N,s){"inherit"===w?s.removeAttribute(N):this[N]!==w&&s.setAttribute(N,w),this[N]=w},D.prototype.xGetter=function(w){return"circle"===this.element.nodeName&&("x"===w?w="cx":"y"===w&&(w="cy")),this._defaultGetter(w)},D.prototype.zIndexSetter=function(w,N){var s=this.renderer,f=this.parentGroup,k=(f||s).element||s.box,R=this.element;s=k===s.box;var m,z=!1,H=this.added;if(x(w)?(R.setAttribute("data-z-index",w),this[N]===(w=+w)&&(H=!1)):x(this[N])&&R.removeAttribute("data-z-index"),this[N]=w,H){for((w=this.zIndex)&&f&&(f.handleZ=!0),m=(N=k.childNodes).length-1;0<=m&&!z;m--){H=(f=N[m]).getAttribute("data-z-index");var j=!x(H);f!==R&&(0>w&&j&&!s&&!m?(k.insertBefore(R,N[m]),z=!0):(M(H)<=w||j&&(!x(w)||0<=w))&&(k.insertBefore(R,N[m+1]||null),z=!0))}z||(k.insertBefore(R,N[s?3:0]||null),z=!0)}return z},D}(),G.prototype["stroke-widthSetter"]=G.prototype.strokeSetter,G.prototype.yGetter=G.prototype.xGetter,G.prototype.matrixSetter=G.prototype.rotationOriginXSetter=G.prototype.rotationOriginYSetter=G.prototype.rotationSetter=G.prototype.scaleXSetter=G.prototype.scaleYSetter=G.prototype.translateXSetter=G.prototype.translateYSetter=G.prototype.verticalAlignSetter=function(D,w){this[w]=D,this.doTransform=!0},G}),mt(X,"Core/Renderer/RendererRegistry.js",[X["Core/Globals.js"]],function(G){var W,t,V;return(t=W||(W={})).rendererTypes={},t.getRendererType=function(K){return void 0===K&&(K=V),t.rendererTypes[K]||t.rendererTypes[V]},t.registerRendererType=function(K,et,J){t.rendererTypes[K]=et,(!V||J)&&(V=K,G.Renderer=et)},W}),mt(X,"Core/Renderer/SVG/SVGLabel.js",[X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W){var O,t=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),V=W.defined,K=W.extend,et=W.isNumber,J=W.merge,U=W.pick,I=W.removeEvent;return function(O){function P(y,h,v,_,A,d,C,x,b,u){var p,l=O.call(this)||this;return l.paddingLeftSetter=l.paddingSetter,l.paddingRightSetter=l.paddingSetter,l.init(y,"g"),l.textStr=h,l.x=v,l.y=_,l.anchorX=d,l.anchorY=C,l.baseline=b,l.className=u,l.addClass("button"===u?"highcharts-no-tooltip":"highcharts-label"),u&&l.addClass("highcharts-"+u),l.text=y.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof A&&((p=/^url\((.*?)\)$/.test(A))||l.renderer.symbols[A])&&(l.symbolKey=A),l.bBox=P.emptyBBox,l.padding=3,l.baselineOffset=0,l.needsBox=y.styledMode||p,l.deferredAttr={},l.alignFactor=0,l}return t(P,O),P.prototype.alignSetter=function(y){(y={left:0,center:.5,right:1}[y])!==this.alignFactor&&(this.alignFactor=y,this.bBox&&et(this.xSetting)&&this.attr({x:this.xSetting}))},P.prototype.anchorXSetter=function(y,h){this.anchorX=y,this.boxAttr(h,Math.round(y)-this.getCrispAdjust()-this.xSetting)},P.prototype.anchorYSetter=function(y,h){this.anchorY=y,this.boxAttr(h,y-this.ySetting)},P.prototype.boxAttr=function(y,h){this.box?this.box.attr(y,h):this.deferredAttr[y]=h},P.prototype.css=function(y){if(y){var h={};y=J(y),P.textProps.forEach(function(_){typeof y[_]<"u"&&(h[_]=y[_],delete y[_])}),this.text.css(h);var v="width"in h;"fontSize"in h||"fontWeight"in h?this.updateTextPadding():v&&this.updateBoxSize()}return G.prototype.css.call(this,y)},P.prototype.destroy=function(){I(this.element,"mouseenter"),I(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),G.prototype.destroy.call(this)},P.prototype.fillSetter=function(y,h){y&&(this.needsBox=!0),this.fill=y,this.boxAttr(h,y)},P.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var y=this.padding,h=U(this.paddingLeft,y);return{width:this.width,height:this.height,x:this.bBox.x-h,y:this.bBox.y-y}},P.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},P.prototype.heightSetter=function(y){this.heightSetting=y},P.prototype.onAdd=function(){var y=this.textStr;this.text.add(this),this.attr({text:V(y)?y:"",x:this.x,y:this.y}),this.box&&V(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},P.prototype.paddingSetter=function(y,h){et(y)?y!==this[h]&&(this[h]=y,this.updateTextPadding()):this[h]=void 0},P.prototype.rSetter=function(y,h){this.boxAttr(h,y)},P.prototype.shadow=function(y){return y&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(y)),this},P.prototype.strokeSetter=function(y,h){this.stroke=y,this.boxAttr(h,y)},P.prototype["stroke-widthSetter"]=function(y,h){y&&(this.needsBox=!0),this["stroke-width"]=y,this.boxAttr(h,y)},P.prototype["text-alignSetter"]=function(y){this.textAlign=y},P.prototype.textSetter=function(y){typeof y<"u"&&this.text.attr({text:y}),this.updateTextPadding()},P.prototype.updateBoxSize=function(){var y=this.text.element.style,h={},v=this.padding,_=this.bBox=et(this.widthSetting)&&et(this.heightSetting)&&!this.textAlign||!V(this.text.textStr)?P.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,y=this.renderer.fontMetrics(y&&y.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||y).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-y.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),h.x=v,h.y=(this.baseline?-this.baselineOffset:0)+v,h.width=Math.round(this.width),h.height=Math.round(this.height),this.box.attr(K(h,this.deferredAttr)),this.deferredAttr={})},P.prototype.updateTextPadding=function(){var y=this.text;this.updateBoxSize();var h=this.baseline?0:this.baselineOffset,v=U(this.paddingLeft,this.padding);V(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==y.x||h!==y.y)&&(y.attr("x",v),y.hasBoxWidthChanged&&(this.bBox=y.getBBox(!0)),typeof h<"u"&&y.attr("y",h)),y.x=v,y.y=h},P.prototype.widthSetter=function(y){this.widthSetting=et(y)?y:void 0},P.prototype.getPaddedWidth=function(){var y=this.padding,h=U(this.paddingLeft,y);return y=U(this.paddingRight,y),(this.widthSetting||this.bBox.width||0)+h+y},P.prototype.xSetter=function(y){this.x=y,this.alignFactor&&(y-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(y),this.attr("translateX",this.xSetting)},P.prototype.ySetter=function(y){this.ySetting=this.y=Math.round(y),this.attr("translateY",this.ySetting)},P.emptyBBox={width:0,height:0,x:0,y:0},P.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),P}(G)}),mt(X,"Core/Renderer/SVG/Symbols.js",[X["Core/Utilities.js"]],function(G){function W(U,I,O,P,y){var h=[];if(y){var v=y.start||0,_=J(y.r,O);O=J(y.r,P||O);var A=(y.end||0)-.001;P=y.innerR;var d=J(y.open,.001>Math.abs((y.end||0)-v-2*Math.PI)),C=Math.cos(v),x=Math.sin(v),b=Math.cos(A),u=Math.sin(A);v=J(y.longArc,.001>A-v-Math.PI?0:1),h.push(["M",U+_*C,I+O*x],["A",_,O,0,v,J(y.clockwise,1),U+_*b,I+O*u]),K(P)&&h.push(d?["M",U+P*b,I+P*u]:["L",U+P*b,I+P*u],["A",P,P,0,v,K(y.clockwise)?1-y.clockwise:0,U+P*C,I+P*x]),d||h.push(["Z"])}return h}function t(U,I,O,P,y){return y&&y.r?V(U,I,O,P,y):[["M",U,I],["L",U+O,I],["L",U+O,I+P],["L",U,I+P],["Z"]]}function V(U,I,O,P,y){return[["M",U+(y=y&&y.r||0),I],["L",U+O-y,I],["C",U+O,I,U+O,I,U+O,I+y],["L",U+O,I+P-y],["C",U+O,I+P,U+O,I+P,U+O-y,I+P],["L",U+y,I+P],["C",U,I+P,U,I+P,U,I+P-y],["L",U,I+y],["C",U,I,U,I,U+y,I]]}var K=G.defined,et=G.isNumber,J=G.pick;return{arc:W,callout:function(U,I,O,P,y){var h=Math.min(y&&y.r||0,O,P),v=h+6,_=y&&y.anchorX;y=y&&y.anchorY||0;var A=V(U,I,O,P,{r:h});return et(_)&&(U+_>=O?y>I+v&&y<I+P-v?A.splice(3,1,["L",U+O,y-6],["L",U+O+6,y],["L",U+O,y+6],["L",U+O,I+P-h]):A.splice(3,1,["L",U+O,P/2],["L",_,y],["L",U+O,P/2],["L",U+O,I+P-h]):0>=U+_?y>I+v&&y<I+P-v?A.splice(7,1,["L",U,y+6],["L",U-6,y],["L",U,y-6],["L",U,I+h]):A.splice(7,1,["L",U,P/2],["L",_,y],["L",U,P/2],["L",U,I+h]):y&&y>P&&_>U+v&&_<U+O-v?A.splice(5,1,["L",_+6,I+P],["L",_,I+P+6],["L",_-6,I+P],["L",U+h,I+P]):y&&0>y&&_>U+v&&_<U+O-v&&A.splice(1,1,["L",_-6,I],["L",_,I-6],["L",_+6,I],["L",O-h,I])),A},circle:function(U,I,O,P){return W(U+O/2,I+P/2,O/2,P/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(U,I,O,P){return[["M",U+O/2,I],["L",U+O,I+P/2],["L",U+O/2,I+P],["L",U,I+P/2],["Z"]]},rect:t,roundedRect:V,square:t,triangle:function(U,I,O,P){return[["M",U+O/2,I],["L",U+O,I+P],["L",U,I+P],["Z"]]},"triangle-down":function(U,I,O,P){return[["M",U,I],["L",U+O,I],["L",U+O/2,I+P],["Z"]]}}}),mt(X,"Core/Renderer/SVG/TextBuilder.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=W.doc,K=W.SVG_NS,et=W.win,J=t.attr,U=t.extend,I=t.isString,O=t.objectEach,P=t.pick;return function(){function y(h){var v=h.styles;this.renderer=h.renderer,this.svgElement=h,this.width=h.textWidth,this.textLineHeight=v&&v.lineHeight,this.textOutline=v&&v.textOutline,this.ellipsis=!(!v||"ellipsis"!==v.textOverflow),this.noWrap=!(!v||"nowrap"!==v.whiteSpace),this.fontSize=v&&v.fontSize}return y.prototype.buildSVG=function(){var h=this.svgElement,v=h.element,_=h.renderer,A=P(h.textStr,"").toString(),d=-1!==A.indexOf("<"),C=v.childNodes;_=this.width&&!h.added&&_.box;var b=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(b!==h.textCache){for(h.textCache=b,delete h.actualWidth,b=C.length;b--;)v.removeChild(C[b]);d||this.ellipsis||this.width||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))?""!==A&&(_&&_.appendChild(v),A=new G(A),this.modifyTree(A.nodes),A.addToDOM(h.element),this.modifyDOM(),this.ellipsis&&-1!==(v.textContent||"").indexOf("\u2026")&&h.attr("title",this.unescapeEntities(h.textStr||"",["&lt;","&gt;"])),_&&_.removeChild(v)):v.appendChild(V.createTextNode(this.unescapeEntities(A))),I(this.textOutline)&&h.applyTextOutline&&h.applyTextOutline(this.textOutline)}},y.prototype.modifyDOM=function(){var A,h=this,v=this.svgElement,_=J(v.element,"x");for(v.firstLineMetrics=void 0;(A=v.element.firstChild)&&/^[\s\u200B]*$/.test(A.textContent||" ");)v.element.removeChild(A);[].forEach.call(v.element.querySelectorAll("tspan.highcharts-br"),function(b,u){b.nextSibling&&b.previousSibling&&(0===u&&1===b.previousSibling.nodeType&&(v.firstLineMetrics=v.renderer.fontMetrics(void 0,b.previousSibling)),J(b,{dy:h.getLineHeight(b.nextSibling),x:_}))});var d=this.width||0;if(d){var x=function(b){[].slice.call(b.childNodes).forEach(function(u){u.nodeType===et.Node.TEXT_NODE?function(b,u){var l=b.textContent||"",p=l.replace(/([^\^])-/g,"$1- ").split(" "),i=!h.noWrap&&(1<p.length||1<v.element.childNodes.length),c=h.getLineHeight(u),o=0,n=v.actualWidth;if(h.ellipsis)l&&h.truncate(b,l,void 0,0,Math.max(0,d-parseInt(h.fontSize||12,10)),function(r,a){return r.substring(0,a)+"\u2026"});else if(i){for(l=[],i=[];u.firstChild&&u.firstChild!==b;)i.push(u.firstChild),u.removeChild(u.firstChild);for(;p.length;)p.length&&!h.noWrap&&0<o&&(l.push(b.textContent||""),b.textContent=p.join(" ").replace(/- /g,"-")),h.truncate(b,void 0,p,0===o&&n||0,d,function(r,a){return p.slice(0,a).join(" ").replace(/- /g,"-")}),n=v.actualWidth,o++;i.forEach(function(r){u.insertBefore(r,b)}),l.forEach(function(r){u.insertBefore(V.createTextNode(r),b),(r=V.createElementNS(K,"tspan")).textContent="\u200b",J(r,{dy:c,x:_}),u.insertBefore(r,b)})}}(u,b):(-1!==u.className.baseVal.indexOf("highcharts-br")&&(v.actualWidth=0),x(u))})};x(v.element)}},y.prototype.getLineHeight=function(h){var v;return h=h.nodeType===et.Node.TEXT_NODE?h.parentElement:h,this.renderer.styledMode||(v=h&&/(px|em)$/.test(h.style.fontSize)?h.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(v,h||this.svgElement.element).h},y.prototype.modifyTree=function(h){var v=this,_=function(A,d){var C=A.attributes;C=void 0===C?{}:C;var x=A.children,b=A.style;b=void 0===b?{}:b;var u=A.tagName,l=v.renderer.styledMode;"b"===u||"strong"===u?l?C.class="highcharts-strong":b.fontWeight="bold":("i"===u||"em"===u)&&(l?C.class="highcharts-emphasized":b.fontStyle="italic"),b&&b.color&&(b.fill=b.color),"br"===u?(C.class="highcharts-br",A.textContent="\u200b",(d=h[d+1])&&d.textContent&&(d.textContent=d.textContent.replace(/^ +/gm,""))):"a"===u&&x&&x.some(function(p){return"#text"===p.tagName})&&(A.children=[{children:x,tagName:"tspan"}]),"#text"!==u&&"a"!==u&&(A.tagName="tspan"),U(A,{attributes:C,style:b}),x&&x.filter(function(p){return"#text"!==p.tagName}).forEach(_)};h.forEach(_)},y.prototype.truncate=function(h,v,_,A,d,C){var o,x=this.svgElement,b=x.renderer,u=x.rotation,l=[],p=_?1:0,i=(v||_||"").length,c=i,n=function(a,M){M=M||a;var L=h.parentNode;if(L&&typeof l[M]>"u")if(L.getSubStringLength)try{l[M]=A+L.getSubStringLength(0,_?M+1:M)}catch{}else b.getSpanWidth&&(h.textContent=C(v||_,a),l[M]=A+b.getSpanWidth(x,h));return l[M]};x.rotation=0;var r=n(h.textContent.length);if(A+r>d){for(;p<=i;)c=Math.ceil((p+i)/2),_&&(o=C(_,c)),r=n(c,o&&o.length-1),p===i?p=i+1:r>d?i=c-1:p=c;0===i?h.textContent="":v&&i===v.length-1||(h.textContent=o||C(v||_,c))}_&&_.splice(0,c),x.actualWidth=r,x.rotation=u},y.prototype.unescapeEntities=function(h,v){return O(this.renderer.escapes,function(_,A){v&&-1!==v.indexOf(_)||(h=h.toString().replace(new RegExp(_,"g"),A))}),h},y}()}),mt(X,"Core/Renderer/SVG/SVGRenderer.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGLabel.js"],X["Core/Renderer/SVG/Symbols.js"],X["Core/Renderer/SVG/TextBuilder.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I){var N,O=t.charts,P=t.deg2rad,y=t.doc,h=t.isFirefox,v=t.isMS,_=t.isWebKit,A=t.noop,d=t.SVG_NS,C=t.symbolSizes,x=t.win,b=I.addEvent,u=I.attr,l=I.createElement,p=I.css,i=I.defined,c=I.destroyObjectProperties,o=I.extend,n=I.isArray,r=I.isNumber,a=I.isObject,M=I.isString,L=I.merge,Y=I.pick,D=I.pInt,w=I.uniqueKey;return t=function(){function s(f,k,R,z,H,m,j){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(f,k,R,z,H,m,j)}return s.prototype.init=function(f,k,R,z,H,m,j){var B,T=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=T.element;j||T.css(this.getStyle(z)),f.appendChild(Z),u(f,"dir","ltr"),-1===f.innerHTML.indexOf("xmlns")&&u(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=T,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(y.createTextNode("Created with Highcharts 10.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=m,this.forExport=H,this.styledMode=j,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(k,R,!1),h&&f.getBoundingClientRect&&((k=function(){p(f,{left:0,top:0}),B=f.getBoundingClientRect(),p(f,{left:Math.ceil(B.left)-B.left+"px",top:Math.ceil(B.top)-B.top+"px"})})(),this.unSubPixelFix=b(x,"resize",k))},s.prototype.definition=function(f){return new G([f]).addToDOM(this.defs.element)},s.prototype.getReferenceURL=function(){if((h||_)&&y.getElementsByTagName("base").length){if(!i(N)){var f=w();f=new G([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:f},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+f+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(y.body),p(f,{position:"fixed",top:0,left:0,zIndex:9e5});var k=y.elementFromPoint(6,6);N="hitme"===(k&&k.id),y.body.removeChild(f)}if(N)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},s.prototype.getStyle=function(f){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},f)},s.prototype.setStyle=function(f){this.boxWrapper.css(this.getStyle(f))},s.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},s.prototype.destroy=function(){var f=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),c(this.gradients||{}),this.gradients=null,f&&(this.defs=f.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},s.prototype.createElement=function(f){var k=new this.Element;return k.init(this,f),k},s.prototype.getRadialAttr=function(f,k){return{cx:f[0]-f[2]/2+(k.cx||0)*f[2],cy:f[1]-f[2]/2+(k.cy||0)*f[2],r:(k.r||0)*f[2]}},s.prototype.buildText=function(f){new U(f).buildSVG()},s.prototype.getContrast=function(f){return(f=W.parse(f).rgba)[0]*=1,f[1]*=1.2,f[2]*=.5,459<f[0]+f[1]+f[2]?"#000000":"#FFFFFF"},s.prototype.button=function(f,k,R,z,H,m,j,T,Z,B){var tt=this.label(f,k,R,Z,void 0,void 0,B,void 0,"button"),$=this.styledMode,nt=0,ot=H?L(H):{},pt=L({color:"#333333",cursor:"pointer",fontWeight:"normal"},ot.style);if(delete ot.style,ot=G.filterUserAttributes(ot),tt.attr(L({padding:8,r:2},ot)),!$){ot=L({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},ot);var ut=(m=L(ot,{fill:"#e6e6e6"},G.filterUserAttributes(m||{}))).style;delete m.style;var ct=(j=L(ot,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},G.filterUserAttributes(j||{}))).style;delete j.style;var ht=(T=L(ot,{style:{color:"#cccccc"}},G.filterUserAttributes(T||{}))).style;delete T.style}return b(tt.element,v?"mouseover":"mouseenter",function(){3!==nt&&tt.setState(1)}),b(tt.element,v?"mouseout":"mouseleave",function(){3!==nt&&tt.setState(nt)}),tt.setState=function(st){1!==st&&(tt.state=nt=st),tt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][st||0]),$||(tt.attr([ot,m,j,T][st||0]),a(st=[pt,ut,ct,ht][st||0])&&tt.css(st))},$||tt.attr(ot).css(o({cursor:"default"},pt)),tt.on("touchstart",function(st){return st.stopPropagation()}).on("click",function(st){3!==nt&&z.call(tt,st)})},s.prototype.crispLine=function(f,k,R){void 0===R&&(R="round");var z=f[0],H=f[1];return i(z[1])&&z[1]===H[1]&&(z[1]=H[1]=Math[R](z[1])-k%2/2),i(z[2])&&z[2]===H[2]&&(z[2]=H[2]=Math[R](z[2])+k%2/2),f},s.prototype.path=function(f){var k=this.styledMode?{}:{fill:"none"};return n(f)?k.d=f:a(f)&&o(k,f),this.createElement("path").attr(k)},s.prototype.circle=function(f,k,R){return f=a(f)?f:typeof f>"u"?{}:{x:f,y:k,r:R},(k=this.createElement("circle")).xSetter=k.ySetter=function(z,H,m){m.setAttribute("c"+H,z)},k.attr(f)},s.prototype.arc=function(f,k,R,z,H,m){return a(f)?(k=(z=f).y,R=z.r,f=z.x):z={innerR:z,start:H,end:m},(f=this.symbol("arc",f,k,R,R,z)).r=R,f},s.prototype.rect=function(f,k,R,z,H,m){H=a(f)?f.r:H;var j=this.createElement("rect");return f=a(f)?f:typeof f>"u"?{}:{x:f,y:k,width:Math.max(R,0),height:Math.max(z,0)},this.styledMode||(typeof m<"u"&&(f["stroke-width"]=m,f=j.crisp(f)),f.fill="none"),H&&(f.r=H),j.rSetter=function(T,Z,B){j.r=T,u(B,{rx:T,ry:T})},j.rGetter=function(){return j.r||0},j.attr(f)},s.prototype.setSize=function(f,k,R){this.width=f,this.height=k,this.boxWrapper.animate({width:f,height:k},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(R,!0)?void 0:0}),this.alignElements()},s.prototype.g=function(f){var k=this.createElement("g");return f?k.attr({class:"highcharts-"+f}):k},s.prototype.image=function(f,k,R,z,H,m){var j={preserveAspectRatio:"none"},T=function(B,tt){B.setAttributeNS?B.setAttributeNS("http://www.w3.org/1999/xlink","href",tt):B.setAttribute("hc-svg-href",tt)};r(k)&&(j.x=k),r(R)&&(j.y=R),r(z)&&(j.width=z),r(H)&&(j.height=H);var Z=this.createElement("image").attr(j);return k=function(B){T(Z.element,f),m.call(Z,B)},m?(T(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),R=new x.Image,b(R,"load",k),R.src=f,R.complete&&k({})):T(Z.element,f),Z},s.prototype.symbol=function(f,k,R,z,H,m){var $,j=this,T=/^url\((.*?)\)$/,Z=T.test(f),B=!Z&&(this.symbols[f]?f:"circle"),tt=B&&this.symbols[B];if(tt){"number"==typeof k&&($=tt.call(this.symbols,Math.round(k||0),Math.round(R||0),z||0,H||0,m));var nt=this.path($);j.styledMode||nt.attr("fill","none"),o(nt,{symbolName:B||void 0,x:k,y:R,width:z,height:H}),m&&o(nt,m)}else if(Z){var ot=f.match(T)[1],pt=nt=this.image(ot);pt.imgwidth=Y(C[ot]&&C[ot].width,m&&m.width),pt.imgheight=Y(C[ot]&&C[ot].height,m&&m.height);var ut=function(ct){return ct.attr({width:ct.width,height:ct.height})};["width","height"].forEach(function(ct){pt[ct+"Setter"]=function(ht,st){var F=this["img"+st];this[st]=ht,i(F)&&(m&&"within"===m.backgroundSize&&this.width&&this.height&&(F=Math.round(F*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(st,F),this.alignByTranslate||(ht=((this[st]||0)-F)/2,this.attr("width"===st?{translateX:ht}:{translateY:ht})))}}),i(k)&&pt.attr({x:k,y:R}),pt.isImg=!0,i(pt.imgwidth)&&i(pt.imgheight)?ut(pt):(pt.attr({width:0,height:0}),l("img",{onload:function(){var ct=O[j.chartIndex];0===this.width&&(p(this,{position:"absolute",top:"-999em"}),y.body.appendChild(this)),C[ot]={width:this.width,height:this.height},pt.imgwidth=this.width,pt.imgheight=this.height,pt.element&&ut(pt),this.parentNode&&this.parentNode.removeChild(this),j.imgCount--,!j.imgCount&&ct&&!ct.hasLoaded&&ct.onload()},src:ot}),this.imgCount++)}return nt},s.prototype.clipRect=function(f,k,R,z){var H=w()+"-",m=this.createElement("clipPath").attr({id:H}).add(this.defs);return(f=this.rect(f,k,R,z,0).add(m)).id=H,f.clipPath=m,f.count=0,f},s.prototype.text=function(f,k,R,z){var H={};return!z||!this.allowHTML&&this.forExport?(H.x=Math.round(k||0),R&&(H.y=Math.round(R)),i(f)&&(H.text=f),f=this.createElement("text").attr(H),(!z||this.forExport&&!this.allowHTML)&&(f.xSetter=function(m,j,T){for(var $,Z=T.getElementsByTagName("tspan"),B=T.getAttribute(j),tt=0;tt<Z.length;tt++)($=Z[tt]).getAttribute(j)===B&&$.setAttribute(j,m);T.setAttribute(j,m)}),f):this.html(f,k,R)},s.prototype.fontMetrics=function(f,k){return f=!this.styledMode&&/px/.test(f)||!x.getComputedStyle?f||k&&k.style&&k.style.fontSize||this.style&&this.style.fontSize:k&&K.prototype.getStyle.call(k,"font-size"),{h:k=24>(f=/px/.test(f)?D(f):12)?f+3:Math.round(1.2*f),b:Math.round(.8*k),f}},s.prototype.rotCorr=function(f,k,R){var z=f;return k&&R&&(z=Math.max(z*Math.cos(k*P),4)),{x:-f/3*Math.sin(k*P),y:z}},s.prototype.pathToSegments=function(f){for(var k=[],R=[],z={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},H=0;H<f.length;H++)M(R[0])&&r(f[H])&&R.length===z[R[0].toUpperCase()]&&f.splice(H,0,R[0].replace("M","L").replace("m","l")),"string"==typeof f[H]&&(R.length&&k.push(R.slice(0)),R.length=0),R.push(f[H]);return k.push(R.slice(0)),k},s.prototype.label=function(f,k,R,z,H,m,j,T,Z){return new et(this,f,k,R,z,H,m,j,T,Z)},s.prototype.alignElements=function(){this.alignedObjects.forEach(function(f){return f.align()})},s}(),o(t.prototype,{Element:K,SVG_NS:d,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:A}),V.registerRendererType("svg",t,!0),t}),mt(X,"Core/Renderer/HTML/HTMLElement.js",[X["Core/Globals.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W,t){var v,V=this&&this.__extends||(v=function(_,A){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,C){d.__proto__=C}||function(d,C){for(var x in C)C.hasOwnProperty(x)&&(d[x]=C[x])})(_,A)},function(_,A){function d(){this.constructor=_}v(_,A),_.prototype=null===A?Object.create(A):(d.prototype=A.prototype,new d)}),K=G.isFirefox,et=G.isMS,J=G.isWebKit,U=G.win,I=t.css,O=t.defined,P=t.extend,y=t.pick,h=t.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return V(_,v),_.compose=function(A){if(-1===_.composedClasses.indexOf(A)){_.composedClasses.push(A);var d=_.prototype,C=A.prototype;C.getSpanCorrection=d.getSpanCorrection,C.htmlCss=d.htmlCss,C.htmlGetBBox=d.htmlGetBBox,C.htmlUpdateTransform=d.htmlUpdateTransform,C.setSpanRotation=d.setSpanRotation}return A},_.prototype.getSpanCorrection=function(A,d,C){this.xCorr=-A*C,this.yCorr=-d},_.prototype.htmlCss=function(A){var d="SPAN"===this.element.tagName&&A&&"width"in A,C=y(d&&A.width,void 0);if(d){delete A.width,this.textWidth=C;var x=!0}return A&&"ellipsis"===A.textOverflow&&(A.whiteSpace="nowrap",A.overflow="hidden"),this.styles=P(this.styles,A),I(this.element,A),x&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var A=this.element;return{x:A.offsetLeft,y:A.offsetTop,width:A.offsetWidth,height:A.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var A=this.renderer,d=this.element,C=this.translateX||0,x=this.translateY||0,b=this.x||0,u=this.y||0,l=this.textAlign||"left",p={left:0,center:.5,right:1}[l],i=this.styles;if(i=i&&i.whiteSpace,I(d,{marginLeft:C,marginTop:x}),!A.styledMode&&this.shadows&&this.shadows.forEach(function(M){I(M,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(d.childNodes,function(M){A.invertChild(M,d)}),"SPAN"===d.tagName){var c=this.rotation,o=this.textWidth&&h(this.textWidth),n=[c,l,d.innerHTML,this.textWidth,this.textAlign].join(),r=void 0;if(r=!1,o!==this.oldTextWidth){if(this.textPxLength)var a=this.textPxLength;else I(d,{width:"",whiteSpace:i||"nowrap"}),a=d.offsetWidth;(o>this.oldTextWidth||a>o)&&(/[ \-]/.test(d.textContent||d.innerText)||"ellipsis"===d.style.textOverflow)&&(I(d,{width:a>o||c?o+"px":"auto",display:"block",whiteSpace:i||"normal"}),this.oldTextWidth=o,r=!0)}this.hasBoxWidthChanged=r,n!==this.cTT&&(r=A.fontMetrics(d.style.fontSize,d).b,!O(c)||c===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(c,p,r),this.getSpanCorrection(!O(c)&&this.textPxLength||d.offsetWidth,r,p,c,l)),I(d,{left:b+(this.xCorr||0)+"px",top:u+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=c,this.oldAlign=l}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(A,d,C){var x={},b=et&&!/Edge/.test(U.navigator.userAgent)?"-ms-transform":J?"-webkit-transform":K?"MozTransform":U.opera?"-o-transform":void 0;b&&(x[b]=x.transform="rotate("+A+"deg)",x[b+(K?"Origin":"-origin")]=x.transformOrigin=100*d+"% "+C+"px",I(this.element,x))},_.composedClasses=[],_}(W)}),mt(X,"Core/Renderer/HTML/HTMLRenderer.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Utilities.js"]],function(G,W,t,V){var O,K=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),et=V.attr,J=V.createElement,U=V.extend,I=V.pick;return function(O){function P(){return null!==O&&O.apply(this,arguments)||this}return K(P,O),P.compose=function(y){return-1===P.composedClasses.indexOf(y)&&(P.composedClasses.push(y),y.prototype.html=P.prototype.html),y},P.prototype.html=function(y,h,v){var _=this.createElement("span"),A=_.element,d=_.renderer,C=d.isSVG,x=function(b,u){["opacity","visibility"].forEach(function(l){b[l+"Setter"]=function(p,i,c){var o=b.div?b.div.style:u;W.prototype[l+"Setter"].call(this,p,i,c),o&&(o[i]=p)}}),b.addedSetters=!0};return _.textSetter=function(b){b!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,G.setElementHTML(this.element,I(b,"")),this.textStr=b,_.doTransform=!0)},C&&x(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(b,u){"align"===u?_.alignValue=_.textAlign=b:_[u]=b,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:y,x:Math.round(h),y:Math.round(v)}).css({position:"absolute"}),d.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),A.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(b){var u=d.box.parentNode,l=[];if(this.parentGroup=b){var p=b.div;if(!p){for(;b;)l.push(b),b=b.parentGroup;l.reverse().forEach(function(i){function c(a,M){i[M]=a,"translateX"===M?r.left=a+"px":r.top=a+"px",i.doTransform=!0}var a,o=et(i.element,"class"),n=i.styles||{},r=(p=i.div=i.div||J("div",o?{className:o}:void 0,{position:"absolute",left:(i.translateX||0)+"px",top:(i.translateY||0)+"px",display:i.display,opacity:i.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:i.visibility},p||u)).style;U(i,{classSetter:(a=p,function(M){this.element.setAttribute("class",M),a.className=M}),on:function(){return l[0].div&&_.on.apply({element:l[0].div,onEvents:i.onEvents},arguments),i},translateXSetter:c,translateYSetter:c}),i.addedSetters||x(i)})}}else p=u;return p.appendChild(A),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},P.composedClasses=[],P}(t)}),mt(X,"Core/Axis/AxisDefaults.js",[],function(){var G=(()=>{return(W=G||(G={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},W.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},W.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},W.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},W.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},W.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},G;var W})();return G}),mt(X,"Core/Foundation.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.isFunction,V=G.objectEach,K=G.removeEvent;return(et||(et={})).registerEventOptions=function(U,I){U.eventOptions=U.eventOptions||{},V(I.events,function(O,P){U.eventOptions[P]!==O&&(U.eventOptions[P]&&(K(U,P,U.eventOptions[P]),delete U.eventOptions[P]),t(O)&&(U.eventOptions[P]=O,W(U,P,O)))})},et}),mt(X,"Core/Axis/Tick.js",[X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=W.deg2rad,K=t.clamp,et=t.correctFloat,J=t.defined,U=t.destroyObjectProperties,I=t.extend,O=t.fireEvent,P=t.isNumber,y=t.merge,h=t.objectEach,v=t.pick;return function(){function _(A,d,C,x,b){this.isNewLabel=this.isNew=!0,this.axis=A,this.pos=d,this.type=C||"",this.parameters=b||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||x||this.addLabel()}return _.prototype.addLabel=function(){var A=this,d=A.axis,C=d.options,x=d.chart,b=d.categories,u=d.logarithmic,l=d.names,p=A.pos,i=v(A.options&&A.options.labels,C.labels),c=d.tickPositions,o=p===c[0],n=p===c[c.length-1],r=(!i.step||1===i.step)&&1===d.tickInterval;c=c.info;var M,a=A.label;if(b=this.parameters.category||(b?v(b[p],l[p],p):p),u&&P(b)&&(b=et(u.lin2log(b))),d.dateTime)if(c)var L=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&c.higherRanks[p]||c.unitName]),Y=L.main;else P(b)&&(Y=d.dateTime.getXDateFormat(b,C.dateTimeLabelFormats||{}));A.isFirst=o,A.isLast=n;var D={axis:d,chart:x,dateTimeLabelFormat:Y,isFirst:o,isLast:n,pos:p,tick:A,tickPositionInfo:c,value:b};O(this,"labelFormat",D);var w=function(s){return i.formatter?i.formatter.call(s,s):i.format?(s.text=d.defaultLabelFormatter.call(s),G.format(i.format,s,x)):d.defaultLabelFormatter.call(s,s)};C=w.call(D,D);var N=L&&L.list;A.shortenLabel=N?function(){for(M=0;M<N.length;M++)if(I(D,{dateTimeLabelFormat:N[M]}),a.attr({text:w.call(D,D)}),a.getBBox().width<d.getSlotWidth(A)-2*i.padding)return;a.attr({text:""})}:void 0,r&&d._addedPlotLB&&A.moveLabel(C,i),J(a)||A.movedLabel?a&&a.textStr!==C&&!r&&(!a.textWidth||i.style.width||a.styles.width||a.css({width:null}),a.attr({text:C}),a.textPxLength=a.getBBox().width):(A.label=a=A.createLabel({x:0,y:0},C,i),A.rotation=0)},_.prototype.createLabel=function(A,d,C){var x=this.axis,b=x.chart;return(A=J(d)&&C.enabled?b.renderer.text(d,A.x,A.y,C.useHTML).add(x.labelGroup):null)&&(b.styledMode||A.css(y(C.style)),A.textPxLength=A.getBBox().width),A},_.prototype.destroy=function(){U(this,this.axis)},_.prototype.getPosition=function(A,d,C,x){var b=this.axis,u=b.chart,l=x&&u.oldChartHeight||u.chartHeight;return(A={x:A?et(b.translate(d+C,null,null,x)+b.transB):b.left+b.offset+(b.opposite?(x&&u.oldChartWidth||u.chartWidth)-b.right-b.left:0),y:A?l-b.bottom+b.offset-(b.opposite?b.height:0):et(l-b.translate(d+C,null,null,x)-b.transB)}).y=K(A.y,-1e5,1e5),O(this,"afterGetPosition",{pos:A}),A},_.prototype.getLabelPosition=function(A,d,C,x,b,u,l,p){var i=this.axis,c=i.transA,o=i.isLinked&&i.linkedParent?i.linkedParent.reversed:i.reversed,n=i.staggerLines,r=i.tickRotCorr||{x:0,y:0},a=x||i.reserveSpaceDefault?0:-i.labelOffset*("center"===i.labelAlign?.5:1),M={},L=b.y;return J(L)||(L=0===i.side?C.rotation?-8:-C.getBBox().height:2===i.side?r.y+8:Math.cos(C.rotation*V)*(r.y-C.getBBox(!1,0).height/2)),d=d+L-(u&&!x?u*c*(o?1:-1):0),n&&(C=l/(p||1)%n,i.opposite&&(C=n-C-1),d+=i.labelOffset/n*C),M.x=A=A+b.x+a+r.x-(u&&x?u*c*(o?-1:1):0),M.y=Math.round(d),O(this,"afterGetLabelPosition",{pos:M,tickmarkOffset:u,index:l}),M},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(A,d,C,x,b,u){return u.crispLine([["M",A,d],["L",A+(b?0:-C),d+(b?C:0)]],x)},_.prototype.handleOverflow=function(A){var d=this.axis,C=d.options.labels,x=A.x,b=d.chart.chartWidth,u=d.chart.spacing,l=v(d.labelLeft,Math.min(d.pos,u[3]));u=v(d.labelRight,Math.max(d.isRadial?0:d.pos+d.len,b-u[1]));var L,p=this.label,i=this.rotation,c={left:0,center:.5,right:1}[d.labelAlign||p.attr("align")],o=p.getBBox().width,n=d.getSlotWidth(this),r={},a=n,M=1;i||"justify"!==C.overflow?0>i&&x-c*o<l?L=Math.round(x/Math.cos(i*V)-l):0<i&&x+c*o>u&&(L=Math.round((b-x)/Math.cos(i*V))):(b=x+(1-c)*o,x-c*o<l?a=A.x+a*(1-c)-l:b>u&&(a=u-A.x+a*c,M=-1),(a=Math.min(n,a))<n&&"center"===d.labelAlign&&(A.x+=M*(n-a-c*(n-Math.min(o,a)))),(o>a||d.autoRotation&&(p.styles||{}).width)&&(L=a)),L&&(this.shortenLabel?this.shortenLabel():(r.width=Math.floor(L)+"px",(C.style||{}).textOverflow||(r.textOverflow="ellipsis"),p.css(r)))},_.prototype.moveLabel=function(A,d){var C=this,x=C.label,b=C.axis,u=b.reversed,l=!1;if(x&&x.textStr===A?(C.movedLabel=x,l=!0,delete C.label):h(b.ticks,function(i){l||i.isNew||i===C||!i.label||i.label.textStr!==A||(C.movedLabel=i.label,l=!0,i.labelPos=C.movedLabel.xy,delete i.label)}),!l&&(C.labelPos||x)){var p=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=b.horiz?u?0:b.width+b.left:p.x,y:b=b.horiz?p.y:u?b.width+b.left:0},A,d),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(A,d,C){var x=this.axis,b=x.horiz,u=this.pos,l=v(this.tickmarkOffset,x.tickmarkOffset);l=(u=this.getPosition(b,u,l,d)).x,x=b&&l===x.pos+x.len||!b&&u.y===x.pos?-1:1,b=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(d,C,x),this.renderMark(u,C,x),this.renderLabel(u,d,b,A),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(A,d,C){var x=this.axis,b=x.options,u={},l=this.pos,p=this.type,i=v(this.tickmarkOffset,x.tickmarkOffset),c=x.chart.renderer,o=this.gridLine,n=b.gridLineWidth,r=b.gridLineColor,a=b.gridLineDashStyle;"minor"===this.type&&(n=b.minorGridLineWidth,r=b.minorGridLineColor,a=b.minorGridLineDashStyle),o||(x.chart.styledMode||(u.stroke=r,u["stroke-width"]=n||0,u.dashstyle=a),p||(u.zIndex=1),A&&(d=0),this.gridLine=o=c.path().attr(u).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:l+i,lineWidth:o.strokeWidth()*C,force:"pass",old:A}))&&o[A||this.isNew?"attr":"animate"]({d:C,opacity:d})},_.prototype.renderMark=function(A,d,C){var x=this.axis,b=x.options,u=x.chart.renderer,l=this.type,p=x.tickSize(l?l+"Tick":"tick"),i=A.x;A=A.y;var c=v(b["minor"!==l?"tickWidth":"minorTickWidth"],!l&&x.isXAxis?1:0);b=b["minor"!==l?"tickColor":"minorTickColor"];var o=this.mark,n=!o;p&&(x.opposite&&(p[0]=-p[0]),o||(this.mark=o=u.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:b,"stroke-width":c})),o[n?"attr":"animate"]({d:this.getMarkPath(i,A,p[0],o.strokeWidth()*C,x.horiz,u),opacity:d}))},_.prototype.renderLabel=function(A,d,C,x){var b=this.axis,u=b.horiz,l=b.options,p=this.label,i=l.labels,c=i.step;b=v(this.tickmarkOffset,b.tickmarkOffset);var o=A.x;A=A.y;var n=!0;p&&P(o)&&(p.xy=A=this.getLabelPosition(o,A,p,u,i,b,x,c),this.isFirst&&!this.isLast&&!l.showFirstLabel||this.isLast&&!this.isFirst&&!l.showLastLabel?n=!1:!u||i.step||i.rotation||d||0===C||this.handleOverflow(A),c&&x%c&&(n=!1),n&&P(A.y)?(A.opacity=C,p[this.isNewLabel?"attr":"animate"](A),this.isNewLabel=!1):(p.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var A=this.label,d=this.axis,C=d.reversed;A&&!this.isNew&&(A.animate({x:d.horiz?C?d.left:d.width+d.left:A.xy.x,y:C=d.horiz?A.xy.y:C?d.width+d.top:d.top,opacity:0},void 0,A.destroy),delete this.label),d.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),mt(X,"Core/Axis/Axis.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/AxisDefaults.js"],X["Core/Color/Color.js"],X["Core/DefaultOptions.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Axis/Tick.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U){var I=G.animObject,O=V.defaultOptions,P=K.registerEventOptions,y=et.deg2rad,h=U.arrayMax,v=U.arrayMin,_=U.clamp,A=U.correctFloat,d=U.defined,C=U.destroyObjectProperties,x=U.erase,b=U.error,u=U.extend,l=U.fireEvent,p=U.getMagnitude,i=U.isArray,c=U.isNumber,o=U.isString,n=U.merge,r=U.normalizeTickInterval,a=U.objectEach,M=U.pick,L=U.relativeLength,Y=U.removeEvent,D=U.splat,w=U.syncTimeout;return function(){function N(s,f){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(s,f)}return N.prototype.init=function(s,f){var k=f.isX;this.chart=s,this.horiz=s.inverted&&!this.isZAxis?!k:k,this.isXAxis=k,this.coll=this.coll||(k?"xAxis":"yAxis"),l(this,"init",{userOptions:f}),this.opposite=M(f.opposite,this.opposite),this.side=M(f.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(f);var R=this.options,z=R.labels,H=R.type;this.userOptions=f,this.minPixelPadding=0,this.reversed=M(R.reversed,this.reversed),this.visible=R.visible,this.zoomEnabled=R.zoomEnabled,this.hasNames="category"===H||!0===R.categories,this.categories=R.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=d(R.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=R.minRange||R.maxZoom,this.range=R.range,this.offset=R.offset||0,this.min=this.max=null,f=M(R.crosshair,D(s.options.tooltip.crosshairs)[k?0:1]),this.crosshair=!0===f?{}:f,-1===s.axes.indexOf(this)&&(k?s.axes.splice(s.xAxis.length,0,this):s.axes.push(this),s[this.coll].push(this)),this.series=this.series||[],s.inverted&&!this.isZAxis&&k&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=c(z.rotation)?z.rotation:void 0,P(this,R),l(this,"afterInit")},N.prototype.setOptions=function(s){this.options=n(W.defaultXAxisOptions,"yAxis"===this.coll&&W.defaultYAxisOptions,[W.defaultTopAxisOptions,W.defaultRightAxisOptions,W.defaultBottomAxisOptions,W.defaultLeftAxisOptions][this.side],n(O[this.coll],s)),l(this,"afterSetOptions",{userOptions:s})},N.prototype.defaultLabelFormatter=function(s){var f=this.axis;s=this.chart.numberFormatter;var k=c(this.value)?this.value:NaN,R=f.chart.time,z=this.dateTimeLabelFormat,H=O.lang,m=H.numericSymbols;H=H.numericSymbolMagnitude||1e3;var j=f.logarithmic?Math.abs(k):f.tickInterval,T=m&&m.length;if(f.categories)var Z=""+this.value;else if(z)Z=R.dateFormat(z,k);else if(T&&1e3<=j)for(;T--&&typeof Z>"u";)j>=(f=Math.pow(H,T+1))&&10*k%f==0&&null!==m[T]&&0!==k&&(Z=s(k/f,-1)+m[T]);return typeof Z>"u"&&(Z=1e4<=Math.abs(k)?s(k,-1):s(k,-1,void 0,"")),Z},N.prototype.getSeriesExtremes=function(){var k,s=this,f=s.chart;l(this,"getSeriesExtremes",null,function(){s.hasVisibleSeries=!1,s.dataMin=s.dataMax=s.threshold=null,s.softThreshold=!s.isXAxis,s.stacking&&s.stacking.buildStacks(),s.series.forEach(function(R){if(R.visible||!f.options.chart.ignoreHiddenSeries){var z=R.options,H=z.threshold;if(s.hasVisibleSeries=!0,s.positiveValuesOnly&&0>=H&&(H=null),s.isXAxis){if((z=R.xData).length){z=s.logarithmic?z.filter(s.validatePositiveValue):z;var m=(k=R.getXExtremes(z)).min,j=k.max;c(m)||m instanceof Date||(z=z.filter(c),m=(k=R.getXExtremes(z)).min,j=k.max),z.length&&(s.dataMin=Math.min(M(s.dataMin,m),m),s.dataMax=Math.max(M(s.dataMax,j),j))}}else R=R.applyExtremes(),c(R.dataMin)&&(m=R.dataMin,s.dataMin=Math.min(M(s.dataMin,m),m)),c(R.dataMax)&&(j=R.dataMax,s.dataMax=Math.max(M(s.dataMax,j),j)),d(H)&&(s.threshold=H),(!z.softThreshold||s.positiveValuesOnly)&&(s.softThreshold=!1)}})}),l(this,"afterGetSeriesExtremes")},N.prototype.translate=function(s,f,k,R,z,H){var m=this.linkedParent||this,j=R&&m.old?m.old.min:m.min,T=m.minPixelPadding;z=(m.isOrdinal||m.brokenAxis&&m.brokenAxis.hasBreaks||m.logarithmic&&z)&&m.lin2val;var Z=1,B=0;return(R=R&&m.old?m.old.transA:m.transA)||(R=m.transA),k&&(Z*=-1,B=m.len),m.reversed&&(B-=(Z*=-1)*(m.sector||m.len)),f?(H=(s*Z+B-T)/R+j,z&&(H=m.lin2val(H))):(z&&(s=m.val2lin(s)),s=Z*(s-j)*R,H=c(j)?(m.isRadial?s:A(s))+B+Z*T+(c(H)?R*H:0):void 0),H},N.prototype.toPixels=function(s,f){return this.translate(s,!1,!this.horiz,null,!0)+(f?0:this.pos)},N.prototype.toValue=function(s,f){return this.translate(s-(f?0:this.pos),!0,!this.horiz,null,!0)},N.prototype.getPlotLinePath=function(s){function f(st,F,Q){return("pass"!==nt&&st<F||st>Q)&&(nt?st=_(st,F,Q):ht=!0),st}var ot,pt,ut,ct,ht,k=this,R=k.chart,z=k.left,H=k.top,m=s.old,j=s.value,T=s.lineWidth,Z=m&&R.oldChartHeight||R.chartHeight,B=m&&R.oldChartWidth||R.chartWidth,tt=k.transB,$=s.translatedValue,nt=s.force;return l(this,"getPlotLinePath",s={value:j,lineWidth:T,old:m,force:nt,acrossPanes:s.acrossPanes,translatedValue:$},function(st){$=M($,k.translate(j,null,null,m)),$=_($,-1e5,1e5),ot=ut=Math.round($+tt),pt=ct=Math.round(Z-$-tt),c($)?k.horiz?(pt=H,ct=Z-k.bottom,ot=ut=f(ot,z,z+k.width)):(ot=z,ut=B-k.right,pt=ct=f(pt,H,H+k.height)):(ht=!0,nt=!1),st.path=ht&&!nt?null:R.renderer.crispLine([["M",ot,pt],["L",ut,ct]],T||1)}),s.path},N.prototype.getLinearTickPositions=function(s,f,k){var R=A(Math.floor(f/s)*s);k=A(Math.ceil(k/s)*s);var H,z=[];if(A(R+s)===R&&(H=20),this.single)return[f];for(f=R;f<=k&&(z.push(f),(f=A(f+s,H))!==m);)var m=f;return z},N.prototype.getMinorTickInterval=function(){var s=this.options;return!0===s.minorTicks?M(s.minorTickInterval,"auto"):!1===s.minorTicks?null:s.minorTickInterval},N.prototype.getMinorTickPositions=function(){var s=this.options,f=this.tickPositions,k=this.minorTickInterval,R=this.pointRangePadding||0,z=this.min-R,H=(R=this.max+R)-z,m=[];if(H&&H/k<this.len/3){var j=this.logarithmic;if(j)this.paddedTicks.forEach(function(T,Z,B){Z&&m.push.apply(m,j.getLogTickPositions(k,B[Z-1],B[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(k),z,R,s.startOfWeek));else for(s=z+(f[0]-z)%k;s<=R&&s!==m[0];s+=k)m.push(s)}return 0!==m.length&&this.trimTicks(m),m},N.prototype.adjustForMinRange=function(){var H,m,j,T,s=this.options,f=this.logarithmic,k=this.min,R=this.max,z=0;if(this.isXAxis&&typeof this.minRange>"u"&&!f&&(d(s.min)||d(s.max)||d(s.floor)||d(s.ceiling)?this.minRange=null:(this.series.forEach(function($){if(j=$.xData,T=$.xIncrement?1:j.length-1,1<j.length)for(H=T;0<H;H--)m=j[H]-j[H-1],(!z||m<z)&&(z=m)}),this.minRange=Math.min(5*z,this.dataMax-this.dataMin))),R-k<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,B=this.minRange,tt=(B-R+k)/2;tt=[k-tt,M(s.min,k-tt)],Z&&(tt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),R=[(k=h(tt))+B,M(s.max,k+B)],Z&&(R[2]=f?f.log2lin(this.dataMax):this.dataMax),(R=v(R))-k<B&&(tt[0]=R-B,tt[1]=M(s.min,R-B),k=h(tt))}this.min=k,this.max=R},N.prototype.getClosest=function(){var s;return this.categories?s=1:this.series.forEach(function(f){var k=f.closestPointRange,R=f.visible||!f.chart.options.chart.ignoreHiddenSeries;!f.noSharedTooltip&&d(k)&&R&&(s=d(s)?Math.min(s,k):k)}),s},N.prototype.nameToX=function(s){var f=i(this.options.categories),k=f?this.categories:this.names,R=s.options.x;if(s.series.requireSorting=!1,d(R)||(R=this.options.uniqueNames&&k?f?k.indexOf(s.name):M(k.keys[s.name],-1):s.series.autoIncrement()),-1===R){if(!f&&k)var z=k.length}else z=R;return typeof z<"u"&&(this.names[z]=s.name,this.names.keys[s.name]=z),z},N.prototype.updateNames=function(){var s=this,f=this.names;0<f.length&&(Object.keys(f.keys).forEach(function(k){delete f.keys[k]}),f.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(k){k.xIncrement=null,(!k.points||k.isDirtyData)&&(s.max=Math.max(s.max,k.xData.length-1),k.processData(),k.generatePoints()),k.data.forEach(function(R,z){if(R&&R.options&&typeof R.name<"u"){var H=s.nameToX(R);typeof H<"u"&&H!==R.x&&(R.x=H,k.xData[z]=H)}})}))},N.prototype.setAxisTranslation=function(){var T,s=this,f=s.max-s.min,k=s.linkedParent,R=!!s.categories,z=s.isXAxis,H=s.axisPointRange||0,m=0,j=0;if(z||R||H){var Z=s.getClosest();k?(m=k.minPointOffset,j=k.pointRangePadding):s.series.forEach(function(B){var tt=R?1:z?M(B.options.pointRange,Z,0):s.axisPointRange||0,$=B.options.pointPlacement;H=Math.max(H,tt),(!s.single||R)&&(B=B.is("xrange")?!z:z,m=Math.max(m,B&&o($)?0:tt/2),j=Math.max(j,B&&"on"===$?0:tt))}),s.minPointOffset=m*=k=s.ordinal&&s.ordinal.slope&&Z?s.ordinal.slope/Z:1,s.pointRangePadding=j*=k,s.pointRange=Math.min(H,s.single&&R?1:f),z&&(s.closestPointRange=Z)}s.translationSlope=s.transA=T=s.staticScale||s.len/(f+j||1),s.transB=s.horiz?s.left:s.bottom,s.minPixelPadding=T*m,l(this,"afterSetAxisTranslation")},N.prototype.minFromRange=function(){return this.max-this.range},N.prototype.setTickInterval=function(s){var f=this.chart,k=this.logarithmic,R=this.options,z=this.isXAxis,H=this.isLinked,m=R.tickPixelInterval,j=this.categories,T=this.softThreshold,Z=R.maxPadding,B=R.minPadding,tt=c(R.tickInterval)&&0<=R.tickInterval?R.tickInterval:void 0,$=c(this.threshold)?this.threshold:null;this.dateTime||j||H||this.getTickAmount();var nt=M(this.userMin,R.min),ot=M(this.userMax,R.max);if(H){this.linkedParent=f[this.coll][R.linkedTo];var pt=this.linkedParent.getExtremes();this.min=M(pt.min,pt.dataMin),this.max=M(pt.max,pt.dataMax),R.type!==this.linkedParent.options.type&&b(11,1,f)}else{if(T&&d($))if(this.dataMin>=$)pt=$,B=0;else if(this.dataMax<=$){var ut=$;Z=0}this.min=M(nt,pt,this.dataMin),this.max=M(ot,ut,this.dataMax)}if(k&&(this.positiveValuesOnly&&!s&&0>=Math.min(this.min,M(this.dataMin,this.min))&&b(10,1,f),this.min=A(k.log2lin(this.min),16),this.max=A(k.log2lin(this.max),16)),this.range&&d(this.max)&&(this.userMin=this.min=nt=Math.max(this.dataMin,this.minFromRange()),this.userMax=ot=this.max,this.range=null),l(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(j||this.axisPointRange||this.stacking&&this.stacking.usePercentage||H)&&d(this.min)&&d(this.max)&&(f=this.max-this.min)&&(!d(nt)&&B&&(this.min-=f*B),!d(ot)&&Z&&(this.max+=f*Z)),c(this.userMin)||(c(R.softMin)&&R.softMin<this.min&&(this.min=nt=R.softMin),c(R.floor)&&(this.min=Math.max(this.min,R.floor))),c(this.userMax)||(c(R.softMax)&&R.softMax>this.max&&(this.max=ot=R.softMax),c(R.ceiling)&&(this.max=Math.min(this.max,R.ceiling))),T&&d(this.dataMin)&&($=$||0,!d(nt)&&this.min<$&&this.dataMin>=$?this.min=this.options.minRange?Math.min($,this.max-this.minRange):$:!d(ot)&&this.max>$&&this.dataMax<=$&&(this.max=this.options.minRange?Math.max($,this.min+this.minRange):$)),c(this.min)&&c(this.max)&&!this.chart.polar&&this.min>this.max&&(d(this.options.min)?this.max=this.min:d(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:H&&this.linkedParent&&!tt&&m===this.linkedParent.options.tickPixelInterval?tt=this.linkedParent.tickInterval:M(tt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,j?1:(this.max-this.min)*m/Math.max(this.len,m)),z&&!s){var ct=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ht){ht.forceCrop=ht.forceCropping&&ht.forceCropping(),ht.processData(ct)}),l(this,"postProcessData",{hasExtemesChanged:ct})}this.setAxisTranslation(),l(this,"initialAxisTranslation"),this.pointRange&&!tt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),s=M(R.minTickInterval,this.dateTime&&!this.series.some(function(ht){return ht.noSharedTooltip})?this.closestPointRange:0),!tt&&this.tickInterval<s&&(this.tickInterval=s),this.dateTime||this.logarithmic||tt||(this.tickInterval=r(this.tickInterval,void 0,p(this.tickInterval),M(R.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},N.prototype.setTickPositions=function(){var s=this.options,f=s.tickPositions,k=this.getMinorTickInterval(),R=this.hasVerticalPanning(),z="colorAxis"===this.coll,H=(z||!R)&&s.startOnTick;R=(z||!R)&&s.endOnTick,z=s.tickPositioner,this.tickmarkOffset=this.categories&&"between"===s.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===k&&this.tickInterval?this.tickInterval/5:k,this.single=this.min===this.max&&d(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==s.allowDecimals),this.tickPositions=k=f&&f.slice(),!k&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?k=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,s.units),this.min,this.max,s.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(k=[this.min,this.max],b(19,!1,this.chart)),k.length>this.len&&(k=[k[0],k.pop()])[0]===k[1]&&(k.length=1),this.tickPositions=k,z&&(z=z.apply(this,[this.min,this.max])))&&(this.tickPositions=k=z),this.paddedTicks=k.slice(0),this.trimTicks(k,H,R),this.isLinked||(this.single&&2>k.length&&!this.categories&&!this.series.some(function(m){return m.is("heatmap")&&"between"===m.options.pointPlacement})&&(this.min-=.5,this.max+=.5),f||z||this.adjustTickAmount()),l(this,"afterSetTickPositions")},N.prototype.trimTicks=function(s,f,k){var R=s[0],z=s[s.length-1],H=!this.isOrdinal&&this.minPointOffset||0;if(l(this,"trimTicks"),!this.isLinked){if(f&&R!==-1/0)this.min=R;else for(;this.min-H>s[0];)s.shift();if(k)this.max=z;else for(;this.max+H<s[s.length-1];)s.pop();0===s.length&&d(R)&&!this.options.tickPositions&&s.push((z+R)/2)}},N.prototype.alignToOthers=function(){var H,s=this,f=[this],k=s.options,R="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,z=[];if(s.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&k.alignTicks||R)&&!1!==k.startOnTick&&!1!==k.endOnTick&&!s.logarithmic){var m=function(Z){var B=Z.options;return[Z.horiz?B.left:B.top,B.width,B.height,B.pane].join()},j=m(this);this.chart[this.coll].forEach(function(Z){var B=Z.series;B.length&&B.some(function(tt){return tt.visible})&&Z!==s&&m(Z)===j&&(H=!0,f.push(Z))})}if(H&&R){f.forEach(function(Z){Z=Z.getThresholdAlignment(s),c(Z)&&z.push(Z)});var T=1<z.length?z.reduce(function(Z,B){return Z+B},0)/z.length:void 0;f.forEach(function(Z){Z.thresholdAlignment=T})}return H},N.prototype.getThresholdAlignment=function(s){if((!c(this.dataMin)||this!==s&&this.series.some(function(f){return f.isDirty||f.isDirtyData}))&&this.getSeriesExtremes(),c(this.threshold))return s=_((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(s=1-s),s},N.prototype.getTickAmount=function(){var s=this.options,f=s.tickPixelInterval,k=s.tickAmount;!d(s.tickInterval)&&!k&&this.len<f&&!this.isRadial&&!this.logarithmic&&s.startOnTick&&s.endOnTick&&(k=2),!k&&this.alignToOthers()&&(k=Math.ceil(this.len/f)+1),4>k&&(this.finalTickAmt=k,k=5),this.tickAmount=k},N.prototype.adjustTickAmount=function(){var s=this,f=s.finalTickAmt,k=s.max,R=s.min,z=s.options,H=s.tickPositions,m=s.tickAmount,j=s.thresholdAlignment,T=H&&H.length,Z=M(s.threshold,s.softThreshold?0:null),B=s.tickInterval;if(c(j)){var tt=.5>j?Math.ceil(j*(m-1)):Math.floor(j*(m-1));z.reversed&&(tt=m-1-tt)}if(s.hasData()&&c(R)&&c(k)){if(j=function(){s.transA*=(T-1)/(m-1),s.min=z.startOnTick?H[0]:Math.min(R,H[0]),s.max=z.endOnTick?H[H.length-1]:Math.max(k,H[H.length-1])},c(tt)&&c(s.threshold)){for(;H[tt]!==Z||H.length!==m||H[0]>R||H[H.length-1]<k;){for(H.length=0,H.push(s.threshold);H.length<m;)void 0===H[tt]||H[tt]>s.threshold?H.unshift(A(H[0]-B)):H.push(A(H[H.length-1]+B));if(B>8*s.tickInterval)break;B*=2}j()}else if(T<m){for(;H.length<m;)H.length%2||R===Z?H.push(A(H[H.length-1]+B)):H.unshift(A(H[0]-B));j()}else T>m&&(s.tickInterval*=2,s.setTickPositions());if(d(f)){for(B=Z=H.length;B--;)(3===f&&B%2==1||2>=f&&0<B&&B<Z-1)&&H.splice(B,1);s.finalTickAmt=void 0}}},N.prototype.setScale=function(){var s=!1,f=!1;this.series.forEach(function(R){s=s||R.isDirtyData||R.isDirty,f=f||R.xAxis&&R.xAxis.isDirty||!1}),this.setAxisSize();var k=this.len!==(this.old&&this.old.len);k||s||f||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=k||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),s&&this.panningState&&(this.panningState.isDirty=!0),l(this,"afterSetScale")},N.prototype.setExtremes=function(s,f,k,R,z){var H=this,m=H.chart;k=M(k,!0),H.series.forEach(function(j){delete j.kdTree}),z=u(z,{min:s,max:f}),l(H,"setExtremes",z,function(){H.userMin=s,H.userMax=f,H.eventArgs=z,k&&m.redraw(R)})},N.prototype.zoom=function(s,f){var k=this,R=this.dataMin,z=this.dataMax,H=this.options,m=Math.min(R,M(H.min,R)),j=Math.max(z,M(H.max,z));return l(this,"zoom",s={newMin:s,newMax:f},function(T){var Z=T.newMin,B=T.newMax;(Z!==k.min||B!==k.max)&&(k.allowZoomOutside||(d(R)&&(Z<m&&(Z=m),Z>j&&(Z=j)),d(z)&&(B<m&&(B=m),B>j&&(B=j))),k.displayBtn=typeof Z<"u"||typeof B<"u",k.setExtremes(Z,B,!1,void 0,{trigger:"zoom"})),T.zoomed=!0}),s.zoomed},N.prototype.setAxisSize=function(){var s=this.chart,f=this.options,k=f.offsets||[0,0,0,0],R=this.horiz,z=this.width=Math.round(L(M(f.width,s.plotWidth-k[3]+k[1]),s.plotWidth)),H=this.height=Math.round(L(M(f.height,s.plotHeight-k[0]+k[2]),s.plotHeight)),m=this.top=Math.round(L(M(f.top,s.plotTop+k[0]),s.plotHeight,s.plotTop));f=this.left=Math.round(L(M(f.left,s.plotLeft+k[3]),s.plotWidth,s.plotLeft)),this.bottom=s.chartHeight-H-m,this.right=s.chartWidth-z-f,this.len=Math.max(R?z:H,0),this.pos=R?f:m},N.prototype.getExtremes=function(){var s=this.logarithmic;return{min:s?A(s.lin2log(this.min)):this.min,max:s?A(s.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},N.prototype.getThreshold=function(s){var f=this.logarithmic,k=f?f.lin2log(this.min):this.min;return f=f?f.lin2log(this.max):this.max,null===s||s===-1/0?s=k:s===1/0?s=f:k>s?s=k:f<s&&(s=f),this.translate(s,0,1,0,1)},N.prototype.autoLabelAlign=function(s){var f=(M(s,0)-90*this.side+720)%360;return l(this,"autoLabelAlign",s={align:"center"},function(k){15<f&&165>f?k.align="right":195<f&&345>f&&(k.align="left")}),s.align},N.prototype.tickSize=function(s){var f=this.options,k=M(f["tick"===s?"tickWidth":"minorTickWidth"],"tick"===s&&this.isXAxis&&!this.categories?1:0),R=f["tick"===s?"tickLength":"minorTickLength"];if(k&&R){"inside"===f[s+"Position"]&&(R=-R);var z=[R,k]}return l(this,"afterTickSize",s={tickSize:z}),s.tickSize},N.prototype.labelMetrics=function(){var s=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[s]&&this.ticks[s].label)},N.prototype.unsquish=function(){var Z,B,s=this.options.labels,f=this.horiz,k=this.tickInterval,R=this.len/(((this.categories?1:0)+this.max-this.min)/k),z=s.rotation,H=this.labelMetrics(),m=Math.max(this.max-this.min,0),j=function(nt){var ot=nt/(R||1);return(ot=1<ot?Math.ceil(ot):1)*k>m&&nt!==1/0&&R!==1/0&&m&&(ot=Math.ceil(m/k)),A(ot*k)},T=k,tt=Number.MAX_VALUE;if(f){if(!s.staggerLines&&!s.step)if(c(z))var $=[z];else R<s.autoRotationLimit&&($=s.autoRotation);$&&$.forEach(function(nt){if(nt===z||nt&&-90<=nt&&90>=nt){var ot=(B=j(Math.abs(H.h/Math.sin(y*nt))))+Math.abs(nt/360);ot<tt&&(tt=ot,Z=nt,T=B)}})}else s.step||(T=j(H.h));return this.autoRotation=$,this.labelRotation=M(Z,c(z)?z:0),T},N.prototype.getSlotWidth=function(s){var f=this.chart,k=this.horiz,R=this.options.labels,z=Math.max(this.tickPositions.length-(this.categories?0:1),1),H=f.margin[3];if(s&&c(s.slotWidth))return s.slotWidth;if(k&&2>R.step)return R.rotation?0:(this.staggerLines||1)*this.len/z;if(!k){if(void 0!==(s=R.style.width))return parseInt(String(s),10);if(H)return H-f.spacing[3]}return.33*f.chartWidth},N.prototype.renderUnsquish=function(){var s=this.chart,f=s.renderer,k=this.tickPositions,R=this.ticks,z=this.options.labels,H=z.style,m=this.horiz,j=this.getSlotWidth(),T=Math.max(1,Math.round(j-2*z.padding)),Z={},B=this.labelMetrics(),tt=H.textOverflow,$=0;if(o(z.rotation)||(Z.rotation=z.rotation||0),k.forEach(function(ut){(ut=R[ut]).movedLabel&&ut.replaceMovedLabel(),ut&&ut.label&&ut.label.textPxLength>$&&($=ut.label.textPxLength)}),this.maxLabelLength=$,this.autoRotation)$>T&&$>B.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(j){var nt=T;if(!tt){var ot="clip";for(T=k.length;!m&&T--;){var pt=k[T];(pt=R[pt].label)&&(pt.styles&&"ellipsis"===pt.styles.textOverflow?pt.css({textOverflow:"clip"}):pt.textPxLength>j&&pt.css({width:j+"px"}),pt.getBBox().height>this.len/k.length-(B.h-B.f)&&(pt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(nt=$>.5*s.chartHeight?.33*s.chartHeight:$,tt||(ot="ellipsis")),(this.labelAlign=z.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),k.forEach(function(ut){var ct=(ut=R[ut])&&ut.label,ht=H.width,st={};ct&&(ct.attr(Z),ut.shortenLabel?ut.shortenLabel():nt&&!ht&&"nowrap"!==H.whiteSpace&&(nt<ct.textPxLength||"SPAN"===ct.element.tagName)?(st.width=nt+"px",tt||(st.textOverflow=ct.specificTextOverflow||ot),ct.css(st)):ct.styles&&ct.styles.width&&!st.width&&!ht&&ct.css({width:null}),delete ct.specificTextOverflow,ut.rotation=Z.rotation)},this),this.tickRotCorr=f.rotCorr(B.b,this.labelRotation||0,0!==this.side)},N.prototype.hasData=function(){return this.series.some(function(s){return s.hasData()})||this.options.showEmpty&&d(this.min)&&d(this.max)},N.prototype.addTitle=function(s){var m,R=this.opposite,z=this.options.title,H=this.chart.styledMode;this.axisTitle||((m=z.textAlign)||(m=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:R?"right":"left",middle:"center",high:R?"left":"right"})[z.align]),this.axisTitle=this.chart.renderer.text(z.text||"",0,0,z.useHTML).attr({zIndex:7,rotation:z.rotation,align:m}).addClass("highcharts-axis-title"),H||this.axisTitle.css(n(z.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),H||z.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[s?"show":"hide"](s)},N.prototype.generateTick=function(s){var f=this.ticks;f[s]?f[s].addLabel():f[s]=new J(this,s)},N.prototype.getOffset=function(){var s=this,f=this,k=f.chart,R=f.horiz,z=f.options,H=f.side,m=f.ticks,j=f.tickPositions,T=f.coll,Z=f.axisParent,B=k.renderer,tt=k.inverted&&!f.isZAxis?[1,0,3,2][H]:H,$=f.hasData(),nt=z.title,ot=z.labels,pt=k.axisOffset;k=k.clipOffset;var ht,ut=[-1,1,1,-1][H],ct=z.className,st=0,F=0,Q=0;if(f.showAxis=ht=$||z.showEmpty,f.staggerLines=f.horiz&&ot.staggerLines||void 0,!f.axisGroup){var it=function(lt,dt,gt){return B.g(lt).attr({zIndex:gt}).addClass("highcharts-"+T.toLowerCase()+dt+" "+(s.isRadial?"highcharts-radial-axis"+dt+" ":"")+(ct||"")).add(Z)};f.gridGroup=it("grid","-grid",z.gridZIndex),f.axisGroup=it("axis","",z.zIndex),f.labelGroup=it("axis-labels","-labels",ot.zIndex)}if($||f.isLinked?(j.forEach(function(lt){f.generateTick(lt)}),f.renderUnsquish(),f.reserveSpaceDefault=0===H||2===H||{1:"left",3:"right"}[H]===f.labelAlign,M(ot.reserveSpace,"center"===f.labelAlign||null,f.reserveSpaceDefault)&&j.forEach(function(lt){Q=Math.max(m[lt].getLabelSize(),Q)}),f.staggerLines&&(Q*=f.staggerLines),f.labelOffset=Q*(f.opposite?-1:1)):a(m,function(lt,dt){lt.destroy(),delete m[dt]}),nt&&nt.text&&!1!==nt.enabled&&(f.addTitle(ht),ht&&!1!==nt.reserveSpace)){f.titleOffset=st=f.axisTitle.getBBox()[R?"height":"width"];var at=nt.offset;F=d(at)?0:M(nt.margin,R?5:10)}f.renderLine(),f.offset=ut*M(z.offset,pt[H]?pt[H]+(z.margin||0):0),f.tickRotCorr=f.tickRotCorr||{x:0,y:0},nt=0===H?-f.labelMetrics().h:2===H?f.tickRotCorr.y:0,$=Math.abs(Q)+F,Q&&($=$-nt+ut*(R?M(ot.y,f.tickRotCorr.y+8*ut):ot.x)),f.axisTitleMargin=M(at,$),f.getMaxLabelDimensions&&(f.maxLabelDimensions=f.getMaxLabelDimensions(m,j)),"colorAxis"!==T&&(R=this.tickSize("tick"),pt[H]=Math.max(pt[H],(f.axisTitleMargin||0)+st+ut*f.offset,$,j&&j.length&&R?R[0]+ut*f.offset:0),z=!f.axisLine||z.offset?0:2*Math.floor(f.axisLine.strokeWidth()/2),k[tt]=Math.max(k[tt],z)),l(this,"afterGetOffset")},N.prototype.getLinePath=function(s){var f=this.chart,k=this.opposite,R=this.offset,z=this.horiz,H=this.left+(k?this.width:0)+R;return R=f.chartHeight-this.bottom-(k?this.height:0)+R,k&&(s*=-1),f.renderer.crispLine([["M",z?this.left:H,z?R:this.top],["L",z?f.chartWidth-this.right:H,z?R:f.chartHeight-this.bottom]],s)},N.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},N.prototype.getTitlePosition=function(){var s=this.horiz,f=this.left,k=this.top,R=this.len,z=this.options.title,H=s?f:k,m=this.opposite,j=this.offset,T=z.x,Z=z.y,B=this.axisTitle,tt=this.chart.renderer.fontMetrics(z.style.fontSize,B);return B=Math.max(B.getBBox(null,0).height-tt.h-1,0),R={low:H+(s?0:R),middle:H+R/2,high:H+(s?R:0)}[z.align],f=(s?k+this.height:f)+(s?1:-1)*(m?-1:1)*this.axisTitleMargin+[-B,B,tt.f,-B][this.side],l(this,"afterGetTitlePosition",{titlePosition:s={x:s?R+T:f+(m?this.width:0)+j+T,y:s?f+Z-(m?this.height:0)+j:R+Z}}),s},N.prototype.renderMinorTick=function(s,f){var k=this.minorTicks;k[s]||(k[s]=new J(this,s,"minor")),f&&k[s].isNew&&k[s].render(null,!0),k[s].render(null,!1,1)},N.prototype.renderTick=function(s,f,k){var R=this.ticks;(!this.isLinked||s>=this.min&&s<=this.max||this.grid&&this.grid.isColumn)&&(R[s]||(R[s]=new J(this,s)),k&&R[s].isNew&&R[s].render(f,!0,-1),R[s].render(f))},N.prototype.render=function(){var ut,ct,s=this,f=s.chart,k=s.logarithmic,R=s.options,z=s.isLinked,H=s.tickPositions,m=s.axisTitle,j=s.ticks,T=s.minorTicks,Z=s.alternateBands,B=R.stackLabels,tt=R.alternateGridColor,$=s.tickmarkOffset,nt=s.axisLine,ot=s.showAxis,pt=I(f.renderer.globalAnimation);if(s.labelEdge.length=0,s.overlap=!1,[j,T,Z].forEach(function(st){a(st,function(F){F.isActive=!1})}),s.hasData()||z){var ht=s.chart.hasRendered&&s.old&&c(s.old.min);s.minorTickInterval&&!s.categories&&s.getMinorTickPositions().forEach(function(st){s.renderMinorTick(st,ht)}),H.length&&(H.forEach(function(st,F){s.renderTick(st,F,ht)}),$&&(0===s.min||s.single)&&(j[-1]||(j[-1]=new J(s,-1,null,!0)),j[-1].render(-1))),tt&&H.forEach(function(st,F){ct=typeof H[F+1]<"u"?H[F+1]+$:s.max-$,F%2==0&&st<s.max&&ct<=s.max+(f.polar?-$:$)&&(Z[st]||(Z[st]=new et.PlotLineOrBand(s)),ut=st+$,Z[st].options={from:k?k.lin2log(ut):ut,to:k?k.lin2log(ct):ct,color:tt,className:"highcharts-alternate-grid"},Z[st].render(),Z[st].isActive=!0)}),s._addedPlotLB||(s._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(st){s.addPlotBandOrLine(st)}))}[j,T,Z].forEach(function(st){var F=[],Q=pt.duration;a(st,function(it,at){it.isActive||(it.render(at,!1,0),it.isActive=!1,F.push(at))}),w(function(){for(var it=F.length;it--;)st[F[it]]&&!st[F[it]].isActive&&(st[F[it]].destroy(),delete st[F[it]])},st!==Z&&f.hasRendered&&Q?Q:0)}),nt&&(nt[nt.isPlaced?"animate":"attr"]({d:this.getLinePath(nt.strokeWidth())}),nt.isPlaced=!0,nt[ot?"show":"hide"](ot)),m&&ot&&(R=s.getTitlePosition(),c(R.y)?(m[m.isNew?"attr":"animate"](R),m.isNew=!1):(m.attr("y",-9999),m.isNew=!0)),B&&B.enabled&&s.stacking&&s.stacking.renderStackTotals(),s.old={len:s.len,max:s.max,min:s.min,transA:s.transA,userMax:s.userMax,userMin:s.userMin},s.isDirty=!1,l(this,"afterRender")},N.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(s){s.render()})),this.series.forEach(function(s){s.isDirty=!0})},N.prototype.getKeepProps=function(){return this.keepProps||N.keepProps},N.prototype.destroy=function(s){var f=this,k=f.plotLinesAndBands,R=this.eventOptions;if(l(this,"destroy",{keepEvents:s}),s||Y(f),[f.ticks,f.minorTicks,f.alternateBands].forEach(function(H){C(H)}),k)for(s=k.length;s--;)k[s].destroy();for(var z in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(H){f[H]&&(f[H]=f[H].destroy())}),f.plotLinesAndBandsGroups)f.plotLinesAndBandsGroups[z]=f.plotLinesAndBandsGroups[z].destroy();a(f,function(H,m){-1===f.getKeepProps().indexOf(m)&&delete f[m]}),this.eventOptions=R},N.prototype.drawCrosshair=function(s,f){var H,k=this.crosshair,R=M(k&&k.snap,!0),z=this.chart,m=this.cross;if(l(this,"drawCrosshair",{e:s,point:f}),s||(s=this.cross&&this.cross.e),k&&!1!==(d(f)||!R)){if(R?d(f)&&(H=M("colorAxis"!==this.coll?f.crosshairPos:null,this.isXAxis?f.plotX:this.len-f.plotY)):H=s&&(this.horiz?s.chartX-this.pos:this.len-s.chartY+this.pos),d(H)){var j={value:f&&(this.isXAxis?f.x:M(f.stackY,f.y)),translatedValue:H};z.polar&&u(j,{isCrosshair:!0,chartX:s&&s.chartX,chartY:s&&s.chartY,point:f}),j=this.getPlotLinePath(j)||null}if(!d(j))return void this.hideCrosshair();R=this.categories&&!this.isRadial,m||(this.cross=m=z.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(R?"category ":"thin ")+(k.className||"")).attr({zIndex:M(k.zIndex,2)}).add(),z.styledMode||(m.attr({stroke:k.color||(R?t.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":M(k.width,1)}).css({"pointer-events":"none"}),k.dashStyle&&m.attr({dashstyle:k.dashStyle}))),m.show().attr({d:j}),R&&!k.width&&m.attr({"stroke-width":this.transA}),this.cross.e=s}else this.hideCrosshair();l(this,"afterDrawCrosshair",{e:s,point:f})},N.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),l(this,"afterHideCrosshair")},N.prototype.hasVerticalPanning=function(){var s=this.chart.options.chart.panning;return!!(s&&s.enabled&&/y/.test(s.type))},N.prototype.validatePositiveValue=function(s){return c(s)&&0<s},N.prototype.update=function(s,f){var k=this.chart;s=n(this.userOptions,s),this.destroy(!0),this.init(k,s),k.isDirtyBox=!0,M(f,!0)&&k.redraw()},N.prototype.remove=function(s){for(var f=this.chart,k=this.coll,R=this.series,z=R.length;z--;)R[z]&&R[z].remove(!1);x(f.axes,this),x(f[k],this),f[k].forEach(function(H,m){H.options.index=H.userOptions.index=m}),this.destroy(),f.isDirtyBox=!0,M(s,!0)&&f.redraw()},N.prototype.setTitle=function(s,f){this.update({title:s},f)},N.prototype.setCategories=function(s,f){this.update({categories:s},f)},N.defaultOptions=W.defaultXAxisOptions,N.keepProps="extKey hcEvents names series userMax userMin".split(" "),N}()}),mt(X,"Core/Axis/DateTimeAxis.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.getMagnitude,V=G.normalizeTickInterval,K=G.timeUnits;return function(J){function U(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function I(y){"datetime"!==y.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new P(this))}var O=[];J.compose=function(y){return-1===O.indexOf(y)&&(O.push(y),y.keepProps.push("dateTime"),y.prototype.getTimeTicks=U,W(y,"init",I)),y};var P=function(){function y(h){this.axis=h}return y.prototype.normalizeTimeTickInterval=function(h,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],A=K[(v=_[_.length-1])[0]],d=v[1];for(C=0;C<_.length&&(A=K[(v=_[C])[0]],d=v[1],!(_[C+1]&&h<=(A*d[d.length-1]+K[_[C+1][0]])/2));C++);return A===K.year&&h<5*A&&(d=[1,2,5]),{unitRange:A,count:h=V(h/A,d,"year"===v[0]?Math.max(t(h/A),1):1),unitName:v[0]}},y.prototype.getXDateFormat=function(h,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,h,_.options.startOfWeek,v)||v.year:v.day},y}();J.Additions=P}(et||(et={})),et}),mt(X,"Core/Axis/LogarithmicAxis.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.getMagnitude,V=G.normalizeTickInterval,K=G.pick;return function(J){function U(y){var h=this.logarithmic;"logarithmic"!==y.userOptions.type?this.logarithmic=void 0:h||(this.logarithmic=new P(this))}function I(){var y=this.logarithmic;y&&(this.lin2val=function(h){return y.lin2log(h)},this.val2lin=function(h){return y.log2lin(h)})}var O=[];J.compose=function(y){return-1===O.indexOf(y)&&(O.push(y),y.keepProps.push("logarithmic"),W(y,"init",U),W(y,"afterInit",I)),y};var P=function(){function y(h){this.axis=h}return y.prototype.getLogTickPositions=function(h,v,_,A){var d=this.axis,C=d.len,x=d.options,b=[];if(A||(this.minorAutoInterval=void 0),.5<=h)h=Math.round(h),b=d.getLinearTickPositions(h,v,_);else if(.08<=h){var l,u=Math.floor(v),p=x=void 0;for(C=.3<h?[1,2,4]:.15<h?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<_+1&&!p;u++){var i=C.length;for(l=0;l<i&&!p;l++){var c=this.log2lin(this.lin2log(u)*C[l]);c>v&&(!A||x<=_)&&typeof x<"u"&&b.push(x),x>_&&(p=!0),x=c}}}else v=this.lin2log(v),_=this.lin2log(_),h=A?d.getMinorTickInterval():x.tickInterval,h=K("auto"===h?null:h,this.minorAutoInterval,x.tickPixelInterval/(A?5:1)*(_-v)/((A?C/d.tickPositions.length:C)||1)),h=V(h,void 0,t(h)),b=d.getLinearTickPositions(h,v,_).map(this.log2lin),A||(this.minorAutoInterval=h/5);return A||(d.tickInterval=h),b},y.prototype.lin2log=function(h){return Math.pow(10,h)},y.prototype.log2lin=function(h){return Math.log(h)/Math.LN10},y}();J.Additions=P}(et||(et={})),et}),mt(X,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[X["Core/Utilities.js"]],function(G){var K,W=G.erase,t=G.extend,V=G.isNumber;return function(et){var U,J=[];et.compose=function(O,P){return U||(U=O),-1===J.indexOf(P)&&(J.push(P),t(P.prototype,I.prototype)),P};var I=function(){function O(){}return O.prototype.getPlotBandPath=function(P,y,h){void 0===h&&(h=this.options);var v=this.getPlotLinePath({value:y,force:!0,acrossPanes:h.acrossPanes}),_=[],A=this.horiz;if(y=!V(this.min)||!V(this.max)||P<this.min&&y<this.min||P>this.max&&y>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:h.acrossPanes}),h=1,P&&v){if(y){var d=P.toString()===v.toString();h=0}for(y=0;y<P.length;y+=2){var C=P[y],x=P[y+1],b=v[y],u=v[y+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==b[0]&&"L"!==b[0]||"M"!==u[0]&&"L"!==u[0]||(A&&b[1]===C[1]?(b[1]+=h,u[1]+=h):A||b[2]!==C[2]||(b[2]+=h,u[2]+=h),_.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",u[1],u[2]],["L",b[1],b[2]],["Z"])),_.isFlat=d}}return _},O.prototype.addPlotBand=function(P){return this.addPlotBandOrLine(P,"plotBands")},O.prototype.addPlotLine=function(P){return this.addPlotBandOrLine(P,"plotLines")},O.prototype.addPlotBandOrLine=function(P,y){var h=this,v=this.userOptions,_=new U(this,P);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(d){h.addPlotBandOrLine(d)})),y){var A=v[y]||[];A.push(P),v[y]=A}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(P){var y=this.plotLinesAndBands,h=this.options,v=this.userOptions;if(y){for(var _=y.length;_--;)y[_].id===P&&y[_].destroy();[h.plotLines||[],v.plotLines||[],h.plotBands||[],v.plotBands||[]].forEach(function(A){for(_=A.length;_--;)(A[_]||{}).id===P&&W(A,A[_])})}},O.prototype.removePlotBand=function(P){this.removePlotBandOrLine(P)},O.prototype.removePlotLine=function(P){this.removePlotBandOrLine(P)},O}()}(K||(K={})),K}),mt(X,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[X["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],X["Core/Utilities.js"]],function(G,W){var t=W.arrayMax,V=W.arrayMin,K=W.defined,et=W.destroyObjectProperties,J=W.erase,U=W.fireEvent,I=W.merge,O=W.objectEach,P=W.pick;return function(){function y(h,v){this.axis=h,v&&(this.options=v,this.id=v.id)}return y.compose=function(h){return G.compose(y,h)},y.prototype.render=function(){U(this,"render");var h=this,v=h.axis,_=v.horiz,A=v.logarithmic,d=h.options,C=d.color,x=P(d.zIndex,0),b=d.events,u={},l=v.chart.renderer,p=d.label,i=h.label,c=d.to,o=d.from,n=d.value,r=h.svgElem,a=[],M=K(o)&&K(c);a=K(n);var L=!r,Y={class:"highcharts-plot-"+(M?"band ":"line ")+(d.className||"")},D=M?"bands":"lines";if(A&&(o=A.log2lin(o),c=A.log2lin(c),n=A.log2lin(n)),v.chart.styledMode||(a?(Y.stroke=C||"#999999",Y["stroke-width"]=P(d.width,1),d.dashStyle&&(Y.dashstyle=d.dashStyle)):M&&(Y.fill=C||"#e6ebf5",d.borderWidth&&(Y.stroke=d.borderColor,Y["stroke-width"]=d.borderWidth))),u.zIndex=x,(A=v.plotLinesAndBandsGroups[D+="-"+x])||(v.plotLinesAndBandsGroups[D]=A=l.g("plot-"+D).attr(u).add()),L&&(h.svgElem=r=l.path().attr(Y).add(A)),a)a=v.getPlotLinePath({value:n,lineWidth:r.strokeWidth(),acrossPanes:d.acrossPanes});else{if(!M)return;a=v.getPlotBandPath(o,c,d)}return!h.eventsAdded&&b&&(O(b,function(w,N){r.on(N,function(s){b[N].apply(h,[s])})}),h.eventsAdded=!0),(L||!r.d)&&a&&a.length?r.attr({d:a}):r&&(a?(r.show(!0),r.animate({d:a})):r.d&&(r.hide(),i&&(h.label=i=i.destroy()))),p&&(K(p.text)||K(p.formatter))&&a&&a.length&&0<v.width&&0<v.height&&!a.isFlat?(p=I({align:_&&M&&"center",x:_?!M&&4:10,verticalAlign:!_&&M&&"middle",y:_?M?16:10:M?6:-4,rotation:_&&!M&&90},p),this.renderLabel(p,a,M,x)):i&&i.hide(),h},y.prototype.renderLabel=function(h,v,_,A){var d=this.axis,C=d.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(h),0,0,h.useHTML).attr({align:h.textAlign||h.align,rotation:h.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(h.className||""),zIndex:A}).add(),d.chart.styledMode||x.css(I({textOverflow:"ellipsis"},h.style))),A=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=V(A),C=V(v),x.align(h,!1,{x:_,y:C,width:t(A)-_,height:t(v)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?d.height-(x.alignAttr.y-d.top):d.width-(x.alignAttr.x-d.left))+"px"}),x.show(!0)},y.prototype.getLabelText=function(h){return K(h.formatter)?h.formatter.call(this):h.text},y.prototype.destroy=function(){J(this.axis.plotLinesAndBands,this),delete this.axis,et(this)},y}()}),mt(X,"Core/Tooltip.js",[X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=G.format,J=W.doc,U=t.distribute,I=K.addEvent,O=K.clamp,P=K.css,y=K.defined,h=K.discardElement,v=K.extend,_=K.fireEvent,A=K.isArray,d=K.isNumber,C=K.isString,x=K.merge,b=K.pick,u=K.splat,l=K.syncTimeout;return function(){function p(i,c){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=i,this.init(i,c)}return p.prototype.applyFilter=function(){var i=this.chart;i.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+i.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},p.prototype.bodyFormatter=function(i){return i.map(function(c){var o=c.series.tooltipOptions;return(o[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,o[(c.point.formatPrefix||"point")+"Format"]||"")})},p.prototype.cleanSplit=function(i){this.chart.series.forEach(function(c){var o=c&&c.tt;o&&(!o.isActive||i?c.tt=o.destroy():o.isActive=!1)})},p.prototype.defaultFormatter=function(i){var c=this.points||u(this),o=[i.tooltipFooterHeaderFormatter(c[0])];return(o=o.concat(i.bodyFormatter(c))).push(i.tooltipFooterHeaderFormatter(c[0],!0)),o},p.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),h(this.container)),K.clearTimeout(this.hideTimer),K.clearTimeout(this.tooltipTimeout)},p.prototype.getAnchor=function(i,c){var L,Y,o=this.chart,n=o.pointer,r=o.inverted,a=o.plotTop,M=o.plotLeft,D=0,w=0;return i=u(i),this.followPointer&&c?(typeof c.chartX>"u"&&(c=n.normalize(c)),n=[c.chartX-M,c.chartY-a]):i[0].tooltipPos?n=i[0].tooltipPos:(i.forEach(function(N){L=N.series.yAxis,D+=N.plotX||0,w+=N.plotLow?(N.plotLow+(N.plotHigh||0))/2:N.plotY||0,(Y=N.series.xAxis)&&L&&(r?(D+=a+o.plotHeight-Y.len-Y.pos,w+=M+o.plotWidth-L.len-L.pos):(D+=Y.pos-M,w+=L.pos-a))}),D/=i.length,w/=i.length,n=[r?o.plotWidth-w:D,r?o.plotHeight-D:w],this.shared&&1<i.length&&c&&(r?n[0]=c.chartX-M:n[1]=c.chartY-a)),n.map(Math.round)},p.prototype.getLabel=function(){var Y,i=this,c=this.chart.styledMode,o=this.options,n=this.split&&this.allowShared,r="tooltip"+(y(o.className)?" "+o.className:""),a=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),M=function(){i.inContact=!0},L=function(R){var z=i.chart.hoverSeries;i.inContact=i.shouldStickOnContact()&&i.chart.pointer.inClass(R.relatedTarget,"highcharts-tooltip"),!i.inContact&&z&&z.onMouseOut&&z.onMouseOut()},D=this.chart.renderer;if(i.label){var w=!i.label.hasClass("highcharts-label");(n&&!w||!n&&w)&&i.destroy()}if(!this.label){if(this.outside){w=this.chart.options.chart.style;var N=V.getRendererType();this.container=Y=W.doc.createElement("div"),Y.className="highcharts-tooltip-container",P(Y,{position:"absolute",top:"1px",pointerEvents:a,zIndex:Math.max(this.options.style.zIndex||0,(w&&w.zIndex||0)+3)}),I(Y,"mouseenter",M),I(Y,"mouseleave",L),W.doc.body.appendChild(Y),this.renderer=D=new N(Y,0,0,w,void 0,void 0,D.styledMode)}if(n?this.label=D.g(r):(this.label=D.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,r).attr({padding:o.padding,r:o.borderRadius}),c||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:a}).shadow(o.shadow)),c&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),i.outside&&!i.split){var s=this.label,f=s.xSetter,k=s.ySetter;s.xSetter=function(R){f.call(s,i.distance),Y.style.left=R+"px"},s.ySetter=function(R){k.call(s,i.distance),Y.style.top=R+"px"}}this.label.on("mouseenter",M).on("mouseleave",L).attr({zIndex:8}).add()}return this.label},p.prototype.getPosition=function(i,c,o){var k,n=this.chart,r=this.distance,a={},M=n.inverted&&o.h||0,L=this.outside,Y=L?J.documentElement.clientWidth-2*r:n.chartWidth,D=L?Math.max(J.body.scrollHeight,J.documentElement.scrollHeight,J.body.offsetHeight,J.documentElement.offsetHeight,J.documentElement.clientHeight):n.chartHeight,w=n.pointer.getChartPosition(),N=function(T){var Z="x"===T;return[T,Z?Y:D,Z?i:c].concat(L?[Z?i*w.scaleX:c*w.scaleY,Z?w.left-r+(o.plotX+n.plotLeft)*w.scaleX:w.top-r+(o.plotY+n.plotTop)*w.scaleY,0,Z?Y:D]:[Z?i:c,Z?o.plotX+n.plotLeft:o.plotY+n.plotTop,Z?n.plotLeft:n.plotTop,Z?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},s=N("y"),f=N("x");N=!!o.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(N=!N);var R=!this.followPointer&&b(o.ttBelow,!n.inverted===N),z=function(T,Z,B,tt,$,nt,ot){var pt=L?"y"===T?r*w.scaleY:r*w.scaleX:r,ut=(B-tt)/2,ct=tt<$-r,ht=$+r+tt<Z,st=$-pt-B+ut;if($=$+pt-ut,R&&ht)a[T]=$;else if(!R&&ct)a[T]=st;else if(ct)a[T]=Math.min(ot-tt,0>st-M?st:st-M);else{if(!ht)return!1;a[T]=Math.max(nt,$+M+B>Z?$:$+M)}},H=function(T,Z,B,tt,$){var nt;return $<r||$>Z-r?nt=!1:a[T]=$<B/2?1:$>Z-tt/2?Z-tt-2:$-B/2,nt},m=function(T){var Z=s;s=f,f=Z,k=T},j=function(){!1!==z.apply(0,s)?!1!==H.apply(0,f)||k||(m(!0),j()):k?a.x=a.y=0:(m(!0),j())};return(n.inverted||1<this.len)&&m(),j(),a},p.prototype.hide=function(i){var c=this;K.clearTimeout(this.hideTimer),i=b(i,this.options.hideDelay),this.isHidden||(this.hideTimer=l(function(){c.getLabel().fadeOut(i&&void 0),c.isHidden=!0},i))},p.prototype.init=function(i,c){this.chart=i,this.options=c,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=c.split&&!i.inverted&&!i.polar,this.shared=c.shared||this.split,this.outside=b(c.outside,!(!i.scrollablePixelsX&&!i.scrollablePixelsY))},p.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},p.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},p.prototype.move=function(i,c,o,n){var r=this,a=r.now,M=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(i-a.x)||1<Math.abs(c-a.y)),L=r.followPointer||1<r.len;v(a,{x:M?(2*a.x+i)/3:i,y:M?(a.y+c)/2:c,anchorX:L?void 0:M?(2*a.anchorX+o)/3:o,anchorY:L?void 0:M?(a.anchorY+n)/2:n}),r.getLabel().attr(a),r.drawTracker(),M&&(K.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(i,c,o,n)},32))},p.prototype.refresh=function(i,c){var o=this.chart,n=this.options,r=u(i),a=r[0],M=[],L=n.formatter||this.defaultFormatter,Y=this.shared,D=o.styledMode,w={};if(n.enabled&&a.series){K.clearTimeout(this.hideTimer),this.allowShared=!(!A(i)&&i.series&&i.series.noSharedTooltip),this.followPointer=!this.split&&a.series.tooltipOptions.followPointer;var N=(i=this.getAnchor(i,c))[0],s=i[1];if(Y&&this.allowShared?(o.pointer.applyInactiveState(r),r.forEach(function(R){R.setState("hover"),M.push(R.getLabelConfig())}),(w={x:a.category,y:a.y}).points=M):w=a.getLabelConfig(),this.len=M.length,L=L.call(w,this),this.distance=b((Y=a.series).tooltipOptions.distance,16),!1===L)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(L,r);else{var f=N,k=s;if(c&&o.pointer.isDirectTouch&&(f=c.chartX-o.plotLeft,k=c.chartY-o.plotTop),!o.polar&&!1!==Y.options.clip&&!r.some(function(R){return R.series.shouldShowTooltip(f,k)}))return void this.hide();c=this.getLabel(),n.style.width&&!D||c.css({width:this.chart.spacingBox.width+"px"}),c.attr({text:L&&L.join?L.join(""):L}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+b(a.colorIndex,Y.colorIndex)),D||c.attr({stroke:n.borderColor||a.color||Y.color||"#666666"}),this.updatePosition({plotX:N,plotY:s,negative:a.negative,ttBelow:a.ttBelow,h:i[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},p.prototype.renderSplit=function(i,c){function o(ht,st,F,Q,it){return void 0===it&&(it=!0),F?(st=tt?0:pt,ht=O(ht-Q/2,T.left,T.right-Q-(n.outside?$:0))):(st-=nt,ht=O(ht=it?ht-Q-H:ht+H,it?ht:T.left,T.right)),{x:ht,y:st}}var n=this,r=n.chart,a=n.chart,M=a.chartWidth,L=a.chartHeight,Y=a.plotHeight,D=a.plotLeft,w=a.plotTop,N=a.pointer,s=a.scrollablePixelsY;s=void 0===s?0:s;var k=a.scrollingContainer,R=(k=void 0===k?{scrollLeft:0,scrollTop:0}:k).scrollLeft;k=k.scrollTop;var z=a.styledMode,H=n.distance,m=n.options,j=n.options.positioner,T=n.outside&&"number"!=typeof a.scrollablePixelsX?J.documentElement.getBoundingClientRect():{left:R,right:R+M,top:k,bottom:k+L},Z=n.getLabel(),B=this.renderer||r.renderer,tt=!(!r.xAxis[0]||!r.xAxis[0].opposite),$=(r=N.getChartPosition()).left;r=r.top;var nt=w+k,ot=0,pt=Y-s;C(i)&&(i=[!1,i]),i=i.slice(0,c.length+1).reduce(function(ht,st,F){if(!1!==st&&""!==st){var Q=(F=c[F-1]||{isHeader:!0,plotX:c[0].plotX,plotY:Y,series:{}}).isHeader,it=Q?n:F.series;st=st.toString();var at=it.tt,lt=F.isHeader,dt=F.series,gt="highcharts-color-"+b(F.colorIndex,dt.colorIndex,"none");if(at||(at={padding:m.padding,r:m.borderRadius},z||(at.fill=m.backgroundColor,at["stroke-width"]=m.borderWidth),at=B.label("",0,0,m[lt?"headerShape":"shape"],void 0,void 0,m.useHTML).addClass((lt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+gt).attr(at).add(Z)),at.isActive=!0,at.attr({text:st}),z||at.css(m.style).shadow(m.shadow).attr({stroke:m.borderColor||F.color||dt.color||"#333333"}),st=(lt=(it=it.tt=at).getBBox()).width+it.strokeWidth(),Q&&(pt+=ot=lt.height,tt&&(nt-=ot)),dt=void 0===(dt=F.plotX)?0:dt,gt=void 0===(gt=F.plotY)?0:gt,at=F.series,F.isHeader){dt=D+dt;var xt=w+Y/2}else{var Ct=at.xAxis,_t=at.yAxis;dt=Ct.pos+O(dt,-H,Ct.len+H),at.shouldShowTooltip(0,_t.pos-w+gt,{ignoreX:!0})&&(xt=_t.pos+gt)}dt=O(dt,T.left-H,T.right+H),"number"==typeof xt?(lt=lt.height+1,gt=j?j.call(n,st,lt,F):o(dt,xt,Q,st),ht.push({align:j?0:void 0,anchorX:dt,anchorY:xt,boxWidth:st,point:F,rank:b(gt.rank,Q?1:0),size:lt,target:gt.y,tt:it,x:gt.x})):it.isActive=!1}return ht},[]),!j&&i.some(function(ht){var st=(n.outside?$:0)+ht.anchorX;return st<T.left&&st+ht.boxWidth<T.right||st<$-T.left+ht.boxWidth&&T.right-st>st})&&(i=i.map(function(ht){var st=o(ht.anchorX,ht.anchorY,ht.point.isHeader,ht.boxWidth,!1);return v(ht,{target:st.y,x:st.x})})),n.cleanSplit(),U(i,pt);var ut=$,ct=$;i.forEach(function(ht){var st=ht.x,F=ht.boxWidth;(ht=ht.isHeader)||(n.outside&&$+st<ut&&(ut=$+st),!ht&&n.outside&&ut+F>ct&&(ct=$+st))}),i.forEach(function(ht){var st=ht.x,F=ht.anchorX,Q=ht.pos,it=ht.point.isHeader;if(Q={visibility:typeof Q>"u"?"hidden":"inherit",x:st,y:Q+nt,anchorX:F,anchorY:ht.anchorY},n.outside&&st<F){var at=$-ut;0<at&&(it||(Q.x=st+at,Q.anchorX=F+at),it&&(Q.x=(ct-ut)/2,Q.anchorX=F+at))}ht.tt.attr(Q)}),i=n.container,s=n.renderer,n.outside&&i&&s&&(a=Z.getBBox(),s.setSize(a.width+a.x,a.height+a.y,!1),i.style.left=ut+"px",i.style.top=r+"px")},p.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var i=this.chart,c=this.label,o=this.shared?i.hoverPoints:i.hoverPoint;if(c&&o){var n={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var r=c.getBBox();o[0]+=i.plotLeft-c.translateX,o[1]+=i.plotTop-c.translateY,n.x=Math.min(0,o[0]),n.y=Math.min(0,o[1]),n.width=0>o[0]?Math.max(Math.abs(o[0]),r.width-o[0]):Math.max(Math.abs(o[0]),r.width),n.height=0>o[1]?Math.max(Math.abs(o[1]),r.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),r.height),this.tracker?this.tracker.attr(n):(this.tracker=c.renderer.rect(n).addClass("highcharts-tracker").add(c),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},p.prototype.styledModeFormat=function(i){return i.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},p.prototype.tooltipFooterHeaderFormatter=function(i,c){var o=i.series,n=o.tooltipOptions,r=o.xAxis,a=r&&r.dateTime,M=n.xDateFormat,L=n[c?"footerFormat":"headerFormat"];return _(this,"headerFormatter",r={isFooter:c,labelConfig:i},function(Y){a&&!M&&d(i.key)&&(M=a.getXDateFormat(i.key,n.dateTimeLabelFormats)),a&&M&&(i.point&&i.point.tooltipDateKeys||["key"]).forEach(function(D){L=L.replace("{point."+D+"}","{point."+D+":"+M+"}")}),o.chart.styledMode&&(L=this.styledModeFormat(L)),Y.text=et(L,{point:i,series:o},this.chart)}),r.text},p.prototype.update=function(i){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,i),this.init(this.chart,x(!0,this.options,i))},p.prototype.updatePosition=function(i){var c=this.chart,o=this.options,n=c.pointer,r=this.getLabel();n=n.getChartPosition();var a=(o.positioner||this.getPosition).call(this,r.width,r.height,i),M=i.plotX+c.plotLeft;i=i.plotY+c.plotTop,this.outside&&(this.renderer.setSize(r.width+(o=o.borderWidth+2*this.distance),r.height+o,!1),(1!==n.scaleX||1!==n.scaleY)&&(P(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),M*=n.scaleX,i*=n.scaleY),M+=n.left-a.x,i+=n.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),M,i)},p}()}),mt(X,"Core/Series/Point.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Animation/AnimationUtilities.js"],X["Core/DefaultOptions.js"],X["Core/FormatUtilities.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=W.animObject,J=t.defaultOptions,U=V.format,I=K.addEvent,O=K.defined,P=K.erase,y=K.extend,h=K.fireEvent,v=K.getNestedProperty,_=K.isArray,A=K.isFunction,d=K.isNumber,C=K.isObject,x=K.merge,b=K.objectEach,u=K.pick,l=K.syncTimeout,p=K.removeEvent,i=K.uniqueKey;return function(){function c(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return c.prototype.animateBeforeDestroy=function(){var o=this,n={x:o.startXPos,opacity:0},r=o.getGraphicalProps();r.singular.forEach(function(a){o[a]=o[a].animate("dataLabel"===a?{x:o[a].startXPos,y:o[a].startYPos,opacity:0}:n)}),r.plural.forEach(function(a){o[a].forEach(function(M){M.element&&M.animate(y({x:o.startXPos},M.startYPos?{x:M.startXPos,y:M.startYPos}:{}))})})},c.prototype.applyOptions=function(o,n){var r=this.series,a=r.options.pointValKey||r.pointValKey;return o=c.prototype.optionsToObject.call(this,o),y(this,o),this.options=this.options?y(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,a&&(this.y=c.prototype.getNestedProperty.call(this,a)),this.formatPrefix=(this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!d(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof n>"u"&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),typeof this.x>"u"&&r?this.x=typeof n>"u"?r.autoIncrement():n:d(o.x)&&r.options.relativeXValue&&(this.x=r.autoIncrement(o.x)),this},c.prototype.destroy=function(){function o(){for(Y in(n.graphic||n.dataLabel||n.dataLabels)&&(p(n),n.destroyElements()),n)n[Y]=null}var n=this,r=n.series,a=r.chart;r=r.options.dataSorting;var Y,M=a.hoverPoints,L=et(n.series.chart.renderer.globalAnimation);n.legendItem&&a.legend.destroyItem(n),M&&(n.setState(),P(M,n),M.length||(a.hoverPoints=null)),n===a.hoverPoint&&n.onMouseOut(),r&&r.enabled?(this.animateBeforeDestroy(),l(o,L.duration)):o(),a.pointCount--},c.prototype.destroyElements=function(o){var n=this;(o=n.getGraphicalProps(o)).singular.forEach(function(r){n[r]=n[r].destroy()}),o.plural.forEach(function(r){n[r].forEach(function(a){a.element&&a.destroy()}),delete n[r]})},c.prototype.firePointEvent=function(o,n,r){var a=this,M=this.series.options;(M.point.events[o]||a.options&&a.options.events&&a.options.events[o])&&a.importEvents(),"click"===o&&M.allowPointSelect&&(r=function(L){a.select&&a.select(null,L.ctrlKey||L.metaKey||L.shiftKey)}),h(a,o,n,r)},c.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},c.prototype.getGraphicalProps=function(o){var M,n=this,r=[],a={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),M=r.length;M--;){var L=r[M];n[L]&&a.singular.push(L)}return["dataLabel","connector"].forEach(function(Y){var D=Y+"s";o[Y]&&n[D]&&a.plural.push(D)}),a},c.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},c.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?v(o,this.options):this[o]},c.prototype.getZone=function(){var o=this.series,n=o.zones;o=o.zoneAxis||"y";var r,a=0;for(r=n[a];this[o]>=r.value;)r=n[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=r&&r.color&&!this.options.color?r.color:this.nonZonedColor,r},c.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},c.prototype.init=function(o,n,r){return this.series=o,this.applyOptions(n,r),this.id=O(this.id)?this.id:i(),this.resolveColor(),o.chart.pointCount++,h(this,"afterInit"),this},c.prototype.optionsToObject=function(o){var n=this.series,r=n.options.keys,a=r||n.pointArrayMap||["y"],M=a.length,L={},Y=0,D=0;if(d(o)||null===o)L[a[0]]=o;else if(_(o))for(!r&&o.length>M&&("string"==(n=typeof o[0])?L.name=o[0]:"number"===n&&(L.x=o[0]),Y++);D<M;)r&&typeof o[Y]>"u"||(0<a[D].indexOf(".")?c.prototype.setNestedProperty(L,o[Y],a[D]):L[a[D]]=o[Y]),Y++,D++;else"object"==typeof o&&(L=o,o.dataLabels&&(n._hasPointLabels=!0),o.marker&&(n._hasPointMarkers=!0));return L},c.prototype.resolveColor=function(){var o=this.series,n=o.chart.styledMode,r=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!n){var a=(r=o.options.colors||o.chart.options.colors)[o.colorCounter];r=r.length}n=o.colorCounter,o.colorCounter++,o.colorCounter===r&&(o.colorCounter=0)}else n||(a=o.color),n=o.colorIndex;this.colorIndex=u(this.options.colorIndex,n),this.color=u(this.options.color,a)},c.prototype.setNestedProperty=function(o,n,r){return r.split(".").reduce(function(a,M,L,Y){return a[M]=Y.length-1===L?n:C(a[M],!0)?a[M]:{},a[M]},o),o},c.prototype.tooltipFormatter=function(o){var n=this.series,r=n.tooltipOptions,a=u(r.valueDecimals,""),M=r.valuePrefix||"",L=r.valueSuffix||"";return n.chart.styledMode&&(o=n.chart.tooltip.styledModeFormat(o)),(n.pointArrayMap||["y"]).forEach(function(Y){Y="{point."+Y,(M||L)&&(o=o.replace(RegExp(Y+"}","g"),M+Y+"}"+L)),o=o.replace(RegExp(Y+"}","g"),Y+":,."+a+"f}")}),U(o,{point:this,series:this.series},n.chart)},c.prototype.update=function(o,n,r,a){function M(){L.applyOptions(o);var f=D&&L.hasDummyGraphic;f=null===L.y?!f:f,D&&f&&(L.graphic=D.destroy(),delete L.hasDummyGraphic),C(o,!0)&&(D&&D.element&&o&&o.marker&&typeof o.marker.symbol<"u"&&(L.graphic=D.destroy()),o&&o.dataLabels&&L.dataLabel&&(L.dataLabel=L.dataLabel.destroy()),L.connector&&(L.connector=L.connector.destroy())),Y.updateParallelArrays(L,s=L.index),N.data[s]=C(N.data[s],!0)||C(o,!0)?L.options:u(o,N.data[s]),Y.isDirty=Y.isDirtyData=!0,!Y.fixedBox&&Y.hasCartesianSeries&&(w.isDirtyBox=!0),"point"===N.legendType&&(w.isDirtyLegend=!0),n&&w.redraw(r)}var s,L=this,Y=L.series,D=L.graphic,w=Y.chart,N=Y.options;n=u(n,!0),!1===a?M():L.firePointEvent("update",{options:o},M)},c.prototype.remove=function(o,n){this.series.removePoint(this.series.data.indexOf(this),o,n)},c.prototype.select=function(o,n){var r=this,a=r.series,M=a.chart;this.selectedStaging=o=u(o,!r.selected),r.firePointEvent(o?"select":"unselect",{accumulate:n},function(){r.selected=r.options.selected=o,a.options.data[a.data.indexOf(r)]=r.options,r.setState(o&&"select"),n||M.getSelectedPoints().forEach(function(L){var Y=L.series;L.selected&&L!==r&&(L.selected=L.options.selected=!1,Y.options.data[Y.data.indexOf(L)]=L.options,L.setState(M.hoverPoints&&Y.options.inactiveOtherPoints?"inactive":""),L.firePointEvent("unselect"))})}),delete this.selectedStaging},c.prototype.onMouseOver=function(o){var n=this.series.chart,r=n.pointer;o=o?r.normalize(o):r.getChartCoordinatesFromPoint(this,n.inverted),r.runPointActions(o,this)},c.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(n){n.setState()}),o.hoverPoints=o.hoverPoint=null},c.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,n=x(o.series.options.point,o.options).events;o.events=n,b(n,function(r,a){A(r)&&I(o,a,r)}),this.hasImportedEvents=!0}},c.prototype.setState=function(o,n){var R,r=this.series,a=this.state,M=r.options.states[o||"normal"]||{},L=J.plotOptions[r.type].marker&&r.options.marker,D=L&&L.states&&L.states[o||"normal"]||{},N=this.marker||{},s=r.chart,f=L&&r.markerAttribs,k=r.halo,z=r.stateMarkerGraphic;if(!((o=o||"")===this.state&&!n||this.selected&&"select"!==o||!1===M.enabled||o&&(!1===D.enabled||L&&!1===L.enabled&&!1===D.enabled)||o&&N.states&&N.states[o]&&!1===N.states[o].enabled)){if(this.state=o,f&&(R=r.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),o&&this.graphic.addClass("highcharts-point-"+o),!s.styledMode){var H=r.pointAttribs(this,o),m=u(s.options.chart.animation,M.animation);r.options.inactiveOtherPoints&&d(H.opacity)&&((this.dataLabels||[]).forEach(function(j){j&&j.animate({opacity:H.opacity},m)}),this.connector&&this.connector.animate({opacity:H.opacity},m)),this.graphic.animate(H,m)}R&&this.graphic.animate(R,u(s.options.chart.animation,D.animation,L.animation)),z&&z.hide()}else o&&D&&(a=N.symbol||r.symbol,z&&z.currentSymbol!==a&&(z=z.destroy()),R&&(z?z[n?"animate":"attr"]({x:R.x,y:R.y}):a&&(r.stateMarkerGraphic=z=s.renderer.symbol(a,R.x,R.y,R.width,R.height).add(r.markerGroup),z.currentSymbol=a)),!s.styledMode&&z&&"inactive"!==this.state&&z.attr(r.pointAttribs(this,o))),z&&(z[o&&this.isInside?"show":"hide"](),z.element.point=this,z.addClass(this.getClassName(),!0));R=(z=this.graphic||z)&&z.visibility||"inherit",(M=M.halo)&&M.size&&z&&"hidden"!==R&&!this.isCluster?(k||(r.halo=k=s.renderer.path().add(z.parentGroup)),k.show()[n?"animate":"attr"]({d:this.haloPath(M.size)}),k.attr({class:"highcharts-halo highcharts-color-"+u(this.colorIndex,r.colorIndex)+(this.className?" "+this.className:""),visibility:R,zIndex:-1}),k.point=this,s.styledMode||k.attr(y({fill:this.color||r.color,"fill-opacity":M.opacity},G.filterUserAttributes(M.attributes||{})))):k&&k.point&&k.point.haloPath&&k.animate({d:k.point.haloPath(0)},null,k.hide),h(this,"afterSetState",{state:o})}},c.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},c}()}),mt(X,"Core/Pointer.js",[X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Tooltip.js"],X["Core/Utilities.js"]],function(G,W,t,V){var K=G.parse,et=W.charts,J=W.noop,U=V.addEvent,I=V.attr,O=V.css,P=V.defined,y=V.extend,h=V.find,v=V.fireEvent,_=V.isNumber,A=V.isObject,d=V.objectEach,C=V.offset,x=V.pick,b=V.splat;return function(){function u(l,p){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=l,this.hasDragged=!1,this.options=p,this.init(l,p)}return u.prototype.applyInactiveState=function(l){var i,p=[];(l||[]).forEach(function(c){p.push(i=c.series),i.linkedParent&&p.push(i.linkedParent),i.linkedSeries&&(p=p.concat(i.linkedSeries)),i.navigatorSeries&&p.push(i.navigatorSeries)}),this.chart.series.forEach(function(c){-1===p.indexOf(c)?c.setState("inactive",!0):c.options.inactiveOtherPoints&&c.setAllPointsToState("inactive")})},u.prototype.destroy=function(){var l=this;this.eventsToUnbind.forEach(function(p){return p()}),this.eventsToUnbind=[],W.chartCount||(u.unbindDocumentMouseUp&&(u.unbindDocumentMouseUp=u.unbindDocumentMouseUp()),u.unbindDocumentTouchEnd&&(u.unbindDocumentTouchEnd=u.unbindDocumentTouchEnd())),clearInterval(l.tooltipTimeout),d(l,function(p,i){l[i]=void 0})},u.prototype.drag=function(l){var p=this.chart,i=p.options.chart,c=this.zoomHor,o=this.zoomVert,n=p.plotLeft,r=p.plotTop,a=p.plotWidth,M=p.plotHeight,L=this.mouseDownX||0,Y=this.mouseDownY||0,D=A(i.panning)?i.panning&&i.panning.enabled:i.panning,w=i.panKey&&l[i.panKey+"Key"],N=l.chartX,s=l.chartY,f=this.selectionMarker;if((!f||!f.touch)&&(N<n?N=n:N>n+a&&(N=n+a),s<r?s=r:s>r+M&&(s=r+M),this.hasDragged=Math.sqrt(Math.pow(L-N,2)+Math.pow(Y-s,2)),10<this.hasDragged)){var k=p.isInsidePlot(L-n,Y-r,{visiblePlotOnly:!0});!p.hasCartesianSeries&&!p.mapView||!this.zoomX&&!this.zoomY||!k||w||f||(this.selectionMarker=f=p.renderer.rect(n,r,c?1:a,o?1:M,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),p.styledMode||f.attr({fill:i.selectionMarkerFill||K("#335cad").setOpacity(.25).get()})),f&&c&&(c=N-L,f.attr({width:Math.abs(c),x:(0<c?0:c)+L})),f&&o&&(c=s-Y,f.attr({height:Math.abs(c),y:(0<c?0:c)+Y})),k&&!f&&D&&p.pan(l,i.panning)}},u.prototype.dragStart=function(l){var p=this.chart;p.mouseIsDown=l.type,p.cancelClick=!1,p.mouseDownX=this.mouseDownX=l.chartX,p.mouseDownY=this.mouseDownY=l.chartY},u.prototype.drop=function(l){var p=this,i=this.chart,c=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,n=o.attr?o.attr("x"):o.x,r=o.attr?o.attr("y"):o.y,a=o.attr?o.attr("width"):o.width,M=o.attr?o.attr("height"):o.height,L={originalEvent:l,xAxis:[],yAxis:[],x:n,y:r,width:a,height:M},Y=!!i.mapView;(this.hasDragged||c)&&(i.axes.forEach(function(D){if(D.zoomEnabled&&P(D.min)&&(c||p[{xAxis:"zoomX",yAxis:"zoomY"}[D.coll]])&&_(n)&&_(r)){var w=D.horiz,N="touchend"===l.type?D.minPixelPadding:0,s=D.toValue((w?n:r)+N);w=D.toValue((w?n+a:r+M)-N),L[D.coll].push({axis:D,min:Math.min(s,w),max:Math.max(s,w)}),Y=!0}}),Y&&v(i,"selection",L,function(D){i.zoom(y(D,c?{animation:!1}:null))})),_(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),c&&this.scaleGroups()}i&&_(i.index)&&(O(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},u.prototype.findNearestKDPoint=function(l,p,i){var n,c=this.chart,o=c.hoverPoint;return c=c.tooltip,o&&c&&c.isStickyOnContact()?o:(l.forEach(function(r){var a=!(r.noSharedTooltip&&p)&&0>r.options.findNearestPointBy.indexOf("y");if(r=r.searchPoint(i,a),(a=A(r,!0)&&r.series)&&!(a=!A(n,!0))){var M=n.dist-r.dist,L=(r.series.group&&r.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);a=0<(0!=(a=n.distX-r.distX)&&p?a:0!==M?M:0!==L?L:n.series.index>r.series.index?-1:1)}a&&(n=r)}),n)},u.prototype.getChartCoordinatesFromPoint=function(l,p){var i=l.series,c=i.xAxis;i=i.yAxis;var o=l.shapeArgs;if(c&&i){var n=x(l.clientX,l.plotX),r=l.plotY||0;return l.isNode&&o&&_(o.x)&&_(o.y)&&(n=o.x,r=o.y),p?{chartX:i.len+i.pos-r,chartY:c.len+c.pos-n}:{chartX:n+c.pos,chartY:r+i.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},u.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var l=this.chart.container,p=C(l);this.chartPosition={left:p.left,top:p.top,scaleX:1,scaleY:1};var i=l.offsetWidth;return l=l.offsetHeight,2<i&&2<l&&(this.chartPosition.scaleX=p.width/i,this.chartPosition.scaleY=p.height/l),this.chartPosition},u.prototype.getCoordinates=function(l){var p={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(i){p[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(l[i.horiz?"chartX":"chartY"])})}),p},u.prototype.getHoverData=function(l,p,i,c,o,n){var r=[];c=!(!c||!l);var a={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:o};v(this,"beforeGetHoverData",a);var M=p&&!p.stickyTracking?[p]:i.filter(function(Y){return a.filter?a.filter(Y):Y.visible&&!(!o&&Y.directTouch)&&x(Y.options.enableMouseTracking,!0)&&Y.stickyTracking}),L=c||!n?l:this.findNearestKDPoint(M,o,n);return p=L&&L.series,L&&(o&&!p.noSharedTooltip?(M=i.filter(function(Y){return a.filter?a.filter(Y):Y.visible&&!(!o&&Y.directTouch)&&x(Y.options.enableMouseTracking,!0)&&!Y.noSharedTooltip})).forEach(function(Y){var D=h(Y.points,function(w){return w.x===L.x&&!w.isNull});A(D)&&(Y.chart.isBoosting&&(D=Y.getPoint(D)),r.push(D))}):r.push(L)),v(this,"afterGetHoverData",a={hoverPoint:L}),{hoverPoint:a.hoverPoint,hoverSeries:p,hoverPoints:r}},u.prototype.getPointFromEvent=function(l){l=l.target;for(var p;l&&!p;)p=l.point,l=l.parentNode;return p},u.prototype.onTrackerMouseOut=function(l){l=l.relatedTarget||l.toElement;var p=this.chart.hoverSeries;this.isDirectTouch=!1,!p||!l||p.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+p.index)&&this.inClass(l,"highcharts-tracker")||p.onMouseOut()},u.prototype.inClass=function(l,p){for(var i;l;){if(i=I(l,"class")){if(-1!==i.indexOf(p))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}l=l.parentElement}},u.prototype.init=function(l,p){this.options=p,this.chart=l,this.runChartClick=!(!p.chart.events||!p.chart.events.click),this.pinchDown=[],this.lastValidTouch={},t&&(l.tooltip=new t(l,p.tooltip),this.followTouchMove=x(p.tooltip.followTouchMove,!0)),this.setDOMEvents()},u.prototype.normalize=function(l,p){var i=l.touches,c=i?i.length?i.item(0):x(i.changedTouches,l.changedTouches)[0]:l;return p||(p=this.getChartPosition()),i=c.pageX-p.left,c=c.pageY-p.top,i/=p.scaleX,c/=p.scaleY,y(l,{chartX:Math.round(i),chartY:Math.round(c)})},u.prototype.onContainerClick=function(l){var p=this.chart,i=p.hoverPoint;l=this.normalize(l);var c=p.plotLeft,o=p.plotTop;p.cancelClick||(i&&this.inClass(l.target,"highcharts-tracker")?(v(i.series,"click",y(l,{point:i})),p.hoverPoint&&i.firePointEvent("click",l)):(y(l,this.getCoordinates(l)),p.isInsidePlot(l.chartX-c,l.chartY-o,{visiblePlotOnly:!0})&&v(p,"click",l)))},u.prototype.onContainerMouseDown=function(l){var p=1==(1&(l.buttons||l.button));l=this.normalize(l),W.isFirefox&&0!==l.button&&this.onContainerMouseMove(l),(typeof l.button>"u"||p)&&(this.zoomOption(l),p&&l.preventDefault&&l.preventDefault(),this.dragStart(l))},u.prototype.onContainerMouseLeave=function(l){var p=et[x(u.hoverChartIndex,-1)],i=this.chart.tooltip;i&&i.shouldStickOnContact()&&this.inClass(l.relatedTarget,"highcharts-tooltip-container")||(l=this.normalize(l),p&&(l.relatedTarget||l.toElement)&&(p.pointer.reset(),p.pointer.chartPosition=void 0),i&&!i.isHidden&&this.reset())},u.prototype.onContainerMouseEnter=function(l){delete this.chartPosition},u.prototype.onContainerMouseMove=function(l){var p=this.chart;l=this.normalize(l),this.setHoverChartIndex(),l.preventDefault||(l.returnValue=!1),("mousedown"===p.mouseIsDown||this.touchSelect(l))&&this.drag(l),p.openMenu||!this.inClass(l.target,"highcharts-tracker")&&!p.isInsidePlot(l.chartX-p.plotLeft,l.chartY-p.plotTop,{visiblePlotOnly:!0})||(this.inClass(l.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(l))},u.prototype.onDocumentTouchEnd=function(l){var p=et[x(u.hoverChartIndex,-1)];p&&p.pointer.drop(l)},u.prototype.onContainerTouchMove=function(l){this.touchSelect(l)?this.onContainerMouseMove(l):this.touch(l)},u.prototype.onContainerTouchStart=function(l){this.touchSelect(l)?this.onContainerMouseDown(l):(this.zoomOption(l),this.touch(l,!0))},u.prototype.onDocumentMouseMove=function(l){var p=this.chart,i=this.chartPosition;l=this.normalize(l,i);var c=p.tooltip;!i||c&&c.isStickyOnContact()||p.isInsidePlot(l.chartX-p.plotLeft,l.chartY-p.plotTop,{visiblePlotOnly:!0})||this.inClass(l.target,"highcharts-tracker")||this.reset()},u.prototype.onDocumentMouseUp=function(l){var p=et[x(u.hoverChartIndex,-1)];p&&p.pointer.drop(l)},u.prototype.pinch=function(l){var p=this,i=p.chart,c=p.pinchDown,o=l.touches||[],n=o.length,r=p.lastValidTouch,a=p.hasZoom,M={},L=1===n&&(p.inClass(l.target,"highcharts-tracker")&&i.runTrackerClick||p.runChartClick),Y={},D=p.selectionMarker;1<n?p.initiated=!0:1===n&&this.followTouchMove&&(p.initiated=!1),a&&p.initiated&&!L&&!1!==l.cancelable&&l.preventDefault(),[].map.call(o,function(w){return p.normalize(w)}),"touchstart"===l.type?([].forEach.call(o,function(w,N){c[N]={chartX:w.chartX,chartY:w.chartY}}),r.x=[c[0].chartX,c[1]&&c[1].chartX],r.y=[c[0].chartY,c[1]&&c[1].chartY],i.axes.forEach(function(w){if(w.zoomEnabled){var N=i.bounds[w.horiz?"h":"v"],s=w.minPixelPadding,f=w.toPixels(Math.min(x(w.options.min,w.dataMin),w.dataMin)),k=w.toPixels(Math.max(x(w.options.max,w.dataMax),w.dataMax)),R=Math.max(f,k);N.min=Math.min(w.pos,Math.min(f,k)-s),N.max=Math.max(w.pos+w.len,R+s)}}),p.res=!0):p.followTouchMove&&1===n?this.runPointActions(p.normalize(l)):c.length&&(v(i,"touchpan",{originalEvent:l},function(){D||(p.selectionMarker=D=y({destroy:J,touch:!0},i.plotBox)),p.pinchTranslate(c,o,M,D,Y,r),p.hasPinched=a,p.scaleGroups(M,Y)}),p.res&&(p.res=!1,this.reset(!1,0)))},u.prototype.pinchTranslate=function(l,p,i,c,o,n){this.zoomHor&&this.pinchTranslateDirection(!0,l,p,i,c,o,n),this.zoomVert&&this.pinchTranslateDirection(!1,l,p,i,c,o,n)},u.prototype.pinchTranslateDirection=function(l,p,i,c,o,n,r,a){var M=this.chart,L=l?"x":"y",Y=l?"X":"Y",D="chart"+Y,w=l?"width":"height",N=M["plot"+(l?"Left":"Top")],s=M.inverted,f=M.bounds[l?"h":"v"],k=1===p.length,R=p[0][D],z=!k&&p[1][D];p=function(){"number"==typeof Z&&20<Math.abs(R-z)&&(j=a||Math.abs(T-Z)/Math.abs(R-z)),m=(N-T)/j+R,H=M["plot"+(l?"Width":"Height")]/j};var H,m,j=a||1,T=i[0][D],Z=!k&&i[1][D];if(p(),(i=m)<f.min){i=f.min;var B=!0}else i+H>f.max&&(i=f.max-H,B=!0);B?(T-=.8*(T-r[L][0]),"number"==typeof Z&&(Z-=.8*(Z-r[L][1])),p()):r[L]=[T,Z],s||(n[L]=m-N,n[w]=H),n=s?1/j:j,o[w]=H,o[L]=i,c[s?l?"scaleY":"scaleX":"scale"+Y]=j,c["translate"+Y]=n*N+(T-n*R)},u.prototype.reset=function(l,p){var i=this.chart,c=i.hoverSeries,o=i.hoverPoint,n=i.hoverPoints,r=i.tooltip,a=r&&r.shared?n:o;l&&a&&b(a).forEach(function(M){M.series.isCartesian&&typeof M.plotX>"u"&&(l=!1)}),l?r&&a&&b(a).length&&(r.refresh(a),r.shared&&n?n.forEach(function(M){M.setState(M.state,!0),M.series.isCartesian&&(M.series.xAxis.crosshair&&M.series.xAxis.drawCrosshair(null,M),M.series.yAxis.crosshair&&M.series.yAxis.drawCrosshair(null,M))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(M){M.crosshair&&o.series[M.coll]===M&&M.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),n&&n.forEach(function(M){M.setState()}),c&&c.onMouseOut(),r&&r.hide(p),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(M){M.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},u.prototype.runPointActions=function(l,p){var i=this.chart,c=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,o=!!c&&c.shared,n=p||i.hoverPoint,r=n&&n.series||i.hoverSeries;p=this.getHoverData(n,r,i.series,(!l||"touchmove"!==l.type)&&(!!p||r&&r.directTouch&&this.isDirectTouch),o,l),n=p.hoverPoint;var a=p.hoverPoints;p=(r=p.hoverSeries)&&r.tooltipOptions.followPointer&&!r.tooltipOptions.split;var M=o&&r&&!r.noSharedTooltip;if(n&&(n!==i.hoverPoint||c&&c.isHidden)){if((i.hoverPoints||[]).forEach(function(L){-1===a.indexOf(L)&&L.setState()}),i.hoverSeries!==r&&r.onMouseOver(),this.applyInactiveState(a),(a||[]).forEach(function(L){L.setState("hover")}),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!n.series)return;i.hoverPoints=a,i.hoverPoint=n,n.firePointEvent("mouseOver",void 0,function(){c&&n&&c.refresh(M?a:n,l)})}else p&&c&&!c.isHidden&&(o=c.getAnchor([{}],l),i.isInsidePlot(o[0],o[1],{visiblePlotOnly:!0})&&c.updatePosition({plotX:o[0],plotY:o[1]}));this.unDocMouseMove||(this.unDocMouseMove=U(i.container.ownerDocument,"mousemove",function(L){var Y=et[u.hoverChartIndex];Y&&Y.pointer.onDocumentMouseMove(L)}),this.eventsToUnbind.push(this.unDocMouseMove)),i.axes.forEach(function(L){var D,Y=x((L.crosshair||{}).snap,!0);Y&&((D=i.hoverPoint)&&D.series[L.coll]===L||(D=h(a,function(w){return w.series&&w.series[L.coll]===L}))),D||!Y?L.drawCrosshair(l,D):L.hideCrosshair()})},u.prototype.scaleGroups=function(l,p){var i=this.chart;i.series.forEach(function(c){var o=l||c.getPlotBox();c.group&&(c.xAxis&&c.xAxis.zoomEnabled||i.mapView)&&(c.group.attr(o),c.markerGroup&&(c.markerGroup.attr(o),c.markerGroup.clip(p?i.clipRect:null)),c.dataLabelsGroup&&c.dataLabelsGroup.attr(o))}),i.clipRect.attr(p||i.clipBox)},u.prototype.setDOMEvents=function(){var l=this,p=this.chart.container,i=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(U(p,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(U(p,"mouseleave",this.onContainerMouseLeave.bind(this))),u.unbindDocumentMouseUp||(u.unbindDocumentMouseUp=U(i,"mouseup",this.onDocumentMouseUp.bind(this)));for(var c=this.chart.renderTo.parentElement;c&&"BODY"!==c.tagName;)this.eventsToUnbind.push(U(c,"scroll",function(){delete l.chartPosition})),c=c.parentElement;W.hasTouch&&(this.eventsToUnbind.push(U(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(U(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),u.unbindDocumentTouchEnd||(u.unbindDocumentTouchEnd=U(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},u.prototype.setHoverChartIndex=function(){var l=this.chart,p=W.charts[x(u.hoverChartIndex,-1)];p&&p!==l&&p.pointer.onContainerMouseLeave({relatedTarget:l.container}),p&&p.mouseIsDown||(u.hoverChartIndex=l.index)},u.prototype.touch=function(l,p){var i=this.chart;if(this.setHoverChartIndex(),1===l.touches.length)if(l=this.normalize(l),i.isInsidePlot(l.chartX-i.plotLeft,l.chartY-i.plotTop,{visiblePlotOnly:!0})&&!i.openMenu){if(p&&this.runPointActions(l),"touchmove"===l.type)var o=!!(p=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(p[0].chartX-l.chartX,2)+Math.pow(p[0].chartY-l.chartY,2));x(o,!0)&&this.pinch(l)}else p&&this.reset();else 2===l.touches.length&&this.pinch(l)},u.prototype.touchSelect=function(l){return!(!this.chart.options.chart.zoomBySingleTouch||!l.touches||1!==l.touches.length)},u.prototype.zoomOption=function(l){var p=this.chart,i=p.options.chart;p=p.inverted;var c=i.zoomType||"";/touch/.test(l.type)&&(c=x(i.pinchType,c)),this.zoomX=l=/x/.test(c),this.zoomY=i=/y/.test(c),this.zoomHor=l&&!p||i&&p,this.zoomVert=i&&!p||l&&p,this.hasZoom=l||i},u}()}),mt(X,"Core/MSPointer.js",[X["Core/Globals.js"],X["Core/Pointer.js"],X["Core/Utilities.js"]],function(G,W,t){function V(){var d=[];return d.item=function(C){return this[C]},h(_,function(C){d.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),d}function K(d,C,x,b){var u=J[W.hoverChartIndex||NaN];"touch"!==d.pointerType&&d.pointerType!==d.MSPOINTER_TYPE_TOUCH||!u||(u=u.pointer,b(d),u[C]({type:x,target:d.currentTarget,preventDefault:I,touches:V()}))}var d,et=this&&this.__extends||(d=function(C,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var l in u)u.hasOwnProperty(l)&&(b[l]=u[l])})(C,x)},function(C,x){function b(){this.constructor=C}d(C,x),C.prototype=null===x?Object.create(x):(b.prototype=x.prototype,new b)}),J=G.charts,U=G.doc,I=G.noop,O=G.win,P=t.addEvent,y=t.css,h=t.objectEach,v=t.removeEvent,_={},A=!!O.PointerEvent;return function(d){function C(){return null!==d&&d.apply(this,arguments)||this}return et(C,d),C.isRequired=function(){return!(G.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,A?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,A?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(U,A?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),d.prototype.destroy.call(this)},C.prototype.init=function(x,b){d.prototype.init.call(this,x,b),this.hasZoom&&y(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){K(x,"onContainerTouchStart","touchstart",function(b){_[b.pointerId]={pageX:b.pageX,pageY:b.pageY,target:b.currentTarget}})},C.prototype.onContainerPointerMove=function(x){K(x,"onContainerTouchMove","touchmove",function(b){_[b.pointerId]={pageX:b.pageX,pageY:b.pageY},_[b.pointerId].target||(_[b.pointerId].target=b.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){K(x,"onDocumentTouchEnd","touchend",function(b){delete _[b.pointerId]})},C.prototype.setDOMEvents=function(){d.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(P)},C}(W)}),mt(X,"Core/Legend/Legend.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Series/Point.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){var J=G.animObject,U=G.setAnimation,I=W.format;G=t.isFirefox;var O=t.marginNames;t=t.win;var P=K.distribute,y=et.addEvent,h=et.createElement,v=et.css,_=et.defined,A=et.discardElement,d=et.find,C=et.fireEvent,x=et.isNumber,b=et.merge,u=et.pick,l=et.relativeLength,p=et.stableSort,i=et.syncTimeout;return K=et.wrap,et=function(){function c(o,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,n)}return c.prototype.init=function(o,n){this.chart=o,this.setOptions(n),n.enabled&&(this.render(),y(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=y(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},c.prototype.setOptions=function(o){var n=u(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=b(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=u(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},c.prototype.update=function(o,n){var r=this.chart;this.setOptions(b(!0,this.options,o)),this.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,u(n,!0)&&r.redraw(),C(this,"afterUpdate")},c.prototype.colorizeItem=function(o,n){if(o.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var r=this.options,a=o.legendItem,M=o.legendLine,L=o.legendSymbol,Y=this.itemHiddenStyle.color;r=n?r.itemStyle.color:Y;var D=n&&o.color||Y,w=o.options&&o.options.marker,N={fill:D};a&&a.css({fill:r,color:r}),M&&M.attr({stroke:D}),L&&(w&&L.isMarker&&(N=o.pointAttribs(),n||(N.stroke=N.fill=Y)),L.attr(N))}C(this,"afterColorizeItem",{item:o,visible:n})},c.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},c.prototype.positionItem=function(o){var n=this,r=this.options,a=r.symbolPadding,M=!r.rtl,L=o._legendItemPos;r=L[0],L=L[1];var Y=o.checkbox,D=o.legendGroup;D&&D.element&&(a={translateX:M?r:this.legendWidth-r-2*a-4,translateY:L},M=function(){C(n,"afterPositionItem",{item:o})},_(D.translateY)?D.animate(a,void 0,M):(D.attr(a),M())),Y&&(Y.x=r,Y.y=L)},c.prototype.destroyItem=function(o){var n=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(r){o[r]&&(o[r]=o[r].destroy())}),n&&A(o.checkbox)},c.prototype.destroy=function(){function o(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(o,n)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},c.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;if(o){var a=o.translateY;this.allItems.forEach(function(M){var L=M.checkbox;if(L){var Y=a+r+L.y+(this.scrollOffset||0)+3;v(L,{left:o.translateX+M.checkboxOffset+L.x-20+"px",top:Y+"px",display:this.proximate||Y>a-6&&Y<a+n-6?"":"none"})}},this)}},c.prototype.renderTitle=function(){var o=this.options,n=this.padding,r=o.title,a=0;r.text&&(this.title||(this.title=this.chart.renderer.label(r.text,n-3,n-4,void 0,void 0,void 0,o.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(r.style),this.title.add(this.group)),r.width||this.title.css({width:this.maxLegendWidth+"px"}),a=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},c.prototype.setText=function(o){var n=this.options;o.legendItem.attr({text:n.labelFormat?I(n.labelFormat,o,this.chart):n.labelFormatter.call(o)})},c.prototype.renderItem=function(o){var n=this.chart,r=n.renderer,a=this.options,M=this.symbolWidth,L=a.symbolPadding||0,Y=this.itemStyle,D=this.itemHiddenStyle,w="horizontal"===a.layout?u(a.itemDistance,20):0,N=!a.rtl,s=!o.series,f=!s&&o.series.drawLegendSymbol?o.series:o,k=f.options,R=this.createCheckboxForItem&&k&&k.showCheckbox,z=a.useHTML,H=o.options.className,m=o.legendItem;k=M+L+w+(R?20:0),m||(o.legendGroup=r.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+o.colorIndex+(H?" "+H:"")+(s?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=m=r.text("",N?M+L:-L,this.baseline||0,z),n.styledMode||m.css(b(o.visible?Y:D)),m.attr({align:N?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=r.fontMetrics(n.styledMode?12:Y.fontSize,m),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,m.attr("y",this.baseline),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,a.squareSymbol&&(this.symbolWidth=u(a.symbolWidth,Math.max(this.symbolHeight,16)),k=this.symbolWidth+L+w+(R?20:0),N&&m.attr("x",this.symbolWidth+L))),f.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,m,z)),R&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!n.styledMode&&Y.width||m.css({width:(a.itemWidth||this.widthOption||n.spacingBox.width)-k+"px"}),this.setText(o),n=m.getBBox(),r=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=a.itemWidth||o.legendItemWidth||n.width+k,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(n.height>1.5*r?n.height:r))},c.prototype.layoutItem=function(o){var n=this.options,r=this.padding,a="horizontal"===n.layout,M=o.itemHeight,L=this.itemMarginBottom,Y=this.itemMarginTop,D=a?u(n.itemDistance,20):0,w=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>w?this.maxItemWidth:o.itemWidth,a&&this.itemX-r+n>w&&(this.itemX=r,this.lastLineHeight&&(this.itemY+=Y+this.lastLineHeight+L),this.lastLineHeight=0),this.lastItemY=Y+this.itemY+L,this.lastLineHeight=Math.max(M,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=n:(this.itemY+=Y+M+L,this.lastLineHeight=M),this.offsetWidth=this.widthOption||Math.max((a?this.itemX-r-(o.checkbox?0:D):n)+r,this.offsetWidth)},c.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(n){var r=n&&n.options;n&&u(r.showInLegend,!_(r.linkedTo)&&void 0,!0)&&(o=o.concat(n.legendItems||("point"===r.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:o}),o},c.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},c.prototype.adjustMargins=function(o,n){var r=this.chart,a=this.options,M=this.getAlignment();M&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(L,Y){L.test(M)&&!_(o[Y])&&(r[O[Y]]=Math.max(r[O[Y]],r.legend[(Y+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][Y]*a[Y%2?"x":"y"]+u(a.margin,12)+n[Y]+(r.titleOffset[Y]||0)))})},c.prototype.proximatePositions=function(){var o=this.chart,n=[],r="left"===this.options.align;this.allItems.forEach(function(a){var M,L=r;if(a.yAxis){a.xAxis.options.reversed&&(L=!L),a.points&&(M=d(L?a.points:a.points.slice(0).reverse(),function(D){return x(D.plotY)})),L=this.itemMarginTop+a.legendItem.getBBox().height+this.itemMarginBottom;var Y=a.yAxis.top-o.plotTop;a.visible?(M=M?M.plotY:a.yAxis.height,M+=Y-.3*L):M=Y+a.yAxis.height,n.push({target:M,size:L,item:a})}},this),P(n,o.plotHeight).forEach(function(a){a.item._legendItemPos&&(a.item._legendItemPos[1]=o.plotTop-o.spacing[0]+a.pos)})},c.prototype.render=function(){var o=this.chart,n=o.renderer,r=this.options,a=this.padding,M=this.getAllItems(),L=this.group,Y=this.box;this.itemX=a,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=l(r.width,o.spacingBox.width-a);var D=o.spacingBox.width-2*a-r.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(D/=2),this.maxLegendWidth=this.widthOption||D,L||(this.group=L=n.g("legend").addClass(r.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(L),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),p(M,function(N,s){return(N.options&&N.options.legendIndex||0)-(s.options&&s.options.legendIndex||0)}),r.reversed&&M.reverse(),this.allItems=M,this.display=D=!!M.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,M.forEach(this.renderItem,this),M.forEach(this.layoutItem,this),M=(this.widthOption||this.offsetWidth)+a;var w=this.lastItemY+this.lastLineHeight+this.titleHeight;w=this.handleOverflow(w),w+=a,Y||(this.box=Y=n.rect().addClass("highcharts-legend-box").attr({r:r.borderRadius}).add(L)),o.styledMode||Y.attr({stroke:r.borderColor,"stroke-width":r.borderWidth||0,fill:r.backgroundColor||"none"}).shadow(r.shadow),0<M&&0<w&&Y[Y.placed?"animate":"attr"](Y.crisp.call({},{x:0,y:0,width:M,height:w},Y.strokeWidth())),Y[D?"show":"hide"](),o.styledMode&&"none"===L.getStyle("display")&&(M=w=0),this.legendWidth=M,this.legendHeight=w,D&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},c.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var n=this.chart,r=this.options,a=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?a+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(a-=n.titleOffset[2]),a!==o.y&&(o=b(o,{y:a})),n.hasRendered||(this.group.placed=!1),this.group.align(b(r,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":r.verticalAlign}),!0,o)},c.prototype.handleOverflow=function(o){var m,j,n=this,r=this.chart,a=r.renderer,M=this.options,L=M.y,Y="top"===M.verticalAlign,D=this.padding,w=M.maxHeight,N=M.navigation,s=u(N.animation,!0),f=N.arrowSize||12,k=this.pages,R=this.allItems,z=function(B){"number"==typeof B?Z.attr({height:B}):Z&&(n.clipRect=Z.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=B?"rect("+D+"px,9999px,"+(D+B)+"px,0)":"auto")},H=function(B){return n[B]=a.circle(0,0,1.3*f).translate(f/2,f/2).add(T),r.styledMode||n[B].attr("fill","rgba(0,0,0,0.0001)"),n[B]};L=r.spacingBox.height+(Y?-L:L)-D;var T=this.nav,Z=this.clipRect;return"horizontal"!==M.layout||"middle"===M.verticalAlign||M.floating||(L/=2),w&&(L=Math.min(L,w)),k.length=0,o&&0<L&&o>L&&!1!==N.enabled?(this.clipHeight=m=Math.max(L-20-this.titleHeight-D,0),this.currentPage=u(this.currentPage,1),this.fullHeight=o,R.forEach(function(B,tt){var $=B._legendItemPos[1],nt=Math.round(B.legendItem.getBBox().height),ot=k.length;(!ot||$-k[ot-1]>m&&(j||$)!==k[ot-1])&&(k.push(j||$),ot++),B.pageIx=ot-1,j&&(R[tt-1].pageIx=ot-1),tt===R.length-1&&$+nt-k[ot-1]>m&&nt<=m&&(k.push($),B.pageIx=ot),$!==j&&(j=$)}),Z||(Z=n.clipRect=a.clipRect(0,D,9999,0),n.contentGroup.clip(Z)),z(m),T||(this.nav=T=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).add(T),H("upTracker").on("click",function(){n.scroll(-1,s)}),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation"),!r.styledMode&&N.style&&this.pager.css(N.style),this.pager.add(T),this.down=a.symbol("triangle-down",0,0,f,f).add(T),H("downTracker").on("click",function(){n.scroll(1,s)})),n.scroll(0),o=L):T&&(z(),this.nav=T.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},c.prototype.scroll=function(o,n){var r=this,a=this.chart,M=this.pages,L=M.length,Y=this.clipHeight,D=this.options.navigation,w=this.pager,N=this.padding,s=this.currentPage+o;s>L&&(s=L),0<s&&(typeof n<"u"&&U(n,a),this.nav.attr({translateX:N,translateY:Y+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(f){f.attr({class:1===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),w.attr({text:s+"/"+L}),[this.down,this.downTracker].forEach(function(f){f.attr({x:18+this.pager.getBBox().width,class:s===L?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),a.styledMode||(this.up.attr({fill:1===s?D.inactiveColor:D.activeColor}),this.upTracker.css({cursor:1===s?"default":"pointer"}),this.down.attr({fill:s===L?D.inactiveColor:D.activeColor}),this.downTracker.css({cursor:s===L?"default":"pointer"})),this.scrollOffset=-M[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=s,this.positionCheckboxes(),o=J(u(n,a.renderer.globalAnimation,!0)),i(function(){C(r,"afterScroll",{currentPage:s})},o.duration))},c.prototype.setItemEvents=function(o,n,r){var a=this,M=a.chart.renderer.boxWrapper,L=o instanceof V,Y="highcharts-legend-"+(L?"point":"series")+"-active",D=a.chart.styledMode,w=function(N){a.allItems.forEach(function(s){o!==s&&[s].concat(s.linkedSeries||[]).forEach(function(f){f.setState(N,!L)})})};(r?[n,o.legendSymbol]:[o.legendGroup]).forEach(function(N){N&&N.on("mouseover",function(){o.visible&&w("inactive"),o.setState("hover"),o.visible&&M.addClass(Y),D||n.css(a.options.itemHoverStyle)}).on("mouseout",function(){a.chart.styledMode||n.css(b(o.visible?a.itemStyle:a.itemHiddenStyle)),w(""),M.removeClass(Y),o.setState()}).on("click",function(s){var f=function(){o.setVisible&&o.setVisible(),w(o.visible?"inactive":"")};M.removeClass(Y),s={browserEvent:s},o.firePointEvent?o.firePointEvent("legendItemClick",s,f):C(o,"legendItemClick",s,f)})})},c.prototype.createCheckboxForItem=function(o){o.checkbox=h("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),y(o.checkbox,"click",function(n){C(o.series||o,"checkboxClick",{checked:n.target.checked,item:o},function(){o.select()})})},c}(),(/Trident\/7\.0/.test(t.navigator&&t.navigator.userAgent)||G)&&K(et.prototype,"positionItem",function(c,o){var n=this,r=function(){o._legendItemPos&&c.call(n,o)};r(),n.bubbleLegend||setTimeout(r)}),et}),mt(X,"Core/Series/SeriesRegistry.js",[X["Core/Globals.js"],X["Core/DefaultOptions.js"],X["Core/Series/Point.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=W.defaultOptions,et=V.error,J=V.extendClass,U=V.merge;return function(O){function P(y,h){var v=K.plotOptions||{},_=h.defaultOptions;h.prototype.pointClass||(h.prototype.pointClass=t),h.prototype.type=y,_&&(v[y]=_),O.seriesTypes[y]=h}O.seriesTypes=G.seriesTypes,O.getSeries=function(y,h){void 0===h&&(h={});var v=y.options.chart,_=O.seriesTypes[v=h.type||v.type||v.defaultSeriesType||""];return O||et(17,!0,y,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(y,h),v},O.registerSeriesType=P,O.seriesType=function(y,h,v,_,A){var d=K.plotOptions||{};return d[y]=U(d[h=h||""],v),P(y,J(O.seriesTypes[h]||function(){},_)),O.seriesTypes[y].prototype.type=y,A&&(O.seriesTypes[y].prototype.pointClass=J(t,A)),O.seriesTypes[y]}}(I||(I={})),I}),mt(X,"Core/Chart/Chart.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/FormatUtilities.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Legend/Legend.js"],X["Core/MSPointer.js"],X["Core/DefaultOptions.js"],X["Core/Pointer.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Time.js"],X["Core/Utilities.js"],X["Core/Renderer/HTML/AST.js"]],function(G,W,t,V,K,et,J,U,I,O,P,y,h,v,_){var A=G.animate,d=G.animObject,C=G.setAnimation,x=t.numberFormat,b=V.registerEventOptions,u=K.charts,l=K.doc,p=K.marginNames,i=K.svg,c=K.win,o=U.defaultOptions,n=U.defaultTime,r=P.seriesTypes,a=v.addEvent,M=v.attr,L=v.cleanRecursively,Y=v.createElement,D=v.css,w=v.defined,N=v.discardElement,s=v.erase,f=v.error,k=v.extend,R=v.find,z=v.fireEvent,H=v.getStyle,m=v.isArray,j=v.isNumber,T=v.isObject,Z=v.isString,B=v.merge,tt=v.objectEach,$=v.pick,nt=v.pInt,ot=v.relativeLength,pt=v.removeEvent,ut=v.splat,ct=v.syncTimeout,ht=v.uniqueKey;return G=function(){function st(F,Q,it){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(F,Q,it)}return st.chart=function(F,Q,it){return new st(F,Q,it)},st.prototype.getArgs=function(F,Q,it){Z(F)||F.nodeName?(this.renderTo=F,this.init(Q,it)):this.init(F,Q)},st.prototype.init=function(F,Q){var it=F.plotOptions||{};z(this,"init",{args:arguments},function(){var at=B(o,F),lt=at.chart;tt(at.plotOptions,function(dt,gt){T(dt)&&(dt.tooltip=it[gt]&&B(it[gt].tooltip)||void 0)}),at.tooltip.userOptions=F.chart&&F.chart.forExport&&F.tooltip.userOptions||F.tooltip,this.userOptions=F,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Q,this.isResizing=0,this.options=at,this.axes=[],this.series=[],this.time=F.time&&Object.keys(F.time).length?new h(F.time):K.time,this.numberFormatter=lt.numberFormatter||x,this.styledMode=lt.styledMode,this.hasCartesianSeries=lt.showAxes,this.index=u.length,u.push(this),K.chartCount++,b(this,lt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,z(this,"afterInit"),this.firstRender()})},st.prototype.initSeries=function(F){var Q=this.options.chart,it=r[Q=F.type||Q.type||Q.defaultSeriesType];return it||f(17,!0,this,{missingModuleFor:Q}),"function"==typeof(Q=new it).init&&Q.init(this,F),Q},st.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(F){F.points||F.data||!F.enabledDataSorting||F.setData(F.options.data,!1)})},st.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(F,Q){return F.linkedSeries.length||Q.linkedSeries.length?Q.linkedSeries.length-F.linkedSeries.length:0})},st.prototype.orderSeries=function(F){var Q=this.series;F=F||0;for(var it=Q.length;F<it;++F)Q[F]&&(Q[F].index=F,Q[F].name=Q[F].getName())},st.prototype.isInsidePlot=function(F,Q,it){void 0===it&&(it={});var at=this.inverted,lt=this.plotBox,dt=this.plotLeft,gt=this.plotTop,xt=this.scrollablePlotBox,Ct=0,_t=0;it.visiblePlotOnly&&this.scrollingContainer&&(Ct=(_t=this.scrollingContainer).scrollLeft,_t=_t.scrollTop);var vt=it.series;if(lt=it.visiblePlotOnly&&xt||lt,F={x:xt=it.inverted?Q:F,y:Q=it.inverted?F:Q,isInsidePlot:!0},!it.ignoreX){var Pt=vt&&(at?vt.yAxis:vt.xAxis)||{pos:dt,len:1/0};(xt=it.paneCoordinates?Pt.pos+xt:dt+xt)>=Math.max(Ct+dt,Pt.pos)&&xt<=Math.min(Ct+dt+lt.width,Pt.pos+Pt.len)||(F.isInsidePlot=!1)}return!it.ignoreY&&F.isInsidePlot&&(at=vt&&(at?vt.xAxis:vt.yAxis)||{pos:gt,len:1/0},(it=it.paneCoordinates?at.pos+Q:gt+Q)>=Math.max(_t+gt,at.pos)&&it<=Math.min(_t+gt+lt.height,at.pos+at.len)||(F.isInsidePlot=!1)),z(this,"afterIsInsidePlot",F),F.isInsidePlot},st.prototype.redraw=function(F){z(this,"beforeRedraw");var Q=this.hasCartesianSeries?this.axes:this.colorAxis||[],it=this.series,at=this.pointer,lt=this.legend,dt=this.userOptions.legend,gt=this.renderer,xt=gt.isHidden(),Ct=[],_t=this.isDirtyBox,vt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&F,this),xt&&this.temporaryDisplay(),this.layOutTitles(),F=it.length;F--;){var Pt=it[F];if(Pt.options.stacking||Pt.options.centerInCategory){var wt=!0;if(Pt.isDirty){var Tt=!0;break}}}if(Tt)for(F=it.length;F--;)(Pt=it[F]).options.stacking&&(Pt.isDirty=!0);it.forEach(function(bt){bt.isDirty&&("point"===bt.options.legendType?("function"==typeof bt.updateTotals&&bt.updateTotals(),vt=!0):dt&&(dt.labelFormatter||dt.labelFormat)&&(vt=!0)),bt.isDirtyData&&z(bt,"updatedData")}),vt&&lt&&lt.options.enabled&&(lt.render(),this.isDirtyLegend=!1),wt&&this.getStacks(),Q.forEach(function(bt){bt.updateNames(),bt.setScale()}),this.getMargins(),Q.forEach(function(bt){bt.isDirty&&(_t=!0)}),Q.forEach(function(bt){var jt=bt.min+","+bt.max;bt.extKey!==jt&&(bt.extKey=jt,Ct.push(function(){z(bt,"afterSetExtremes",k(bt.eventArgs,bt.getExtremes())),delete bt.eventArgs})),(_t||wt)&&bt.redraw()}),_t&&this.drawChartBox(),z(this,"predraw"),it.forEach(function(bt){(_t||bt.isDirty)&&bt.visible&&bt.redraw(),bt.isDirtyData=!1}),at&&at.reset(!0),gt.draw(),z(this,"redraw"),z(this,"render"),xt&&this.temporaryDisplay(!0),Ct.forEach(function(bt){bt.call()})},st.prototype.get=function(F){function Q(dt){return dt.id===F||dt.options&&dt.options.id===F}for(var it=this.series,at=R(this.axes,Q)||R(this.series,Q),lt=0;!at&&lt<it.length;lt++)at=R(it[lt].points||[],Q);return at},st.prototype.getAxes=function(){var F=this,Q=this.options,it=Q.xAxis=ut(Q.xAxis||{});Q=Q.yAxis=ut(Q.yAxis||{}),z(this,"getAxes"),it.forEach(function(at,lt){at.index=lt,at.isX=!0}),Q.forEach(function(at,lt){at.index=lt}),it.concat(Q).forEach(function(at){new W(F,at)}),z(this,"afterGetAxes")},st.prototype.getSelectedPoints=function(){return this.series.reduce(function(F,Q){return Q.getPointsCollection().forEach(function(it){$(it.selectedStaging,it.selected)&&F.push(it)}),F},[])},st.prototype.getSelectedSeries=function(){return this.series.filter(function(F){return F.selected})},st.prototype.setTitle=function(F,Q,it){this.applyDescription("title",F),this.applyDescription("subtitle",Q),this.applyDescription("caption",void 0),this.layOutTitles(it)},st.prototype.applyDescription=function(F,Q){var it=this,at="title"===F?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};at=this.options[F]=B(!this.styledMode&&{style:at},this.options[F],Q);var lt=this[F];lt&&Q&&(this[F]=lt=lt.destroy()),at&&!lt&&((lt=this.renderer.text(at.text,0,0,at.useHTML).attr({align:at.align,class:"highcharts-"+F,zIndex:at.zIndex||4}).add()).update=function(dt){it[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[F]](dt)},this.styledMode||lt.css(at.style),this[F]=lt)},st.prototype.layOutTitles=function(F){var Q=[0,0,0],it=this.renderer,at=this.spacingBox;["title","subtitle","caption"].forEach(function(dt){var _t,gt=this[dt],xt=this.options[dt],Ct=xt.verticalAlign||"top";if(dt="title"===dt?"top"===Ct?-3:0:"top"===Ct?Q[0]+2:0,gt){this.styledMode||(_t=xt.style&&xt.style.fontSize),_t=it.fontMetrics(_t,gt).b,gt.css({width:(xt.width||at.width+(xt.widthAdjust||0))+"px"});var vt=Math.round(gt.getBBox(xt.useHTML).height);gt.align(k({y:"bottom"===Ct?_t:dt+_t,height:vt},xt),!1,"spacingBox"),xt.floating||("top"===Ct?Q[0]=Math.ceil(Q[0]+vt):"bottom"===Ct&&(Q[2]=Math.ceil(Q[2]+vt)))}},this),Q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Q[0]+=this.options.title.margin),Q[2]&&"bottom"===this.options.caption.verticalAlign&&(Q[2]+=this.options.caption.margin);var lt=!this.titleOffset||this.titleOffset.join(",")!==Q.join(",");this.titleOffset=Q,z(this,"afterLayOutTitles"),!this.isDirtyBox&&lt&&(this.isDirtyBox=this.isDirtyLegend=lt,this.hasRendered&&$(F,!0)&&this.isDirtyBox&&this.redraw())},st.prototype.getChartSize=function(){var F=this.options.chart,Q=F.width;F=F.height;var it=this.renderTo;w(Q)||(this.containerWidth=H(it,"width")),w(F)||(this.containerHeight=H(it,"height")),this.chartWidth=Math.max(0,Q||this.containerWidth||600),this.chartHeight=Math.max(0,ot(F,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},st.prototype.temporaryDisplay=function(F){var Q=this.renderTo;if(F)for(;Q&&Q.style;)Q.hcOrigStyle&&(D(Q,Q.hcOrigStyle),delete Q.hcOrigStyle),Q.hcOrigDetached&&(l.body.removeChild(Q),Q.hcOrigDetached=!1),Q=Q.parentNode;else for(;Q&&Q.style&&(l.body.contains(Q)||Q.parentNode||(Q.hcOrigDetached=!0,l.body.appendChild(Q)),("none"===H(Q,"display",!1)||Q.hcOricDetached)&&(Q.hcOrigStyle={display:Q.style.display,height:Q.style.height,overflow:Q.style.overflow},F={display:"block",overflow:"hidden"},Q!==this.renderTo&&(F.height=0),D(Q,F),Q.offsetWidth||Q.style.setProperty("display","block","important")),(Q=Q.parentNode)!==l.body););},st.prototype.setClassName=function(F){this.container.className="highcharts-container "+(F||"")},st.prototype.getContainer=function(){var at,F=this.options,Q=F.chart,it=ht(),lt=this.renderTo;lt||(this.renderTo=lt=Q.renderTo),Z(lt)&&(this.renderTo=lt=l.getElementById(lt)),lt||f(13,!0,this);var dt=nt(M(lt,"data-highcharts-chart"));j(dt)&&u[dt]&&u[dt].hasRendered&&u[dt].destroy(),M(lt,"data-highcharts-chart",this.index),lt.innerHTML=_.emptyHTML,Q.skipClone||lt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),dt=this.chartWidth;var gt=this.chartHeight;if(D(lt,{overflow:"hidden"}),this.styledMode||(at=k({position:"relative",overflow:"hidden",width:dt+"px",height:gt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Q.style||{})),this.container=it=Y("div",{id:it},at,lt),this._cursor=it.style.cursor,this.renderer=new(Q.renderer||!i?O.getRendererType(Q.renderer):y)(it,dt,gt,void 0,Q.forExport,F.exporting&&F.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(Q.className),this.styledMode)for(var xt in F.defs)this.renderer.definition(F.defs[xt]);else this.renderer.setStyle(Q.style);this.renderer.chartIndex=this.index,z(this,"afterGetContainer")},st.prototype.getMargins=function(F){var Q=this.spacing,it=this.margin,at=this.titleOffset;this.resetMargins(),at[0]&&!w(it[0])&&(this.plotTop=Math.max(this.plotTop,at[0]+Q[0])),at[2]&&!w(it[2])&&(this.marginBottom=Math.max(this.marginBottom,at[2]+Q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(it,Q),z(this,"getMargins"),F||this.getAxisMargins()},st.prototype.getAxisMargins=function(){var F=this,Q=F.axisOffset=[0,0,0,0],it=F.colorAxis,at=F.margin,lt=function(dt){dt.forEach(function(gt){gt.visible&&gt.getOffset()})};F.hasCartesianSeries?lt(F.axes):it&&it.length&&lt(it),p.forEach(function(dt,gt){w(at[gt])||(F[dt]+=Q[gt])}),F.setChartSize()},st.prototype.reflow=function(F){var Q=this,it=Q.options.chart,at=Q.renderTo,lt=w(it.width)&&w(it.height),dt=it.width||H(at,"width");it=it.height||H(at,"height"),at=F?F.target:c,delete Q.pointer.chartPosition,!lt&&!Q.isPrinting&&dt&&it&&(at===c||at===l)&&((dt!==Q.containerWidth||it!==Q.containerHeight)&&(v.clearTimeout(Q.reflowTimeout),Q.reflowTimeout=ct(function(){Q.container&&Q.setSize(void 0,void 0,!1)},F?100:0)),Q.containerWidth=dt,Q.containerHeight=it)},st.prototype.setReflow=function(F){var Q=this;!1===F||this.unbindReflow?!1===F&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=a(c,"resize",function(it){Q.options&&Q.reflow(it)}),a(this,"destroy",this.unbindReflow))},st.prototype.setSize=function(F,Q,it){var at=this,lt=at.renderer;at.isResizing+=1,C(it,at),it=lt.globalAnimation,at.oldChartHeight=at.chartHeight,at.oldChartWidth=at.chartWidth,typeof F<"u"&&(at.options.chart.width=F),typeof Q<"u"&&(at.options.chart.height=Q),at.getChartSize(),at.styledMode||(it?A:D)(at.container,{width:at.chartWidth+"px",height:at.chartHeight+"px"},it),at.setChartSize(!0),lt.setSize(at.chartWidth,at.chartHeight,it),at.axes.forEach(function(dt){dt.isDirty=!0,dt.setScale()}),at.isDirtyLegend=!0,at.isDirtyBox=!0,at.layOutTitles(),at.getMargins(),at.redraw(it),at.oldChartHeight=null,z(at,"resize"),ct(function(){at&&z(at,"endResize",null,function(){--at.isResizing})},d(it).duration)},st.prototype.setChartSize=function(F){var Ct,_t,vt,Pt,Q=this.inverted,it=this.renderer,at=this.chartWidth,lt=this.chartHeight,dt=this.options.chart,gt=this.spacing,xt=this.clipOffset;this.plotLeft=Ct=Math.round(this.plotLeft),this.plotTop=_t=Math.round(this.plotTop),this.plotWidth=vt=Math.max(0,Math.round(at-Ct-this.marginRight)),this.plotHeight=Pt=Math.max(0,Math.round(lt-_t-this.marginBottom)),this.plotSizeX=Q?Pt:vt,this.plotSizeY=Q?vt:Pt,this.plotBorderWidth=dt.plotBorderWidth||0,this.spacingBox=it.spacingBox={x:gt[3],y:gt[0],width:at-gt[3]-gt[1],height:lt-gt[0]-gt[2]},this.plotBox=it.plotBox={x:Ct,y:_t,width:vt,height:Pt},Q=2*Math.floor(this.plotBorderWidth/2),at=Math.ceil(Math.max(Q,xt[3])/2),lt=Math.ceil(Math.max(Q,xt[0])/2),this.clipBox={x:at,y:lt,width:Math.floor(this.plotSizeX-Math.max(Q,xt[1])/2-at),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Q,xt[2])/2-lt))},F||(this.axes.forEach(function(wt){wt.setAxisSize(),wt.setAxisTranslation()}),it.alignElements()),z(this,"afterSetChartSize",{skipAxes:F})},st.prototype.resetMargins=function(){z(this,"resetMargins");var F=this,Q=F.options.chart;["margin","spacing"].forEach(function(it){var at=Q[it],lt=T(at)?at:[at,at,at,at];["Top","Right","Bottom","Left"].forEach(function(dt,gt){F[it][gt]=$(Q[it+dt],lt[gt])})}),p.forEach(function(it,at){F[it]=$(F.margin[at],F.spacing[at])}),F.axisOffset=[0,0,0,0],F.clipOffset=[0,0,0,0]},st.prototype.drawChartBox=function(){var Wt,F=this.options.chart,Q=this.renderer,it=this.chartWidth,at=this.chartHeight,lt=this.styledMode,dt=this.plotBGImage,gt=F.backgroundColor,xt=F.plotBackgroundColor,Ct=F.plotBackgroundImage,_t=this.plotLeft,vt=this.plotTop,Pt=this.plotWidth,wt=this.plotHeight,Tt=this.plotBox,bt=this.clipRect,jt=this.clipBox,Nt=this.chartBackground,Lt=this.plotBackground,Ut=this.plotBorder,It="animate";if(Nt||(this.chartBackground=Nt=Q.rect().addClass("highcharts-background").add(),It="attr"),lt)var Gt=Wt=Nt.strokeWidth();else Wt=(Gt=F.borderWidth||0)+(F.shadow?8:0),gt={fill:gt||"none"},(Gt||Nt["stroke-width"])&&(gt.stroke=F.borderColor,gt["stroke-width"]=Gt),Nt.attr(gt).shadow(F.shadow);Nt[It]({x:Wt/2,y:Wt/2,width:it-Wt-Gt%2,height:at-Wt-Gt%2,r:F.borderRadius}),It="animate",Lt||(It="attr",this.plotBackground=Lt=Q.rect().addClass("highcharts-plot-background").add()),Lt[It](Tt),lt||(Lt.attr({fill:xt||"none"}).shadow(F.plotShadow),Ct&&(dt?(Ct!==dt.attr("href")&&dt.attr("href",Ct),dt.animate(Tt)):this.plotBGImage=Q.image(Ct,_t,vt,Pt,wt).add())),bt?bt.animate({width:jt.width,height:jt.height}):this.clipRect=Q.clipRect(jt),It="animate",Ut||(It="attr",this.plotBorder=Ut=Q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),lt||Ut.attr({stroke:F.plotBorderColor,"stroke-width":F.plotBorderWidth||0,fill:"none"}),Ut[It](Ut.crisp({x:_t,y:vt,width:Pt,height:wt},-Ut.strokeWidth())),this.isDirtyBox=!1,z(this,"afterDrawChartBox")},st.prototype.propFromSeries=function(){var at,lt,dt,F=this,Q=F.options.chart,it=F.options.series;["inverted","angular","polar"].forEach(function(gt){for(lt=r[Q.type||Q.defaultSeriesType],dt=Q[gt]||lt&&lt.prototype[gt],at=it&&it.length;!dt&&at--;)(lt=r[it[at].type])&&lt.prototype[gt]&&(dt=!0);F[gt]=dt})},st.prototype.linkSeries=function(){var F=this,Q=F.series;Q.forEach(function(it){it.linkedSeries.length=0}),Q.forEach(function(it){var at=it.options.linkedTo;Z(at)&&(at=":previous"===at?F.series[it.index-1]:F.get(at))&&at.linkedParent!==it&&(at.linkedSeries.push(it),it.linkedParent=at,at.enabledDataSorting&&it.setDataSortingOptions(),it.visible=$(it.options.visible,at.options.visible,it.visible))}),z(this,"afterLinkSeries")},st.prototype.renderSeries=function(){this.series.forEach(function(F){F.translate(),F.render()})},st.prototype.renderLabels=function(){var F=this,Q=F.options.labels;Q.items&&Q.items.forEach(function(it){var at=k(Q.style,it.style),lt=nt(at.left)+F.plotLeft,dt=nt(at.top)+F.plotTop+12;delete at.left,delete at.top,F.renderer.text(it.html,lt,dt).attr({zIndex:2}).css(at).add()})},st.prototype.render=function(){var F=this.axes,Q=this.colorAxis,it=this.renderer,at=this.options,lt=function(_t){_t.forEach(function(vt){vt.visible&&vt.render()})},dt=0;this.setTitle(),this.legend=new et(this,at.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),at=this.plotWidth,F.some(function(_t){if(_t.horiz&&_t.visible&&_t.options.labels.enabled&&_t.series.length)return dt=21,!0});var gt=this.plotHeight=Math.max(this.plotHeight-dt,0);F.forEach(function(_t){_t.setScale()}),this.getAxisMargins();var xt=1.1<at/this.plotWidth,Ct=1.05<gt/this.plotHeight;(xt||Ct)&&(F.forEach(function(_t){(_t.horiz&&xt||!_t.horiz&&Ct)&&_t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?lt(F):Q&&Q.length&&lt(Q),this.seriesGroup||(this.seriesGroup=it.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},st.prototype.addCredits=function(F){var Q=this,it=B(!0,this.options.credits,F);it.enabled&&!this.credits&&(this.credits=this.renderer.text(it.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){it.href&&(c.location.href=it.href)}).attr({align:it.position.align,zIndex:8}),Q.styledMode||this.credits.css(it.style),this.credits.add().align(it.position),this.credits.update=function(at){Q.credits=Q.credits.destroy(),Q.addCredits(at)})},st.prototype.destroy=function(){var dt,F=this,Q=F.axes,it=F.series,at=F.container,lt=at&&at.parentNode;for(z(F,"destroy"),F.renderer.forExport?s(u,F):u[F.index]=void 0,K.chartCount--,F.renderTo.removeAttribute("data-highcharts-chart"),pt(F),dt=Q.length;dt--;)Q[dt]=Q[dt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),dt=it.length;dt--;)it[dt]=it[dt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(gt){var xt=F[gt];xt&&xt.destroy&&(F[gt]=xt.destroy())}),at&&(at.innerHTML=_.emptyHTML,pt(at),lt&&N(at)),tt(F,function(gt,xt){delete F[xt]})},st.prototype.firstRender=function(){var F=this,Q=F.options;(!F.isReadyToRender||F.isReadyToRender())&&(F.getContainer(),F.resetMargins(),F.setChartSize(),F.propFromSeries(),F.getAxes(),(m(Q.series)?Q.series:[]).forEach(function(it){F.initSeries(it)}),F.linkSeries(),F.setSeriesData(),z(F,"beforeRender"),I&&(F.pointer=J.isRequired()?new J(F,Q):new I(F,Q)),F.render(),F.pointer.getChartPosition(),!F.renderer.imgCount&&!F.hasLoaded&&F.onload(),F.temporaryDisplay(!0))},st.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(F){F&&typeof this.index<"u"&&F.apply(this,[this])},this),z(this,"load"),z(this,"render"),w(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},st.prototype.addSeries=function(F,Q,it){var lt,at=this;return F&&(Q=$(Q,!0),z(at,"addSeries",{options:F},function(){lt=at.initSeries(F),at.isDirtyLegend=!0,at.linkSeries(),lt.enabledDataSorting&&lt.setData(F.data,!1),z(at,"afterAddSeries",{series:lt}),Q&&at.redraw(it)})),lt},st.prototype.addAxis=function(F,Q,it,at){return this.createAxis(Q?"xAxis":"yAxis",{axis:F,redraw:it,animation:at})},st.prototype.addColorAxis=function(F,Q,it){return this.createAxis("colorAxis",{axis:F,redraw:Q,animation:it})},st.prototype.createAxis=function(F,Q){return F=new W(this,B(Q.axis,{index:this[F].length,isX:"xAxis"===F})),$(Q.redraw,!0)&&this.redraw(Q.animation),F},st.prototype.showLoading=function(F){var Q=this,it=Q.options,at=it.loading,lt=function(){dt&&D(dt,{left:Q.plotLeft+"px",top:Q.plotTop+"px",width:Q.plotWidth+"px",height:Q.plotHeight+"px"})},dt=Q.loadingDiv,gt=Q.loadingSpan;dt||(Q.loadingDiv=dt=Y("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Q.container)),gt||(Q.loadingSpan=gt=Y("span",{className:"highcharts-loading-inner"},null,dt),a(Q,"redraw",lt)),dt.className="highcharts-loading",_.setElementHTML(gt,$(F,it.lang.loading,"")),Q.styledMode||(D(dt,k(at.style,{zIndex:10})),D(gt,at.labelStyle),Q.loadingShown||(D(dt,{opacity:0,display:""}),A(dt,{opacity:at.style.opacity||.5},{duration:at.showDuration||0}))),Q.loadingShown=!0,lt()},st.prototype.hideLoading=function(){var F=this.options,Q=this.loadingDiv;Q&&(Q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||A(Q,{opacity:0},{duration:F.loading.hideDuration||100,complete:function(){D(Q,{display:"none"})}})),this.loadingShown=!1},st.prototype.update=function(F,Q,it,at){var Ct,_t,lt=this,dt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},gt=F.isResponsiveOptions,xt=[];z(lt,"update",{options:F}),gt||lt.setResponsive(!1,!0),F=L(F,lt.options),lt.userOptions=B(lt.userOptions,F);var vt=F.chart;if(vt){if(B(!0,lt.options.chart,vt),"className"in vt&&lt.setClassName(vt.className),"reflow"in vt&&lt.setReflow(vt.reflow),"inverted"in vt||"polar"in vt||"type"in vt){lt.propFromSeries();var Pt=!0}"alignTicks"in vt&&(Pt=!0),"events"in vt&&b(this,vt),tt(vt,function(wt,Tt){-1!==lt.propsRequireUpdateSeries.indexOf("chart."+Tt)&&(Ct=!0),-1!==lt.propsRequireDirtyBox.indexOf(Tt)&&(lt.isDirtyBox=!0),-1!==lt.propsRequireReflow.indexOf(Tt)&&(gt?lt.isDirtyBox=!0:_t=!0)}),!lt.styledMode&&vt.style&&lt.renderer.setStyle(lt.options.chart.style||{})}!lt.styledMode&&F.colors&&(this.options.colors=F.colors),F.time&&(this.time===n&&(this.time=new h(F.time)),B(!0,lt.options.time,F.time)),tt(F,function(wt,Tt){lt[Tt]&&"function"==typeof lt[Tt].update?lt[Tt].update(wt,!1):"function"==typeof lt[dt[Tt]]?lt[dt[Tt]](wt):"colors"!==Tt&&-1===lt.collectionsWithUpdate.indexOf(Tt)&&B(!0,lt.options[Tt],F[Tt]),"chart"!==Tt&&-1!==lt.propsRequireUpdateSeries.indexOf(Tt)&&(Ct=!0)}),this.collectionsWithUpdate.forEach(function(wt){if(F[wt]){var Tt=[];lt[wt].forEach(function(bt,jt){bt.options.isInternal||Tt.push($(bt.options.index,jt))}),ut(F[wt]).forEach(function(bt,jt){var Lt,Nt=w(bt.id);Nt&&(Lt=lt.get(bt.id)),!Lt&&lt[wt]&&(Lt=lt[wt][Tt?Tt[jt]:jt])&&Nt&&w(Lt.options.id)&&(Lt=void 0),Lt&&Lt.coll===wt&&(Lt.update(bt,!1),it&&(Lt.touched=!0)),!Lt&&it&&lt.collectionsWithInit[wt]&&(lt.collectionsWithInit[wt][0].apply(lt,[bt].concat(lt.collectionsWithInit[wt][1]||[]).concat([!1])).touched=!0)}),it&&lt[wt].forEach(function(bt){bt.touched||bt.options.isInternal?delete bt.touched:xt.push(bt)})}}),xt.forEach(function(wt){wt.chart&&wt.remove&&wt.remove(!1)}),Pt&&lt.axes.forEach(function(wt){wt.update({},!1)}),Ct&&lt.getSeriesOrderByLinks().forEach(function(wt){wt.chart&&wt.update({},!1)},this),Pt=vt&&vt.width,vt=vt&&(Z(vt.height)?ot(vt.height,Pt||lt.chartWidth):vt.height),_t||j(Pt)&&Pt!==lt.chartWidth||j(vt)&&vt!==lt.chartHeight?lt.setSize(Pt,vt,at):$(Q,!0)&&lt.redraw(at),z(lt,"afterUpdate",{options:F,redraw:Q,animation:at})},st.prototype.setSubtitle=function(F,Q){this.applyDescription("subtitle",F),this.layOutTitles(Q)},st.prototype.setCaption=function(F,Q){this.applyDescription("caption",F),this.layOutTitles(Q)},st.prototype.showResetZoom=function(){function F(){Q.zoomOut()}var Q=this,it=o.lang,at=Q.options.chart.resetZoomButton,lt=at.theme,dt=lt.states,gt="chart"===at.relativeTo||"spacingBox"===at.relativeTo?null:"scrollablePlotBox";z(this,"beforeShowResetZoom",null,function(){Q.resetZoomButton=Q.renderer.button(it.resetZoom,null,null,F,lt,dt&&dt.hover).attr({align:at.position.align,title:it.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(at.position,!1,gt)}),z(this,"afterShowResetZoom")},st.prototype.zoomOut=function(){z(this,"selection",{resetSelection:!0},this.zoom)},st.prototype.zoom=function(F){var dt,Q=this,it=Q.pointer,at=Q.inverted?it.mouseDownX:it.mouseDownY,lt=!1;!F||F.resetSelection?(Q.axes.forEach(function(xt){dt=xt.zoom()}),it.initiated=!1):F.xAxis.concat(F.yAxis).forEach(function(xt){var Ct=xt.axis,_t=Q.inverted?Ct.left:Ct.top,Pt=Ct.isXAxis,wt=!1;(!Pt&&at>=_t&&at<=(Q.inverted?_t+Ct.width:_t+Ct.height)||Pt||!w(at))&&(wt=!0),it[Pt?"zoomX":"zoomY"]&&wt&&(dt=Ct.zoom(xt.min,xt.max),Ct.displayBtn&&(lt=!0))});var gt=Q.resetZoomButton;lt&&!gt?Q.showResetZoom():!lt&&T(gt)&&(Q.resetZoomButton=gt.destroy()),dt&&Q.redraw($(Q.options.chart.animation,F&&F.animation,100>Q.pointCount))},st.prototype.pan=function(F,Q){var it=this,at=it.hoverPoints;Q="object"==typeof Q?Q:{enabled:Q,type:"x"};var lt=it.options.chart,dt=it.options.mapNavigation&&it.options.mapNavigation.enabled;lt&&lt.panning&&(lt.panning=Q);var xt,gt=Q.type;z(this,"pan",{originalEvent:F},function(){at&&at.forEach(function(vt){vt.setState()});var Ct=it.xAxis;"xy"===gt?Ct=Ct.concat(it.yAxis):"y"===gt&&(Ct=it.yAxis);var _t={};Ct.forEach(function(vt){if(vt.options.panningEnabled&&!vt.options.isInternal){var Pt=vt.horiz,wt=F[Pt?"chartX":"chartY"],Tt=it[Pt=Pt?"mouseDownX":"mouseDownY"],bt=vt.minPointOffset||0,jt=vt.reversed&&!it.inverted||!vt.reversed&&it.inverted?-1:1,Nt=vt.getExtremes(),Lt=vt.toValue(Tt-wt,!0)+bt*jt,Ut=vt.toValue(Tt+vt.len-wt,!0)-(bt*jt||vt.isXAxis&&vt.pointRangePadding||0),Wt=Ut<Lt;jt=vt.hasVerticalPanning(),Tt=Wt?Ut:Lt,Lt=Wt?Lt:Ut;var It=vt.panningState;!jt||vt.isXAxis||It&&!It.isDirty||vt.series.forEach(function(Gt){var Qt=Gt.getProcessedData(!0);Qt=Gt.getExtremes(Qt.yData,!0),It||(It={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),j(Qt.dataMin)&&j(Qt.dataMax)&&(It.startMin=Math.min($(Gt.options.threshold,1/0),Qt.dataMin,It.startMin),It.startMax=Math.max($(Gt.options.threshold,-1/0),Qt.dataMax,It.startMax))}),jt=Math.min($(It&&It.startMin,Nt.dataMin),bt?Nt.min:vt.toValue(vt.toPixels(Nt.min)-vt.minPixelPadding)),Ut=Math.max($(It&&It.startMax,Nt.dataMax),bt?Nt.max:vt.toValue(vt.toPixels(Nt.max)+vt.minPixelPadding)),vt.panningState=It,vt.isOrdinal||(0<(bt=jt-Tt)&&(Lt+=bt,Tt=jt),0<(bt=Lt-Ut)&&(Lt=Ut,Tt-=bt),vt.series.length&&Tt!==Nt.min&&Lt!==Nt.max&&Tt>=jt&&Lt<=Ut&&(vt.setExtremes(Tt,Lt,!1,!1,{trigger:"pan"}),it.resetZoomButton||dt||Tt===jt||Lt===Ut||!gt.match("y")||(it.showResetZoom(),vt.displayBtn=!1),xt=!0),_t[Pt]=wt)}}),tt(_t,function(vt,Pt){it[Pt]=vt}),xt&&it.redraw(!1),D(it.container,{cursor:"move"})})},st}(),k(G.prototype,{callbacks:[],collectionsWithInit:{xAxis:[G.prototype.addAxis,[!0]],yAxis:[G.prototype.addAxis,[!1]],series:[G.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),G}),mt(X,"Core/Legend/LegendSymbol.js",[X["Core/Utilities.js"]],function(G){var V,K,W=G.merge,t=G.pick;return(K=V||(V={})).drawLineMarker=function(et){var J=this.options,U=et.symbolWidth,I=et.symbolHeight,O=I/2,P=this.chart.renderer,y=this.legendGroup;et=et.baseline-Math.round(.3*et.fontMetrics.b);var h={},v=J.marker;this.chart.styledMode||(h={"stroke-width":J.lineWidth||0},J.dashStyle&&(h.dashstyle=J.dashStyle)),this.legendLine=P.path([["M",0,et],["L",U,et]]).addClass("highcharts-graph").attr(h).add(y),v&&!1!==v.enabled&&U&&(J=Math.min(t(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=W(v,{width:I,height:I}),J=0),this.legendSymbol=U=P.symbol(this.symbol,U/2-J,et-J,2*J,2*J,v).addClass("highcharts-point").add(y),U.isMarker=!0)},K.drawRectangle=function(et,J){var U=et.symbolHeight,I=et.options.squareSymbol;J.legendSymbol=this.chart.renderer.rect(I?(et.symbolWidth-U)/2:0,et.baseline-U+1,I?U:et.symbolWidth,U,t(et.options.symbolRadius,U/2)).addClass("highcharts-point").attr({zIndex:3}).add(J.legendGroup)},V}),mt(X,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),mt(X,"Core/Series/Series.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/DefaultOptions.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/Point.js"],X["Core/Series/SeriesDefaults.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I,O){var P=G.animObject,y=G.setAnimation,h=W.defaultOptions,v=t.registerEventOptions,_=V.hasTouch,A=V.svg,d=V.win,C=U.seriesTypes,x=O.addEvent,b=O.arrayMax,u=O.arrayMin,l=O.clamp,p=O.cleanRecursively,i=O.correctFloat,c=O.defined,o=O.erase,n=O.error,r=O.extend,a=O.find,M=O.fireEvent,L=O.getNestedProperty,Y=O.isArray,D=O.isNumber,w=O.isString,N=O.merge,s=O.objectEach,f=O.pick,k=O.removeEvent,R=O.splat,z=O.syncTimeout;return G=function(){function H(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return H.prototype.init=function(m,j){M(this,"init",{options:j});var T=this,Z=m.series;this.eventsToUnbind=[],T.chart=m,T.options=T.setOptions(j),j=T.options,T.linkedSeries=[],T.bindAxes(),r(T,{name:j.name,state:"",visible:!1!==j.visible,selected:!0===j.selected}),v(this,j);var tt,B=j.events;(B&&B.click||j.point&&j.point.events&&j.point.events.click||j.allowPointSelect)&&(m.runTrackerClick=!0),T.getColor(),T.getSymbol(),T.parallelArrays.forEach(function($){T[$+"Data"]||(T[$+"Data"]=[])}),T.isCartesian&&(m.hasCartesianSeries=!0),Z.length&&(tt=Z[Z.length-1]),T._i=f(tt&&tt._i,-1)+1,T.opacity=T.options.opacity,m.orderSeries(this.insert(Z)),j.dataSorting&&j.dataSorting.enabled?T.setDataSortingOptions():T.points||T.data||T.setData(j.data,!1),M(this,"afterInit")},H.prototype.is=function(m){return C[m]&&this instanceof C[m]},H.prototype.insert=function(m){var T,j=this.options.index;if(D(j)){for(T=m.length;T--;)if(j>=f(m[T].options.index,m[T]._i)){m.splice(T+1,0,this);break}-1===T&&m.unshift(this),T+=1}else m.push(this);return f(T,m.length-1)},H.prototype.bindAxes=function(){var Z,m=this,j=m.options,T=m.chart;M(this,"bindAxes",null,function(){(m.axisTypes||[]).forEach(function(B){var tt=0;T[B].forEach(function($){Z=$.options,(j[B]===tt&&!Z.isInternal||typeof j[B]<"u"&&j[B]===Z.id||typeof j[B]>"u"&&0===Z.index)&&(m.insert($.series),m[B]=$,$.isDirty=!0),Z.isInternal||tt++}),m[B]||m.optionalAxis===B||n(18,!0,T)})}),M(this,"afterBindAxes")},H.prototype.updateParallelArrays=function(m,j){var T=m.series,Z=arguments,B=D(j)?function(tt){var $="y"===tt&&T.toYData?T.toYData(m):m[tt];T[tt+"Data"][j]=$}:function(tt){Array.prototype[j].apply(T[tt+"Data"],Array.prototype.slice.call(Z,2))};T.parallelArrays.forEach(B)},H.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},H.prototype.autoIncrement=function(m){var $,j=this.options,T=j.pointIntervalUnit,Z=j.relativeXValue,B=this.chart.time,tt=this.xIncrement;return tt=f(tt,j.pointStart,0),this.pointInterval=$=f(this.pointInterval,j.pointInterval,1),Z&&D(m)&&($*=m),T&&(j=new B.Date(tt),"day"===T?B.set("Date",j,B.get("Date",j)+$):"month"===T?B.set("Month",j,B.get("Month",j)+$):"year"===T&&B.set("FullYear",j,B.get("FullYear",j)+$),$=j.getTime()-tt),Z&&D(m)?tt+$:(this.xIncrement=tt+$,tt)},H.prototype.setDataSortingOptions=function(){var m=this.options;r(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),c(m.pointRange)||(m.pointRange=1)},H.prototype.setOptions=function(m){var j=this.chart,T=j.options,Z=T.plotOptions,B=j.userOptions||{};m=N(m),j=j.styledMode;var tt={plotOptions:Z,userOptions:m};M(this,"setOptions",tt);var $=tt.plotOptions[this.type],nt=B.plotOptions||{};return this.userOptions=tt.userOptions,B=N($,Z.series,B.plotOptions&&B.plotOptions[this.type],m),this.tooltipOptions=N(h.tooltip,h.plotOptions.series&&h.plotOptions.series.tooltip,h.plotOptions[this.type].tooltip,T.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,m.tooltip),this.stickyTracking=f(m.stickyTracking,nt[this.type]&&nt[this.type].stickyTracking,nt.series&&nt.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||B.stickyTracking),null===$.marker&&delete B.marker,this.zoneAxis=B.zoneAxis,Z=this.zones=(B.zones||[]).slice(),!B.negativeColor&&!B.negativeFillColor||B.zones||(T={value:B[this.zoneAxis+"Threshold"]||B.threshold||0,className:"highcharts-negative"},j||(T.color=B.negativeColor,T.fillColor=B.negativeFillColor),Z.push(T)),Z.length&&c(Z[Z.length-1].value)&&Z.push(j?{}:{color:this.color,fillColor:this.fillColor}),M(this,"afterSetOptions",{options:B}),B},H.prototype.getName=function(){return f(this.options.name,"Series "+(this.index+1))},H.prototype.getCyclic=function(m,j,T){var Z=this.chart,B=this.userOptions,tt=m+"Index",$=m+"Counter",nt=T?T.length:f(Z.options.chart[m+"Count"],Z[m+"Count"]);if(!j){var ot=f(B[tt],B["_"+tt]);c(ot)||(Z.series.length||(Z[$]=0),B["_"+tt]=ot=Z[$]%nt,Z[$]+=1),T&&(j=T[ot])}typeof ot<"u"&&(this[tt]=ot),this[m]=j},H.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||h.plotOptions[this.type].color,this.chart.options.colors)},H.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},H.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},H.prototype.findPointIndex=function(m,j){var $,nt,T=m.id,Z=m.x,B=this.points,tt=this.options.dataSorting;if(T)(tt=this.chart.get(T))instanceof et&&($=tt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&($=function(pt){return!pt.touched&&pt.index===m.index},tt&&tt.matchByName?$=function(pt){return!pt.touched&&pt.name===m.name}:this.options.relativeXValue&&($=function(pt){return!pt.touched&&pt.options.x===m.x}),!($=a(B,$))))return;if($){var ot=$&&$.index;typeof ot<"u"&&(nt=!0)}return typeof ot>"u"&&D(Z)&&(ot=this.xData.indexOf(Z,j)),-1!==ot&&typeof ot<"u"&&this.cropped&&(ot=ot>=this.cropStart?ot-this.cropStart:ot),!nt&&D(ot)&&B[ot]&&B[ot].touched&&(ot=void 0),ot},H.prototype.updateData=function(m,j){var ot,pt,ut,T=this.options,Z=T.dataSorting,B=this.points,tt=[],$=this.requireSorting,nt=m.length===B.length,ct=!0;if(this.xIncrement=null,m.forEach(function(ht,st){var F=c(ht)&&this.pointClass.prototype.optionsToObject.call({series:this},ht)||{};F.id||D(F.x)?(-1===(F=this.findPointIndex(F,ut))||typeof F>"u"?tt.push(ht):B[F]&&ht!==T.data[F]?(B[F].update(ht,!1,null,!1),B[F].touched=!0,$&&(ut=F+1)):B[F]&&(B[F].touched=!0),(!nt||st!==F||Z&&Z.enabled||this.hasDerivedData)&&(ot=!0)):tt.push(ht)},this),ot)for(m=B.length;m--;)(pt=B[m])&&!pt.touched&&pt.remove&&pt.remove(!1,j);else!nt||Z&&Z.enabled?ct=!1:(m.forEach(function(ht,st){ht!==B[st].y&&B[st].update&&B[st].update(ht,!1,null,!1)}),tt.length=0);return B.forEach(function(ht){ht&&(ht.touched=!1)}),!!ct&&(tt.forEach(function(ht){this.addPoint(ht,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=b(this.xData),this.autoIncrement()),!0)},H.prototype.setData=function(m,j,T,Z){var B=this,tt=B.points,$=tt&&tt.length||0,nt=B.options,ot=B.chart,pt=nt.dataSorting,ut=B.xAxis,ct=nt.turboThreshold,ht=this.xData,st=this.yData,F=B.pointArrayMap;F=F&&F.length;var it,Q=nt.keys,at=0,lt=1,dt=null,gt=(m=m||[]).length;if(j=f(j,!0),pt&&pt.enabled&&(m=this.sortData(m)),!1!==Z&&gt&&$&&!B.cropped&&!B.hasGroupedData&&B.visible&&!B.isSeriesBoosting&&(it=this.updateData(m,T)),!it){if(B.xIncrement=null,B.colorCounter=0,this.parallelArrays.forEach(function(xt){B[xt+"Data"].length=0}),ct&&gt>ct)if(dt=B.getFirstValidPoint(m),D(dt))for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T];else if(Y(dt))if(F)if(dt.length===F)for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T];else for(T=0;T<gt;T++)ht[T]=(Z=m[T])[0],st[T]=Z.slice(1,F+1);else if(Q&&(at=0<=(at=Q.indexOf("x"))?at:0,lt=0<=(lt=Q.indexOf("y"))?lt:1),1===dt.length&&(lt=0),at===lt)for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T][lt];else for(T=0;T<gt;T++)ht[T]=(Z=m[T])[at],st[T]=Z[lt];else n(12,!1,ot);else for(T=0;T<gt;T++)typeof m[T]<"u"&&(B.pointClass.prototype.applyOptions.apply(Z={series:B},[m[T]]),B.updateParallelArrays(Z,T));for(st&&w(st[0])&&n(14,!0,ot),B.data=[],B.options.data=B.userOptions.data=m,T=$;T--;)tt[T]&&tt[T].destroy&&tt[T].destroy();ut&&(ut.minRange=ut.userMinRange),B.isDirty=ot.isDirtyBox=!0,B.isDirtyData=!!tt,T=!1}"point"===nt.legendType&&(this.processData(),this.generatePoints()),j&&ot.redraw(T)},H.prototype.sortData=function(m){var j=this,T=j.options.dataSorting.sortKey||"y",Z=function(B,tt){return c(tt)&&B.pointClass.prototype.optionsToObject.call({series:B},tt)||{}};return m.forEach(function(B,tt){m[tt]=Z(j,B),m[tt].index=tt},this),m.concat().sort(function(B,tt){return B=L(T,B),(tt=L(T,tt))<B?-1:tt>B?1:0}).forEach(function(B,tt){B.x=tt},this),j.linkedSeries&&j.linkedSeries.forEach(function(B){var tt=B.options,$=tt.data;tt.dataSorting&&tt.dataSorting.enabled||!$||($.forEach(function(nt,ot){$[ot]=Z(B,nt),m[ot]&&($[ot].x=m[ot].x,$[ot].index=ot)}),B.setData($,!1))}),m},H.prototype.getProcessedData=function(m){var j=this.xAxis,T=this.options,Z=T.cropThreshold,B=m||this.getExtremesFromAll||T.getExtremesFromAll,tt=this.isCartesian;m=j&&j.val2lin,T=!(!j||!j.logarithmic);var $=0,nt=this.xData,ot=this.yData,pt=this.requireSorting,ut=!1,ct=nt.length;if(j){var ht=(ut=j.getExtremes()).min,st=ut.max;ut=!(!j.categories||j.names.length)}if(tt&&this.sorted&&!B&&(!Z||ct>Z||this.forceCrop))if(nt[ct-1]<ht||nt[0]>st)nt=[],ot=[];else if(this.yData&&(nt[0]<ht||nt[ct-1]>st)){var F=this.cropData(this.xData,this.yData,ht,st);nt=F.xData,ot=F.yData,$=F.start,F=!0}for(Z=nt.length||1;--Z;)if(0<(j=T?m(nt[Z])-m(nt[Z-1]):nt[Z]-nt[Z-1])&&(typeof Q>"u"||j<Q))var Q=j;else 0>j&&pt&&!ut&&(n(15,!1,this.chart),pt=!1);return{xData:nt,yData:ot,cropped:F,cropStart:$,closestPointRange:Q}},H.prototype.processData=function(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;m=this.getProcessedData(),this.cropped=m.cropped,this.cropStart=m.cropStart,this.processedXData=m.xData,this.processedYData=m.yData,this.closestPointRange=this.basePointRange=m.closestPointRange,M(this,"afterProcessData")},H.prototype.cropData=function(m,j,T,Z,B){var $,tt=m.length,nt=0,ot=tt;for(B=f(B,this.cropShoulder),$=0;$<tt;$++)if(m[$]>=T){nt=Math.max(0,$-B);break}for(T=$;T<tt;T++)if(m[T]>Z){ot=T+B;break}return{xData:m.slice(nt,ot),yData:j.slice(nt,ot),start:nt,end:ot}},H.prototype.generatePoints=function(){var m=this.options,j=this.processedData||m.data,T=this.processedXData,Z=this.processedYData,B=this.pointClass,tt=T.length,$=this.cropStart||0,nt=this.hasGroupedData,ot=m.keys,pt=[];m=m.dataGrouping&&m.dataGrouping.groupAll?$:0;var ut,ct,ht=this.data;if(!ht&&!nt){var st=[];st.length=j.length,ht=this.data=st}for(ot&&nt&&(this.options.keys=!1),ct=0;ct<tt;ct++){if(st=$+ct,nt){var F=(new B).init(this,[T[ct]].concat(R(Z[ct])));F.dataGroup=this.groupMap[m+ct],F.dataGroup.options&&(F.options=F.dataGroup.options,r(F,F.dataGroup.options),delete F.dataLabels)}else(F=ht[st])||typeof j[st]>"u"||(ht[st]=F=(new B).init(this,j[st],T[ct]));F&&(F.index=nt?m+ct:st,pt[ct]=F)}if(this.options.keys=ot,ht&&(tt!==(ut=ht.length)||nt))for(ct=0;ct<ut;ct++)ct!==$||nt||(ct+=tt),ht[ct]&&(ht[ct].destroyElements(),ht[ct].plotX=void 0);this.data=ht,this.points=pt,M(this,"afterGeneratePoints")},H.prototype.getXExtremes=function(m){return{min:u(m),max:b(m)}},H.prototype.getExtremes=function(m,j){var T=this.xAxis,Z=this.yAxis,B=this.processedXData||this.xData,tt=[],$=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var nt,ot=0,pt=0,ut=0,ct=(m=m||this.stackedYData||this.processedYData||[]).length;if(T){var ht=T.getExtremes();ot=ht.min,pt=ht.max}for(nt=0;nt<ct;nt++){var st=B[nt],F=(D(ht=m[nt])||Y(ht))&&(ht.length||0<ht||!Z);if(st=j||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!T||(B[nt+$]||st)>=ot&&(B[nt-$]||st)<=pt,F&&st)if(F=ht.length)for(;F--;)D(ht[F])&&(tt[ut++]=ht[F]);else tt[ut++]=ht}return m={activeYData:tt,dataMin:u(tt),dataMax:b(tt)},M(this,"afterGetExtremes",{dataExtremes:m}),m},H.prototype.applyExtremes=function(){var m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m},H.prototype.getFirstValidPoint=function(m){for(var j=m.length,T=0,Z=null;null===Z&&T<j;)Z=m[T],T++;return Z},H.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var st,F,m=this.options,j=m.stacking,T=this.xAxis,Z=T.categories,B=this.enabledDataSorting,tt=this.yAxis,$=this.points,nt=$.length,ot=this.pointPlacementToXValue(),pt=!!ot,ut=m.threshold,ct=m.startFromThreshold?ut:0,ht=this.zoneAxis||"y",Q=Number.MAX_VALUE;for(st=0;st<nt;st++){var it=$[st],at=it.x,lt=void 0,dt=void 0,gt=it.y,xt=it.low,Ct=j&&tt.stacking&&tt.stacking.stacks[(this.negStacks&&gt<(ct?0:ut)?"-":"")+this.stackKey];if((tt.positiveValuesOnly&&!tt.validatePositiveValue(gt)||T.positiveValuesOnly&&!T.validatePositiveValue(at))&&(it.isNull=!0),it.plotX=F=i(l(T.translate(at,0,0,0,1,ot,"flags"===this.type),-1e5,1e5)),j&&this.visible&&Ct&&Ct[at]){var _t=this.getStackIndicator(_t,at,this.index);it.isNull||(dt=(lt=Ct[at]).points[_t.key])}if(Y(dt)&&(gt=dt[1],(xt=dt[0])===ct&&_t.key===Ct[at].base&&(xt=f(D(ut)&&ut,tt.min)),tt.positiveValuesOnly&&0>=xt&&(xt=null),it.total=it.stackTotal=lt.total,it.percentage=lt.total&&it.y/lt.total*100,it.stackY=gt,this.irregularWidths||lt.setOffset(this.pointXOffset||0,this.barW||0)),it.yBottom=c(xt)?l(tt.translate(xt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(gt=this.dataModify.modifyValue(gt,st)),it.plotY=void 0,D(gt)&&typeof(lt=tt.translate(gt,!1,!0,!1,!0))<"u"&&(it.plotY=l(lt,-1e5,1e5)),it.isInside=this.isPointInside(it),it.clientX=pt?i(T.translate(at,0,0,0,1,ot)):F,it.negative=it[ht]<(m[ht+"Threshold"]||ut||0),it.category=f(Z&&Z[it.x],it.x),!it.isNull&&!1!==it.visible){typeof vt<"u"&&(Q=Math.min(Q,Math.abs(F-vt)));var vt=F}it.zone=this.zones.length?it.getZone():void 0,!it.graphic&&this.group&&B&&(it.isNew=!0)}this.closestPointRangePx=Q,M(this,"afterTranslate")},H.prototype.getValidPoints=function(m,j,T){var Z=this.chart;return(m||this.points||[]).filter(function(B){return!(j&&!Z.isInsidePlot(B.plotX,B.plotY,{inverted:Z.inverted}))&&!1!==B.visible&&(T||!B.isNull)})},H.prototype.getClipBox=function(){var m=this.chart,j=this.xAxis,T=this.yAxis,Z=N(m.clipBox);return j&&j.len!==m.plotSizeX&&(Z.width=j.len),T&&T.len!==m.plotSizeY&&(Z.height=T.len),Z},H.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},H.prototype.setClip=function(){var m=this.chart,j=this.group,T=this.markerGroup,Z=m.sharedClips;m=m.renderer;var B=this.getClipBox(),tt=this.getSharedClipKey(),$=Z[tt];$?$.animate(B):Z[tt]=$=m.clipRect(B),j&&j.clip(!1===this.options.clip?void 0:$),T&&T.clip()},H.prototype.animate=function(m){var j=this.chart,T=this.group,Z=this.markerGroup,B=j.inverted,tt=P(this.options.animation),$=[this.getSharedClipKey(),tt.duration,tt.easing,tt.defer].join(),nt=j.sharedClips[$],ot=j.sharedClips[$+"m"];if(m&&T)tt=this.getClipBox(),nt?nt.attr("height",tt.height):(tt.width=0,B&&(tt.x=j.plotHeight),nt=j.renderer.clipRect(tt),j.sharedClips[$]=nt,ot=j.renderer.clipRect({x:B?(j.plotSizeX||0)+99:-99,y:B?-j.plotLeft:-j.plotTop,width:99,height:B?j.chartWidth:j.chartHeight}),j.sharedClips[$+"m"]=ot),T.clip(nt),Z&&Z.clip(ot);else if(nt&&!nt.hasClass("highcharts-animating")){j=this.getClipBox();var pt=tt.step;Z&&Z.element.childNodes.length&&(tt.step=function(ut,ct){pt&&pt.apply(ct,arguments),ot&&ot.element&&ot.attr(ct.prop,"width"===ct.prop?ut+99:ut)}),nt.addClass("highcharts-animating").animate(j,tt)}},H.prototype.afterAnimate=function(){var m=this;this.setClip(),s(this.chart.sharedClips,function(j,T,Z){j&&!m.chart.container.querySelector('[clip-path="url(#'+j.id+')"]')&&(j.destroy(),delete Z[T])}),this.finishedAnimating=!0,M(this,"afterAnimate")},H.prototype.drawPoints=function(){var $,nt,m=this.points,j=this.chart,T=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,B=this.xAxis,tt=f(T.enabled,!(B&&!B.isRadial)||null,this.closestPointRangePx>=T.enabledThreshold*T.radius);if(!1!==T.enabled||this._hasPointMarkers)for($=0;$<m.length;$++){var ot=m[$],pt=(nt=ot.graphic)?"animate":"attr",ut=ot.marker||{},ct=!!ot.marker;if((tt&&typeof ut.enabled>"u"||ut.enabled)&&!ot.isNull&&!1!==ot.visible){var ht=f(ut.symbol,this.symbol,"rect"),st=this.markerAttribs(ot,ot.selected&&"select");this.enabledDataSorting&&(ot.startXPos=B.reversed?-(st.width||0):B.width);var F=!1!==ot.isInside;nt?nt[F?"show":"hide"](F).animate(st):F&&(0<(st.width||0)||ot.hasImage)&&(ot.graphic=nt=j.renderer.symbol(ht,st.x,st.y,st.width,st.height,ct?ut:T).add(Z),this.enabledDataSorting&&j.hasRendered&&(nt.attr({x:ot.startXPos}),pt="animate")),nt&&"animate"===pt&&nt[F?"show":"hide"](F).animate(st),nt&&!j.styledMode&&nt[pt](this.pointAttribs(ot,ot.selected&&"select")),nt&&nt.addClass(ot.getClassName(),!0)}else nt&&(ot.graphic=nt.destroy())}},H.prototype.markerAttribs=function(m,j){var T=this.options,Z=T.marker,B=m.marker||{},tt=B.symbol||Z.symbol,$=f(B.radius,Z&&Z.radius);return j&&(Z=Z.states[j],$=f((j=B.states&&B.states[j])&&j.radius,Z&&Z.radius,$&&$+(Z&&Z.radiusPlus||0))),m.hasImage=tt&&0===tt.indexOf("url"),m.hasImage&&($=0),m=D($)?{x:T.crisp?Math.floor(m.plotX-$):m.plotX-$,y:m.plotY-$}:{},$&&(m.width=m.height=2*$),m},H.prototype.pointAttribs=function(m,j){var T=this.options.marker,Z=m&&m.options,B=Z&&Z.marker||{},tt=Z&&Z.color,$=m&&m.color,nt=m&&m.zone&&m.zone.color,ot=this.color;return m=f(B.lineWidth,T.lineWidth),Z=1,ot=tt||nt||$||ot,tt=B.fillColor||T.fillColor||ot,$=B.lineColor||T.lineColor||ot,T=T.states[j=j||"normal"]||{},m=f((j=B.states&&B.states[j]||{}).lineWidth,T.lineWidth,m+f(j.lineWidthPlus,T.lineWidthPlus,0)),{stroke:$=j.lineColor||T.lineColor||$,"stroke-width":m,fill:tt=j.fillColor||T.fillColor||tt,opacity:Z=f(j.opacity,T.opacity,Z)}},H.prototype.destroy=function(m){var $,nt,ot,j=this,T=j.chart,Z=/AppleWebKit\/533/.test(d.navigator.userAgent),B=j.data||[];for(M(j,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(j.axisTypes||[]).forEach(function(pt){(ot=j[pt])&&ot.series&&(o(ot.series,j),ot.isDirty=ot.forceRedraw=!0)}),j.legendItem&&j.chart.legend.destroyItem(j),$=B.length;$--;)(nt=B[$])&&nt.destroy&&nt.destroy();j.clips&&j.clips.forEach(function(pt){return pt.destroy()}),O.clearTimeout(j.animationTimeout),s(j,function(pt,ut){pt instanceof I&&!pt.survive&&pt[Z&&"group"===ut?"hide":"destroy"]()}),T.hoverSeries===j&&(T.hoverSeries=void 0),o(T.series,j),T.orderSeries(),s(j,function(pt,ut){m&&"hcEvents"===ut||delete j[ut]})},H.prototype.applyZones=function(){var ut,ct,ht,st,F,Q,it,at,m=this,j=this.chart,T=j.renderer,Z=this.zones,B=this.clips||[],tt=this.graph,$=this.area,nt=Math.max(j.chartWidth,j.chartHeight),ot=this[(this.zoneAxis||"y")+"Axis"],pt=j.inverted,lt=!1;if(Z.length&&(tt||$)&&ot&&typeof ot.min<"u"){var dt=ot.reversed,gt=ot.horiz;tt&&!this.showLine&&tt.hide(),$&&$.hide();var xt=ot.getExtremes();Z.forEach(function(Ct,_t){ut=dt?gt?j.plotWidth:0:gt?0:ot.toPixels(xt.min)||0,ut=l(f(ct,ut),0,nt),ct=l(Math.round(ot.toPixels(f(Ct.value,xt.max),!0)||0),0,nt),lt&&(ut=ct=ot.toPixels(xt.max)),st=Math.abs(ut-ct),F=Math.min(ut,ct),Q=Math.max(ut,ct),ot.isXAxis?(ht={x:pt?Q:F,y:0,width:st,height:nt},gt||(ht.x=j.plotHeight-ht.x)):(ht={x:0,y:pt?Q:F,width:nt,height:st},gt&&(ht.y=j.plotWidth-ht.y)),pt&&T.isVML&&(ht=ot.isXAxis?{x:0,y:dt?F:Q,height:ht.width,width:j.chartWidth}:{x:ht.y-j.plotLeft-j.spacingBox.x,y:0,width:ht.height,height:j.chartHeight}),B[_t]?B[_t].animate(ht):B[_t]=T.clipRect(ht),it=m["zone-area-"+_t],at=m["zone-graph-"+_t],tt&&at&&at.clip(B[_t]),$&&it&&it.clip(B[_t]),lt=Ct.value>xt.max,m.resetZones&&0===ct&&(ct=void 0)}),this.clips=B}else m.visible&&(tt&&tt.show(!0),$&&$.show(!0))},H.prototype.invertGroups=function(m){function j(){["group","markerGroup"].forEach(function(B){T[B]&&(Z.renderer.isVML&&T[B].attr({width:T.yAxis.len,height:T.xAxis.len}),T[B].width=T.yAxis.len,T[B].height=T.xAxis.len,T[B].invert(!T.isRadialSeries&&m))})}var T=this,Z=T.chart;T.xAxis&&(T.eventsToUnbind.push(x(Z,"resize",j)),j(),T.invertGroups=j)},H.prototype.plotGroup=function(m,j,T,Z,B){var tt=this[m],$=!tt;return T={visibility:T,zIndex:Z||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(T.opacity=this.opacity),$&&(this[m]=tt=this.chart.renderer.g().add(B)),tt.addClass("highcharts-"+j+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(tt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),tt.attr(T)[$?"attr":"animate"](this.getPlotBox()),tt},H.prototype.getPlotBox=function(){var m=this.chart,j=this.xAxis,T=this.yAxis;return m.inverted&&(j=T,T=this.xAxis),{translateX:j?j.left:m.plotLeft,translateY:T?T.top:m.plotTop,scaleX:1,scaleY:1}},H.prototype.removeEvents=function(m){m||k(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(j){j()}),this.eventsToUnbind.length=0)},H.prototype.render=function(){var m=this,j=m.chart,T=m.options,Z=P(T.animation),B=m.visible?"inherit":"hidden",tt=T.zIndex,$=m.hasRendered,nt=j.seriesGroup,ot=j.inverted;j=!m.finishedAnimating&&j.renderer.isSVG?Z.duration:0,M(this,"render");var pt=m.plotGroup("group","series",B,tt,nt);m.markerGroup=m.plotGroup("markerGroup","markers",B,tt,nt),!1!==T.clip&&m.setClip(),m.animate&&j&&m.animate(!0),pt.inverted=!!f(m.invertible,m.isCartesian)&&ot,m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels&&m.drawDataLabels(),m.redrawPoints&&m.redrawPoints(),m.drawTracker&&!1!==m.options.enableMouseTracking&&m.drawTracker(),m.invertGroups(ot),m.animate&&j&&m.animate(),$||(j&&Z.defer&&(j+=Z.defer),m.animationTimeout=z(function(){m.afterAnimate()},j||0)),m.isDirty=!1,m.hasRendered=!0,M(m,"afterRender")},H.prototype.redraw=function(){var m=this.chart,j=this.isDirty||this.isDirtyData,T=this.group,Z=this.xAxis,B=this.yAxis;T&&(m.inverted&&T.attr({width:m.plotWidth,height:m.plotHeight}),T.animate({translateX:f(Z&&Z.left,m.plotLeft),translateY:f(B&&B.top,m.plotTop)})),this.translate(),this.render(),j&&delete this.kdTree},H.prototype.searchPoint=function(m,j){var T=this.xAxis,Z=this.yAxis,B=this.chart.inverted;return this.searchKDTree({clientX:B?T.len-m.chartY+T.pos:m.chartX-T.pos,plotY:B?Z.len-m.chartX+Z.pos:m.chartY-Z.pos},j,m)},H.prototype.buildKDTree=function(m){function j(B,tt,$){var nt=B&&B.length;if(nt){var ot=T.kdAxisArray[tt%$];return B.sort(function(pt,ut){return pt[ot]-ut[ot]}),{point:B[nt=Math.floor(nt/2)],left:j(B.slice(0,nt),tt+1,$),right:j(B.slice(nt+1),tt+1,$)}}}this.buildingKdTree=!0;var T=this,Z=-1<T.options.findNearestPointBy.indexOf("y")?2:1;delete T.kdTree,z(function(){T.kdTree=j(T.getValidPoints(null,!T.directTouch),Z,Z),T.buildingKdTree=!1},T.options.kdNow||m&&"touchstart"===m.type?0:1)},H.prototype.searchKDTree=function(m,j,T){var B=this,tt=this.kdAxisArray[0],$=this.kdAxisArray[1],nt=j?"distX":"dist";if(j=-1<B.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(T),this.kdTree)return function Z(ot,pt,ut,ct){var ht=pt.point,st=B.kdAxisArray[ut%ct],F=ht,Q=c(ot[tt])&&c(ht[tt])?Math.pow(ot[tt]-ht[tt],2):null,it=c(ot[$])&&c(ht[$])?Math.pow(ot[$]-ht[$],2):null;return ht.dist=c(it=(Q||0)+(it||0))?Math.sqrt(it):Number.MAX_VALUE,ht.distX=c(Q)?Math.sqrt(Q):Number.MAX_VALUE,Q=0>(st=ot[st]-ht[st])?"right":"left",pt[it=0>st?"left":"right"]&&(F=(it=Z(ot,pt[it],ut+1,ct))[nt]<F[nt]?it:ht),pt[Q]&&Math.sqrt(st*st)<F[nt]&&(F=(ot=Z(ot,pt[Q],ut+1,ct))[nt]<F[nt]?ot:F),F}(m,this.kdTree,j,j)},H.prototype.pointPlacementToXValue=function(){var m=this.options,j=m.pointRange,T=this.xAxis;return"between"===(m=m.pointPlacement)&&(m=T.reversed?-.5:.5),D(m)?m*(j||T.pointRange):0},H.prototype.isPointInside=function(m){var j=this.chart,T=this.xAxis,Z=this.yAxis;return typeof m.plotY<"u"&&typeof m.plotX<"u"&&0<=m.plotY&&m.plotY<=(Z?Z.len:j.plotHeight)&&0<=m.plotX&&m.plotX<=(T?T.len:j.plotWidth)},H.prototype.drawTracker=function(){var m=this,j=m.options,T=j.trackByArea,Z=[].concat(T?m.areaPath:m.graphPath),B=m.chart,tt=B.pointer,$=B.renderer,nt=B.options.tooltip.snap,ot=m.tracker,pt=function(ct){B.hoverSeries!==m&&m.onMouseOver()},ut="rgba(192,192,192,"+(A?1e-4:.002)+")";ot?ot.attr({d:Z}):m.graph&&(m.tracker=$.path(Z).attr({visibility:m.visible?"visible":"hidden",zIndex:2}).addClass(T?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),B.styledMode||m.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ut,fill:T?ut:"none","stroke-width":m.graph.strokeWidth()+(T?0:2*nt)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(function(ct){ct&&(ct.addClass("highcharts-tracker").on("mouseover",pt).on("mouseout",function(ht){tt.onTrackerMouseOut(ht)}),j.cursor&&!B.styledMode&&ct.css({cursor:j.cursor}),_)&&ct.on("touchstart",pt)})),M(this,"afterDrawTracker")},H.prototype.addPoint=function(m,j,T,Z,B){var tt=this.options,$=this.data,nt=this.chart,ot=this.xAxis;ot=ot&&ot.hasNames&&ot.names;var ct,pt=tt.data,ut=this.xData;j=f(j,!0);var ht={series:this};this.pointClass.prototype.applyOptions.apply(ht,[m]);var st=ht.x,F=ut.length;if(this.requireSorting&&st<ut[F-1])for(ct=!0;F&&ut[F-1]>st;)F--;this.updateParallelArrays(ht,"splice",F,0,0),this.updateParallelArrays(ht,F),ot&&ht.name&&(ot[st]=ht.name),pt.splice(F,0,m),(ct||this.processedData)&&(this.data.splice(F,0,null),this.processData()),"point"===tt.legendType&&this.generatePoints(),T&&($[0]&&$[0].remove?$[0].remove(!1):($.shift(),this.updateParallelArrays(ht,"shift"),pt.shift())),!1!==B&&M(this,"addPoint",{point:ht}),this.isDirtyData=this.isDirty=!0,j&&nt.redraw(Z)},H.prototype.removePoint=function(m,j,T){var Z=this,B=Z.data,tt=B[m],$=Z.points,nt=Z.chart,ot=function(){$&&$.length===B.length&&$.splice(m,1),B.splice(m,1),Z.options.data.splice(m,1),Z.updateParallelArrays(tt||{series:Z},"splice",m,1),tt&&tt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,j&&nt.redraw()};y(T,nt),j=f(j,!0),tt?tt.firePointEvent("remove",null,ot):ot()},H.prototype.remove=function(m,j,T,Z){function B(){tt.destroy(Z),$.isDirtyLegend=$.isDirtyBox=!0,$.linkSeries(),f(m,!0)&&$.redraw(j)}var tt=this,$=tt.chart;!1!==T?M(tt,"remove",null,B):B()},H.prototype.update=function(m,j){m=p(m,this.userOptions),M(this,"update",{options:m});var ut,T=this,Z=T.chart,B=T.userOptions,tt=T.initialType||T.type,$=Z.options.plotOptions,nt=C[tt].prototype,ot=T.finishedAnimating&&{animation:!1},pt={},ct=["eventOptions","navigatorSeries","baseSeries"],ht=m.type||B.type||Z.options.chart.type,st=!(this.hasDerivedData||ht&&ht!==this.type||typeof m.pointStart<"u"||typeof m.pointInterval<"u"||typeof m.relativeXValue<"u"||m.joinBy||m.mapData||T.hasOptionChanged("dataGrouping")||T.hasOptionChanged("pointStart")||T.hasOptionChanged("pointInterval")||T.hasOptionChanged("pointIntervalUnit")||T.hasOptionChanged("keys"));if(ht=ht||tt,st&&(ct.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==m.visible&&ct.push("area","graph"),T.parallelArrays.forEach(function(Q){ct.push(Q+"Data")}),m.data&&(m.dataSorting&&r(T.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=N(B,ot,{index:typeof B.index>"u"?T.index:B.index,pointStart:f($&&$.series&&$.series.pointStart,B.pointStart,T.xData[0])},!st&&{data:T.options.data},m),st&&m.data&&(m.data=T.options.data),(ct=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ct)).forEach(function(Q){ct[Q]=T[Q],delete T[Q]}),$=!1,C[ht]){if($=ht!==T.type,T.remove(!1,!1,!1,!0),$)if(Object.setPrototypeOf)Object.setPrototypeOf(T,C[ht].prototype);else{for(ut in ot=Object.hasOwnProperty.call(T,"hcEvents")&&T.hcEvents,nt)T[ut]=void 0;r(T,C[ht].prototype),ot?T.hcEvents=ot:delete T.hcEvents}}else n(17,!0,Z,{missingModuleFor:ht});if(ct.forEach(function(Q){T[Q]=ct[Q]}),T.init(Z,m),st&&this.points){var F=T.options;!1===F.visible?(pt.graphic=1,pt.dataLabel=1):T._hasPointLabels||(nt=F.dataLabels,!(m=F.marker)||!1!==m.enabled&&(B.marker&&B.marker.symbol)===m.symbol||(pt.graphic=1),nt&&!1===nt.enabled&&(pt.dataLabel=1)),this.points.forEach(function(Q){Q&&Q.series&&(Q.resolveColor(),Object.keys(pt).length&&Q.destroyElements(pt),!1===F.showInLegend&&Q.legendItem&&Z.legend.destroyItem(Q))},this)}T.initialType=tt,Z.linkSeries(),$&&T.linkedSeries.length&&(T.isDirtyData=!0),M(this,"afterUpdate"),f(j,!0)&&Z.redraw(!!st&&void 0)},H.prototype.setName=function(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0},H.prototype.hasOptionChanged=function(m){var j=this.options[m],T=this.chart.options.plotOptions,Z=this.userOptions[m];return Z?j!==Z:j!==f(T&&T[this.type]&&T[this.type][m],T&&T.series&&T.series[m],j)},H.prototype.onMouseOver=function(){var m=this.chart,j=m.hoverSeries;m.pointer.setHoverChartIndex(),j&&j!==this&&j.onMouseOut(),this.options.events.mouseOver&&M(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this},H.prototype.onMouseOut=function(){var m=this.options,j=this.chart,T=j.tooltip,Z=j.hoverPoint;j.hoverSeries=null,Z&&Z.onMouseOut(),this&&m.events.mouseOut&&M(this,"mouseOut"),!T||this.stickyTracking||T.shared&&!this.noSharedTooltip||T.hide(),j.series.forEach(function(B){B.setState("",!0)})},H.prototype.setState=function(m,j){var T=this,Z=T.options,B=T.graph,tt=Z.inactiveOtherPoints,$=Z.states,nt=f($[m||"normal"]&&$[m||"normal"].animation,T.chart.options.chart.animation),ot=Z.lineWidth,pt=0,ut=Z.opacity;if(T.state!==(m=m||"")&&([T.group,T.markerGroup,T.dataLabelsGroup].forEach(function(ct){ct&&(T.state&&ct.removeClass("highcharts-series-"+T.state),m&&ct.addClass("highcharts-series-"+m))}),T.state=m,!T.chart.styledMode)){if($[m]&&!1===$[m].enabled)return;if(m&&(ot=$[m].lineWidth||ot+($[m].lineWidthPlus||0),ut=f($[m].opacity,ut)),B&&!B.dashstyle)for(B.animate(Z={"stroke-width":ot},nt);T["zone-graph-"+pt];)T["zone-graph-"+pt].animate(Z,nt),pt+=1;tt||[T.group,T.markerGroup,T.dataLabelsGroup,T.labelBySeries].forEach(function(ct){ct&&ct.animate({opacity:ut},nt)})}j&&tt&&T.points&&T.setAllPointsToState(m||void 0)},H.prototype.setAllPointsToState=function(m){this.points.forEach(function(j){j.setState&&j.setState(m)})},H.prototype.setVisible=function(m,j){var T=this,Z=T.chart,B=T.legendItem,tt=Z.options.chart.ignoreHiddenSeries,nt=(T.visible=m=T.options.visible=T.userOptions.visible=typeof m>"u"?!T.visible:m)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(ot){T[ot]&&T[ot][nt]()}),(Z.hoverSeries===T||(Z.hoverPoint&&Z.hoverPoint.series)===T)&&T.onMouseOut(),B&&Z.legend.colorizeItem(T,m),T.isDirty=!0,T.options.stacking&&Z.series.forEach(function(ot){ot.options.stacking&&ot.visible&&(ot.isDirty=!0)}),T.linkedSeries.forEach(function(ot){ot.setVisible(m,!1)}),tt&&(Z.isDirtyBox=!0),M(T,nt),!1!==j&&Z.redraw()},H.prototype.show=function(){this.setVisible(!0)},H.prototype.hide=function(){this.setVisible(!1)},H.prototype.select=function(m){this.selected=m=this.options.selected=typeof m>"u"?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),M(this,m?"select":"unselect")},H.prototype.shouldShowTooltip=function(m,j,T){return void 0===T&&(T={}),T.series=this,T.visiblePlotOnly=!0,this.chart.isInsidePlot(m,j,T)},H.defaultOptions=J,H}(),r(G.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:K.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:et,requireSorting:!0,sorted:!0}),U.series=G,G}),mt(X,"Extensions/ScrollablePlotArea.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/Chart/Chart.js"],X["Core/Series/Series.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){var J=G.stop,U=et.addEvent,I=et.createElement,O=et.merge,P=et.pick;U(t,"afterSetChartSize",function(y){var h=this.options.chart.scrollablePlotArea,v=h&&h.minWidth;if(h=h&&h.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else h&&(this.scrollablePixelsY=v=Math.max(0,h-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!y.skipAxes&&this.axes.forEach(function(A){_[A.side]?A.getPlotLinePath=function(){var d=_[A.side].name,C=this[d];this[d]=C-_[A.side].value;var x=W.prototype.getPlotLinePath.apply(this,arguments);return this[d]=C,x}:(A.setAxisSize(),A.setAxisTranslation())})}}),U(t,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),t.prototype.setUpScrolling=function(){var y=this,h={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(h.overflowX="auto"),this.scrollablePixelsY&&(h.overflowY="auto"),this.scrollingParent=I("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=I("div",{className:"highcharts-scrolling"},h,this.scrollingParent),U(this.scrollingContainer,"scroll",function(){y.pointer&&delete y.pointer.chartPosition}),this.innerContainer=I("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},t.prototype.moveFixedElements=function(){var _,y=this.container,h=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(A){[].forEach.call(y.querySelectorAll(A),function(d){(d.namespaceURI===h.SVG_NS?h.box:h.box.parentNode).appendChild(d),d.style.pointerEvents="auto"})})},t.prototype.applyFixed=function(){var y=!this.fixedDiv,h=this.options.chart,v=h.scrollablePlotArea,_=K.getRendererType();y?(this.fixedDiv=I("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(h.style&&h.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=h=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=h.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":P(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),U(this,"afterShowResetZoom",this.moveFixedElements),U(this,"afterApplyDrilldown",this.moveFixedElements),U(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||y)&&(this.scrollableDirty=!1,this.moveFixedElements()),h=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=h+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:h,height:_,viewBox:[0,0,h,_].join(" ")}),this.chartBackground.attr({width:h,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",y&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),y=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,h=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var A=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),d=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);y=this.scrollablePixelsX?[["M",0,y],["L",this.plotLeft-1,y],["L",this.plotLeft-1,h],["L",0,h],["Z"],["M",A,y],["L",this.chartWidth,y],["L",this.chartWidth,h],["L",A,h],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,d],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,d],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:y})},U(W,"afterInit",function(){this.chart.scrollableDirty=!0}),U(V,"show",function(){this.chart.scrollableDirty=!0})}),mt(X,"Core/Axis/StackingAxis.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/Utilities.js"]],function(G,W,t){var O,V=G.getDeferredAnimation,K=t.addEvent,et=t.destroyObjectProperties,J=t.fireEvent,U=t.isNumber,I=t.objectEach;return function(P){function y(){var A=this.stacking;if(A){var d=A.stacks;I(d,function(C,x){et(C),d[x]=null}),A&&A.stackTotalGroup&&A.stackTotalGroup.destroy()}}function h(){this.stacking||(this.stacking=new _(this))}var v=[];P.compose=function(A){return-1===v.indexOf(A)&&(v.push(A),K(A,"init",h),K(A,"destroy",y)),A};var _=function(){function A(d){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=d}return A.prototype.buildStacks=function(){var u,d=this.axis,C=d.series,x=d.options.reversedStacks,b=C.length;if(!d.isXAxis){for(this.usePercentage=!1,u=b;u--;){var l=C[x?u:b-u-1];l.setStackedPoints(),l.setGroupedPoints()}for(u=0;u<b;u++)C[u].modifyStacks();J(d,"afterBuildStacks")}},A.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var d=this.stacks=this.oldStacks;I(d,function(C){I(C,function(x){x.cumulative=x.total})})}},A.prototype.resetStacks=function(){var d=this;d.axis.isXAxis||I(d.stacks,function(x){I(x,function(b,u){U(b.touched)&&b.touched<d.stacksTouched?(b.destroy(),delete x[u]):(b.total=null,b.cumulative=null)})})},A.prototype.renderStackTotals=function(){var d=this.axis,C=d.chart,x=C.renderer,b=this.stacks;d=V(C,d.options.stackLabels&&d.options.stackLabels.animation||!1);var u=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();u.translate(C.plotLeft,C.plotTop),I(b,function(l){I(l,function(p){p.render(u)})}),u.animate({opacity:1},d)},A}();P.Additions=_}(O||(O={})),O}),mt(X,"Extensions/Stacking.js",[X["Core/Axis/Axis.js"],X["Core/Chart/Chart.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Series/Series.js"],X["Core/Axis/StackingAxis.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var U=t.format,I=J.correctFloat,O=J.defined,P=J.destroyObjectProperties,y=J.isArray,h=J.isNumber,v=J.objectEach,_=J.pick,A=function(){function d(C,x,b,u,l){var p=C.chart.inverted;this.axis=C,this.isNegative=b,this.options=x=x||{},this.x=u,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=l,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(p?b?"left":"right":"center"),verticalAlign:x.verticalAlign||(p?"middle":b?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(p?b?"right":"left":"center")}return d.prototype.destroy=function(){P(this,this.axis)},d.prototype.render=function(C){var x=this.axis.chart,b=this.options,u=b.format;u=u?U(u,this,x):b.formatter.call(this),this.label?this.label.attr({text:u,visibility:"hidden"}):(this.label=x.renderer.label(u,null,null,b.shape,null,null,b.useHTML,!1,"stack-labels"),u={r:b.borderRadius||0,text:u,rotation:b.rotation,padding:_(b.padding,5),visibility:"hidden"},x.styledMode||(u.fill=b.backgroundColor,u.stroke=b.borderColor,u["stroke-width"]=b.borderWidth,this.label.css(b.style)),this.label.attr(u),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},d.prototype.setOffset=function(C,x,b,u,l){var p=this.axis,i=p.chart;u=p.translate(p.stacking.usePercentage?100:u||this.total,0,0,0,1),b=p.translate(b||0),b=O(u)&&Math.abs(u-b),C=_(l,i.xAxis[0].translate(this.x))+C,p=O(u)&&this.getStackBox(i,this,C,u,x,b,p),x=this.label,b=this.isNegative,C="justify"===_(this.options.overflow,"justify");var c=this.textAlign;x&&p&&(l=x.getBBox(),u=x.padding,c="left"===c?i.inverted?-u:u:"right"===c?l.width:i.inverted&&"center"===c?l.width/2:i.inverted?b?l.width+u:-u:l.width/2,b=i.inverted?l.height/2:b?-u:l.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),p.x-=c,p.y-=b,x.align(this.alignOptions,null,p),i.isInsidePlot(x.alignAttr.x+c-this.alignOptions.x,x.alignAttr.y+b-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&K.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,l,p),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),_(!C&&this.options.crop,!0)&&((i=h(x.x)&&h(x.y)&&i.isInsidePlot(x.x-u+x.width,x.y)&&i.isInsidePlot(x.x+u,x.y))||x.hide()))},d.prototype.getStackBox=function(C,x,b,u,l,p,i){var c=x.axis.reversed,o=C.inverted,n=i.height+i.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!c||!x.isNegative&&c,{x:o?x?u-i.right:u-p+i.pos-C.plotLeft:b+C.xAxis[0].transB-C.plotLeft,y:o?i.height-b-l:x?n-u-p:n-u,width:o?p:l,height:o?l:p}},d}();return W.prototype.getStacks=function(){var d=this,C=d.inverted;d.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),d.series.forEach(function(x){var b=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==d.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,_(x.options.stack,""),C?b.top:b.left,C?b.height:b.width].join())})},et.compose(G),K.prototype.setGroupedPoints=function(){var d=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?K.prototype.setStackedPoints.call(this,"group"):d&&v(d.stacks,function(C,x){"group"===x.slice(-5)&&(v(C,function(b){return b.destroy()}),delete d.stacks[x])})},K.prototype.setStackedPoints=function(d){var C=d||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,b=this.processedYData,u=[],l=b.length,p=this.options,i=p.threshold,c=_(p.startFromThreshold&&i,0);p=p.stack;var L,Y,o="-"+(d=d?this.type+","+C:this.stackKey),n=this.negStacks,r=this.yAxis,a=r.stacking.stacks,M=r.stacking.oldStacks;for(r.stacking.stacksTouched+=1,Y=0;Y<l;Y++){var D=x[Y],w=b[Y],N=this.getStackIndicator(N,D,this.index),s=N.key,f=(L=n&&w<(c?0:i))?o:d;a[f]||(a[f]={}),a[f][D]||(M[f]&&M[f][D]?(a[f][D]=M[f][D],a[f][D].total=null):a[f][D]=new A(r,r.options.stackLabels,L,D,p)),f=a[f][D],null!==w?(f.points[s]=f.points[this.index]=[_(f.cumulative,c)],O(f.cumulative)||(f.base=s),f.touched=r.stacking.stacksTouched,0<N.index&&!1===this.singleStacks&&(f.points[s][0]=f.points[this.index+","+D+",0"][0])):f.points[s]=f.points[this.index]=null,"percent"===C?(L=L?d:o,f.total=n&&a[L]&&a[L][D]?(L=a[L][D]).total=Math.max(L.total,f.total)+Math.abs(w)||0:I(f.total+(Math.abs(w)||0))):"group"===C?(y(w)&&(w=w[0]),null!==w&&(f.total=(f.total||0)+1)):f.total=I(f.total+(w||0)),f.cumulative="group"===C?(f.total||1)-1:_(f.cumulative,c)+(w||0),null!==w&&(f.points[s].push(f.cumulative),u[Y]=f.cumulative,f.hasValidPoints=!0)}"percent"===C&&(r.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=u),r.stacking.oldStacks={}}},K.prototype.modifyStacks=function(){var u,d=this,C=d.stackKey,x=d.yAxis.stacking.stacks,b=d.processedXData,l=d.options.stacking;d[l+"Stacker"]&&[C,"-"+C].forEach(function(p){for(var c,o,i=b.length;i--;)u=d.getStackIndicator(u,c=b[i],d.index,p),(o=(c=x[p]&&x[p][c])&&c.points[u.key])&&d[l+"Stacker"](o,c,i)})},K.prototype.percentStacker=function(d,C,x){d[0]=I(d[0]*(C=C.total?100/C.total:0)),d[1]=I(d[1]*C),this.stackedYData[x]=d[1]},K.prototype.getStackIndicator=function(d,C,x,b){return!O(d)||d.x!==C||b&&d.stackKey!==b?d={x:C,index:0,key:b,stackKey:b}:d.index++,d.key=[x,C,d.index].join(),d},V.StackItem=A,V.StackItem}),mt(X,"Series/Line/LineSeries.js",[X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),K=t.defined,et=t.merge;return t=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return V(U,J),U.prototype.drawGraph=function(){var I=this,O=this.options,P=(this.gappedPath||this.getGraphPath).call(this),y=this.chart.styledMode,h=[["graph","highcharts-graph"]];y||h[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(h=I.getZonesGraphs(h)).forEach(function(v,_){var A=v[0],d=I[A],C=d?"animate":"attr";d?(d.endX=I.preventGraphAnimation?null:P.xMap,d.animate({d:P})):P.length&&(I[A]=d=I.chart.renderer.path(P).addClass(v[1]).attr({zIndex:1}).add(I.group)),d&&!y&&(A={stroke:v[2],"stroke-width":O.lineWidth,fill:I.fillGraph&&I.color||"none"},v[3]?A.dashstyle=v[3]:"square"!==O.linecap&&(A["stroke-linecap"]=A["stroke-linejoin"]="round"),d[C](A).shadow(2>_&&O.shadow)),d&&(d.startX=P.xMap,d.isArea=P.isArea)})},U.prototype.getGraphPath=function(I,O,P){var A,y=this,h=y.options,v=[],_=[],d=h.step,C=(I=I||y.points).reversed;return C&&I.reverse(),(d={right:1,center:2}[d]||d&&3)&&C&&(d=4-d),(I=this.getValidPoints(I,!1,!(h.connectNulls&&!O&&!P))).forEach(function(x,b){var u=x.plotX,l=x.plotY,p=I[b-1];(x.leftCliff||p&&p.rightCliff)&&!P&&(A=!0),x.isNull&&!K(O)&&0<b?A=!h.connectNulls:x.isNull&&!O?A=!0:(0===b||A?b=[["M",x.plotX,x.plotY]]:y.getPointSpline?b=[y.getPointSpline(I,x,b)]:d?(b=1===d?[["L",p.plotX,l]]:2===d?[["L",(p.plotX+u)/2,p.plotY],["L",(p.plotX+u)/2,l]]:[["L",u,p.plotY]]).push(["L",u,l]):b=[["L",u,l]],_.push(x.x),d&&(_.push(x.x),2===d&&_.push(x.x)),v.push.apply(v,b),A=!1)}),v.xMap=_,y.graphPath=v},U.prototype.getZonesGraphs=function(I){return this.zones.forEach(function(O,P){P=["zone-graph-"+P,"highcharts-graph highcharts-zone-graph-"+P+" "+(O.className||"")],this.chart.styledMode||P.push(O.color||this.color,O.dashStyle||this.options.dashStyle),I.push(P)},this),I},U.defaultOptions=et(G.defaultOptions,{}),U}(G),W.registerSeriesType("line",t),t}),mt(X,"Series/Area/AreaSeries.js",[X["Core/Color/Color.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var P,K=this&&this.__extends||(P=function(y,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var A in _)_.hasOwnProperty(A)&&(v[A]=_[A])})(y,h)},function(y,h){function v(){this.constructor=y}P(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),et=G.parse,J=t.seriesTypes.line;G=V.extend;var U=V.merge,I=V.objectEach,O=V.pick;return V=function(P){function y(){var h=null!==P&&P.apply(this,arguments)||this;return h.data=void 0,h.options=void 0,h.points=void 0,h}return K(y,P),y.prototype.drawGraph=function(){this.areaPath=[],P.prototype.drawGraph.apply(this);var h=this,v=this.areaPath,_=this.options,A=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(d,C){A.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+d.className,d.color||h.color,d.fillColor||_.fillColor])}),A.forEach(function(d){var C=d[0],x=h[C],b=x?"animate":"attr",u={};x?(x.endX=h.preventGraphAnimation?null:v.xMap,x.animate({d:v})):(u.zIndex=0,(x=h[C]=h.chart.renderer.path(v).addClass(d[1]).add(h.group)).isArea=!0),h.chart.styledMode||(u.fill=O(d[3],et(d[2]).setOpacity(O(_.fillOpacity,.75)).get())),x[b](u),x.startX=v.xMap,x.shiftUnit=_.step?2:1})},y.prototype.getGraphPath=function(h){var C,v=J.prototype.getGraphPath,_=this.options,A=_.stacking,d=this.yAxis,x=[],b=[],u=this.index,l=d.stacking.stacks[this.stackKey],p=_.threshold,i=Math.round(d.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===A);var c=function(a,M,L){var Y=h[a];a=A&&l[Y.x].points[u];var D=Y[L+"Null"]||0;if(L=Y[L+"Cliff"]||0,Y=!0,L||D){var w=(D?a[0]:a[1])+L,N=a[0]+L;Y=!!D}else!A&&h[M]&&h[M].isNull&&(w=N=p);typeof w<"u"&&(b.push({plotX:n,plotY:null===w?i:d.getThreshold(w),isNull:Y,isCliff:!0}),x.push({plotX:n,plotY:null===N?i:d.getThreshold(N),doCurve:!1}))};for(h=h||this.points,A&&(h=this.getStackPoints(h)),C=0;C<h.length;C++){A||(h[C].leftCliff=h[C].rightCliff=h[C].leftNull=h[C].rightNull=void 0);var o=h[C].isNull,n=O(h[C].rectPlotX,h[C].plotX),r=A?O(h[C].yBottom,i):i;(!o||_)&&(_||c(C,C-1,"left"),o&&!A&&_||(b.push(h[C]),x.push({x:C,plotX:n,plotY:r})),_||c(C,C+1,"right"))}return C=v.call(this,b,!0,!0),x.reversed=!0,(r=(o=v.call(this,x,!0,!0))[0])&&"M"===r[0]&&(o[0]=["L",r[1],r[2]]),(o=C.concat(o)).length&&o.push(["Z"]),v=v.call(this,b,!1,_),o.xMap=C.xMap,this.areaPath=o,v},y.prototype.getStackPoints=function(h){var v=this,_=[],A=[],d=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],b={},u=C.series,l=u.length,p=C.options.reversedStacks?1:-1,i=u.indexOf(v);if(h=h||this.points,this.options.stacking){for(var c=0;c<h.length;c++)h[c].leftNull=h[c].rightNull=void 0,b[h[c].x]=h[c];I(x,function(n,r){null!==n.total&&A.push(r)}),A.sort(function(n,r){return n-r});var o=u.map(function(n){return n.visible});A.forEach(function(n,r){var M,L,a=0;if(b[n]&&!b[n].isNull)_.push(b[n]),[-1,1].forEach(function(D){var w=1===D?"rightNull":"leftNull",N=0,s=x[A[r+D]];if(s)for(var f=i;0<=f&&f<l;){var k=u[f].index;(M=s.points[k])||(k===v.index?b[n][w]=!0:o[f]&&(L=x[n].points[k])&&(N-=L[1]-L[0])),f+=p}b[n][1===D?"rightCliff":"leftCliff"]=N});else{for(var Y=i;0<=Y&&Y<l;){if(M=x[n].points[u[Y].index]){a=M[1];break}Y+=p}a=O(a,0),a=C.translate(a,0,1,0,1),_.push({isNull:!0,plotX:d.translate(n,0,0,0,1),x:n,plotY:a,yBottom:a})}})}return _},y.defaultOptions=U(J.defaultOptions,{threshold:0}),y}(J),G(V.prototype,{singleStacks:!1,drawLegendSymbol:W.drawRectangle}),t.registerSeriesType("area",V),V}),mt(X,"Series/Spline/SplineSeries.js",[X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W){var J,t=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),V=G.seriesTypes.line,K=W.merge,et=W.pick;return W=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return t(U,J),U.prototype.getPointSpline=function(I,O,P){var y=O.plotX||0,h=O.plotY||0,v=I[P-1];if(P=I[P+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&P&&!P.isNull&&!1!==P.doCurve&&!O.isCliff){var _=P.plotX||0,A=0,d=(1.5*y+(v.plotX||0))/2.5,C=(1.5*h+(I=v.plotY||0))/2.5,x=(1.5*h+(P=P.plotY||0))/2.5;(_=(1.5*y+_)/2.5)!==d&&(A=(x-C)*(_-y)/(_-d)+h-x),x+=A,(C+=A)>I&&C>h?x=2*h-(C=Math.max(I,h)):C<I&&C<h&&(x=2*h-(C=Math.min(I,h))),x>P&&x>h?C=2*h-(x=Math.max(P,h)):x<P&&x<h&&(C=2*h-(x=Math.min(P,h))),O.rightContX=_,O.rightContY=x}return O=["C",et(v.rightContX,v.plotX,0),et(v.rightContY,v.plotY,0),et(d,y,0),et(C,h,0),y,h],v.rightContX=v.rightContY=void 0,O},U.defaultOptions=K(V.defaultOptions),U}(V),G.registerSeriesType("spline",W),W}),mt(X,"Series/AreaSpline/AreaSplineSeries.js",[X["Series/Area/AreaSeries.js"],X["Series/Spline/SplineSeries.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var O,et=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),J=G.prototype,U=K.extend,I=K.merge;return K=function(O){function P(){var y=null!==O&&O.apply(this,arguments)||this;return y.data=void 0,y.points=void 0,y.options=void 0,y}return et(P,O),P.defaultOptions=I(W.defaultOptions,G.defaultOptions),P}(W),U(K.prototype,{getGraphPath:J.getGraphPath,getStackPoints:J.getStackPoints,drawGraph:J.drawGraph,drawLegendSymbol:t.drawRectangle}),V.registerSeriesType("areaspline",K),K}),mt(X,"Series/Column/ColumnSeries.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var l,U=this&&this.__extends||(l=function(p,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var n in o)o.hasOwnProperty(n)&&(c[n]=o[n])})(p,i)},function(p,i){function c(){this.constructor=p}l(p,i),p.prototype=null===i?Object.create(i):(c.prototype=i.prototype,new c)}),I=G.animObject,O=W.parse,P=t.hasTouch;G=t.noop;var y=J.clamp,h=J.css,v=J.defined,_=J.extend,A=J.fireEvent,d=J.isArray,C=J.isNumber,x=J.merge,b=J.pick,u=J.objectEach;return J=function(l){function p(){var i=null!==l&&l.apply(this,arguments)||this;return i.borderWidth=void 0,i.data=void 0,i.group=void 0,i.options=void 0,i.points=void 0,i}return U(p,l),p.prototype.animate=function(i){var c=this,o=this.yAxis,n=c.options,r=this.chart.inverted,a={},M=r?"translateX":"translateY";if(i)a.scaleY=.001,i=y(o.toPixels(n.threshold),o.pos,o.pos+o.len),r?a.translateX=i-o.len:a.translateY=i,c.clipBox&&c.setClip(),c.group.attr(a);else{var L=Number(c.group.attr(M));c.group.animate({scaleY:1},_(I(c.options.animation),{step:function(Y,D){c.group&&(a[M]=L+D.pos*(o.pos-L),c.group.attr(a))}}))}},p.prototype.init=function(i,c){l.prototype.init.apply(this,arguments);var o=this;(i=o.chart).hasRendered&&i.series.forEach(function(n){n.type===o.type&&(n.isDirty=!0)})},p.prototype.getColumnMetrics=function(){var i=this,c=i.options,o=i.xAxis,n=i.yAxis,r=o.options.reversedStacks;r=o.reversed&&!r||!o.reversed&&r;var M,a={},L=0;!1===c.grouping?L=1:i.chart.series.forEach(function(N){var s=N.yAxis,f=N.options;if(N.type===i.type&&(N.visible||!i.chart.options.chart.ignoreHiddenSeries)&&n.len===s.len&&n.pos===s.pos){if(f.stacking&&"group"!==f.stacking){typeof a[M=N.stackKey]>"u"&&(a[M]=L++);var k=a[M]}else!1!==f.grouping&&(k=L++);N.columnIndex=k}});var Y=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||c.pointRange||o.closestPointRange||o.tickInterval||1),o.len),D=Y*c.groupPadding,w=(Y-2*D)/(L||1);return c=Math.min(c.maxPointWidth||o.len,b(c.pointWidth,w*(1-2*c.pointPadding))),i.columnMetrics={width:c,offset:(w-c)/2+(D+((i.columnIndex||0)+(r?1:0))*w-Y/2)*(r?-1:1),paddedWidth:w,columnCount:L},i.columnMetrics},p.prototype.crispCol=function(i,c,o,n){var r=this.chart,a=this.borderWidth,M=-(a%2?.5:0);return a=a%2?.5:1,r.inverted&&r.renderer.isVML&&(a+=1),this.options.crisp&&(o=Math.round(i+o)+M,o-=i=Math.round(i)+M),n=Math.round(c+n)+a,M=.5>=Math.abs(c)&&.5<n,n-=c=Math.round(c)+a,M&&n&&(--c,n+=1),{x:i,y:c,width:o,height:n}},p.prototype.adjustForMissingColumns=function(i,c,o,n){var r=this,a=this.options.stacking;if(!o.isNull&&1<n.columnCount){var M=this.yAxis.options.reversedStacks,L=0,Y=M?0:-n.columnCount;u(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(D){if("number"==typeof o.x&&(D=D[o.x.toString()])){var w=D.points[r.index],N=D.total;a?(w&&(L=Y),D.hasValidPoints&&(M?Y++:Y--)):d(w)&&(L=w[1],Y=N||0)}}),i=(o.plotX||0)+((Y-1)*n.paddedWidth+c)/2-c-L*n.paddedWidth}return i},p.prototype.translate=function(){var i=this,c=i.chart,o=i.options,n=i.dense=2>i.closestPointRange*i.xAxis.transA;n=i.borderWidth=b(o.borderWidth,n?0:1);var r=i.xAxis,a=i.yAxis,M=o.threshold,L=i.translatedThreshold=a.getThreshold(M),Y=b(o.minPointLength,5),D=i.getColumnMetrics(),w=D.width,N=i.pointXOffset=D.offset,s=i.dataMin,f=i.dataMax,k=i.barW=Math.max(w,1+2*n);c.inverted&&(L-=.5),o.pointPadding&&(k=Math.ceil(k)),K.prototype.translate.apply(i),i.points.forEach(function(R){var z=b(R.yBottom,L),H=999+Math.abs(z),m=R.plotX||0;H=y(R.plotY,-H,a.len+H);var j=Math.min(H,z),T=Math.max(H,z)-j,Z=w,B=m+N,tt=k;Y&&Math.abs(T)<Y&&(T=Y,m=!a.reversed&&!R.negative||a.reversed&&R.negative,C(M)&&C(f)&&R.y===M&&f<=M&&(a.min||0)<M&&(s!==f||(a.max||0)<=M)&&(m=!m),j=Math.abs(j-L)>Y?z-Y:L-(m?Y:0)),v(R.options.pointWidth)&&(Z=tt=Math.ceil(R.options.pointWidth),B-=Math.round((Z-w)/2)),o.centerInCategory&&(B=i.adjustForMissingColumns(B,Z,R,D)),R.barX=B,R.pointWidth=Z,R.tooltipPos=c.inverted?[y(a.len+a.pos-c.plotLeft-H,a.pos-c.plotLeft,a.len+a.pos-c.plotLeft),r.len+r.pos-c.plotTop-B-tt/2,T]:[r.left-c.plotLeft+B+tt/2,y(H+a.pos-c.plotTop,a.pos-c.plotTop,a.len+a.pos-c.plotTop),T],R.shapeType=i.pointClass.prototype.shapeType||"rect",R.shapeArgs=i.crispCol.apply(i,R.isNull?[B,L,tt,0]:[B,j,tt,T])})},p.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},p.prototype.pointAttribs=function(i,c){var o=this.options,n=this.pointAttrToOptions||{},r=n.stroke||"borderColor",a=n["stroke-width"]||"borderWidth",M=i&&i.color||this.color,L=i&&i[r]||o[r]||M;n=i&&i.options.dashStyle||o.dashStyle;var Y=i&&i[a]||o[a]||this[a]||0,D=b(i&&i.opacity,o.opacity,1);if(i&&this.zones.length){var w=i.getZone();M=i.options.color||w&&(w.color||i.nonZonedColor)||this.color,w&&(L=w.borderColor||L,n=w.dashStyle||n,Y=w.borderWidth||Y)}return c&&i&&(c=(i=x(o.states[c],i.options.states&&i.options.states[c]||{})).brightness,M=i.color||typeof c<"u"&&O(M).brighten(i.brightness).get()||M,L=i[r]||L,Y=i[a]||Y,n=i.dashStyle||n,D=b(i.opacity,D)),r={fill:M,stroke:L,"stroke-width":Y,opacity:D},n&&(r.dashstyle=n),r},p.prototype.drawPoints=function(){var a,i=this,c=this.chart,o=i.options,n=c.renderer,r=o.animationLimit||250;i.points.forEach(function(M){var L=M.graphic,Y=!!L,D=L&&c.pointCount<r?"animate":"attr";C(M.plotY)&&null!==M.y?(a=M.shapeArgs,L&&M.hasNewShapeType()&&(L=L.destroy()),i.enabledDataSorting&&(M.startXPos=i.xAxis.reversed?-(a&&a.width||0):i.xAxis.width),L||(M.graphic=L=n[M.shapeType](a).add(M.group||i.group))&&i.enabledDataSorting&&c.hasRendered&&c.pointCount<r&&(L.attr({x:M.startXPos}),Y=!0,D="animate"),L&&Y&&L[D](x(a)),o.borderRadius&&L[D]({r:o.borderRadius}),c.styledMode||L[D](i.pointAttribs(M,M.selected&&"select")).shadow(!1!==M.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),L&&(L.addClass(M.getClassName(),!0),L.attr({visibility:M.visible?"inherit":"hidden"}))):L&&(M.graphic=L.destroy())})},p.prototype.drawTracker=function(){var r,i=this,c=i.chart,o=c.pointer,n=function(a){var M=o.getPointFromEvent(a);typeof M<"u"&&(o.isDirectTouch=!0,M.onMouseOver(a))};i.points.forEach(function(a){r=d(a.dataLabels)?a.dataLabels:a.dataLabel?[a.dataLabel]:[],a.graphic&&(a.graphic.element.point=a),r.forEach(function(M){M.div?M.div.point=a:M.element.point=a})}),i._hasTracking||(i.trackerGroups.forEach(function(a){i[a]&&(i[a].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(M){o.onTrackerMouseOut(M)}),P&&i[a].on("touchstart",n),!c.styledMode&&i.options.cursor&&i[a].css(h).css({cursor:i.options.cursor}))}),i._hasTracking=!0),A(this,"afterDrawTracker")},p.prototype.remove=function(){var i=this,c=i.chart;c.hasRendered&&c.series.forEach(function(o){o.type===i.type&&(o.isDirty=!0)}),K.prototype.remove.apply(i,arguments)},p.defaultOptions=x(K.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),p}(K),_(J.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:V.drawRectangle,getSymbol:G,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),et.registerSeriesType("column",J),J}),mt(X,"Core/Series/DataLabel.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/FormatUtilities.js"],X["Core/Utilities.js"]],function(G,W,t){var v,V=G.getDeferredAnimation,K=W.format,et=t.defined,J=t.extend,U=t.fireEvent,I=t.isArray,O=t.merge,P=t.objectEach,y=t.pick,h=t.splat;return function(_){function A(p,i,c,o,n){var r=this,a=this.chart,M=this.isCartesian&&a.inverted,L=this.enabledDataSorting,Y=y(p.dlBox&&p.dlBox.centerX,p.plotX,-9999),D=y(p.plotY,-9999),w=i.getBBox(),N=c.rotation,s=c.align,f=a.isInsidePlot(Y,Math.round(D),{inverted:M,paneCoordinates:!0,series:r}),k=function(m){L&&r.xAxis&&!R&&r.setDataLabelStartPos(p,i,n,f,m)},R="justify"===y(c.overflow,L?"none":"justify"),z=this.visible&&!1!==p.visible&&(p.series.forceDL||L&&!R||f||y(c.inside,!!this.options.stacking)&&o&&a.isInsidePlot(Y,M?o.x+1:o.y+o.height-1,{inverted:M,paneCoordinates:!0,series:r}));if(z){var H=a.renderer.fontMetrics(a.styledMode?void 0:c.style.fontSize,i).b;o=J({x:M?this.yAxis.len-D:Y,y:Math.round(M?this.xAxis.len-Y:D),width:0,height:0},o),J(c,{width:w.width,height:w.height}),N?(R=!1,Y=a.renderer.rotCorr(H,N),k(Y={x:o.x+(c.x||0)+o.width/2+Y.x,y:o.y+(c.y||0)+{top:0,middle:.5,bottom:1}[c.verticalAlign]*o.height}),i[n?"attr":"animate"](Y).attr({align:s}),k=180<(k=(N+720)%360)&&360>k,"left"===s?Y.y-=k?w.height:0:"center"===s?(Y.x-=w.width/2,Y.y-=w.height/2):"right"===s&&(Y.x-=w.width,Y.y-=k?0:w.height),i.placed=!0,i.alignAttr=Y):(k(o),i.align(c,void 0,o),Y=i.alignAttr),R&&0<=o.height?this.justifyDataLabel(i,c,Y,w,o,n):y(c.crop,!0)&&(z=a.isInsidePlot(Y.x,Y.y,{paneCoordinates:!0,series:r})&&a.isInsidePlot(Y.x+w.width,Y.y+w.height,{paneCoordinates:!0,series:r})),c.shape&&!N&&i[n?"attr":"animate"]({anchorX:M?a.plotWidth-p.plotY:p.plotX,anchorY:M?a.plotHeight-p.plotX:p.plotY})}n&&L&&(i.placed=!1),z||L&&!R||(i.hide(!0),i.placed=!1)}function C(){var p=this,i=p.chart,c=p.options,o=p.points,n=p.hasRendered||0,r=i.renderer,a=c.dataLabels,L=a.animation;if(L=a.defer?V(i,L,p):{defer:0,duration:0},a=b(b(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[p.type]&&i.options.plotOptions[p.type].dataLabels),a),U(this,"drawDataLabels"),I(a)||a.enabled||p._hasPointLabels){var Y=p.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",a.zIndex||6);Y.attr({opacity:+n}),!n&&(n=p.dataLabelsGroup)&&(p.visible&&Y.show(!0),n[c.animation?"animate":"attr"]({opacity:1},L)),o.forEach(function(D){h(b(a,D.dlOptions||D.options&&D.options.dataLabels)).forEach(function(w,N){var s=w.enabled&&(!D.isNull||D.dataLabelOnNull)&&function d(p,i){var c=i.filter;return!c||(i=c.operator,p=p[c.property],c=c.value,">"===i&&p>c||"<"===i&&p<c||">="===i&&p>=c||"<="===i&&p<=c||"=="===i&&p==c||"==="===i&&p===c)}(D,w),f=D.connectors?D.connectors[N]:D.connector,k=D.dataLabels?D.dataLabels[N]:D.dataLabel,R=!k,z=y(w.distance,D.labelDistance);if(s){var H=D.getLabelConfig(),m=y(w[D.formatPrefix+"Format"],w.format);H=et(m)?K(m,H,i):(w[D.formatPrefix+"Formatter"]||w.formatter).call(H,w),m=w.style;var j=w.rotation;i.styledMode||(m.color=y(w.color,m.color,p.color,"#000000"),"contrast"===m.color?(D.contrastColor=r.getContrast(D.color||p.color),m.color=!et(z)&&w.inside||0>z||c.stacking?D.contrastColor:"#000000"):delete D.contrastColor,c.cursor&&(m.cursor=c.cursor));var T={r:w.borderRadius||0,rotation:j,padding:w.padding,zIndex:1};i.styledMode||(T.fill=w.backgroundColor,T.stroke=w.borderColor,T["stroke-width"]=w.borderWidth),P(T,function(Z,B){typeof Z>"u"&&delete T[B]})}!k||s&&et(H)&&!!k.div==!!w.useHTML&&(k.rotation&&w.rotation||k.rotation===w.rotation)||(R=!0,D.dataLabel=k=D.dataLabel&&D.dataLabel.destroy(),D.dataLabels&&(1===D.dataLabels.length?delete D.dataLabels:delete D.dataLabels[N]),N||delete D.dataLabel,f&&(D.connector=D.connector.destroy(),D.connectors&&(1===D.connectors.length?delete D.connectors:delete D.connectors[N]))),s&&et(H)&&(k?T.text=H:(D.dataLabels=D.dataLabels||[],k=D.dataLabels[N]=j?r.text(H,0,-9999,w.useHTML).addClass("highcharts-data-label"):r.label(H,0,-9999,w.shape,null,null,w.useHTML,null,"data-label"),N||(D.dataLabel=k),k.addClass(" highcharts-data-label-color-"+D.colorIndex+" "+(w.className||"")+(w.useHTML?" highcharts-tracker":""))),k.options=w,k.attr(T),i.styledMode||k.css(m).shadow(w.shadow),k.added||k.add(Y),w.textPath&&!w.useHTML&&(k.setTextPath(D.getDataLabelPath&&D.getDataLabelPath(k)||D.graphic,w.textPath),D.dataLabelPath&&!w.textPath.enabled&&(D.dataLabelPath=D.dataLabelPath.destroy())),p.alignDataLabel(D,k,w,null,R))})})}U(this,"afterDrawDataLabels")}function x(p,i,c,o,n,r){var a=this.chart,M=i.align,L=i.verticalAlign,Y=p.box?0:p.padding||0,D=i.x;D=void 0===D?0:D;var w=i.y;w=void 0===w?0:w;var N=(c.x||0)+Y;if(0>N){"right"===M&&0<=D?(i.align="left",i.inside=!0):D-=N;var s=!0}return(N=(c.x||0)+o.width-Y)>a.plotWidth&&("left"===M&&0>=D?(i.align="right",i.inside=!0):D+=a.plotWidth-N,s=!0),0>(N=c.y+Y)&&("bottom"===L&&0<=w?(i.verticalAlign="top",i.inside=!0):w-=N,s=!0),(N=(c.y||0)+o.height-Y)>a.plotHeight&&("top"===L&&0>=w?(i.verticalAlign="bottom",i.inside=!0):w+=a.plotHeight-N,s=!0),s&&(i.x=D,i.y=w,p.placed=!r,p.align(i,void 0,n)),s}function b(p,i){var o,c=[];if(I(p)&&!I(i))c=p.map(function(n){return O(n,i)});else if(I(i)&&!I(p))c=i.map(function(n){return O(p,n)});else if(I(p)||I(i))for(o=Math.max(p.length,i.length);o--;)c[o]=O(p[o],i[o]);else c=O(p,i);return c}function u(p,i,c,o,n){var r=this.chart,a=r.inverted,M=this.xAxis,L=M.reversed,Y=a?i.height/2:i.width/2;p=(p=p.pointWidth)?p/2:0,i.startXPos=a?n.x:L?-Y-p:M.width-Y+p,i.startYPos=a?L?this.yAxis.height-Y+p:-Y-p:n.y,o?"hidden"===i.visibility&&(i.show(),i.attr({opacity:0}).animate({opacity:1})):i.attr({opacity:1}).animate({opacity:0},void 0,i.hide),r.hasRendered&&(c&&i.attr({x:i.startXPos,y:i.startYPos}),i.placed=!0)}var l=[];_.compose=function(p){if(-1===l.indexOf(p)){var i=p.prototype;l.push(p),i.alignDataLabel=A,i.drawDataLabels=C,i.justifyDataLabel=x,i.setDataLabelStartPos=u}}}(v||(v={})),v}),mt(X,"Series/Column/ColumnDataLabel.js",[X["Core/Series/DataLabel.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=W.series,K=t.merge,et=t.pick;return function(U){function I(P,y,h,v,_){var A=this.chart.inverted,d=P.series,C=(d.xAxis?d.xAxis.len:this.chart.plotSizeX)||0,x=P.dlBox||P.shapeArgs,b=et(P.below,P.plotY>et(this.translatedThreshold,d=(d.yAxis?d.yAxis.len:this.chart.plotSizeY)||0)),u=et(h.inside,!!this.options.stacking);x&&(0>(v=K(x)).y&&(v.height+=v.y,v.y=0),0<(x=v.y+v.height-d)&&x<v.height&&(v.height-=x),A&&(v={x:d-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),u||(A?(v.x+=b?0:v.width,v.width=0):(v.y+=b?v.height:0,v.height=0))),h.align=et(h.align,!A||u?"center":b?"right":"left"),h.verticalAlign=et(h.verticalAlign,A||u?"middle":b?"top":"bottom"),V.prototype.alignDataLabel.call(this,P,y,h,v,_),h.inside&&P.contrastColor&&y.css({color:P.contrastColor})}var O=[];U.compose=function(P){G.compose(V),-1===O.indexOf(P)&&(O.push(P),P.prototype.alignDataLabel=I)}}(J||(J={})),J}),mt(X,"Series/Bar/BarSeries.js",[X["Series/Column/ColumnSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),K=t.extend,et=t.merge;return t=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return V(U,J),U.defaultOptions=et(G.defaultOptions,{}),U}(G),K(t.prototype,{inverted:!0}),W.registerSeriesType("bar",t),t}),mt(X,"Series/Scatter/ScatterSeries.js",[X["Series/Column/ColumnSeries.js"],X["Series/Line/LineSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=this&&this.__extends||(I=function(O,P){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)h.hasOwnProperty(v)&&(y[v]=h[v])})(O,P)},function(O,P){function y(){this.constructor=O}I(O,P),O.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),et=V.addEvent,J=V.extend,U=V.merge;return V=function(I){function O(){var P=null!==I&&I.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return K(O,I),O.prototype.applyJitter=function(){var P=this,y=this.options.jitter,h=this.points.length;y&&this.points.forEach(function(v,_){["x","y"].forEach(function(A,d){var C="plot"+A.toUpperCase();if(y[A]&&!v.isNull){var x=P[A+"Axis"],b=y[A]*x.transA;if(x&&!x.isLog){var u=Math.max(0,v[C]-b);x=Math.min(x.len,v[C]+b),d=1e4*Math.sin(_+d*h),v[C]=u+(x-u)*(d-Math.floor(d)),"x"===A&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?I.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=U(W.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}(W),J(V.prototype,{drawTracker:G.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),et(V,"afterTranslate",function(){this.applyJitter()}),t.registerSeriesType("scatter",V),V}),mt(X,"Series/CenteredUtilities.js",[X["Core/Globals.js"],X["Core/Series/Series.js"],X["Core/Utilities.js"]],function(G,W,t){var U,I,V=G.deg2rad,K=t.isNumber,et=t.pick,J=t.relativeLength;return(I=U||(U={})).getCenter=function(){var O=this.options,P=this.chart,y=2*(O.slicedOffset||0),h=P.plotWidth-2*y,v=P.plotHeight-2*y,_=O.center,A=Math.min(h,v),d=O.size,C=O.innerSize||0;for("string"==typeof d&&(d=parseFloat(d)),"string"==typeof C&&(C=parseFloat(C)),O=[et(_[0],"50%"),et(_[1],"50%"),et(d&&0>d?void 0:O.size,"100%"),et(C&&0>C?void 0:O.innerSize||0,"0%")],!P.angular||this instanceof W||(O[3]=0),_=0;4>_;++_)d=O[_],P=2>_||2===_&&/%$/.test(d),O[_]=J(d,[h,v,A,O[2]][_])+(P?y:0);return O[3]>O[2]&&(O[3]=O[2]),O},I.getStartAndEndRadians=function(O,P){return O=K(O)?O:0,P=K(P)&&P>O&&360>P-O?P:O+360,{start:V*(O+-90),end:V*(P+-90)}},U}),mt(X,"Series/Pie/PiePoint.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Series/Point.js"],X["Core/Utilities.js"]],function(G,W,t){var P,V=this&&this.__extends||(P=function(y,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var A in _)_.hasOwnProperty(A)&&(v[A]=_[A])})(y,h)},function(y,h){function v(){this.constructor=y}P(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),K=G.setAnimation,et=t.addEvent,J=t.defined;G=t.extend;var U=t.isNumber,I=t.pick,O=t.relativeLength;return W=function(P){function y(){var h=null!==P&&P.apply(this,arguments)||this;return h.labelDistance=void 0,h.options=void 0,h.series=void 0,h}return V(y,P),y.prototype.getConnectorPath=function(){var h=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,A=v.connectorShape;return _[A]&&(A=_[A]),A.call(this,{x:h.final.x,y:h.final.y,alignment:h.alignment},h.connectorPosition,v)},y.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},y.prototype.haloPath=function(h){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+h,v.r+h,{innerR:v.r-1,start:v.start,end:v.end})},y.prototype.init=function(){var h=this;P.prototype.init.apply(this,arguments),this.name=I(this.name,"Slice");var v=function(_){h.slice("select"===_.type)};return et(this,"select",v),et(this,"unselect",v),this},y.prototype.isValid=function(){return U(this.y)&&0<=this.y},y.prototype.setVisible=function(h,v){var _=this,A=this.series,d=A.chart,C=A.options.ignoreHiddenPoint;v=I(v,C),h!==this.visible&&(this.visible=this.options.visible=h=typeof h>"u"?!this.visible:h,A.options.data[A.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){_[x]&&_[x][h?"show":"hide"](h)}),this.legendItem&&d.legend.colorizeItem(this,h),h||"hover"!==this.state||this.setState(""),C&&(A.isDirty=!0),v&&d.redraw())},y.prototype.slice=function(h,v,_){var A=this.series;K(_,A.chart),I(v,!0),this.sliced=this.options.sliced=J(h)?h:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},y}(W),G(W.prototype,{connectorShapes:{fixedOffset:function(P,y,h){var v=y.breakAt;return y=y.touchingSliceAt,[["M",P.x,P.y],h.softConnector?["C",P.x+("left"===P.alignment?-5:5),P.y,2*v.x-y.x,2*v.y-y.y,v.x,v.y]:["L",v.x,v.y],["L",y.x,y.y]]},straight:function(P,y){return[["M",P.x,P.y],["L",(y=y.touchingSliceAt).x,y.y]]},crookedLine:function(P,y,h){y=y.touchingSliceAt;var v=this.series,_=v.center[0],A=v.chart.plotWidth,d=v.chart.plotLeft;v=P.alignment;var C=this.shapeArgs.r;return h=O(h.crookDistance,1),h=["L",A="left"===v?_+C+(A+d-_-C)*(1-h):d+(_-C)*h,P.y],_=!0,("left"===v?A>P.x||A<y.x:A<P.x||A>y.x)&&(_=!1),P=[["M",P.x,P.y]],_&&P.push(h),P.push(["L",y.x,y.y]),P}}}),W}),mt(X,"Series/Pie/PieSeries.js",[X["Series/CenteredUtilities.js"],X["Series/Column/ColumnSeries.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Series/Pie/PiePoint.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/Symbols.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I){var C,O=this&&this.__extends||(C=function(x,b){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var p in l)l.hasOwnProperty(p)&&(u[p]=l[p])})(x,b)},function(x,b){function u(){this.constructor=x}C(x,b),x.prototype=null===b?Object.create(b):(u.prototype=b.prototype,new u)}),P=G.getStartAndEndRadians;t=t.noop;var y=I.clamp,h=I.extend,v=I.fireEvent,_=I.merge,A=I.pick,d=I.relativeLength;return I=function(C){function x(){var b=null!==C&&C.apply(this,arguments)||this;return b.center=void 0,b.data=void 0,b.maxLabelDistance=void 0,b.options=void 0,b.points=void 0,b}return O(x,C),x.prototype.animate=function(b){var u=this,p=u.startAngleRad;b||u.points.forEach(function(i){var c=i.graphic,o=i.shapeArgs;c&&o&&(c.attr({r:A(i.startR,u.center&&u.center[3]/2),start:p,end:p}),c.animate({r:o.r,start:o.start,end:o.end},u.options.animation))})},x.prototype.drawEmpty=function(){var b=this.startAngleRad,u=this.endAngleRad,l=this.options;if(0===this.total&&this.center){var p=this.center[0],i=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(p,i,this.center[1]/2,0,b,u).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:U.arc(p,i,this.center[2]/2,0,{start:b,end:u,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":l.borderWidth,fill:l.fillColor||"none",stroke:l.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var b=this.chart.renderer;this.points.forEach(function(u){u.graphic&&u.hasNewShapeType()&&(u.graphic=u.graphic.destroy()),u.graphic||(u.graphic=b[u.shapeType](u.shapeArgs).add(u.series.group),u.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(b,u,l){var p=this.center,i=this.radii?this.radii[l.index]||0:p[2]/2;return b=Math.asin(y((b-p[1])/(i+l.labelDistance),-1,1)),p[0]+(u?-1:1)*Math.cos(b)*(i+l.labelDistance)+(0<l.labelDistance?(u?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var i,c,o,n,b=this,u=b.chart,l=u.renderer,p=b.options.shadow;this.drawEmpty(),!p||b.shadowGroup||u.styledMode||(b.shadowGroup=l.g("shadow").attr({zIndex:-1}).add(b.group)),b.points.forEach(function(r){var a={};if(c=r.graphic,!r.isNull&&c){var M=void 0;n=r.shapeArgs,i=r.getTranslate(),u.styledMode||(M=r.shadowGroup,p&&!M&&(M=r.shadowGroup=l.g("shadow").add(b.shadowGroup)),M&&M.attr(i),o=b.pointAttribs(r,r.selected&&"select")),r.delayedRendering?(c.setRadialReference(b.center).attr(n).attr(i),u.styledMode||c.attr(o).attr({"stroke-linejoin":"round"}).shadow(p,M),r.delayedRendering=!1):(c.setRadialReference(b.center),u.styledMode||_(!0,a,o),_(!0,a,n,i),c.animate(a)),c.attr({visibility:r.visible?"inherit":"hidden"}),c.addClass(r.getClassName(),!0)}else c&&(r.graphic=c.destroy())})},x.prototype.sortByAngle=function(b,u){b.sort(function(l,p){return typeof l.angle<"u"&&(p.angle-l.angle)*u})},x.prototype.translate=function(b){this.generatePoints();var u=this.options,l=u.slicedOffset,p=l+(u.borderWidth||0),i=P(u.startAngle,u.endAngle),c=this.startAngleRad=i.start;i=(this.endAngleRad=i.end)-c;var o=this.points,n=u.dataLabels.distance;u=u.ignoreHiddenPoint;var a,r=o.length,M=0;for(b||(this.center=b=this.getCenter()),a=0;a<r;a++){var L=o[a],Y=c+M*i;!L.isValid()||u&&!L.visible||(M+=L.percentage/100);var D=c+M*i,w={x:b[0],y:b[1],r:b[2]/2,innerR:b[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*D)/1e3};L.shapeType="arc",L.shapeArgs=w,L.labelDistance=A(L.options.dataLabels&&L.options.dataLabels.distance,n),L.labelDistance=d(L.labelDistance,w.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,L.labelDistance),(D=(D+Y)/2)>1.5*Math.PI?D-=2*Math.PI:D<-Math.PI/2&&(D+=2*Math.PI),L.slicedTranslation={translateX:Math.round(Math.cos(D)*l),translateY:Math.round(Math.sin(D)*l)},w=Math.cos(D)*b[2]/2;var N=Math.sin(D)*b[2]/2;L.tooltipPos=[b[0]+.7*w,b[1]+.7*N],L.half=D<-Math.PI/2||D>Math.PI/2?1:0,L.angle=D,Y=Math.min(p,L.labelDistance/5),L.labelPosition={natural:{x:b[0]+w+Math.cos(D)*L.labelDistance,y:b[1]+N+Math.sin(D)*L.labelDistance},final:{},alignment:0>L.labelDistance?"center":L.half?"right":"left",connectorPosition:{breakAt:{x:b[0]+w+Math.cos(D)*Y,y:b[1]+N+Math.sin(D)*Y},touchingSliceAt:{x:b[0]+w,y:b[1]+N}}}}v(this,"afterTranslate")},x.prototype.updateTotals=function(){var p,b=this.points,u=b.length,l=this.options.ignoreHiddenPoint,i=0;for(p=0;p<u;p++){var c=b[p];!c.isValid()||l&&!c.visible||(i+=c.y)}for(this.total=i,p=0;p<u;p++)(c=b[p]).percentage=0<i&&(c.visible||!l)?c.y/i*100:0,c.total=i},x.defaultOptions=_(et.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(et),h(I.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:V.drawRectangle,drawTracker:W.prototype.drawTracker,getCenter:G.getCenter,getSymbol:t,isCartesian:!1,noSharedTooltip:!0,pointAttribs:W.prototype.pointAttribs,pointClass:K,requireSorting:!1,searchPoint:t,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",I),I}),mt(X,"Series/Pie/PieDataLabel.js",[X["Core/Series/DataLabel.js"],X["Core/Globals.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var _,et=W.noop,J=t.distribute,U=V.series,I=K.arrayMax,O=K.clamp,P=K.defined,y=K.merge,h=K.pick,v=K.relativeLength;return function(A){function d(){var f,k,R,z,H,m,j,T,Z,B,tt,$,l=this,p=l.data,i=l.chart,c=l.options.dataLabels||{},o=c.connectorPadding,n=i.plotWidth,r=i.plotHeight,a=i.plotLeft,M=Math.round(i.chartWidth/3),L=l.center,Y=L[2]/2,D=L[1],w=[[],[]],N=[0,0,0,0],s=l.dataLabelPositioners;l.visible&&(c.enabled||l._hasPointLabels)&&(p.forEach(function(nt){nt.dataLabel&&nt.visible&&nt.dataLabel.shortened&&(nt.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),nt.dataLabel.shortened=!1)}),U.prototype.drawDataLabels.apply(l),p.forEach(function(nt){nt.dataLabel&&(nt.visible?(w[nt.half].push(nt),nt.dataLabel._pos=null,!P(c.style.width)&&!P(nt.options.dataLabels&&nt.options.dataLabels.style&&nt.options.dataLabels.style.width)&&nt.dataLabel.getBBox().width>M&&(nt.dataLabel.css({width:Math.round(.7*M)+"px"}),nt.dataLabel.shortened=!0)):(nt.dataLabel=nt.dataLabel.destroy(),nt.dataLabels&&1===nt.dataLabels.length&&delete nt.dataLabels))}),w.forEach(function(nt,ot){var ct,pt=nt.length,ut=[];if(pt){if(l.sortByAngle(nt,ot-.5),0<l.maxLabelDistance){var ht=Math.max(0,D-Y-l.maxLabelDistance),st=Math.min(D+Y+l.maxLabelDistance,i.plotHeight);nt.forEach(function(F){0<F.labelDistance&&F.dataLabel&&(F.top=Math.max(0,D-Y-F.labelDistance),F.bottom=Math.min(D+Y+F.labelDistance,i.plotHeight),ct=F.dataLabel.getBBox().height||21,F.distributeBox={target:F.labelPosition.natural.y-F.top+ct/2,size:ct,rank:F.y},ut.push(F.distributeBox))}),J(ut,ht=st+ct-ht,ht/5)}for(tt=0;tt<pt;tt++){if(z=(f=nt[tt]).dataLabel,B=!1===f.visible?"hidden":"inherit",Z=ht=(m=f.labelPosition).natural.y,ut&&P(f.distributeBox)&&(typeof f.distributeBox.pos>"u"?B="hidden":(j=f.distributeBox.size,Z=s.radialDistributionY(f))),delete f.positionIndex,c.justify)T=s.justify(f,Y,L);else switch(c.alignTo){case"connectors":T=s.alignToConnectors(nt,ot,n,a);break;case"plotEdges":T=s.alignToPlotEdges(z,ot,n,a);break;default:T=s.radialDistributionX(l,f,Z,ht)}z._attr={visibility:B,align:m.alignment},z._pos={x:T+h(($=f.options.dataLabels||{}).x,c.x)+({left:o,right:-o}[m.alignment]||0),y:Z+h($.y,c.y)-10},m.final.x=T,m.final.y=Z,h(c.crop,!0)&&(H=z.getBBox().width,ht=null,T-H<o&&1===ot?(ht=Math.round(H-T+o),N[3]=Math.max(ht,N[3])):T+H>n-o&&0===ot&&(ht=Math.round(T+H-n+o),N[1]=Math.max(ht,N[1])),0>Z-j/2?N[0]=Math.max(Math.round(j/2-Z),N[0]):Z+j/2>r&&(N[2]=Math.max(Math.round(Z+j/2-r),N[2])),z.sideOverflow=ht)}}}),0===I(N)||this.verifyDataLabelOverflow(N))&&(this.placeDataLabels(),this.points.forEach(function(nt){var ot;$=y(c,nt.options.dataLabels),(k=h($.connectorWidth,1))&&(R=nt.connector,(z=nt.dataLabel)&&z._pos&&nt.visible&&0<nt.labelDistance?(B=z._attr.visibility,(ot=!R)&&(nt.connector=R=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+nt.colorIndex+(nt.className?" "+nt.className:"")).add(l.dataLabelsGroup),i.styledMode||R.attr({"stroke-width":k,stroke:$.connectorColor||nt.color||"#666666"})),R[ot?"attr":"animate"]({d:nt.getConnectorPath()}),R.attr("visibility",B)):R&&(nt.connector=R.destroy()))}))}function C(){this.points.forEach(function(l){var i,p=l.dataLabel;p&&l.visible&&((i=p._pos)?(p.sideOverflow&&(p._attr.width=Math.max(p.getBBox().width-p.sideOverflow,0),p.css({width:p._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(p._attr),p[p.moved?"animate":"attr"](i),p.moved=!0):p&&p.attr({y:-9999})),delete l.distributeBox},this)}function x(l){var p=this.center,i=this.options,c=i.center,o=i.minSize||80,n=null!==i.size;if(!n){if(null!==c[0])var r=Math.max(p[2]-Math.max(l[1],l[3]),o);else r=Math.max(p[2]-l[1]-l[3],o),p[0]+=(l[3]-l[1])/2;null!==c[1]?r=O(r,o,p[2]-Math.max(l[0],l[2])):(r=O(r,o,p[2]-l[0]-l[2]),p[1]+=(l[0]-l[2])/2),r<p[2]?(p[2]=r,p[3]=Math.min(v(i.innerSize||0,r),r),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var b=[],u={radialDistributionY:function(l){return l.top+l.distributeBox.pos},radialDistributionX:function(l,p,i,c){return l.getX(i<p.top+2||i>p.bottom-2?c:i,p.half,p)},justify:function(l,p,i){return i[0]+(l.half?-1:1)*(p+l.labelDistance)},alignToPlotEdges:function(l,p,i,c){return l=l.getBBox().width,p?l+c:i-l-c},alignToConnectors:function(l,p,i,c){var n,o=0;return l.forEach(function(r){(n=r.dataLabel.getBBox().width)>o&&(o=n)}),p?o+c:i-o-c}};A.compose=function(l){G.compose(U),-1===b.indexOf(l)&&(b.push(l),(l=l.prototype).dataLabelPositioners=u,l.alignDataLabel=et,l.drawDataLabels=d,l.placeDataLabels=C,l.verifyDataLabelOverflow=x)}}(_||(_={})),_}),mt(X,"Extensions/OverlappingDataLabels.js",[X["Core/Chart/Chart.js"],X["Core/Utilities.js"]],function(G,W){function t(O,P){var y=!1;if(O){var h=O.newOpacity;O.oldOpacity!==h&&(O.alignAttr&&O.placed?(O[h?"removeClass":"addClass"]("highcharts-data-label-hidden"),y=!0,O.alignAttr.opacity=h,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){P.styledMode||O.css({pointerEvents:h?"auto":"none"})}),K(P,"afterHideOverlappingLabel")):O.attr({opacity:h})),O.isOld=!0}return y}var K=W.fireEvent,et=W.isArray,J=W.isNumber,U=W.objectEach,I=W.pick;(0,W.addEvent)(G,"render",function(){var O=this,P=[];(this.labelCollectors||[]).forEach(function(y){P=P.concat(y())}),(this.yAxis||[]).forEach(function(y){y.stacking&&y.options.stackLabels&&!y.options.stackLabels.allowOverlap&&U(y.stacking.stacks,function(h){U(h,function(v){v.label&&"hidden"!==v.label.visibility&&P.push(v.label)})})}),(this.series||[]).forEach(function(y){var h=y.options.dataLabels;y.visible&&(!1!==h.enabled||y._hasPointLabels)&&((h=function(v){return v.forEach(function(_){_.visible&&(et(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(A){var d=A.options;A.labelrank=I(d.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),d.allowOverlap?(A.oldOpacity=A.opacity,A.newOpacity=1,t(A,O)):P.push(A)})})})(y.nodes||[]),h(y.points))}),this.hideOverlappingLabels(P)}),G.prototype.hideOverlappingLabels=function(O){var v,_,A,P=this,y=O.length,h=P.renderer,d=!1,C=function(u){var l,c,p=u.box?0:u.padding||0,i=l=0;if(u&&(!u.alignAttr||u.placed)){var o=u.alignAttr||{x:u.attr("x"),y:u.attr("y")},n=u.parentGroup;return u.width||(l=u.getBBox(),u.width=l.width,u.height=l.height,l=h.fontMetrics(null,u.element).h),(c={left:"0",center:"0.5",right:"1"}[u.alignValue])?i=+c*(u.width-2*p):J(u.x)&&Math.round(u.x)!==u.translateX&&(i=u.x-u.translateX),{x:o.x+(n.translateX||0)+p-(i||0),y:o.y+(n.translateY||0)+p-l,width:u.width-2*p,height:u.height-2*p}}};for(_=0;_<y;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(u,l){return(l.labelrank||0)-(u.labelrank||0)}),_=0;_<y;_++){var x=(C=O[_])&&C.absoluteBox;for(v=_+1;v<y;++v){var b=(A=O[v])&&A.absoluteBox;!x||!b||C===A||0===C.newOpacity||0===A.newOpacity||b.x>=x.x+x.width||b.x+b.width<=x.x||b.y>=x.y+x.height||b.y+b.height<=x.y||((C.labelrank<A.labelrank?C:A).newOpacity=0)}}O.forEach(function(u){t(u,P)&&(d=!0)}),d&&K(P,"afterHideAllOverlappingLabels")}}),mt(X,"Core/Responsive.js",[X["Core/Utilities.js"]],function(G){var P,W=G.extend,t=G.find,V=G.isArray,K=G.isObject,et=G.merge,J=G.objectEach,U=G.pick,I=G.splat,O=G.uniqueKey;return function(y){var h=[];y.compose=function(_){return-1===h.indexOf(_)&&(h.push(_),W(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(A){var C=this,x={};return function d(b,u,l,p){var i;J(b,function(c,o){if(!p&&-1<C.collectionsWithUpdate.indexOf(o)&&u[o])for(c=I(c),l[o]=[],i=0;i<Math.max(c.length,u[o].length);i++)u[o][i]&&(void 0===c[i]?l[o][i]=u[o][i]:(l[o][i]={},d(c[i],u[o][i],l[o][i],p+1)));else K(c)?(l[o]=V(c)?[]:{},d(c,u[o]||{},l[o],p+1)):l[o]=typeof u[o]>"u"?null:u[o]})}(A,this.options,x,0),x},_.prototype.matchResponsiveRule=function(A,d){var C=A.condition;(C.callback||function(){return this.chartWidth<=U(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=U(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=U(C.minWidth,0)&&this.chartHeight>=U(C.minHeight,0)}).call(this)&&d.push(A._id)},_.prototype.setResponsive=function(A,d){var C=this,x=this.options.responsive,b=this.currentResponsive,u=[];!d&&x&&x.rules&&x.rules.forEach(function(l){typeof l._id>"u"&&(l._id=O()),C.matchResponsiveRule(l,u)},this),(d=et.apply(void 0,u.map(function(l){return t((x||{}).rules||[],function(p){return p._id===l})}).map(function(l){return l&&l.chartOptions}))).isResponsiveOptions=!0,(u=u.toString()||void 0)!==(b&&b.ruleIds)&&(b&&this.update(b.undoOptions,A,!0),u?((b=this.currentOptions(d)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:u,mergedOptions:d,undoOptions:b},this.update(d,A,!0)):this.currentResponsive=void 0)},_}()}(P||(P={})),P}),mt(X,"masters/highcharts.src.js",[X["Core/Globals.js"],X["Core/Utilities.js"],X["Core/DefaultOptions.js"],X["Core/Animation/Fx.js"],X["Core/Animation/AnimationUtilities.js"],X["Core/Renderer/HTML/AST.js"],X["Core/FormatUtilities.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Renderer/HTML/HTMLElement.js"],X["Core/Renderer/HTML/HTMLRenderer.js"],X["Core/Axis/Axis.js"],X["Core/Axis/DateTimeAxis.js"],X["Core/Axis/LogarithmicAxis.js"],X["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],X["Core/Axis/Tick.js"],X["Core/Tooltip.js"],X["Core/Series/Point.js"],X["Core/Pointer.js"],X["Core/MSPointer.js"],X["Core/Legend/Legend.js"],X["Core/Chart/Chart.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Series/Column/ColumnSeries.js"],X["Series/Column/ColumnDataLabel.js"],X["Series/Pie/PieSeries.js"],X["Series/Pie/PieDataLabel.js"],X["Core/Series/DataLabel.js"],X["Core/Responsive.js"],X["Core/Color/Color.js"],X["Core/Time.js"]],function(G,W,t,V,K,et,J,U,I,O,P,y,h,v,_,A,d,C,x,b,u,l,p,i,c,o,n,r,a,M,L,Y,D){return G.animate=K.animate,G.animObject=K.animObject,G.getDeferredAnimation=K.getDeferredAnimation,G.setAnimation=K.setAnimation,G.stop=K.stop,G.timers=V.timers,G.AST=et,G.Axis=h,G.Chart=p,G.chart=p.chart,G.Fx=V,G.Legend=l,G.PlotLineOrBand=A,G.Point=x,G.Pointer=u.isRequired()?u:b,G.Series=i,G.SVGElement=I,G.SVGRenderer=O,G.Tick=d,G.Time=D,G.Tooltip=C,G.Color=Y,G.color=Y.parse,y.compose(O),P.compose(I),G.defaultOptions=t.defaultOptions,G.getOptions=t.getOptions,G.time=t.defaultTime,G.setOptions=t.setOptions,G.dateFormat=J.dateFormat,G.format=J.format,G.numberFormat=J.numberFormat,G.addEvent=W.addEvent,G.arrayMax=W.arrayMax,G.arrayMin=W.arrayMin,G.attr=W.attr,G.clearTimeout=W.clearTimeout,G.correctFloat=W.correctFloat,G.createElement=W.createElement,G.css=W.css,G.defined=W.defined,G.destroyObjectProperties=W.destroyObjectProperties,G.discardElement=W.discardElement,G.distribute=U.distribute,G.erase=W.erase,G.error=W.error,G.extend=W.extend,G.extendClass=W.extendClass,G.find=W.find,G.fireEvent=W.fireEvent,G.getMagnitude=W.getMagnitude,G.getStyle=W.getStyle,G.inArray=W.inArray,G.isArray=W.isArray,G.isClass=W.isClass,G.isDOMElement=W.isDOMElement,G.isFunction=W.isFunction,G.isNumber=W.isNumber,G.isObject=W.isObject,G.isString=W.isString,G.keys=W.keys,G.merge=W.merge,G.normalizeTickInterval=W.normalizeTickInterval,G.objectEach=W.objectEach,G.offset=W.offset,G.pad=W.pad,G.pick=W.pick,G.pInt=W.pInt,G.relativeLength=W.relativeLength,G.removeEvent=W.removeEvent,G.seriesType=c.seriesType,G.splat=W.splat,G.stableSort=W.stableSort,G.syncTimeout=W.syncTimeout,G.timeUnits=W.timeUnits,G.uniqueKey=W.uniqueKey,G.useSerialIds=W.useSerialIds,G.wrap=W.wrap,n.compose(o),M.compose(i),v.compose(h),_.compose(h),a.compose(r),A.compose(h),L.compose(p),G}),X["masters/highcharts.src.js"]._modules=X,X["masters/highcharts.src.js"]},ee.exports?(mt.default=mt,ee.exports=kt.document?mt(kt):mt):void 0!==(Kt=function(){return mt(kt)}.call(ce,Mt,ce,ee))&&(ee.exports=Kt)},81220:function(ee,ce,Mt){var Kt,kt,mt;kt=typeof window<"u"?window:this,mt=function(kt){function mt(G,W,t,V){G.hasOwnProperty(W)||(G[W]=V.apply(null,t),"function"==typeof CustomEvent&&kt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:W,module:G[W]}})))}var X={};return mt(X,"Core/Globals.js",[],function(){var G,W;return(W=G||(G={})).SVG_NS="http://www.w3.org/2000/svg",W.product="Highcharts",W.version="10.0.0",W.win=typeof kt<"u"?kt:{},W.doc=W.win.document,W.svg=W.doc&&W.doc.createElementNS&&!!W.doc.createElementNS(W.SVG_NS,"svg").createSVGRect,W.userAgent=W.win.navigator&&W.win.navigator.userAgent||"",W.isChrome=-1!==W.userAgent.indexOf("Chrome"),W.isFirefox=-1!==W.userAgent.indexOf("Firefox"),W.isMS=/(edge|msie|trident)/i.test(W.userAgent)&&!W.win.opera,W.isSafari=!W.isChrome&&-1!==W.userAgent.indexOf("Safari"),W.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(W.userAgent),W.isWebKit=-1!==W.userAgent.indexOf("AppleWebKit"),W.deg2rad=2*Math.PI/360,W.hasBidiBug=W.isFirefox&&4>parseInt(W.userAgent.split("Firefox/")[1],10),W.hasTouch=!!W.win.TouchEvent,W.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],W.noop=function(){},W.supportsPassiveEvents=function(){var t=!1;if(!W.isMS){var V=Object.defineProperty({},"passive",{get:function(){t=!0}});W.win.addEventListener&&W.win.removeEventListener&&(W.win.addEventListener("testPassive",W.noop,V),W.win.removeEventListener("testPassive",W.noop,V))}return t}(),W.charts=[],W.dateFormats={},W.seriesTypes={},W.symbolSizes={},W.chartCount=0,G}),mt(X,"Core/Utilities.js",[X["Core/Globals.js"]],function(G){function W(n,r,a,M){var L=r?"Highcharts error":"Highcharts warning";32===n&&(n=L+": Deprecated member");var Y=O(n),D=Y?L+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(typeof M<"u"){var w="";Y&&(D+="?"),C(M,function(N,s){w+="\n - "+s+": "+N,Y&&(D+=encodeURI(s)+"="+encodeURI(N))}),D+=w}b(G,"displayError",{chart:a,code:n,message:D,params:M},function(){if(r)throw Error(D);p.console&&-1===W.messages.indexOf(D)&&console.warn(D)}),W.messages.push(D)}function V(n,r){return parseInt(n,r||10)}function K(n){return"string"==typeof n}function et(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function J(n,r){return!(!n||"object"!=typeof n||r&&et(n))}function U(n){return J(n)&&"number"==typeof n.nodeType}function I(n){var r=n&&n.constructor;return!(!J(n,!0)||U(n)||!r||!r.name||"Object"===r.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function P(n){return typeof n<"u"&&null!==n}function y(n,r,a){var L,M=K(r)&&!P(a),Y=function(D,w){P(D)?n.setAttribute(w,D):M?(L=n.getAttribute(w))||"class"!==w||(L=n.getAttribute(w+"Name")):n.removeAttribute(w)};return K(r)?Y(a,r):C(r,Y),L}function h(n,r){var a;for(a in n||(n={}),r)n[a]=r[a];return n}function v(){for(var n=arguments,r=n.length,a=0;a<r;a++){var M=n[a];if(typeof M<"u"&&null!==M)return M}}function _(n,r){G.isMS&&!G.svg&&r&&P(r.opacity)&&(r.filter="alpha(opacity="+100*r.opacity+")"),h(n.style,r)}function A(n,r){return 1e14<n?n:parseFloat(n.toPrecision(r||14))}function C(n,r,a){for(var M in n)Object.hasOwnProperty.call(n,M)&&r.call(a||n[M],n[M],M,n)}function x(n,r,a){function M(w,N){var s=n.removeEventListener||G.removeEventListenerPolyfill;s&&s.call(n,w,N,!1)}function L(w){var N;if(n.nodeName){if(r){var s={};s[r]=!0}else s=w;C(s,function(f,k){if(w[k])for(N=w[k].length;N--;)M(k,w[k][N].fn)})}}var Y="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(Y,"hcEvents")){var D=Y.hcEvents;r?(Y=D[r]||[],a?(D[r]=Y.filter(function(w){return a!==w.fn}),M(r,a)):(L(D),D[r]=[])):(L(D),delete Y.hcEvents)}}function b(n,r,a,M){if(a=a||{},l.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==G)){var L=l.createEvent("Events");L.initEvent(r,!0,!0),a=h(L,a),n.dispatchEvent?n.dispatchEvent(a):n.fireEvent(r,a)}else if(n.hcEvents){a.target||h(a,{preventDefault:function(){a.defaultPrevented=!0},target:n,type:r}),L=[];for(var Y=n,D=!1;Y.hcEvents;)Object.hasOwnProperty.call(Y,"hcEvents")&&Y.hcEvents[r]&&(L.length&&(D=!0),L.unshift.apply(L,Y.hcEvents[r])),Y=Object.getPrototypeOf(Y);D&&L.sort(function(w,N){return w.order-N.order}),L.forEach(function(w){!1===w.fn.call(n,a)&&a.preventDefault()})}M&&!a.defaultPrevented&&M.call(n,a)}var u=G.charts,l=G.doc,p=G.win;(W||(W={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var i=Array.prototype.find?function(n,r){return n.find(r)}:function(n,r){var a,M=n.length;for(a=0;a<M;a++)if(r(n[a],a))return n[a]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,r){G[r]=function(a){var M;return W(32,!1,void 0,((M={})["Highcharts."+r]="use Array."+n,M)),Array.prototype[n].apply(a,[].slice.call(arguments,1))}});var c,n,r,o=(n=Math.random().toString(36).substring(2,9)+"-",r=0,function(){return"highcharts-"+(c?"":n)+r++});return p.jQuery&&(p.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(G[K(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):u[y(this[0],"data-highcharts-chart")]}),i={addEvent:function(n,r,a,M){void 0===M&&(M={});var L="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(L,"hcEvents")||(L.hcEvents={}),L=L.hcEvents,G.Point&&n instanceof G.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var Y=n.addEventListener||G.addEventListenerPolyfill;return Y&&Y.call(n,r,a,!!G.supportsPassiveEvents&&{passive:void 0===M.passive?-1!==r.indexOf("touch"):M.passive,capture:!1}),L[r]||(L[r]=[]),L[r].push({fn:a,order:"number"==typeof M.order?M.order:1/0}),L[r].sort(function(D,w){return D.order-w.order}),function(){x(n,r,a)}},arrayMax:function(n){for(var r=n.length,a=n[0];r--;)n[r]>a&&(a=n[r]);return a},arrayMin:function(n){for(var r=n.length,a=n[0];r--;)n[r]<a&&(a=n[r]);return a},attr:y,clamp:function(n,r,a){return n>r?n<a?n:a:r},cleanRecursively:function t(n,r){var a={};return C(n,function(M,L){J(n[L],!0)&&!n.nodeType&&r[L]?(M=t(n[L],r[L]),Object.keys(M).length&&(a[L]=M)):(J(n[L])||n[L]!==r[L]||L in n&&!(L in r))&&(a[L]=n[L])}),a},clearTimeout:function(n){P(n)&&clearTimeout(n)},correctFloat:A,createElement:function(n,r,a,M,L){return n=l.createElement(n),r&&h(n,r),L&&_(n,{padding:"0",border:"none",margin:"0"}),a&&_(n,a),M&&M.appendChild(n),n},css:_,defined:P,destroyObjectProperties:function(n,r){C(n,function(a,M){a&&a!==r&&a.destroy&&a.destroy(),delete n[M]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,r){for(var a=n.length;a--;)if(n[a]===r){n.splice(a,1);break}},error:W,extend:h,extendClass:function(n,r){var a=function(){};return h(a.prototype=new n,r),a},find:i,fireEvent:b,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,r){for(n=n.split(".");n.length&&P(r);){var a=n.shift();if(typeof a>"u"||"__proto__"===a||!P(r=r[a])||"function"==typeof r||"number"==typeof r.nodeType||r===p)return}return r},getStyle:function d(n,r,a){var M=G.getStyle||d;if("width"===r)return r=Math.min(n.offsetWidth,n.scrollWidth),(a=n.getBoundingClientRect&&n.getBoundingClientRect().width)<r&&a>=r-1&&(r=Math.floor(a)),Math.max(0,r-(M(n,"padding-left",!0)||0)-(M(n,"padding-right",!0)||0));if("height"===r)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(M(n,"padding-top",!0)||0)-(M(n,"padding-bottom",!0)||0));if(p.getComputedStyle||W(27,!0),n=p.getComputedStyle(n,void 0)){var L=n.getPropertyValue(r);v(a,"opacity"!==r)&&(L=V(L))}return L},inArray:function(n,r,a){return W(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),r.indexOf(n,a)},isArray:et,isClass:I,isDOMElement:U,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:J,isString:K,keys:function(n){return W(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,r=arguments,a={},M=function(Y,D){return"object"!=typeof Y&&(Y={}),C(D,function(w,N){"__proto__"!==N&&"constructor"!==N&&(Y[N]=!J(w,!0)||I(w)||U(w)?D[N]:M(Y[N]||{},w))}),Y};!0===r[0]&&(a=r[1],r=Array.prototype.slice.call(r,2));var L=r.length;for(n=0;n<L;n++)a=M(a,r[n]);return a},normalizeTickInterval:function(n,r,a,M,L){var Y=n,D=n/(a=v(a,1));for(r||(r=L?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===M&&(1===a?r=r.filter(function(w){return w%1==0}):.1>=a&&(r=[1/a]))),M=0;M<r.length&&(Y=r[M],!(L&&Y*a>=n||!L&&D<=(r[M]+(r[M+1]||r[M]))/2));M++);return A(Y*a,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var r=l.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(p.pageYOffset||r.scrollTop)-(r.clientTop||0),left:n.left+(p.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:n.width,height:n.height}},pad:function(n,r,a){return Array((r||2)+1-String(n).replace("-","").length).join(a||"0")+n},pick:v,pInt:V,relativeLength:function(n,r,a){return/%$/.test(n)?r*parseFloat(n)/100+(a||0):parseFloat(n)},removeEvent:x,splat:function(n){return et(n)?n:[n]},stableSort:function(n,r){var M,L,a=n.length;for(L=0;L<a;L++)n[L].safeI=L;for(n.sort(function(Y,D){return 0===(M=r(Y,D))?Y.safeI-D.safeI:M}),L=0;L<a;L++)delete n[L].safeI},syncTimeout:function(n,r,a){return 0<r?setTimeout(n,r,a):(n.call(0,a),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(n){return c=v(n,c)},wrap:function(n,r,a){var M=n[r];n[r]=function(){var L=Array.prototype.slice.call(arguments),Y=arguments,D=this;return D.proceed=function(){M.apply(D,arguments.length?arguments:Y)},L.unshift(M),L=a.apply(this,L),D.proceed=null,L}}},i}),mt(X,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),mt(X,"Core/Color/Color.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=W.isNumber,V=W.merge,K=W.pInt;return function(){function et(J){this.rgba=[NaN,NaN,NaN,NaN],this.input=J;var U=G.Color;return U&&U!==et?new U(J):this instanceof et?void this.init(J):new et(J)}return et.parse=function(J){return J?new et(J):et.None},et.prototype.init=function(J){var U;if("object"==typeof J&&typeof J.stops<"u")this.stops=J.stops.map(function(y){return new et(y[1])});else if("string"==typeof J){if(this.input=J=et.names[J.toLowerCase()]||J,"#"===J.charAt(0)){var I=J.length,O=parseInt(J.substr(1),16);7===I?U=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===I&&(U=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!U)for(O=et.parsers.length;O--&&!U;){var P=et.parsers[O];(I=P.regex.exec(J))&&(U=P.parse(I))}}U&&(this.rgba=U)},et.prototype.get=function(J){var U=this.input,I=this.rgba;if("object"==typeof U&&typeof this.stops<"u"){var O=V(U);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(P,y){O.stops[y]=[O.stops[y][0],P.get(J)]}),O}return I&&t(I[0])?"rgb"===J||!J&&1===I[3]?"rgb("+I[0]+","+I[1]+","+I[2]+")":"a"===J?""+I[3]:"rgba("+I.join(",")+")":U},et.prototype.brighten=function(J){var U=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(J)});else if(t(J)&&0!==J)for(var I=0;3>I;I++)U[I]+=K(255*J),0>U[I]&&(U[I]=0),255<U[I]&&(U[I]=255);return this},et.prototype.setOpacity=function(J){return this.rgba[3]=J,this},et.prototype.tweenTo=function(J,U){var I=this.rgba,O=J.rgba;return t(I[0])&&t(O[0])?((J=1!==O[3]||1!==I[3])?"rgba(":"rgb(")+Math.round(O[0]+(I[0]-O[0])*(1-U))+","+Math.round(O[1]+(I[1]-O[1])*(1-U))+","+Math.round(O[2]+(I[2]-O[2])*(1-U))+(J?","+(O[3]+(I[3]-O[3])*(1-U)):"")+")":J.input||"none"},et.names={white:"#ffffff",black:"#000000"},et.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[K(J[1]),K(J[2]),K(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[K(J[1]),K(J[2]),K(J[3]),1]}}],et.None=new et(""),et}()}),mt(X,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),mt(X,"Core/Time.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=G.win,V=W.defined,K=W.error,et=W.extend,J=W.isObject,U=W.merge,I=W.objectEach,O=W.pad,P=W.pick,y=W.splat,h=W.timeUnits,v=G.isSafari&&t.Intl&&t.Intl.DateTimeFormat.prototype.formatRange,_=G.isSafari&&t.Intl&&!t.Intl.DateTimeFormat.prototype.formatRange;return W=function(){function A(d){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=t.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(d)}return A.prototype.get=function(d,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),b=x-this.getTimezoneOffset(C);return C.setTime(b),d=C["getUTC"+d](),C.setTime(x),d}return this.useUTC?C["getUTC"+d]():C["get"+d]()},A.prototype.set=function(d,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===d||"Seconds"===d||"Minutes"===d&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+d](x);var b=this.getTimezoneOffset(C);return b=C.getTime()-b,C.setTime(b),C["setUTC"+d](x),d=this.getTimezoneOffset(C),b=C.getTime()+d,C.setTime(b)}return this.useUTC||v&&"FullYear"===d?C["setUTC"+d](x):C["set"+d](x)},A.prototype.update=function(d){var C=P(d&&d.useUTC,!0);this.options=d=U(!0,this.options||{},d),this.Date=d.Date||t.Date||Date,this.timezoneOffset=(this.useUTC=C)&&d.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!d.getTimezoneOffset&&!d.timezone)},A.prototype.makeTime=function(d,C,x,b,u,l){if(this.useUTC){var p=this.Date.UTC.apply(0,arguments),i=this.getTimezoneOffset(p),c=this.getTimezoneOffset(p+=i);i!==c?p+=c-i:i-36e5!==this.getTimezoneOffset(p-36e5)||_||(p-=36e5)}else p=new this.Date(d,C,P(x,1),P(b,0),P(u,0),P(l,0)).getTime();return p},A.prototype.timezoneOffsetFunction=function(){var d=this,C=this.options,x=C.getTimezoneOffset,b=C.moment||t.moment;if(!this.useUTC)return function(u){return 6e4*new Date(u.toString()).getTimezoneOffset()};if(C.timezone){if(b)return function(u){return 6e4*-b.tz(u,C.timezone).utcOffset()};K(25)}return this.useUTC&&x?function(u){return 6e4*x(u.valueOf())}:function(){return 6e4*(d.timezoneOffset||0)}},A.prototype.dateFormat=function(d,C,x){if(!V(C)||isNaN(C))return G.defaultOptions.lang&&G.defaultOptions.lang.invalidDate||"";d=P(d,"%Y-%m-%d %H:%M:%S");var b=this,u=new this.Date(C),l=this.get("Hours",u),p=this.get("Day",u),i=this.get("Date",u),c=this.get("Month",u),o=this.get("FullYear",u),n=G.defaultOptions.lang,r=n&&n.weekdays,a=n&&n.shortWeekdays;return u=et({a:a?a[p]:r[p].substr(0,3),A:r[p],d:O(i),e:O(i,2," "),w:p,b:n.shortMonths[c],B:n.months[c],m:O(c+1),o:c+1,y:o.toString().substr(2,2),Y:o,H:O(l),k:l,I:O(l%12||12),l:l%12||12,M:O(this.get("Minutes",u)),p:12>l?"AM":"PM",P:12>l?"am":"pm",S:O(u.getSeconds()),L:O(Math.floor(C%1e3),3)},G.dateFormats),I(u,function(M,L){for(;-1!==d.indexOf("%"+L);)d=d.replace("%"+L,"function"==typeof M?M.call(b,C):M)}),x?d.substr(0,1).toUpperCase()+d.substr(1):d},A.prototype.resolveDTLFormat=function(d){return J(d,!0)?d:{main:(d=y(d))[0],from:d[1],to:d[2]}},A.prototype.getTimeTicks=function(d,C,x,b){var n,u=this,l=[],p={},i=new u.Date(C),c=d.unitRange,o=d.count||1;if(b=P(b,1),V(C)){if(u.set("Milliseconds",i,c>=h.second?0:o*Math.floor(u.get("Milliseconds",i)/o)),c>=h.second&&u.set("Seconds",i,c>=h.minute?0:o*Math.floor(u.get("Seconds",i)/o)),c>=h.minute&&u.set("Minutes",i,c>=h.hour?0:o*Math.floor(u.get("Minutes",i)/o)),c>=h.hour&&u.set("Hours",i,c>=h.day?0:o*Math.floor(u.get("Hours",i)/o)),c>=h.day&&u.set("Date",i,c>=h.month?1:Math.max(1,o*Math.floor(u.get("Date",i)/o))),c>=h.month){u.set("Month",i,c>=h.year?0:o*Math.floor(u.get("Month",i)/o));var r=u.get("FullYear",i)}c>=h.year&&u.set("FullYear",i,r-r%o),c===h.week&&(r=u.get("Day",i),u.set("Date",i,u.get("Date",i)-r+b+(r<b?-7:0))),r=u.get("FullYear",i),b=u.get("Month",i);var a=u.get("Date",i),M=u.get("Hours",i);for(C=i.getTime(),!u.variableTimezone&&u.useUTC||!V(x)||(n=x-C>4*h.month||u.getTimezoneOffset(C)!==u.getTimezoneOffset(x)),C=i.getTime(),i=1;C<x;)l.push(C),C=c===h.year?u.makeTime(r+i*o,0):c===h.month?u.makeTime(r,b+i*o):!n||c!==h.day&&c!==h.week?n&&c===h.hour&&1<o?u.makeTime(r,b,a,M+i*o):C+c*o:u.makeTime(r,b,a+i*o*(c===h.day?1:7)),i++;l.push(C),c<=h.hour&&1e4>l.length&&l.forEach(function(L){L%18e5==0&&"000000000"===u.dateFormat("%H%M%S%L",L)&&(p[L]="day")})}return l.info=et(d,{higherRanks:p,totalRange:c*o}),l},A.prototype.getDateFormat=function(d,C,x,b){var u=this.dateFormat("%m-%d %H:%M:%S.%L",C),l={millisecond:15,second:12,minute:9,hour:6,day:3},p="millisecond";for(i in h){if(d===h.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===u.substr(6)){var i="week";break}if(h[i]>d){i=p;break}if(l[i]&&u.substr(l[i])!=="01-01 00:00:00.000".substr(l[i]))break;"week"!==i&&(p=i)}if(i)var c=this.resolveDTLFormat(b[i]).main;return c},A}(),W}),mt(X,"Core/DefaultOptions.js",[X["Core/Chart/ChartDefaults.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Color/Palettes.js"],X["Core/Time.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){W=W.parse;var J=et.merge,U={colors:V.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:G,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:W("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};U.chart.styledMode=!1;var I=new K(J(U.global,U.time));return{defaultOptions:U,defaultTime:I,getOptions:function(){return U},setOptions:function(O){return J(!0,U,O),(O.time||O.global)&&(t.time?t.time.update(J(U.global,U.time,O.global,O.time)):t.time=I),U}}}),mt(X,"Core/Animation/Fx.js",[X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=G.parse,K=W.win,et=t.isNumber,J=t.objectEach;return function(){function U(I,O,P){this.pos=NaN,this.options=O,this.elem=I,this.prop=P}return U.prototype.dSetter=function(){var I=this.paths,O=I&&I[0];I=I&&I[1];var P=this.now||0,y=[];if(1!==P&&O&&I)if(O.length===I.length&&1>P)for(var h=0;h<I.length;h++){for(var v=O[h],_=I[h],A=[],d=0;d<_.length;d++){var C=v[d],x=_[d];A[d]=et(C)&&et(x)&&("A"!==_[0]||4!==d&&5!==d)?C+P*(x-C):x}y.push(A)}else y=I;else y=this.toD||[];this.elem.attr("d",y,void 0,!0)},U.prototype.update=function(){var I=this.elem,O=this.prop,P=this.now,y=this.options.step;this[O+"Setter"]?this[O+"Setter"]():I.attr?I.element&&I.attr(O,P,null,!0):I.style[O]=P+this.unit,y&&y.call(I,P,this)},U.prototype.run=function(I,O,P){var y=this,h=y.options,v=function(d){return!v.stopped&&y.step(d)},_=K.requestAnimationFrame||function(d){setTimeout(d,13)},A=function(){for(var d=0;d<U.timers.length;d++)U.timers[d]()||U.timers.splice(d--,1);U.timers.length&&_(A)};I!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=I,this.end=O,this.unit=P,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===U.timers.push(v)&&_(A)):(delete h.curAnim[this.prop],h.complete&&0===Object.keys(h.curAnim).length&&h.complete.call(this.elem))},U.prototype.step=function(I){var O=+new Date,P=this.options,y=this.elem,h=P.complete,v=P.duration,_=P.curAnim;if(y.attr&&!y.element)I=!1;else if(I||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var A=_[this.prop]=!0;J(_,function(d){!0!==d&&(A=!1)}),A&&h&&h.call(y),I=!1}else this.pos=P.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),I=!0;return I},U.prototype.initPath=function(I,O,P){function y(u,l){for(;u.length<b;){var p=u[0],i=l[b-u.length];i&&"M"===p[0]&&(u[0]="C"===i[0]?["C",p[1],p[2],p[1],p[2],p[1],p[2]]:["L",p[1],p[2]]),u.unshift(p),A&&(p=u.pop(),u.push(u[u.length-1],p))}}function h(u,l){for(;u.length<b;)if("C"===(l=u[Math.floor(u.length/d)-1].slice())[0]&&(l[1]=l[5],l[2]=l[6]),A){var p=u[Math.floor(u.length/d)].slice();u.splice(u.length/2,0,l,p)}else u.push(l)}var v=I.startX,_=I.endX;P=P.slice();var A=I.isArea,d=A?2:1;if(!(O=O&&O.slice()))return[P,P];if(v&&_&&_.length){for(I=0;I<v.length;I++){if(v[I]===_[0]){var C=I;break}if(v[0]===_[_.length-v.length+I]){C=I;var x=!0;break}if(v[v.length-1]===_[_.length-v.length+I]){C=v.length-I;break}}typeof C>"u"&&(O=[])}if(O.length&&et(C)){var b=P.length+C*d;x?(y(O,P),h(P,O)):(y(P,O),h(O,P))}return[O,P]},U.prototype.fillSetter=function(){U.prototype.strokeSetter.apply(this,arguments)},U.prototype.strokeSetter=function(){this.elem.attr(this.prop,V(this.start).tweenTo(V(this.end),this.pos),void 0,!0)},U.timers=[],U}()}),mt(X,"Core/Animation/AnimationUtilities.js",[X["Core/Animation/Fx.js"],X["Core/Utilities.js"]],function(G,W){function t(h){return I(h)?O({duration:500,defer:0},h):{duration:h?500:0,defer:0}}function V(h,v){for(var _=G.timers.length;_--;)G.timers[_].elem!==h||v&&v!==G.timers[_].prop||(G.timers[_].stopped=!0)}var K=W.defined,et=W.getStyle,J=W.isArray,U=W.isNumber,I=W.isObject,O=W.merge,P=W.objectEach,y=W.pick;return{animate:function(h,v,_){var A,C,x,d="";if(!I(_)){var b=arguments;_={duration:b[2],easing:b[3],complete:b[4]}}U(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),P(v,function(u,l){V(h,l),x=new G(h,_,l),C=void 0,"d"===l&&J(v.d)?(x.paths=x.initPath(h,h.pathArray,v.d),x.toD=v.d,A=0,C=1):h.attr?A=h.attr(l):(A=parseFloat(et(h,l))||0,"opacity"!==l&&(d="px")),C||(C=u),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(A,C,d)})},animObject:t,getDeferredAnimation:function(h,v,_){var A=t(v),d=0,C=0;return(_?[_]:h.series).forEach(function(x){x=t(x.options.animation),d=v&&K(v.defer)?A.defer:Math.max(d,x.duration+x.defer),C=Math.min(A.duration,x.duration)}),h.renderer.forExport&&(d=0),{defer:Math.max(0,d-C),duration:Math.min(d,C)}},setAnimation:function(h,v){v.renderer.globalAnimation=y(h,v.options.chart.animation,!0)},stop:V}}),mt(X,"Core/Renderer/HTML/AST.js",[X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W){var t=G.SVG_NS,V=W.attr,K=W.createElement,et=W.css,J=W.error,U=W.isFunction,I=W.isString,O=W.objectEach,P=W.splat,y=(W=G.win.trustedTypes)&&U(W.createPolicy)&&W.createPolicy("highcharts",{createHTML:function(_){return _}}),h=y?y.createHTML(""):"";try{var v=!!(new DOMParser).parseFromString(h,"text/html")}catch{v=!1}return function(){function _(A){this.nodes="string"==typeof A?this.parseMarkup(A):A}return _.filterUserAttributes=function(A){return O(A,function(d,C){var x=!0;-1===_.allowedAttributes.indexOf(C)&&(x=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(C)&&(x=I(d)&&_.allowedReferences.some(function(b){return 0===d.indexOf(b)})),x||(J("Highcharts warning: Invalid attribute '"+C+"' in config"),delete A[C])}),A},_.parseStyle=function(A){return A.split(";").reduce(function(d,C){var x=(C=C.split(":").map(function(b){return b.trim()}))[0].replace(/-([a-z])/g,function(b){return b[1].toUpperCase()});return C[1]&&(d[x]=C[1]),d},{})},_.setElementHTML=function(A,d){A.innerHTML=_.emptyHTML,d&&new _(d).addToDOM(A)},_.prototype.addToDOM=function(A){return function d(C,x){var b;return P(C).forEach(function(u){var l=u.tagName,p=u.textContent?G.doc.createTextNode(u.textContent):void 0,i=_.bypassHTMLFiltering;if(l)if("#text"===l)var c=p;else if(-1!==_.allowedTags.indexOf(l)||i){l=G.doc.createElementNS("svg"===l?t:x.namespaceURI||t,l);var o=u.attributes||{};O(u,function(n,r){"tagName"!==r&&"attributes"!==r&&"children"!==r&&"style"!==r&&"textContent"!==r&&(o[r]=n)}),V(l,i?o:_.filterUserAttributes(o)),u.style&&et(l,u.style),p&&l.appendChild(p),d(u.children||[],l),c=l}else J("Highcharts warning: Invalid tagName "+l+" in config");c&&x.appendChild(c),b=c}),b}(this.nodes,A)},_.prototype.parseMarkup=function(A){var d=[];if(A=A.trim().replace(/ style="/g,' data-style="'),v)A=(new DOMParser).parseFromString(y?y.createHTML(A):A,"text/html");else{var C=K("div");C.innerHTML=A,A={body:C}}var x=function(b,u){var l=b.nodeName.toLowerCase(),p={tagName:l};if("#text"===l&&(p.textContent=b.textContent||""),l=b.attributes){var i={};[].forEach.call(l,function(o){"data-style"===o.name?p.style=_.parseStyle(o.value):i[o.name]=o.value}),p.attributes=i}if(b.childNodes.length){var c=[];[].forEach.call(b.childNodes,function(o){x(o,c)}),c.length&&(p.children=c)}u.push(p)};return[].forEach.call(A.body.childNodes,function(b){return x(b,d)}),d},_.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),_.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),_.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),_.emptyHTML=h,_.bypassHTMLFiltering=!1,_}()}),mt(X,"Core/FormatUtilities.js",[X["Core/DefaultOptions.js"],X["Core/Utilities.js"]],function(G,W){function t(O,P,y,h){P=+P;var v=V.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,A=O.toString().split("e"),d=P;if(-1===P)P=Math.min(_,20);else if(J(P)){if(P&&A[1]&&0>A[1]){var C=P+ +A[1];0<=C?(A[0]=(+A[0]).toExponential(C).split("e")[0],P=C):(A[0]=A[0].split(".")[0]||0,O=20>P?(A[0]*Math.pow(10,A[1])).toFixed(P):0,A[1]=0)}}else P=2;C=(Math.abs(A[1]?A[0]:O)+Math.pow(10,-Math.max(P,_)-1)).toFixed(P);var x=3<(_=String(I(C))).length?_.length%3:0;return y=U(y,v.decimalPoint),h=U(h,v.thousandsSep),O=(0>O?"-":"")+(x?_.substr(0,x)+h:""),O=0>+A[1]&&!d?"0":O+_.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+h),P&&(O+=y+C.slice(-P)),A[1]&&0!=+O&&(O+="e"+A[1]),O}var V=G.defaultOptions,K=G.defaultTime,et=W.getNestedProperty,J=W.isNumber,U=W.pick,I=W.pInt;return{dateFormat:function(O,P,y){return K.dateFormat(O,P,y)},format:function(O,P,y){var h="{",v=!1,_=/f$/,A=/\.([0-9])/,d=V.lang,C=y&&y.time||K;y=y&&y.numberFormatter||t;for(var x=[];O;){var b=O.indexOf(h);if(-1===b)break;var u=O.slice(0,b);if(v){if(u=u.split(":"),h=et(u.shift()||"",P),u.length&&"number"==typeof h)if(u=u.join(":"),_.test(u)){var l=parseInt((u.match(A)||["","-1"])[1],10);null!==h&&(h=y(h,l,d.decimalPoint,-1<u.indexOf(",")?d.thousandsSep:""))}else h=C.dateFormat(u,h);x.push(h)}else x.push(u);O=O.slice(b+1),h=(v=!v)?"}":"{"}return x.push(O),x.join("")},numberFormat:t}}),mt(X,"Core/Renderer/RendererUtilities.js",[X["Core/Utilities.js"]],function(G){var K,W=G.clamp,t=G.pick,V=G.stableSort;return(K||(K={})).distribute=function J(U,I,O){var _,P=U,y=P.reducedLen||I,h=function(x,b){return(b.rank||0)-(x.rank||0)},v=function(x,b){return x.target-b.target},A=!0,d=[],C=0;for(_=U.length;_--;)C+=U[_].size;if(C>y){for(V(U,h),C=_=0;C<=y;)C+=U[_].size,_++;d=U.splice(_-1,U.length)}for(V(U,v),U=U.map(function(x){return{size:x.size,targets:[x.target],align:t(x.align,.5)}});A;){for(_=U.length;_--;)y=U[_],h=(Math.min.apply(0,y.targets)+Math.max.apply(0,y.targets))/2,y.pos=W(h-y.size*y.align,0,I-y.size);for(_=U.length,A=!1;_--;)0<_&&U[_-1].pos+U[_-1].size>U[_].pos&&(U[_-1].size+=U[_].size,U[_-1].targets=U[_-1].targets.concat(U[_].targets),U[_-1].align=.5,U[_-1].pos+U[_-1].size>I&&(U[_-1].pos=I-U[_-1].size),U.splice(_,1),A=!0)}return P.push.apply(P,d),_=0,U.some(function(x){var b=0;return(x.targets||[]).some(function(){return P[_].pos=x.pos+b,typeof O<"u"&&Math.abs(P[_].pos-P[_].target)>O?(P.slice(0,_+1).forEach(function(u){return delete u.pos}),P.reducedLen=(P.reducedLen||I)-.1*I,P.reducedLen>.1*I&&J(P,I,O),!0):(b+=P[_].size,_++,!1)})}),V(P,v),P},K}),mt(X,"Core/Renderer/SVG/SVGElement.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Renderer/HTML/AST.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=G.animate,J=G.animObject,U=G.stop,I=V.deg2rad,O=V.doc,P=V.noop,y=V.svg,h=V.SVG_NS,v=V.win,_=K.addEvent,A=K.attr,d=K.createElement,C=K.css,x=K.defined,b=K.erase,u=K.extend,l=K.fireEvent,p=K.isArray,i=K.isFunction,c=K.isNumber,o=K.isString,n=K.merge,r=K.objectEach,a=K.pick,M=K.pInt,L=K.syncTimeout,Y=K.uniqueKey;return G=function(){function D(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=h,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return D.prototype._defaultGetter=function(w){return w=a(this[w+"Value"],this[w],this.element?this.element.getAttribute(w):null,0),/^[\-0-9\.]+$/.test(w)&&(w=parseFloat(w)),w},D.prototype._defaultSetter=function(w,N,s){s.setAttribute(N,w)},D.prototype.add=function(w){var N=this.renderer,s=this.element;if(w&&(this.parentGroup=w),this.parentInverted=w&&w.inverted,typeof this.textStr<"u"&&"text"===this.element.nodeName&&N.buildText(this),this.added=!0,!w||w.handleZ||this.zIndex)var f=this.zIndexSetter();return f||(w?w.element:N.box).appendChild(s),this.onAdd&&this.onAdd(),this},D.prototype.addClass=function(w,N){var s=N?"":this.attr("class")||"";return(w=(w||"").split(/ /g).reduce(function(f,k){return-1===s.indexOf(k)&&f.push(k),f},s?[s]:[]).join(" "))!==s&&this.attr("class",w),this},D.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},D.prototype.align=function(w,N,s){var z,H,m,f={},k=this.renderer,R=k.alignedObjects;w?(this.alignOptions=w,this.alignByTranslate=N,(!s||o(s))&&(this.alignTo=z=s||"renderer",b(R,this),R.push(this),s=void 0)):(w=this.alignOptions,N=this.alignByTranslate,z=this.alignTo),s=a(s,k[z],"scrollablePlotBox"===z?k.plotBox:void 0,k);var j=w.verticalAlign;return k=(s.x||0)+(w.x||0),R=(s.y||0)+(w.y||0),"right"===(z=w.align)?H=1:"center"===z&&(H=2),H&&(k+=(s.width-(w.width||0))/H),f[N?"translateX":"x"]=Math.round(k),"bottom"===j?m=1:"middle"===j&&(m=2),m&&(R+=(s.height-(w.height||0))/m),f[N?"translateY":"y"]=Math.round(R),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},D.prototype.alignSetter=function(w){var N={left:"start",center:"middle",right:"end"};N[w]&&(this.alignValue=w,this.element.setAttribute("text-anchor",N[w]))},D.prototype.animate=function(w,N,s){var f=this,k=J(a(N,this.renderer.globalAnimation,!0));return N=k.defer,a(O.hidden,O.msHidden,O.webkitHidden,!1)&&(k.duration=0),0!==k.duration?(s&&(k.complete=s),L(function(){f.element&&et(f,w,k)},N)):(this.attr(w,void 0,s||k.complete),r(w,function(R,z){k.step&&k.step.call(this,R,{prop:z,pos:1,elem:this})},this)),this},D.prototype.applyTextOutline=function(w){var N=this.element;-1!==w.indexOf("contrast")&&(w=w.replace(/contrast/g,this.renderer.getContrast(N.style.fill)));var s=w.split(" ");if(w=s[s.length-1],(s=s[0])&&"none"!==s&&V.svg){this.fakeTS=!0,this.ySetter=this.xSetter,s=s.replace(/(^[\d\.]+)(.*?)$/g,function(R,z,H){return 2*Number(z)+H}),this.removeTextOutline();var f=O.createElementNS(h,"tspan");A(f,{class:"highcharts-text-outline",fill:w,stroke:w,"stroke-width":s,"stroke-linejoin":"round"}),[].forEach.call(N.childNodes,function(R){var z=R.cloneNode(!0);z.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(H){return z.removeAttribute(H)}),f.appendChild(z)});var k=O.createElementNS(h,"tspan");k.textContent="\u200b",["x","y"].forEach(function(R){var z=N.getAttribute(R);z&&k.setAttribute(R,z)}),f.appendChild(k),N.insertBefore(f,N.firstChild)}},D.prototype.attr=function(w,N,s,f){var z,m,j,k=this.element,R=this.symbolCustomAttribs,H=this;if("string"==typeof w&&typeof N<"u"){var T=w;(w={})[T]=N}return"string"==typeof w?H=(this[w+"Getter"]||this._defaultGetter).call(this,w,k):(r(w,function(Z,B){m=!1,f||U(this,B),this.symbolName&&-1!==R.indexOf(B)&&(z||(this.symbolAttr(w),z=!0),m=!0),!this.rotation||"x"!==B&&"y"!==B||(this.doTransform=!0),m||((j=this[B+"Setter"]||this._defaultSetter).call(this,Z,B,k),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(B)&&this.updateShadows(B,Z,j))},this),this.afterSetters()),s&&s.call(this),H},D.prototype.clip=function(w){return this.attr("clip-path",w?"url("+this.renderer.url+"#"+w.id+")":"none")},D.prototype.crisp=function(w,N){N=N||w.strokeWidth||0;var s=Math.round(N)%2/2;return w.x=Math.floor(w.x||this.x||0)+s,w.y=Math.floor(w.y||this.y||0)+s,w.width=Math.floor((w.width||this.width||0)-2*s),w.height=Math.floor((w.height||this.height||0)-2*s),x(w.strokeWidth)&&(w.strokeWidth=N),w},D.prototype.complexColor=function(w,N,s){var k,R,z,H,m,j,T,Z,B,tt,nt,f=this.renderer,$=[];l(this.renderer,"complexColor",{args:arguments},function(){if(w.radialGradient?R="radialGradient":w.linearGradient&&(R="linearGradient"),R){if(m=f.gradients,j=w.stops,B=s.radialReference,p(z=w[R])&&(w[R]=z={x1:z[0],y1:z[1],x2:z[2],y2:z[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===R&&B&&!x(z.gradientUnits)&&(z=n(z,f.getRadialAttr(B,H=z),{gradientUnits:"userSpaceOnUse"})),r(z,function(pt,ut){"id"!==ut&&$.push(ut,pt)}),r(j,function(pt){$.push(pt)}),$=$.join(","),m[$])tt=m[$].attr("id");else{z.id=tt=Y();var ot=m[$]=f.createElement(R).attr(z).add(f.defs);ot.radAttr=H,ot.stops=[],j.forEach(function(pt){0===pt[1].indexOf("rgba")?(k=t.parse(pt[1]),T=k.get("rgb"),Z=k.get("a")):(T=pt[1],Z=1),pt=f.createElement("stop").attr({offset:pt[0],"stop-color":T,"stop-opacity":Z}).add(ot),ot.stops.push(pt)})}s.setAttribute(N,nt="url("+f.url+"#"+tt+")"),s.gradient=$,w.toString=function(){return nt}}})},D.prototype.css=function(w){var N=this.styles,s={},f=this.element,k=!N;if(w.color&&(w.fill=w.color),N&&r(w,function(H,m){N&&N[m]!==H&&(s[m]=H,k=!0)}),k){if(N&&(w=u(N,s)),null===w.width||"auto"===w.width)delete this.textWidth;else if("text"===f.nodeName.toLowerCase()&&w.width)var R=this.textWidth=M(w.width);this.styles=w,R&&!y&&this.renderer.forExport&&delete w.width;var z=n(w);f.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(H){return z&&delete z[H]}),C(f,z),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),w.textOutline&&this.applyTextOutline(w.textOutline))}return this},D.prototype.dashstyleSetter=function(w){var N=this["stroke-width"];if("inherit"===N&&(N=1),w=w&&w.toLowerCase()){var s=w.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(w=s.length;w--;)s[w]=""+M(s[w])*a(N,NaN);w=s.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",w)}},D.prototype.destroy=function(){var w=this,N=w.element||{},s=w.renderer,f=N.ownerSVGElement,k=s.isSVG&&"SPAN"===N.nodeName&&w.parentGroup||void 0;if(N.onclick=N.onmouseout=N.onmouseover=N.onmousemove=N.point=null,U(w),w.clipPath&&f){var R=w.clipPath;[].forEach.call(f.querySelectorAll("[clip-path],[CLIP-PATH]"),function(z){-1<z.getAttribute("clip-path").indexOf(R.element.id)&&z.removeAttribute("clip-path")}),w.clipPath=R.destroy()}if(w.stops){for(f=0;f<w.stops.length;f++)w.stops[f].destroy();w.stops.length=0,w.stops=void 0}for(w.safeRemoveChild(N),s.styledMode||w.destroyShadows();k&&k.div&&0===k.div.childNodes.length;)N=k.parentGroup,w.safeRemoveChild(k.div),delete k.div,k=N;w.alignTo&&b(s.alignedObjects,w),r(w,function(z,H){w[H]&&w[H].parentGroup===w&&w[H].destroy&&w[H].destroy(),delete w[H]})},D.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(w){this.safeRemoveChild(w)},this),this.shadows=void 0},D.prototype.destroyTextPath=function(w,N){var s=w.getElementsByTagName("text")[0];if(s){if(s.removeAttribute("dx"),s.removeAttribute("dy"),N.element.setAttribute("id",""),this.textPathWrapper&&s.getElementsByTagName("textPath").length){for(w=this.textPathWrapper.element.childNodes;w.length;)s.appendChild(w[0]);s.removeChild(this.textPathWrapper.element)}}else(w.getAttribute("dx")||w.getAttribute("dy"))&&(w.removeAttribute("dx"),w.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},D.prototype.dSetter=function(w,N,s){p(w)&&("string"==typeof w[0]&&(w=this.renderer.pathToSegments(w)),this.pathArray=w,w=w.reduce(function(f,k,R){return k&&k.join?(R?f+" ":"")+k.join(" "):(k||"").toString()},"")),/(NaN| {2}|^$)/.test(w)&&(w="M 0 0"),this[N]!==w&&(s.setAttribute(N,w),this[N]=w)},D.prototype.fadeOut=function(w){var N=this;N.animate({opacity:0},{duration:a(w,150),complete:function(){N.attr({y:-9999}).hide()}})},D.prototype.fillSetter=function(w,N,s){"string"==typeof w?s.setAttribute(N,w):w&&this.complexColor(w,N,s)},D.prototype.getBBox=function(w,N){var s=this.renderer,f=this.element,k=this.styles,R=this.textStr,z=s.cache,H=s.cacheKeys,m=f.namespaceURI===this.SVG_NS;N=a(N,this.rotation,0);var T,j=s.styledMode?f&&D.prototype.getStyle.call(f,"font-size"):k&&k.fontSize;if(x(R)){var Z=R.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",N,j,this.textWidth,k&&k.textOverflow,k&&k.fontWeight].join()}if(Z&&!w&&(T=z[Z]),!T){if(m||s.forExport){try{var B=this.fakeTS&&function(tt){var $=f.querySelector(".highcharts-text-outline");$&&C($,{display:tt})};i(B)&&B("none"),T=f.getBBox?u({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},i(B)&&B("")}catch{}(!T||0>T.width)&&(T={width:0,height:0})}else T=this.htmlGetBBox();if(s.isSVG&&(w=T.width,s=T.height,m&&(T.height=s={"11px,17":14,"13px,20":16}[(j||"")+","+Math.round(s)]||s),N&&(m=N*I,T.width=Math.abs(s*Math.sin(m))+Math.abs(w*Math.cos(m)),T.height=Math.abs(s*Math.cos(m))+Math.abs(w*Math.sin(m)))),Z&&(""===R||0<T.height)){for(;250<H.length;)delete z[H.shift()];z[Z]||H.push(Z),z[Z]=T}}return T},D.prototype.getStyle=function(w){return v.getComputedStyle(this.element||this,"").getPropertyValue(w)},D.prototype.hasClass=function(w){return-1!==(""+this.attr("class")).split(" ").indexOf(w)},D.prototype.hide=function(w){return this.attr(w?{y:-9999}:{visibility:"hidden"}),this},D.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},D.prototype.init=function(w,N){this.element="span"===N?d(N):O.createElementNS(this.SVG_NS,N),this.renderer=w,l(this,"afterInit")},D.prototype.invert=function(w){return this.inverted=w,this.updateTransform(),this},D.prototype.on=function(w,N){var s=this.onEvents;return s[w]&&s[w](),s[w]=_(this.element,w,N),this},D.prototype.opacitySetter=function(w,N,s){this.opacity=w=Number(Number(w).toFixed(3)),s.setAttribute(N,w)},D.prototype.removeClass=function(w){return this.attr("class",(""+this.attr("class")).replace(o(w)?new RegExp("(^| )"+w+"( |$)"):w," ").replace(/ +/g," ").trim())},D.prototype.removeTextOutline=function(){var w=this.element.querySelector("tspan.highcharts-text-outline");w&&this.safeRemoveChild(w)},D.prototype.safeRemoveChild=function(w){var N=w.parentNode;N&&N.removeChild(w)},D.prototype.setRadialReference=function(w){var N=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=w,N&&N.radAttr&&N.animate(this.renderer.getRadialAttr(w,N.radAttr)),this},D.prototype.setTextPath=function(w,N){var s=this.element,f=this.text?this.text.element:s,k={textAnchor:"text-anchor"},R=!1,z=this.textPathWrapper,H=!z;N=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},N);var m=W.filterUserAttributes(N.attributes);if(w&&N&&N.enabled){z&&null===z.element.parentNode?(H=!0,z=z.destroy()):z&&this.removeTextOutline.call(z.parentGroup),this.options&&this.options.padding&&(m.dx=-this.options.padding),z||(this.textPathWrapper=z=this.renderer.createElement("textPath"),R=!0);var j=z.element;if((N=w.element.getAttribute("id"))||w.element.setAttribute("id",N=Y()),H)for(f.setAttribute("y",0),c(m.dx)&&f.setAttribute("x",-m.dx),w=[].slice.call(f.childNodes),H=0;H<w.length;H++){var T=w[H];T.nodeType!==v.Node.TEXT_NODE&&"tspan"!==T.nodeName||j.appendChild(T)}R&&z&&z.add({element:f}),j.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+N),x(m.dy)&&(j.parentNode.setAttribute("dy",m.dy),delete m.dy),x(m.dx)&&(j.parentNode.setAttribute("dx",m.dx),delete m.dx),r(m,function(Z,B){j.setAttribute(k[B]||B,Z)}),s.removeAttribute("transform"),this.removeTextOutline.call(z),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=P}else z&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(s,w),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},D.prototype.shadow=function(w,N,s){var m,f=[],k=this.element,R=this.oldShadowOptions,z={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},H=!1;if(!0===w?m=z:"object"==typeof w&&(m=u(z,w)),m&&(m&&R&&r(m,function(tt,$){tt!==R[$]&&(H=!0)}),H&&this.destroyShadows(),this.oldShadowOptions=m),m){if(!this.shadows){var j=m.opacity/m.width,T=this.parentInverted?"translate("+m.offsetY+", "+m.offsetX+")":"translate("+m.offsetX+", "+m.offsetY+")";for(z=1;z<=m.width;z++){var Z=k.cloneNode(!1),B=2*m.width+1-2*z;A(Z,{stroke:w.color||"#000000","stroke-opacity":j*z,"stroke-width":B,transform:T,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),s&&(A(Z,"height",Math.max(A(Z,"height")-B,0)),Z.cutHeight=B),N?N.element.appendChild(Z):k.parentNode&&k.parentNode.insertBefore(Z,k),f.push(Z)}this.shadows=f}}else this.destroyShadows();return this},D.prototype.show=function(w){return this.attr({visibility:w?"inherit":"visible"})},D.prototype.strokeSetter=function(w,N,s){this[N]=w,this.stroke&&this["stroke-width"]?(D.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===N&&0===w&&this.hasStroke?(s.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},D.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var w=this.getStyle("stroke-width"),N=0;if(w.indexOf("px")===w.length-2)N=M(w);else if(""!==w){var s=O.createElementNS(h,"rect");A(s,{width:w,"stroke-width":0}),this.element.parentNode.appendChild(s),N=s.getBBox().width,s.parentNode.removeChild(s)}return N},D.prototype.symbolAttr=function(w){var N=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(s){N[s]=a(w[s],N[s])}),N.attr({d:N.renderer.symbols[N.symbolName](N.x,N.y,N.width,N.height,N)})},D.prototype.textSetter=function(w){w!==this.textStr&&(delete this.textPxLength,this.textStr=w,this.added&&this.renderer.buildText(this))},D.prototype.titleSetter=function(w){var N=this.element,s=N.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");N.insertBefore?N.insertBefore(s,N.firstChild):N.appendChild(s),s.textContent=String(a(w,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},D.prototype.toFront=function(){var w=this.element;return w.parentNode.appendChild(w),this},D.prototype.translate=function(w,N){return this.attr({translateX:w,translateY:N})},D.prototype.updateShadows=function(w,N,s){var f=this.shadows;if(f)for(var k=f.length;k--;)s.call(f[k],"height"===w?Math.max(N-(f[k].cutHeight||0),0):"d"===w?this.d:N,w,f[k])},D.prototype.updateTransform=function(){var w=this.scaleX,N=this.scaleY,s=this.inverted,f=this.rotation,k=this.matrix,R=this.element,z=this.translateX||0,H=this.translateY||0;s&&(z+=this.width,H+=this.height),z=["translate("+z+","+H+")"],x(k)&&z.push("matrix("+k.join(",")+")"),s?z.push("rotate(90) scale(-1,1)"):f&&z.push("rotate("+f+" "+a(this.rotationOriginX,R.getAttribute("x"),0)+" "+a(this.rotationOriginY,R.getAttribute("y")||0)+")"),(x(w)||x(N))&&z.push("scale("+a(w,1)+" "+a(N,1)+")"),z.length&&R.setAttribute("transform",z.join(" "))},D.prototype.visibilitySetter=function(w,N,s){"inherit"===w?s.removeAttribute(N):this[N]!==w&&s.setAttribute(N,w),this[N]=w},D.prototype.xGetter=function(w){return"circle"===this.element.nodeName&&("x"===w?w="cx":"y"===w&&(w="cy")),this._defaultGetter(w)},D.prototype.zIndexSetter=function(w,N){var s=this.renderer,f=this.parentGroup,k=(f||s).element||s.box,R=this.element;s=k===s.box;var m,z=!1,H=this.added;if(x(w)?(R.setAttribute("data-z-index",w),this[N]===(w=+w)&&(H=!1)):x(this[N])&&R.removeAttribute("data-z-index"),this[N]=w,H){for((w=this.zIndex)&&f&&(f.handleZ=!0),m=(N=k.childNodes).length-1;0<=m&&!z;m--){H=(f=N[m]).getAttribute("data-z-index");var j=!x(H);f!==R&&(0>w&&j&&!s&&!m?(k.insertBefore(R,N[m]),z=!0):(M(H)<=w||j&&(!x(w)||0<=w))&&(k.insertBefore(R,N[m+1]||null),z=!0))}z||(k.insertBefore(R,N[s?3:0]||null),z=!0)}return z},D}(),G.prototype["stroke-widthSetter"]=G.prototype.strokeSetter,G.prototype.yGetter=G.prototype.xGetter,G.prototype.matrixSetter=G.prototype.rotationOriginXSetter=G.prototype.rotationOriginYSetter=G.prototype.rotationSetter=G.prototype.scaleXSetter=G.prototype.scaleYSetter=G.prototype.translateXSetter=G.prototype.translateYSetter=G.prototype.verticalAlignSetter=function(D,w){this[w]=D,this.doTransform=!0},G}),mt(X,"Core/Renderer/RendererRegistry.js",[X["Core/Globals.js"]],function(G){var W,t,V;return(t=W||(W={})).rendererTypes={},t.getRendererType=function(K){return void 0===K&&(K=V),t.rendererTypes[K]||t.rendererTypes[V]},t.registerRendererType=function(K,et,J){t.rendererTypes[K]=et,(!V||J)&&(V=K,G.Renderer=et)},W}),mt(X,"Core/Renderer/SVG/SVGLabel.js",[X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W){var O,t=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),V=W.defined,K=W.extend,et=W.isNumber,J=W.merge,U=W.pick,I=W.removeEvent;return function(O){function P(y,h,v,_,A,d,C,x,b,u){var p,l=O.call(this)||this;return l.paddingLeftSetter=l.paddingSetter,l.paddingRightSetter=l.paddingSetter,l.init(y,"g"),l.textStr=h,l.x=v,l.y=_,l.anchorX=d,l.anchorY=C,l.baseline=b,l.className=u,l.addClass("button"===u?"highcharts-no-tooltip":"highcharts-label"),u&&l.addClass("highcharts-"+u),l.text=y.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof A&&((p=/^url\((.*?)\)$/.test(A))||l.renderer.symbols[A])&&(l.symbolKey=A),l.bBox=P.emptyBBox,l.padding=3,l.baselineOffset=0,l.needsBox=y.styledMode||p,l.deferredAttr={},l.alignFactor=0,l}return t(P,O),P.prototype.alignSetter=function(y){(y={left:0,center:.5,right:1}[y])!==this.alignFactor&&(this.alignFactor=y,this.bBox&&et(this.xSetting)&&this.attr({x:this.xSetting}))},P.prototype.anchorXSetter=function(y,h){this.anchorX=y,this.boxAttr(h,Math.round(y)-this.getCrispAdjust()-this.xSetting)},P.prototype.anchorYSetter=function(y,h){this.anchorY=y,this.boxAttr(h,y-this.ySetting)},P.prototype.boxAttr=function(y,h){this.box?this.box.attr(y,h):this.deferredAttr[y]=h},P.prototype.css=function(y){if(y){var h={};y=J(y),P.textProps.forEach(function(_){typeof y[_]<"u"&&(h[_]=y[_],delete y[_])}),this.text.css(h);var v="width"in h;"fontSize"in h||"fontWeight"in h?this.updateTextPadding():v&&this.updateBoxSize()}return G.prototype.css.call(this,y)},P.prototype.destroy=function(){I(this.element,"mouseenter"),I(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),G.prototype.destroy.call(this)},P.prototype.fillSetter=function(y,h){y&&(this.needsBox=!0),this.fill=y,this.boxAttr(h,y)},P.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var y=this.padding,h=U(this.paddingLeft,y);return{width:this.width,height:this.height,x:this.bBox.x-h,y:this.bBox.y-y}},P.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},P.prototype.heightSetter=function(y){this.heightSetting=y},P.prototype.onAdd=function(){var y=this.textStr;this.text.add(this),this.attr({text:V(y)?y:"",x:this.x,y:this.y}),this.box&&V(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},P.prototype.paddingSetter=function(y,h){et(y)?y!==this[h]&&(this[h]=y,this.updateTextPadding()):this[h]=void 0},P.prototype.rSetter=function(y,h){this.boxAttr(h,y)},P.prototype.shadow=function(y){return y&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(y)),this},P.prototype.strokeSetter=function(y,h){this.stroke=y,this.boxAttr(h,y)},P.prototype["stroke-widthSetter"]=function(y,h){y&&(this.needsBox=!0),this["stroke-width"]=y,this.boxAttr(h,y)},P.prototype["text-alignSetter"]=function(y){this.textAlign=y},P.prototype.textSetter=function(y){typeof y<"u"&&this.text.attr({text:y}),this.updateTextPadding()},P.prototype.updateBoxSize=function(){var y=this.text.element.style,h={},v=this.padding,_=this.bBox=et(this.widthSetting)&&et(this.heightSetting)&&!this.textAlign||!V(this.text.textStr)?P.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,y=this.renderer.fontMetrics(y&&y.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||y).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-y.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),h.x=v,h.y=(this.baseline?-this.baselineOffset:0)+v,h.width=Math.round(this.width),h.height=Math.round(this.height),this.box.attr(K(h,this.deferredAttr)),this.deferredAttr={})},P.prototype.updateTextPadding=function(){var y=this.text;this.updateBoxSize();var h=this.baseline?0:this.baselineOffset,v=U(this.paddingLeft,this.padding);V(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==y.x||h!==y.y)&&(y.attr("x",v),y.hasBoxWidthChanged&&(this.bBox=y.getBBox(!0)),typeof h<"u"&&y.attr("y",h)),y.x=v,y.y=h},P.prototype.widthSetter=function(y){this.widthSetting=et(y)?y:void 0},P.prototype.getPaddedWidth=function(){var y=this.padding,h=U(this.paddingLeft,y);return y=U(this.paddingRight,y),(this.widthSetting||this.bBox.width||0)+h+y},P.prototype.xSetter=function(y){this.x=y,this.alignFactor&&(y-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(y),this.attr("translateX",this.xSetting)},P.prototype.ySetter=function(y){this.ySetting=this.y=Math.round(y),this.attr("translateY",this.ySetting)},P.emptyBBox={width:0,height:0,x:0,y:0},P.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),P}(G)}),mt(X,"Core/Renderer/SVG/Symbols.js",[X["Core/Utilities.js"]],function(G){function W(U,I,O,P,y){var h=[];if(y){var v=y.start||0,_=J(y.r,O);O=J(y.r,P||O);var A=(y.end||0)-.001;P=y.innerR;var d=J(y.open,.001>Math.abs((y.end||0)-v-2*Math.PI)),C=Math.cos(v),x=Math.sin(v),b=Math.cos(A),u=Math.sin(A);v=J(y.longArc,.001>A-v-Math.PI?0:1),h.push(["M",U+_*C,I+O*x],["A",_,O,0,v,J(y.clockwise,1),U+_*b,I+O*u]),K(P)&&h.push(d?["M",U+P*b,I+P*u]:["L",U+P*b,I+P*u],["A",P,P,0,v,K(y.clockwise)?1-y.clockwise:0,U+P*C,I+P*x]),d||h.push(["Z"])}return h}function t(U,I,O,P,y){return y&&y.r?V(U,I,O,P,y):[["M",U,I],["L",U+O,I],["L",U+O,I+P],["L",U,I+P],["Z"]]}function V(U,I,O,P,y){return[["M",U+(y=y&&y.r||0),I],["L",U+O-y,I],["C",U+O,I,U+O,I,U+O,I+y],["L",U+O,I+P-y],["C",U+O,I+P,U+O,I+P,U+O-y,I+P],["L",U+y,I+P],["C",U,I+P,U,I+P,U,I+P-y],["L",U,I+y],["C",U,I,U,I,U+y,I]]}var K=G.defined,et=G.isNumber,J=G.pick;return{arc:W,callout:function(U,I,O,P,y){var h=Math.min(y&&y.r||0,O,P),v=h+6,_=y&&y.anchorX;y=y&&y.anchorY||0;var A=V(U,I,O,P,{r:h});return et(_)&&(U+_>=O?y>I+v&&y<I+P-v?A.splice(3,1,["L",U+O,y-6],["L",U+O+6,y],["L",U+O,y+6],["L",U+O,I+P-h]):A.splice(3,1,["L",U+O,P/2],["L",_,y],["L",U+O,P/2],["L",U+O,I+P-h]):0>=U+_?y>I+v&&y<I+P-v?A.splice(7,1,["L",U,y+6],["L",U-6,y],["L",U,y-6],["L",U,I+h]):A.splice(7,1,["L",U,P/2],["L",_,y],["L",U,P/2],["L",U,I+h]):y&&y>P&&_>U+v&&_<U+O-v?A.splice(5,1,["L",_+6,I+P],["L",_,I+P+6],["L",_-6,I+P],["L",U+h,I+P]):y&&0>y&&_>U+v&&_<U+O-v&&A.splice(1,1,["L",_-6,I],["L",_,I-6],["L",_+6,I],["L",O-h,I])),A},circle:function(U,I,O,P){return W(U+O/2,I+P/2,O/2,P/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(U,I,O,P){return[["M",U+O/2,I],["L",U+O,I+P/2],["L",U+O/2,I+P],["L",U,I+P/2],["Z"]]},rect:t,roundedRect:V,square:t,triangle:function(U,I,O,P){return[["M",U+O/2,I],["L",U+O,I+P],["L",U,I+P],["Z"]]},"triangle-down":function(U,I,O,P){return[["M",U,I],["L",U+O,I],["L",U+O/2,I+P],["Z"]]}}}),mt(X,"Core/Renderer/SVG/TextBuilder.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=W.doc,K=W.SVG_NS,et=W.win,J=t.attr,U=t.extend,I=t.isString,O=t.objectEach,P=t.pick;return function(){function y(h){var v=h.styles;this.renderer=h.renderer,this.svgElement=h,this.width=h.textWidth,this.textLineHeight=v&&v.lineHeight,this.textOutline=v&&v.textOutline,this.ellipsis=!(!v||"ellipsis"!==v.textOverflow),this.noWrap=!(!v||"nowrap"!==v.whiteSpace),this.fontSize=v&&v.fontSize}return y.prototype.buildSVG=function(){var h=this.svgElement,v=h.element,_=h.renderer,A=P(h.textStr,"").toString(),d=-1!==A.indexOf("<"),C=v.childNodes;_=this.width&&!h.added&&_.box;var b=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(b!==h.textCache){for(h.textCache=b,delete h.actualWidth,b=C.length;b--;)v.removeChild(C[b]);d||this.ellipsis||this.width||-1!==A.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(A))?""!==A&&(_&&_.appendChild(v),A=new G(A),this.modifyTree(A.nodes),A.addToDOM(h.element),this.modifyDOM(),this.ellipsis&&-1!==(v.textContent||"").indexOf("\u2026")&&h.attr("title",this.unescapeEntities(h.textStr||"",["&lt;","&gt;"])),_&&_.removeChild(v)):v.appendChild(V.createTextNode(this.unescapeEntities(A))),I(this.textOutline)&&h.applyTextOutline&&h.applyTextOutline(this.textOutline)}},y.prototype.modifyDOM=function(){var A,h=this,v=this.svgElement,_=J(v.element,"x");for(v.firstLineMetrics=void 0;(A=v.element.firstChild)&&/^[\s\u200B]*$/.test(A.textContent||" ");)v.element.removeChild(A);[].forEach.call(v.element.querySelectorAll("tspan.highcharts-br"),function(b,u){b.nextSibling&&b.previousSibling&&(0===u&&1===b.previousSibling.nodeType&&(v.firstLineMetrics=v.renderer.fontMetrics(void 0,b.previousSibling)),J(b,{dy:h.getLineHeight(b.nextSibling),x:_}))});var d=this.width||0;if(d){var x=function(b){[].slice.call(b.childNodes).forEach(function(u){u.nodeType===et.Node.TEXT_NODE?function(b,u){var l=b.textContent||"",p=l.replace(/([^\^])-/g,"$1- ").split(" "),i=!h.noWrap&&(1<p.length||1<v.element.childNodes.length),c=h.getLineHeight(u),o=0,n=v.actualWidth;if(h.ellipsis)l&&h.truncate(b,l,void 0,0,Math.max(0,d-parseInt(h.fontSize||12,10)),function(r,a){return r.substring(0,a)+"\u2026"});else if(i){for(l=[],i=[];u.firstChild&&u.firstChild!==b;)i.push(u.firstChild),u.removeChild(u.firstChild);for(;p.length;)p.length&&!h.noWrap&&0<o&&(l.push(b.textContent||""),b.textContent=p.join(" ").replace(/- /g,"-")),h.truncate(b,void 0,p,0===o&&n||0,d,function(r,a){return p.slice(0,a).join(" ").replace(/- /g,"-")}),n=v.actualWidth,o++;i.forEach(function(r){u.insertBefore(r,b)}),l.forEach(function(r){u.insertBefore(V.createTextNode(r),b),(r=V.createElementNS(K,"tspan")).textContent="\u200b",J(r,{dy:c,x:_}),u.insertBefore(r,b)})}}(u,b):(-1!==u.className.baseVal.indexOf("highcharts-br")&&(v.actualWidth=0),x(u))})};x(v.element)}},y.prototype.getLineHeight=function(h){var v;return h=h.nodeType===et.Node.TEXT_NODE?h.parentElement:h,this.renderer.styledMode||(v=h&&/(px|em)$/.test(h.style.fontSize)?h.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(v,h||this.svgElement.element).h},y.prototype.modifyTree=function(h){var v=this,_=function(A,d){var C=A.attributes;C=void 0===C?{}:C;var x=A.children,b=A.style;b=void 0===b?{}:b;var u=A.tagName,l=v.renderer.styledMode;"b"===u||"strong"===u?l?C.class="highcharts-strong":b.fontWeight="bold":("i"===u||"em"===u)&&(l?C.class="highcharts-emphasized":b.fontStyle="italic"),b&&b.color&&(b.fill=b.color),"br"===u?(C.class="highcharts-br",A.textContent="\u200b",(d=h[d+1])&&d.textContent&&(d.textContent=d.textContent.replace(/^ +/gm,""))):"a"===u&&x&&x.some(function(p){return"#text"===p.tagName})&&(A.children=[{children:x,tagName:"tspan"}]),"#text"!==u&&"a"!==u&&(A.tagName="tspan"),U(A,{attributes:C,style:b}),x&&x.filter(function(p){return"#text"!==p.tagName}).forEach(_)};h.forEach(_)},y.prototype.truncate=function(h,v,_,A,d,C){var o,x=this.svgElement,b=x.renderer,u=x.rotation,l=[],p=_?1:0,i=(v||_||"").length,c=i,n=function(a,M){M=M||a;var L=h.parentNode;if(L&&typeof l[M]>"u")if(L.getSubStringLength)try{l[M]=A+L.getSubStringLength(0,_?M+1:M)}catch{}else b.getSpanWidth&&(h.textContent=C(v||_,a),l[M]=A+b.getSpanWidth(x,h));return l[M]};x.rotation=0;var r=n(h.textContent.length);if(A+r>d){for(;p<=i;)c=Math.ceil((p+i)/2),_&&(o=C(_,c)),r=n(c,o&&o.length-1),p===i?p=i+1:r>d?i=c-1:p=c;0===i?h.textContent="":v&&i===v.length-1||(h.textContent=o||C(v||_,c))}_&&_.splice(0,c),x.actualWidth=r,x.rotation=u},y.prototype.unescapeEntities=function(h,v){return O(this.renderer.escapes,function(_,A){v&&-1!==v.indexOf(_)||(h=h.toString().replace(new RegExp(_,"g"),A))}),h},y}()}),mt(X,"Core/Renderer/SVG/SVGRenderer.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGLabel.js"],X["Core/Renderer/SVG/Symbols.js"],X["Core/Renderer/SVG/TextBuilder.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I){var N,O=t.charts,P=t.deg2rad,y=t.doc,h=t.isFirefox,v=t.isMS,_=t.isWebKit,A=t.noop,d=t.SVG_NS,C=t.symbolSizes,x=t.win,b=I.addEvent,u=I.attr,l=I.createElement,p=I.css,i=I.defined,c=I.destroyObjectProperties,o=I.extend,n=I.isArray,r=I.isNumber,a=I.isObject,M=I.isString,L=I.merge,Y=I.pick,D=I.pInt,w=I.uniqueKey;return t=function(){function s(f,k,R,z,H,m,j){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(f,k,R,z,H,m,j)}return s.prototype.init=function(f,k,R,z,H,m,j){var B,T=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=T.element;j||T.css(this.getStyle(z)),f.appendChild(Z),u(f,"dir","ltr"),-1===f.innerHTML.indexOf("xmlns")&&u(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=T,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(y.createTextNode("Created with Highcharts 10.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=m,this.forExport=H,this.styledMode=j,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(k,R,!1),h&&f.getBoundingClientRect&&((k=function(){p(f,{left:0,top:0}),B=f.getBoundingClientRect(),p(f,{left:Math.ceil(B.left)-B.left+"px",top:Math.ceil(B.top)-B.top+"px"})})(),this.unSubPixelFix=b(x,"resize",k))},s.prototype.definition=function(f){return new G([f]).addToDOM(this.defs.element)},s.prototype.getReferenceURL=function(){if((h||_)&&y.getElementsByTagName("base").length){if(!i(N)){var f=w();f=new G([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:f},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+f+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(y.body),p(f,{position:"fixed",top:0,left:0,zIndex:9e5});var k=y.elementFromPoint(6,6);N="hitme"===(k&&k.id),y.body.removeChild(f)}if(N)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},s.prototype.getStyle=function(f){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},f)},s.prototype.setStyle=function(f){this.boxWrapper.css(this.getStyle(f))},s.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},s.prototype.destroy=function(){var f=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),c(this.gradients||{}),this.gradients=null,f&&(this.defs=f.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},s.prototype.createElement=function(f){var k=new this.Element;return k.init(this,f),k},s.prototype.getRadialAttr=function(f,k){return{cx:f[0]-f[2]/2+(k.cx||0)*f[2],cy:f[1]-f[2]/2+(k.cy||0)*f[2],r:(k.r||0)*f[2]}},s.prototype.buildText=function(f){new U(f).buildSVG()},s.prototype.getContrast=function(f){return(f=W.parse(f).rgba)[0]*=1,f[1]*=1.2,f[2]*=.5,459<f[0]+f[1]+f[2]?"#000000":"#FFFFFF"},s.prototype.button=function(f,k,R,z,H,m,j,T,Z,B){var tt=this.label(f,k,R,Z,void 0,void 0,B,void 0,"button"),$=this.styledMode,nt=0,ot=H?L(H):{},pt=L({color:"#333333",cursor:"pointer",fontWeight:"normal"},ot.style);if(delete ot.style,ot=G.filterUserAttributes(ot),tt.attr(L({padding:8,r:2},ot)),!$){ot=L({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},ot);var ut=(m=L(ot,{fill:"#e6e6e6"},G.filterUserAttributes(m||{}))).style;delete m.style;var ct=(j=L(ot,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},G.filterUserAttributes(j||{}))).style;delete j.style;var ht=(T=L(ot,{style:{color:"#cccccc"}},G.filterUserAttributes(T||{}))).style;delete T.style}return b(tt.element,v?"mouseover":"mouseenter",function(){3!==nt&&tt.setState(1)}),b(tt.element,v?"mouseout":"mouseleave",function(){3!==nt&&tt.setState(nt)}),tt.setState=function(st){1!==st&&(tt.state=nt=st),tt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][st||0]),$||(tt.attr([ot,m,j,T][st||0]),a(st=[pt,ut,ct,ht][st||0])&&tt.css(st))},$||tt.attr(ot).css(o({cursor:"default"},pt)),tt.on("touchstart",function(st){return st.stopPropagation()}).on("click",function(st){3!==nt&&z.call(tt,st)})},s.prototype.crispLine=function(f,k,R){void 0===R&&(R="round");var z=f[0],H=f[1];return i(z[1])&&z[1]===H[1]&&(z[1]=H[1]=Math[R](z[1])-k%2/2),i(z[2])&&z[2]===H[2]&&(z[2]=H[2]=Math[R](z[2])+k%2/2),f},s.prototype.path=function(f){var k=this.styledMode?{}:{fill:"none"};return n(f)?k.d=f:a(f)&&o(k,f),this.createElement("path").attr(k)},s.prototype.circle=function(f,k,R){return f=a(f)?f:typeof f>"u"?{}:{x:f,y:k,r:R},(k=this.createElement("circle")).xSetter=k.ySetter=function(z,H,m){m.setAttribute("c"+H,z)},k.attr(f)},s.prototype.arc=function(f,k,R,z,H,m){return a(f)?(k=(z=f).y,R=z.r,f=z.x):z={innerR:z,start:H,end:m},(f=this.symbol("arc",f,k,R,R,z)).r=R,f},s.prototype.rect=function(f,k,R,z,H,m){H=a(f)?f.r:H;var j=this.createElement("rect");return f=a(f)?f:typeof f>"u"?{}:{x:f,y:k,width:Math.max(R,0),height:Math.max(z,0)},this.styledMode||(typeof m<"u"&&(f["stroke-width"]=m,f=j.crisp(f)),f.fill="none"),H&&(f.r=H),j.rSetter=function(T,Z,B){j.r=T,u(B,{rx:T,ry:T})},j.rGetter=function(){return j.r||0},j.attr(f)},s.prototype.setSize=function(f,k,R){this.width=f,this.height=k,this.boxWrapper.animate({width:f,height:k},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(R,!0)?void 0:0}),this.alignElements()},s.prototype.g=function(f){var k=this.createElement("g");return f?k.attr({class:"highcharts-"+f}):k},s.prototype.image=function(f,k,R,z,H,m){var j={preserveAspectRatio:"none"},T=function(B,tt){B.setAttributeNS?B.setAttributeNS("http://www.w3.org/1999/xlink","href",tt):B.setAttribute("hc-svg-href",tt)};r(k)&&(j.x=k),r(R)&&(j.y=R),r(z)&&(j.width=z),r(H)&&(j.height=H);var Z=this.createElement("image").attr(j);return k=function(B){T(Z.element,f),m.call(Z,B)},m?(T(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),R=new x.Image,b(R,"load",k),R.src=f,R.complete&&k({})):T(Z.element,f),Z},s.prototype.symbol=function(f,k,R,z,H,m){var $,j=this,T=/^url\((.*?)\)$/,Z=T.test(f),B=!Z&&(this.symbols[f]?f:"circle"),tt=B&&this.symbols[B];if(tt){"number"==typeof k&&($=tt.call(this.symbols,Math.round(k||0),Math.round(R||0),z||0,H||0,m));var nt=this.path($);j.styledMode||nt.attr("fill","none"),o(nt,{symbolName:B||void 0,x:k,y:R,width:z,height:H}),m&&o(nt,m)}else if(Z){var ot=f.match(T)[1],pt=nt=this.image(ot);pt.imgwidth=Y(C[ot]&&C[ot].width,m&&m.width),pt.imgheight=Y(C[ot]&&C[ot].height,m&&m.height);var ut=function(ct){return ct.attr({width:ct.width,height:ct.height})};["width","height"].forEach(function(ct){pt[ct+"Setter"]=function(ht,st){var F=this["img"+st];this[st]=ht,i(F)&&(m&&"within"===m.backgroundSize&&this.width&&this.height&&(F=Math.round(F*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(st,F),this.alignByTranslate||(ht=((this[st]||0)-F)/2,this.attr("width"===st?{translateX:ht}:{translateY:ht})))}}),i(k)&&pt.attr({x:k,y:R}),pt.isImg=!0,i(pt.imgwidth)&&i(pt.imgheight)?ut(pt):(pt.attr({width:0,height:0}),l("img",{onload:function(){var ct=O[j.chartIndex];0===this.width&&(p(this,{position:"absolute",top:"-999em"}),y.body.appendChild(this)),C[ot]={width:this.width,height:this.height},pt.imgwidth=this.width,pt.imgheight=this.height,pt.element&&ut(pt),this.parentNode&&this.parentNode.removeChild(this),j.imgCount--,!j.imgCount&&ct&&!ct.hasLoaded&&ct.onload()},src:ot}),this.imgCount++)}return nt},s.prototype.clipRect=function(f,k,R,z){var H=w()+"-",m=this.createElement("clipPath").attr({id:H}).add(this.defs);return(f=this.rect(f,k,R,z,0).add(m)).id=H,f.clipPath=m,f.count=0,f},s.prototype.text=function(f,k,R,z){var H={};return!z||!this.allowHTML&&this.forExport?(H.x=Math.round(k||0),R&&(H.y=Math.round(R)),i(f)&&(H.text=f),f=this.createElement("text").attr(H),(!z||this.forExport&&!this.allowHTML)&&(f.xSetter=function(m,j,T){for(var $,Z=T.getElementsByTagName("tspan"),B=T.getAttribute(j),tt=0;tt<Z.length;tt++)($=Z[tt]).getAttribute(j)===B&&$.setAttribute(j,m);T.setAttribute(j,m)}),f):this.html(f,k,R)},s.prototype.fontMetrics=function(f,k){return f=!this.styledMode&&/px/.test(f)||!x.getComputedStyle?f||k&&k.style&&k.style.fontSize||this.style&&this.style.fontSize:k&&K.prototype.getStyle.call(k,"font-size"),{h:k=24>(f=/px/.test(f)?D(f):12)?f+3:Math.round(1.2*f),b:Math.round(.8*k),f}},s.prototype.rotCorr=function(f,k,R){var z=f;return k&&R&&(z=Math.max(z*Math.cos(k*P),4)),{x:-f/3*Math.sin(k*P),y:z}},s.prototype.pathToSegments=function(f){for(var k=[],R=[],z={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},H=0;H<f.length;H++)M(R[0])&&r(f[H])&&R.length===z[R[0].toUpperCase()]&&f.splice(H,0,R[0].replace("M","L").replace("m","l")),"string"==typeof f[H]&&(R.length&&k.push(R.slice(0)),R.length=0),R.push(f[H]);return k.push(R.slice(0)),k},s.prototype.label=function(f,k,R,z,H,m,j,T,Z){return new et(this,f,k,R,z,H,m,j,T,Z)},s.prototype.alignElements=function(){this.alignedObjects.forEach(function(f){return f.align()})},s}(),o(t.prototype,{Element:K,SVG_NS:d,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:A}),V.registerRendererType("svg",t,!0),t}),mt(X,"Core/Renderer/HTML/HTMLElement.js",[X["Core/Globals.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W,t){var v,V=this&&this.__extends||(v=function(_,A){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,C){d.__proto__=C}||function(d,C){for(var x in C)C.hasOwnProperty(x)&&(d[x]=C[x])})(_,A)},function(_,A){function d(){this.constructor=_}v(_,A),_.prototype=null===A?Object.create(A):(d.prototype=A.prototype,new d)}),K=G.isFirefox,et=G.isMS,J=G.isWebKit,U=G.win,I=t.css,O=t.defined,P=t.extend,y=t.pick,h=t.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return V(_,v),_.compose=function(A){if(-1===_.composedClasses.indexOf(A)){_.composedClasses.push(A);var d=_.prototype,C=A.prototype;C.getSpanCorrection=d.getSpanCorrection,C.htmlCss=d.htmlCss,C.htmlGetBBox=d.htmlGetBBox,C.htmlUpdateTransform=d.htmlUpdateTransform,C.setSpanRotation=d.setSpanRotation}return A},_.prototype.getSpanCorrection=function(A,d,C){this.xCorr=-A*C,this.yCorr=-d},_.prototype.htmlCss=function(A){var d="SPAN"===this.element.tagName&&A&&"width"in A,C=y(d&&A.width,void 0);if(d){delete A.width,this.textWidth=C;var x=!0}return A&&"ellipsis"===A.textOverflow&&(A.whiteSpace="nowrap",A.overflow="hidden"),this.styles=P(this.styles,A),I(this.element,A),x&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var A=this.element;return{x:A.offsetLeft,y:A.offsetTop,width:A.offsetWidth,height:A.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var A=this.renderer,d=this.element,C=this.translateX||0,x=this.translateY||0,b=this.x||0,u=this.y||0,l=this.textAlign||"left",p={left:0,center:.5,right:1}[l],i=this.styles;if(i=i&&i.whiteSpace,I(d,{marginLeft:C,marginTop:x}),!A.styledMode&&this.shadows&&this.shadows.forEach(function(M){I(M,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(d.childNodes,function(M){A.invertChild(M,d)}),"SPAN"===d.tagName){var c=this.rotation,o=this.textWidth&&h(this.textWidth),n=[c,l,d.innerHTML,this.textWidth,this.textAlign].join(),r=void 0;if(r=!1,o!==this.oldTextWidth){if(this.textPxLength)var a=this.textPxLength;else I(d,{width:"",whiteSpace:i||"nowrap"}),a=d.offsetWidth;(o>this.oldTextWidth||a>o)&&(/[ \-]/.test(d.textContent||d.innerText)||"ellipsis"===d.style.textOverflow)&&(I(d,{width:a>o||c?o+"px":"auto",display:"block",whiteSpace:i||"normal"}),this.oldTextWidth=o,r=!0)}this.hasBoxWidthChanged=r,n!==this.cTT&&(r=A.fontMetrics(d.style.fontSize,d).b,!O(c)||c===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(c,p,r),this.getSpanCorrection(!O(c)&&this.textPxLength||d.offsetWidth,r,p,c,l)),I(d,{left:b+(this.xCorr||0)+"px",top:u+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=c,this.oldAlign=l}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(A,d,C){var x={},b=et&&!/Edge/.test(U.navigator.userAgent)?"-ms-transform":J?"-webkit-transform":K?"MozTransform":U.opera?"-o-transform":void 0;b&&(x[b]=x.transform="rotate("+A+"deg)",x[b+(K?"Origin":"-origin")]=x.transformOrigin=100*d+"% "+C+"px",I(this.element,x))},_.composedClasses=[],_}(W)}),mt(X,"Core/Renderer/HTML/HTMLRenderer.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Utilities.js"]],function(G,W,t,V){var O,K=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),et=V.attr,J=V.createElement,U=V.extend,I=V.pick;return function(O){function P(){return null!==O&&O.apply(this,arguments)||this}return K(P,O),P.compose=function(y){return-1===P.composedClasses.indexOf(y)&&(P.composedClasses.push(y),y.prototype.html=P.prototype.html),y},P.prototype.html=function(y,h,v){var _=this.createElement("span"),A=_.element,d=_.renderer,C=d.isSVG,x=function(b,u){["opacity","visibility"].forEach(function(l){b[l+"Setter"]=function(p,i,c){var o=b.div?b.div.style:u;W.prototype[l+"Setter"].call(this,p,i,c),o&&(o[i]=p)}}),b.addedSetters=!0};return _.textSetter=function(b){b!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,G.setElementHTML(this.element,I(b,"")),this.textStr=b,_.doTransform=!0)},C&&x(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(b,u){"align"===u?_.alignValue=_.textAlign=b:_[u]=b,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:y,x:Math.round(h),y:Math.round(v)}).css({position:"absolute"}),d.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),A.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(b){var u=d.box.parentNode,l=[];if(this.parentGroup=b){var p=b.div;if(!p){for(;b;)l.push(b),b=b.parentGroup;l.reverse().forEach(function(i){function c(a,M){i[M]=a,"translateX"===M?r.left=a+"px":r.top=a+"px",i.doTransform=!0}var a,o=et(i.element,"class"),n=i.styles||{},r=(p=i.div=i.div||J("div",o?{className:o}:void 0,{position:"absolute",left:(i.translateX||0)+"px",top:(i.translateY||0)+"px",display:i.display,opacity:i.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:i.visibility},p||u)).style;U(i,{classSetter:(a=p,function(M){this.element.setAttribute("class",M),a.className=M}),on:function(){return l[0].div&&_.on.apply({element:l[0].div,onEvents:i.onEvents},arguments),i},translateXSetter:c,translateYSetter:c}),i.addedSetters||x(i)})}}else p=u;return p.appendChild(A),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},P.composedClasses=[],P}(t)}),mt(X,"Core/Axis/AxisDefaults.js",[],function(){var G=(()=>{return(W=G||(G={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},W.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},W.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},W.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},W.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},W.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},G;var W})();return G}),mt(X,"Core/Foundation.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.isFunction,V=G.objectEach,K=G.removeEvent;return(et||(et={})).registerEventOptions=function(U,I){U.eventOptions=U.eventOptions||{},V(I.events,function(O,P){U.eventOptions[P]!==O&&(U.eventOptions[P]&&(K(U,P,U.eventOptions[P]),delete U.eventOptions[P]),t(O)&&(U.eventOptions[P]=O,W(U,P,O)))})},et}),mt(X,"Core/Axis/Tick.js",[X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){var V=W.deg2rad,K=t.clamp,et=t.correctFloat,J=t.defined,U=t.destroyObjectProperties,I=t.extend,O=t.fireEvent,P=t.isNumber,y=t.merge,h=t.objectEach,v=t.pick;return function(){function _(A,d,C,x,b){this.isNewLabel=this.isNew=!0,this.axis=A,this.pos=d,this.type=C||"",this.parameters=b||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||x||this.addLabel()}return _.prototype.addLabel=function(){var A=this,d=A.axis,C=d.options,x=d.chart,b=d.categories,u=d.logarithmic,l=d.names,p=A.pos,i=v(A.options&&A.options.labels,C.labels),c=d.tickPositions,o=p===c[0],n=p===c[c.length-1],r=(!i.step||1===i.step)&&1===d.tickInterval;c=c.info;var M,a=A.label;if(b=this.parameters.category||(b?v(b[p],l[p],p):p),u&&P(b)&&(b=et(u.lin2log(b))),d.dateTime)if(c)var L=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&c.higherRanks[p]||c.unitName]),Y=L.main;else P(b)&&(Y=d.dateTime.getXDateFormat(b,C.dateTimeLabelFormats||{}));A.isFirst=o,A.isLast=n;var D={axis:d,chart:x,dateTimeLabelFormat:Y,isFirst:o,isLast:n,pos:p,tick:A,tickPositionInfo:c,value:b};O(this,"labelFormat",D);var w=function(s){return i.formatter?i.formatter.call(s,s):i.format?(s.text=d.defaultLabelFormatter.call(s),G.format(i.format,s,x)):d.defaultLabelFormatter.call(s,s)};C=w.call(D,D);var N=L&&L.list;A.shortenLabel=N?function(){for(M=0;M<N.length;M++)if(I(D,{dateTimeLabelFormat:N[M]}),a.attr({text:w.call(D,D)}),a.getBBox().width<d.getSlotWidth(A)-2*i.padding)return;a.attr({text:""})}:void 0,r&&d._addedPlotLB&&A.moveLabel(C,i),J(a)||A.movedLabel?a&&a.textStr!==C&&!r&&(!a.textWidth||i.style.width||a.styles.width||a.css({width:null}),a.attr({text:C}),a.textPxLength=a.getBBox().width):(A.label=a=A.createLabel({x:0,y:0},C,i),A.rotation=0)},_.prototype.createLabel=function(A,d,C){var x=this.axis,b=x.chart;return(A=J(d)&&C.enabled?b.renderer.text(d,A.x,A.y,C.useHTML).add(x.labelGroup):null)&&(b.styledMode||A.css(y(C.style)),A.textPxLength=A.getBBox().width),A},_.prototype.destroy=function(){U(this,this.axis)},_.prototype.getPosition=function(A,d,C,x){var b=this.axis,u=b.chart,l=x&&u.oldChartHeight||u.chartHeight;return(A={x:A?et(b.translate(d+C,null,null,x)+b.transB):b.left+b.offset+(b.opposite?(x&&u.oldChartWidth||u.chartWidth)-b.right-b.left:0),y:A?l-b.bottom+b.offset-(b.opposite?b.height:0):et(l-b.translate(d+C,null,null,x)-b.transB)}).y=K(A.y,-1e5,1e5),O(this,"afterGetPosition",{pos:A}),A},_.prototype.getLabelPosition=function(A,d,C,x,b,u,l,p){var i=this.axis,c=i.transA,o=i.isLinked&&i.linkedParent?i.linkedParent.reversed:i.reversed,n=i.staggerLines,r=i.tickRotCorr||{x:0,y:0},a=x||i.reserveSpaceDefault?0:-i.labelOffset*("center"===i.labelAlign?.5:1),M={},L=b.y;return J(L)||(L=0===i.side?C.rotation?-8:-C.getBBox().height:2===i.side?r.y+8:Math.cos(C.rotation*V)*(r.y-C.getBBox(!1,0).height/2)),d=d+L-(u&&!x?u*c*(o?1:-1):0),n&&(C=l/(p||1)%n,i.opposite&&(C=n-C-1),d+=i.labelOffset/n*C),M.x=A=A+b.x+a+r.x-(u&&x?u*c*(o?-1:1):0),M.y=Math.round(d),O(this,"afterGetLabelPosition",{pos:M,tickmarkOffset:u,index:l}),M},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(A,d,C,x,b,u){return u.crispLine([["M",A,d],["L",A+(b?0:-C),d+(b?C:0)]],x)},_.prototype.handleOverflow=function(A){var d=this.axis,C=d.options.labels,x=A.x,b=d.chart.chartWidth,u=d.chart.spacing,l=v(d.labelLeft,Math.min(d.pos,u[3]));u=v(d.labelRight,Math.max(d.isRadial?0:d.pos+d.len,b-u[1]));var L,p=this.label,i=this.rotation,c={left:0,center:.5,right:1}[d.labelAlign||p.attr("align")],o=p.getBBox().width,n=d.getSlotWidth(this),r={},a=n,M=1;i||"justify"!==C.overflow?0>i&&x-c*o<l?L=Math.round(x/Math.cos(i*V)-l):0<i&&x+c*o>u&&(L=Math.round((b-x)/Math.cos(i*V))):(b=x+(1-c)*o,x-c*o<l?a=A.x+a*(1-c)-l:b>u&&(a=u-A.x+a*c,M=-1),(a=Math.min(n,a))<n&&"center"===d.labelAlign&&(A.x+=M*(n-a-c*(n-Math.min(o,a)))),(o>a||d.autoRotation&&(p.styles||{}).width)&&(L=a)),L&&(this.shortenLabel?this.shortenLabel():(r.width=Math.floor(L)+"px",(C.style||{}).textOverflow||(r.textOverflow="ellipsis"),p.css(r)))},_.prototype.moveLabel=function(A,d){var C=this,x=C.label,b=C.axis,u=b.reversed,l=!1;if(x&&x.textStr===A?(C.movedLabel=x,l=!0,delete C.label):h(b.ticks,function(i){l||i.isNew||i===C||!i.label||i.label.textStr!==A||(C.movedLabel=i.label,l=!0,i.labelPos=C.movedLabel.xy,delete i.label)}),!l&&(C.labelPos||x)){var p=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=b.horiz?u?0:b.width+b.left:p.x,y:b=b.horiz?p.y:u?b.width+b.left:0},A,d),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(A,d,C){var x=this.axis,b=x.horiz,u=this.pos,l=v(this.tickmarkOffset,x.tickmarkOffset);l=(u=this.getPosition(b,u,l,d)).x,x=b&&l===x.pos+x.len||!b&&u.y===x.pos?-1:1,b=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(d,C,x),this.renderMark(u,C,x),this.renderLabel(u,d,b,A),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(A,d,C){var x=this.axis,b=x.options,u={},l=this.pos,p=this.type,i=v(this.tickmarkOffset,x.tickmarkOffset),c=x.chart.renderer,o=this.gridLine,n=b.gridLineWidth,r=b.gridLineColor,a=b.gridLineDashStyle;"minor"===this.type&&(n=b.minorGridLineWidth,r=b.minorGridLineColor,a=b.minorGridLineDashStyle),o||(x.chart.styledMode||(u.stroke=r,u["stroke-width"]=n||0,u.dashstyle=a),p||(u.zIndex=1),A&&(d=0),this.gridLine=o=c.path().attr(u).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:l+i,lineWidth:o.strokeWidth()*C,force:"pass",old:A}))&&o[A||this.isNew?"attr":"animate"]({d:C,opacity:d})},_.prototype.renderMark=function(A,d,C){var x=this.axis,b=x.options,u=x.chart.renderer,l=this.type,p=x.tickSize(l?l+"Tick":"tick"),i=A.x;A=A.y;var c=v(b["minor"!==l?"tickWidth":"minorTickWidth"],!l&&x.isXAxis?1:0);b=b["minor"!==l?"tickColor":"minorTickColor"];var o=this.mark,n=!o;p&&(x.opposite&&(p[0]=-p[0]),o||(this.mark=o=u.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:b,"stroke-width":c})),o[n?"attr":"animate"]({d:this.getMarkPath(i,A,p[0],o.strokeWidth()*C,x.horiz,u),opacity:d}))},_.prototype.renderLabel=function(A,d,C,x){var b=this.axis,u=b.horiz,l=b.options,p=this.label,i=l.labels,c=i.step;b=v(this.tickmarkOffset,b.tickmarkOffset);var o=A.x;A=A.y;var n=!0;p&&P(o)&&(p.xy=A=this.getLabelPosition(o,A,p,u,i,b,x,c),this.isFirst&&!this.isLast&&!l.showFirstLabel||this.isLast&&!this.isFirst&&!l.showLastLabel?n=!1:!u||i.step||i.rotation||d||0===C||this.handleOverflow(A),c&&x%c&&(n=!1),n&&P(A.y)?(A.opacity=C,p[this.isNewLabel?"attr":"animate"](A),this.isNewLabel=!1):(p.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var A=this.label,d=this.axis,C=d.reversed;A&&!this.isNew&&(A.animate({x:d.horiz?C?d.left:d.width+d.left:A.xy.x,y:C=d.horiz?A.xy.y:C?d.width+d.top:d.top,opacity:0},void 0,A.destroy),delete this.label),d.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),mt(X,"Core/Axis/Axis.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/AxisDefaults.js"],X["Core/Color/Color.js"],X["Core/DefaultOptions.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Axis/Tick.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U){var I=G.animObject,O=V.defaultOptions,P=K.registerEventOptions,y=et.deg2rad,h=U.arrayMax,v=U.arrayMin,_=U.clamp,A=U.correctFloat,d=U.defined,C=U.destroyObjectProperties,x=U.erase,b=U.error,u=U.extend,l=U.fireEvent,p=U.getMagnitude,i=U.isArray,c=U.isNumber,o=U.isString,n=U.merge,r=U.normalizeTickInterval,a=U.objectEach,M=U.pick,L=U.relativeLength,Y=U.removeEvent,D=U.splat,w=U.syncTimeout;return function(){function N(s,f){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(s,f)}return N.prototype.init=function(s,f){var k=f.isX;this.chart=s,this.horiz=s.inverted&&!this.isZAxis?!k:k,this.isXAxis=k,this.coll=this.coll||(k?"xAxis":"yAxis"),l(this,"init",{userOptions:f}),this.opposite=M(f.opposite,this.opposite),this.side=M(f.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(f);var R=this.options,z=R.labels,H=R.type;this.userOptions=f,this.minPixelPadding=0,this.reversed=M(R.reversed,this.reversed),this.visible=R.visible,this.zoomEnabled=R.zoomEnabled,this.hasNames="category"===H||!0===R.categories,this.categories=R.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=d(R.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=R.minRange||R.maxZoom,this.range=R.range,this.offset=R.offset||0,this.min=this.max=null,f=M(R.crosshair,D(s.options.tooltip.crosshairs)[k?0:1]),this.crosshair=!0===f?{}:f,-1===s.axes.indexOf(this)&&(k?s.axes.splice(s.xAxis.length,0,this):s.axes.push(this),s[this.coll].push(this)),this.series=this.series||[],s.inverted&&!this.isZAxis&&k&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=c(z.rotation)?z.rotation:void 0,P(this,R),l(this,"afterInit")},N.prototype.setOptions=function(s){this.options=n(W.defaultXAxisOptions,"yAxis"===this.coll&&W.defaultYAxisOptions,[W.defaultTopAxisOptions,W.defaultRightAxisOptions,W.defaultBottomAxisOptions,W.defaultLeftAxisOptions][this.side],n(O[this.coll],s)),l(this,"afterSetOptions",{userOptions:s})},N.prototype.defaultLabelFormatter=function(s){var f=this.axis;s=this.chart.numberFormatter;var k=c(this.value)?this.value:NaN,R=f.chart.time,z=this.dateTimeLabelFormat,H=O.lang,m=H.numericSymbols;H=H.numericSymbolMagnitude||1e3;var j=f.logarithmic?Math.abs(k):f.tickInterval,T=m&&m.length;if(f.categories)var Z=""+this.value;else if(z)Z=R.dateFormat(z,k);else if(T&&1e3<=j)for(;T--&&typeof Z>"u";)j>=(f=Math.pow(H,T+1))&&10*k%f==0&&null!==m[T]&&0!==k&&(Z=s(k/f,-1)+m[T]);return typeof Z>"u"&&(Z=1e4<=Math.abs(k)?s(k,-1):s(k,-1,void 0,"")),Z},N.prototype.getSeriesExtremes=function(){var k,s=this,f=s.chart;l(this,"getSeriesExtremes",null,function(){s.hasVisibleSeries=!1,s.dataMin=s.dataMax=s.threshold=null,s.softThreshold=!s.isXAxis,s.stacking&&s.stacking.buildStacks(),s.series.forEach(function(R){if(R.visible||!f.options.chart.ignoreHiddenSeries){var z=R.options,H=z.threshold;if(s.hasVisibleSeries=!0,s.positiveValuesOnly&&0>=H&&(H=null),s.isXAxis){if((z=R.xData).length){z=s.logarithmic?z.filter(s.validatePositiveValue):z;var m=(k=R.getXExtremes(z)).min,j=k.max;c(m)||m instanceof Date||(z=z.filter(c),m=(k=R.getXExtremes(z)).min,j=k.max),z.length&&(s.dataMin=Math.min(M(s.dataMin,m),m),s.dataMax=Math.max(M(s.dataMax,j),j))}}else R=R.applyExtremes(),c(R.dataMin)&&(m=R.dataMin,s.dataMin=Math.min(M(s.dataMin,m),m)),c(R.dataMax)&&(j=R.dataMax,s.dataMax=Math.max(M(s.dataMax,j),j)),d(H)&&(s.threshold=H),(!z.softThreshold||s.positiveValuesOnly)&&(s.softThreshold=!1)}})}),l(this,"afterGetSeriesExtremes")},N.prototype.translate=function(s,f,k,R,z,H){var m=this.linkedParent||this,j=R&&m.old?m.old.min:m.min,T=m.minPixelPadding;z=(m.isOrdinal||m.brokenAxis&&m.brokenAxis.hasBreaks||m.logarithmic&&z)&&m.lin2val;var Z=1,B=0;return(R=R&&m.old?m.old.transA:m.transA)||(R=m.transA),k&&(Z*=-1,B=m.len),m.reversed&&(B-=(Z*=-1)*(m.sector||m.len)),f?(H=(s*Z+B-T)/R+j,z&&(H=m.lin2val(H))):(z&&(s=m.val2lin(s)),s=Z*(s-j)*R,H=c(j)?(m.isRadial?s:A(s))+B+Z*T+(c(H)?R*H:0):void 0),H},N.prototype.toPixels=function(s,f){return this.translate(s,!1,!this.horiz,null,!0)+(f?0:this.pos)},N.prototype.toValue=function(s,f){return this.translate(s-(f?0:this.pos),!0,!this.horiz,null,!0)},N.prototype.getPlotLinePath=function(s){function f(st,F,Q){return("pass"!==nt&&st<F||st>Q)&&(nt?st=_(st,F,Q):ht=!0),st}var ot,pt,ut,ct,ht,k=this,R=k.chart,z=k.left,H=k.top,m=s.old,j=s.value,T=s.lineWidth,Z=m&&R.oldChartHeight||R.chartHeight,B=m&&R.oldChartWidth||R.chartWidth,tt=k.transB,$=s.translatedValue,nt=s.force;return l(this,"getPlotLinePath",s={value:j,lineWidth:T,old:m,force:nt,acrossPanes:s.acrossPanes,translatedValue:$},function(st){$=M($,k.translate(j,null,null,m)),$=_($,-1e5,1e5),ot=ut=Math.round($+tt),pt=ct=Math.round(Z-$-tt),c($)?k.horiz?(pt=H,ct=Z-k.bottom,ot=ut=f(ot,z,z+k.width)):(ot=z,ut=B-k.right,pt=ct=f(pt,H,H+k.height)):(ht=!0,nt=!1),st.path=ht&&!nt?null:R.renderer.crispLine([["M",ot,pt],["L",ut,ct]],T||1)}),s.path},N.prototype.getLinearTickPositions=function(s,f,k){var R=A(Math.floor(f/s)*s);k=A(Math.ceil(k/s)*s);var H,z=[];if(A(R+s)===R&&(H=20),this.single)return[f];for(f=R;f<=k&&(z.push(f),(f=A(f+s,H))!==m);)var m=f;return z},N.prototype.getMinorTickInterval=function(){var s=this.options;return!0===s.minorTicks?M(s.minorTickInterval,"auto"):!1===s.minorTicks?null:s.minorTickInterval},N.prototype.getMinorTickPositions=function(){var s=this.options,f=this.tickPositions,k=this.minorTickInterval,R=this.pointRangePadding||0,z=this.min-R,H=(R=this.max+R)-z,m=[];if(H&&H/k<this.len/3){var j=this.logarithmic;if(j)this.paddedTicks.forEach(function(T,Z,B){Z&&m.push.apply(m,j.getLogTickPositions(k,B[Z-1],B[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(k),z,R,s.startOfWeek));else for(s=z+(f[0]-z)%k;s<=R&&s!==m[0];s+=k)m.push(s)}return 0!==m.length&&this.trimTicks(m),m},N.prototype.adjustForMinRange=function(){var H,m,j,T,s=this.options,f=this.logarithmic,k=this.min,R=this.max,z=0;if(this.isXAxis&&typeof this.minRange>"u"&&!f&&(d(s.min)||d(s.max)||d(s.floor)||d(s.ceiling)?this.minRange=null:(this.series.forEach(function($){if(j=$.xData,T=$.xIncrement?1:j.length-1,1<j.length)for(H=T;0<H;H--)m=j[H]-j[H-1],(!z||m<z)&&(z=m)}),this.minRange=Math.min(5*z,this.dataMax-this.dataMin))),R-k<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,B=this.minRange,tt=(B-R+k)/2;tt=[k-tt,M(s.min,k-tt)],Z&&(tt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),R=[(k=h(tt))+B,M(s.max,k+B)],Z&&(R[2]=f?f.log2lin(this.dataMax):this.dataMax),(R=v(R))-k<B&&(tt[0]=R-B,tt[1]=M(s.min,R-B),k=h(tt))}this.min=k,this.max=R},N.prototype.getClosest=function(){var s;return this.categories?s=1:this.series.forEach(function(f){var k=f.closestPointRange,R=f.visible||!f.chart.options.chart.ignoreHiddenSeries;!f.noSharedTooltip&&d(k)&&R&&(s=d(s)?Math.min(s,k):k)}),s},N.prototype.nameToX=function(s){var f=i(this.options.categories),k=f?this.categories:this.names,R=s.options.x;if(s.series.requireSorting=!1,d(R)||(R=this.options.uniqueNames&&k?f?k.indexOf(s.name):M(k.keys[s.name],-1):s.series.autoIncrement()),-1===R){if(!f&&k)var z=k.length}else z=R;return typeof z<"u"&&(this.names[z]=s.name,this.names.keys[s.name]=z),z},N.prototype.updateNames=function(){var s=this,f=this.names;0<f.length&&(Object.keys(f.keys).forEach(function(k){delete f.keys[k]}),f.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(k){k.xIncrement=null,(!k.points||k.isDirtyData)&&(s.max=Math.max(s.max,k.xData.length-1),k.processData(),k.generatePoints()),k.data.forEach(function(R,z){if(R&&R.options&&typeof R.name<"u"){var H=s.nameToX(R);typeof H<"u"&&H!==R.x&&(R.x=H,k.xData[z]=H)}})}))},N.prototype.setAxisTranslation=function(){var T,s=this,f=s.max-s.min,k=s.linkedParent,R=!!s.categories,z=s.isXAxis,H=s.axisPointRange||0,m=0,j=0;if(z||R||H){var Z=s.getClosest();k?(m=k.minPointOffset,j=k.pointRangePadding):s.series.forEach(function(B){var tt=R?1:z?M(B.options.pointRange,Z,0):s.axisPointRange||0,$=B.options.pointPlacement;H=Math.max(H,tt),(!s.single||R)&&(B=B.is("xrange")?!z:z,m=Math.max(m,B&&o($)?0:tt/2),j=Math.max(j,B&&"on"===$?0:tt))}),s.minPointOffset=m*=k=s.ordinal&&s.ordinal.slope&&Z?s.ordinal.slope/Z:1,s.pointRangePadding=j*=k,s.pointRange=Math.min(H,s.single&&R?1:f),z&&(s.closestPointRange=Z)}s.translationSlope=s.transA=T=s.staticScale||s.len/(f+j||1),s.transB=s.horiz?s.left:s.bottom,s.minPixelPadding=T*m,l(this,"afterSetAxisTranslation")},N.prototype.minFromRange=function(){return this.max-this.range},N.prototype.setTickInterval=function(s){var f=this.chart,k=this.logarithmic,R=this.options,z=this.isXAxis,H=this.isLinked,m=R.tickPixelInterval,j=this.categories,T=this.softThreshold,Z=R.maxPadding,B=R.minPadding,tt=c(R.tickInterval)&&0<=R.tickInterval?R.tickInterval:void 0,$=c(this.threshold)?this.threshold:null;this.dateTime||j||H||this.getTickAmount();var nt=M(this.userMin,R.min),ot=M(this.userMax,R.max);if(H){this.linkedParent=f[this.coll][R.linkedTo];var pt=this.linkedParent.getExtremes();this.min=M(pt.min,pt.dataMin),this.max=M(pt.max,pt.dataMax),R.type!==this.linkedParent.options.type&&b(11,1,f)}else{if(T&&d($))if(this.dataMin>=$)pt=$,B=0;else if(this.dataMax<=$){var ut=$;Z=0}this.min=M(nt,pt,this.dataMin),this.max=M(ot,ut,this.dataMax)}if(k&&(this.positiveValuesOnly&&!s&&0>=Math.min(this.min,M(this.dataMin,this.min))&&b(10,1,f),this.min=A(k.log2lin(this.min),16),this.max=A(k.log2lin(this.max),16)),this.range&&d(this.max)&&(this.userMin=this.min=nt=Math.max(this.dataMin,this.minFromRange()),this.userMax=ot=this.max,this.range=null),l(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(j||this.axisPointRange||this.stacking&&this.stacking.usePercentage||H)&&d(this.min)&&d(this.max)&&(f=this.max-this.min)&&(!d(nt)&&B&&(this.min-=f*B),!d(ot)&&Z&&(this.max+=f*Z)),c(this.userMin)||(c(R.softMin)&&R.softMin<this.min&&(this.min=nt=R.softMin),c(R.floor)&&(this.min=Math.max(this.min,R.floor))),c(this.userMax)||(c(R.softMax)&&R.softMax>this.max&&(this.max=ot=R.softMax),c(R.ceiling)&&(this.max=Math.min(this.max,R.ceiling))),T&&d(this.dataMin)&&($=$||0,!d(nt)&&this.min<$&&this.dataMin>=$?this.min=this.options.minRange?Math.min($,this.max-this.minRange):$:!d(ot)&&this.max>$&&this.dataMax<=$&&(this.max=this.options.minRange?Math.max($,this.min+this.minRange):$)),c(this.min)&&c(this.max)&&!this.chart.polar&&this.min>this.max&&(d(this.options.min)?this.max=this.min:d(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:H&&this.linkedParent&&!tt&&m===this.linkedParent.options.tickPixelInterval?tt=this.linkedParent.tickInterval:M(tt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,j?1:(this.max-this.min)*m/Math.max(this.len,m)),z&&!s){var ct=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ht){ht.forceCrop=ht.forceCropping&&ht.forceCropping(),ht.processData(ct)}),l(this,"postProcessData",{hasExtemesChanged:ct})}this.setAxisTranslation(),l(this,"initialAxisTranslation"),this.pointRange&&!tt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),s=M(R.minTickInterval,this.dateTime&&!this.series.some(function(ht){return ht.noSharedTooltip})?this.closestPointRange:0),!tt&&this.tickInterval<s&&(this.tickInterval=s),this.dateTime||this.logarithmic||tt||(this.tickInterval=r(this.tickInterval,void 0,p(this.tickInterval),M(R.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},N.prototype.setTickPositions=function(){var s=this.options,f=s.tickPositions,k=this.getMinorTickInterval(),R=this.hasVerticalPanning(),z="colorAxis"===this.coll,H=(z||!R)&&s.startOnTick;R=(z||!R)&&s.endOnTick,z=s.tickPositioner,this.tickmarkOffset=this.categories&&"between"===s.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===k&&this.tickInterval?this.tickInterval/5:k,this.single=this.min===this.max&&d(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==s.allowDecimals),this.tickPositions=k=f&&f.slice(),!k&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?k=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,s.units),this.min,this.max,s.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(k=[this.min,this.max],b(19,!1,this.chart)),k.length>this.len&&(k=[k[0],k.pop()])[0]===k[1]&&(k.length=1),this.tickPositions=k,z&&(z=z.apply(this,[this.min,this.max])))&&(this.tickPositions=k=z),this.paddedTicks=k.slice(0),this.trimTicks(k,H,R),this.isLinked||(this.single&&2>k.length&&!this.categories&&!this.series.some(function(m){return m.is("heatmap")&&"between"===m.options.pointPlacement})&&(this.min-=.5,this.max+=.5),f||z||this.adjustTickAmount()),l(this,"afterSetTickPositions")},N.prototype.trimTicks=function(s,f,k){var R=s[0],z=s[s.length-1],H=!this.isOrdinal&&this.minPointOffset||0;if(l(this,"trimTicks"),!this.isLinked){if(f&&R!==-1/0)this.min=R;else for(;this.min-H>s[0];)s.shift();if(k)this.max=z;else for(;this.max+H<s[s.length-1];)s.pop();0===s.length&&d(R)&&!this.options.tickPositions&&s.push((z+R)/2)}},N.prototype.alignToOthers=function(){var H,s=this,f=[this],k=s.options,R="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,z=[];if(s.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&k.alignTicks||R)&&!1!==k.startOnTick&&!1!==k.endOnTick&&!s.logarithmic){var m=function(Z){var B=Z.options;return[Z.horiz?B.left:B.top,B.width,B.height,B.pane].join()},j=m(this);this.chart[this.coll].forEach(function(Z){var B=Z.series;B.length&&B.some(function(tt){return tt.visible})&&Z!==s&&m(Z)===j&&(H=!0,f.push(Z))})}if(H&&R){f.forEach(function(Z){Z=Z.getThresholdAlignment(s),c(Z)&&z.push(Z)});var T=1<z.length?z.reduce(function(Z,B){return Z+B},0)/z.length:void 0;f.forEach(function(Z){Z.thresholdAlignment=T})}return H},N.prototype.getThresholdAlignment=function(s){if((!c(this.dataMin)||this!==s&&this.series.some(function(f){return f.isDirty||f.isDirtyData}))&&this.getSeriesExtremes(),c(this.threshold))return s=_((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(s=1-s),s},N.prototype.getTickAmount=function(){var s=this.options,f=s.tickPixelInterval,k=s.tickAmount;!d(s.tickInterval)&&!k&&this.len<f&&!this.isRadial&&!this.logarithmic&&s.startOnTick&&s.endOnTick&&(k=2),!k&&this.alignToOthers()&&(k=Math.ceil(this.len/f)+1),4>k&&(this.finalTickAmt=k,k=5),this.tickAmount=k},N.prototype.adjustTickAmount=function(){var s=this,f=s.finalTickAmt,k=s.max,R=s.min,z=s.options,H=s.tickPositions,m=s.tickAmount,j=s.thresholdAlignment,T=H&&H.length,Z=M(s.threshold,s.softThreshold?0:null),B=s.tickInterval;if(c(j)){var tt=.5>j?Math.ceil(j*(m-1)):Math.floor(j*(m-1));z.reversed&&(tt=m-1-tt)}if(s.hasData()&&c(R)&&c(k)){if(j=function(){s.transA*=(T-1)/(m-1),s.min=z.startOnTick?H[0]:Math.min(R,H[0]),s.max=z.endOnTick?H[H.length-1]:Math.max(k,H[H.length-1])},c(tt)&&c(s.threshold)){for(;H[tt]!==Z||H.length!==m||H[0]>R||H[H.length-1]<k;){for(H.length=0,H.push(s.threshold);H.length<m;)void 0===H[tt]||H[tt]>s.threshold?H.unshift(A(H[0]-B)):H.push(A(H[H.length-1]+B));if(B>8*s.tickInterval)break;B*=2}j()}else if(T<m){for(;H.length<m;)H.length%2||R===Z?H.push(A(H[H.length-1]+B)):H.unshift(A(H[0]-B));j()}else T>m&&(s.tickInterval*=2,s.setTickPositions());if(d(f)){for(B=Z=H.length;B--;)(3===f&&B%2==1||2>=f&&0<B&&B<Z-1)&&H.splice(B,1);s.finalTickAmt=void 0}}},N.prototype.setScale=function(){var s=!1,f=!1;this.series.forEach(function(R){s=s||R.isDirtyData||R.isDirty,f=f||R.xAxis&&R.xAxis.isDirty||!1}),this.setAxisSize();var k=this.len!==(this.old&&this.old.len);k||s||f||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=k||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),s&&this.panningState&&(this.panningState.isDirty=!0),l(this,"afterSetScale")},N.prototype.setExtremes=function(s,f,k,R,z){var H=this,m=H.chart;k=M(k,!0),H.series.forEach(function(j){delete j.kdTree}),z=u(z,{min:s,max:f}),l(H,"setExtremes",z,function(){H.userMin=s,H.userMax=f,H.eventArgs=z,k&&m.redraw(R)})},N.prototype.zoom=function(s,f){var k=this,R=this.dataMin,z=this.dataMax,H=this.options,m=Math.min(R,M(H.min,R)),j=Math.max(z,M(H.max,z));return l(this,"zoom",s={newMin:s,newMax:f},function(T){var Z=T.newMin,B=T.newMax;(Z!==k.min||B!==k.max)&&(k.allowZoomOutside||(d(R)&&(Z<m&&(Z=m),Z>j&&(Z=j)),d(z)&&(B<m&&(B=m),B>j&&(B=j))),k.displayBtn=typeof Z<"u"||typeof B<"u",k.setExtremes(Z,B,!1,void 0,{trigger:"zoom"})),T.zoomed=!0}),s.zoomed},N.prototype.setAxisSize=function(){var s=this.chart,f=this.options,k=f.offsets||[0,0,0,0],R=this.horiz,z=this.width=Math.round(L(M(f.width,s.plotWidth-k[3]+k[1]),s.plotWidth)),H=this.height=Math.round(L(M(f.height,s.plotHeight-k[0]+k[2]),s.plotHeight)),m=this.top=Math.round(L(M(f.top,s.plotTop+k[0]),s.plotHeight,s.plotTop));f=this.left=Math.round(L(M(f.left,s.plotLeft+k[3]),s.plotWidth,s.plotLeft)),this.bottom=s.chartHeight-H-m,this.right=s.chartWidth-z-f,this.len=Math.max(R?z:H,0),this.pos=R?f:m},N.prototype.getExtremes=function(){var s=this.logarithmic;return{min:s?A(s.lin2log(this.min)):this.min,max:s?A(s.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},N.prototype.getThreshold=function(s){var f=this.logarithmic,k=f?f.lin2log(this.min):this.min;return f=f?f.lin2log(this.max):this.max,null===s||s===-1/0?s=k:s===1/0?s=f:k>s?s=k:f<s&&(s=f),this.translate(s,0,1,0,1)},N.prototype.autoLabelAlign=function(s){var f=(M(s,0)-90*this.side+720)%360;return l(this,"autoLabelAlign",s={align:"center"},function(k){15<f&&165>f?k.align="right":195<f&&345>f&&(k.align="left")}),s.align},N.prototype.tickSize=function(s){var f=this.options,k=M(f["tick"===s?"tickWidth":"minorTickWidth"],"tick"===s&&this.isXAxis&&!this.categories?1:0),R=f["tick"===s?"tickLength":"minorTickLength"];if(k&&R){"inside"===f[s+"Position"]&&(R=-R);var z=[R,k]}return l(this,"afterTickSize",s={tickSize:z}),s.tickSize},N.prototype.labelMetrics=function(){var s=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[s]&&this.ticks[s].label)},N.prototype.unsquish=function(){var Z,B,s=this.options.labels,f=this.horiz,k=this.tickInterval,R=this.len/(((this.categories?1:0)+this.max-this.min)/k),z=s.rotation,H=this.labelMetrics(),m=Math.max(this.max-this.min,0),j=function(nt){var ot=nt/(R||1);return(ot=1<ot?Math.ceil(ot):1)*k>m&&nt!==1/0&&R!==1/0&&m&&(ot=Math.ceil(m/k)),A(ot*k)},T=k,tt=Number.MAX_VALUE;if(f){if(!s.staggerLines&&!s.step)if(c(z))var $=[z];else R<s.autoRotationLimit&&($=s.autoRotation);$&&$.forEach(function(nt){if(nt===z||nt&&-90<=nt&&90>=nt){var ot=(B=j(Math.abs(H.h/Math.sin(y*nt))))+Math.abs(nt/360);ot<tt&&(tt=ot,Z=nt,T=B)}})}else s.step||(T=j(H.h));return this.autoRotation=$,this.labelRotation=M(Z,c(z)?z:0),T},N.prototype.getSlotWidth=function(s){var f=this.chart,k=this.horiz,R=this.options.labels,z=Math.max(this.tickPositions.length-(this.categories?0:1),1),H=f.margin[3];if(s&&c(s.slotWidth))return s.slotWidth;if(k&&2>R.step)return R.rotation?0:(this.staggerLines||1)*this.len/z;if(!k){if(void 0!==(s=R.style.width))return parseInt(String(s),10);if(H)return H-f.spacing[3]}return.33*f.chartWidth},N.prototype.renderUnsquish=function(){var s=this.chart,f=s.renderer,k=this.tickPositions,R=this.ticks,z=this.options.labels,H=z.style,m=this.horiz,j=this.getSlotWidth(),T=Math.max(1,Math.round(j-2*z.padding)),Z={},B=this.labelMetrics(),tt=H.textOverflow,$=0;if(o(z.rotation)||(Z.rotation=z.rotation||0),k.forEach(function(ut){(ut=R[ut]).movedLabel&&ut.replaceMovedLabel(),ut&&ut.label&&ut.label.textPxLength>$&&($=ut.label.textPxLength)}),this.maxLabelLength=$,this.autoRotation)$>T&&$>B.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(j){var nt=T;if(!tt){var ot="clip";for(T=k.length;!m&&T--;){var pt=k[T];(pt=R[pt].label)&&(pt.styles&&"ellipsis"===pt.styles.textOverflow?pt.css({textOverflow:"clip"}):pt.textPxLength>j&&pt.css({width:j+"px"}),pt.getBBox().height>this.len/k.length-(B.h-B.f)&&(pt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(nt=$>.5*s.chartHeight?.33*s.chartHeight:$,tt||(ot="ellipsis")),(this.labelAlign=z.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),k.forEach(function(ut){var ct=(ut=R[ut])&&ut.label,ht=H.width,st={};ct&&(ct.attr(Z),ut.shortenLabel?ut.shortenLabel():nt&&!ht&&"nowrap"!==H.whiteSpace&&(nt<ct.textPxLength||"SPAN"===ct.element.tagName)?(st.width=nt+"px",tt||(st.textOverflow=ct.specificTextOverflow||ot),ct.css(st)):ct.styles&&ct.styles.width&&!st.width&&!ht&&ct.css({width:null}),delete ct.specificTextOverflow,ut.rotation=Z.rotation)},this),this.tickRotCorr=f.rotCorr(B.b,this.labelRotation||0,0!==this.side)},N.prototype.hasData=function(){return this.series.some(function(s){return s.hasData()})||this.options.showEmpty&&d(this.min)&&d(this.max)},N.prototype.addTitle=function(s){var m,R=this.opposite,z=this.options.title,H=this.chart.styledMode;this.axisTitle||((m=z.textAlign)||(m=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:R?"right":"left",middle:"center",high:R?"left":"right"})[z.align]),this.axisTitle=this.chart.renderer.text(z.text||"",0,0,z.useHTML).attr({zIndex:7,rotation:z.rotation,align:m}).addClass("highcharts-axis-title"),H||this.axisTitle.css(n(z.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),H||z.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[s?"show":"hide"](s)},N.prototype.generateTick=function(s){var f=this.ticks;f[s]?f[s].addLabel():f[s]=new J(this,s)},N.prototype.getOffset=function(){var s=this,f=this,k=f.chart,R=f.horiz,z=f.options,H=f.side,m=f.ticks,j=f.tickPositions,T=f.coll,Z=f.axisParent,B=k.renderer,tt=k.inverted&&!f.isZAxis?[1,0,3,2][H]:H,$=f.hasData(),nt=z.title,ot=z.labels,pt=k.axisOffset;k=k.clipOffset;var ht,ut=[-1,1,1,-1][H],ct=z.className,st=0,F=0,Q=0;if(f.showAxis=ht=$||z.showEmpty,f.staggerLines=f.horiz&&ot.staggerLines||void 0,!f.axisGroup){var it=function(lt,dt,gt){return B.g(lt).attr({zIndex:gt}).addClass("highcharts-"+T.toLowerCase()+dt+" "+(s.isRadial?"highcharts-radial-axis"+dt+" ":"")+(ct||"")).add(Z)};f.gridGroup=it("grid","-grid",z.gridZIndex),f.axisGroup=it("axis","",z.zIndex),f.labelGroup=it("axis-labels","-labels",ot.zIndex)}if($||f.isLinked?(j.forEach(function(lt){f.generateTick(lt)}),f.renderUnsquish(),f.reserveSpaceDefault=0===H||2===H||{1:"left",3:"right"}[H]===f.labelAlign,M(ot.reserveSpace,"center"===f.labelAlign||null,f.reserveSpaceDefault)&&j.forEach(function(lt){Q=Math.max(m[lt].getLabelSize(),Q)}),f.staggerLines&&(Q*=f.staggerLines),f.labelOffset=Q*(f.opposite?-1:1)):a(m,function(lt,dt){lt.destroy(),delete m[dt]}),nt&&nt.text&&!1!==nt.enabled&&(f.addTitle(ht),ht&&!1!==nt.reserveSpace)){f.titleOffset=st=f.axisTitle.getBBox()[R?"height":"width"];var at=nt.offset;F=d(at)?0:M(nt.margin,R?5:10)}f.renderLine(),f.offset=ut*M(z.offset,pt[H]?pt[H]+(z.margin||0):0),f.tickRotCorr=f.tickRotCorr||{x:0,y:0},nt=0===H?-f.labelMetrics().h:2===H?f.tickRotCorr.y:0,$=Math.abs(Q)+F,Q&&($=$-nt+ut*(R?M(ot.y,f.tickRotCorr.y+8*ut):ot.x)),f.axisTitleMargin=M(at,$),f.getMaxLabelDimensions&&(f.maxLabelDimensions=f.getMaxLabelDimensions(m,j)),"colorAxis"!==T&&(R=this.tickSize("tick"),pt[H]=Math.max(pt[H],(f.axisTitleMargin||0)+st+ut*f.offset,$,j&&j.length&&R?R[0]+ut*f.offset:0),z=!f.axisLine||z.offset?0:2*Math.floor(f.axisLine.strokeWidth()/2),k[tt]=Math.max(k[tt],z)),l(this,"afterGetOffset")},N.prototype.getLinePath=function(s){var f=this.chart,k=this.opposite,R=this.offset,z=this.horiz,H=this.left+(k?this.width:0)+R;return R=f.chartHeight-this.bottom-(k?this.height:0)+R,k&&(s*=-1),f.renderer.crispLine([["M",z?this.left:H,z?R:this.top],["L",z?f.chartWidth-this.right:H,z?R:f.chartHeight-this.bottom]],s)},N.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},N.prototype.getTitlePosition=function(){var s=this.horiz,f=this.left,k=this.top,R=this.len,z=this.options.title,H=s?f:k,m=this.opposite,j=this.offset,T=z.x,Z=z.y,B=this.axisTitle,tt=this.chart.renderer.fontMetrics(z.style.fontSize,B);return B=Math.max(B.getBBox(null,0).height-tt.h-1,0),R={low:H+(s?0:R),middle:H+R/2,high:H+(s?R:0)}[z.align],f=(s?k+this.height:f)+(s?1:-1)*(m?-1:1)*this.axisTitleMargin+[-B,B,tt.f,-B][this.side],l(this,"afterGetTitlePosition",{titlePosition:s={x:s?R+T:f+(m?this.width:0)+j+T,y:s?f+Z-(m?this.height:0)+j:R+Z}}),s},N.prototype.renderMinorTick=function(s,f){var k=this.minorTicks;k[s]||(k[s]=new J(this,s,"minor")),f&&k[s].isNew&&k[s].render(null,!0),k[s].render(null,!1,1)},N.prototype.renderTick=function(s,f,k){var R=this.ticks;(!this.isLinked||s>=this.min&&s<=this.max||this.grid&&this.grid.isColumn)&&(R[s]||(R[s]=new J(this,s)),k&&R[s].isNew&&R[s].render(f,!0,-1),R[s].render(f))},N.prototype.render=function(){var ut,ct,s=this,f=s.chart,k=s.logarithmic,R=s.options,z=s.isLinked,H=s.tickPositions,m=s.axisTitle,j=s.ticks,T=s.minorTicks,Z=s.alternateBands,B=R.stackLabels,tt=R.alternateGridColor,$=s.tickmarkOffset,nt=s.axisLine,ot=s.showAxis,pt=I(f.renderer.globalAnimation);if(s.labelEdge.length=0,s.overlap=!1,[j,T,Z].forEach(function(st){a(st,function(F){F.isActive=!1})}),s.hasData()||z){var ht=s.chart.hasRendered&&s.old&&c(s.old.min);s.minorTickInterval&&!s.categories&&s.getMinorTickPositions().forEach(function(st){s.renderMinorTick(st,ht)}),H.length&&(H.forEach(function(st,F){s.renderTick(st,F,ht)}),$&&(0===s.min||s.single)&&(j[-1]||(j[-1]=new J(s,-1,null,!0)),j[-1].render(-1))),tt&&H.forEach(function(st,F){ct=typeof H[F+1]<"u"?H[F+1]+$:s.max-$,F%2==0&&st<s.max&&ct<=s.max+(f.polar?-$:$)&&(Z[st]||(Z[st]=new et.PlotLineOrBand(s)),ut=st+$,Z[st].options={from:k?k.lin2log(ut):ut,to:k?k.lin2log(ct):ct,color:tt,className:"highcharts-alternate-grid"},Z[st].render(),Z[st].isActive=!0)}),s._addedPlotLB||(s._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(st){s.addPlotBandOrLine(st)}))}[j,T,Z].forEach(function(st){var F=[],Q=pt.duration;a(st,function(it,at){it.isActive||(it.render(at,!1,0),it.isActive=!1,F.push(at))}),w(function(){for(var it=F.length;it--;)st[F[it]]&&!st[F[it]].isActive&&(st[F[it]].destroy(),delete st[F[it]])},st!==Z&&f.hasRendered&&Q?Q:0)}),nt&&(nt[nt.isPlaced?"animate":"attr"]({d:this.getLinePath(nt.strokeWidth())}),nt.isPlaced=!0,nt[ot?"show":"hide"](ot)),m&&ot&&(R=s.getTitlePosition(),c(R.y)?(m[m.isNew?"attr":"animate"](R),m.isNew=!1):(m.attr("y",-9999),m.isNew=!0)),B&&B.enabled&&s.stacking&&s.stacking.renderStackTotals(),s.old={len:s.len,max:s.max,min:s.min,transA:s.transA,userMax:s.userMax,userMin:s.userMin},s.isDirty=!1,l(this,"afterRender")},N.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(s){s.render()})),this.series.forEach(function(s){s.isDirty=!0})},N.prototype.getKeepProps=function(){return this.keepProps||N.keepProps},N.prototype.destroy=function(s){var f=this,k=f.plotLinesAndBands,R=this.eventOptions;if(l(this,"destroy",{keepEvents:s}),s||Y(f),[f.ticks,f.minorTicks,f.alternateBands].forEach(function(H){C(H)}),k)for(s=k.length;s--;)k[s].destroy();for(var z in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(H){f[H]&&(f[H]=f[H].destroy())}),f.plotLinesAndBandsGroups)f.plotLinesAndBandsGroups[z]=f.plotLinesAndBandsGroups[z].destroy();a(f,function(H,m){-1===f.getKeepProps().indexOf(m)&&delete f[m]}),this.eventOptions=R},N.prototype.drawCrosshair=function(s,f){var H,k=this.crosshair,R=M(k&&k.snap,!0),z=this.chart,m=this.cross;if(l(this,"drawCrosshair",{e:s,point:f}),s||(s=this.cross&&this.cross.e),k&&!1!==(d(f)||!R)){if(R?d(f)&&(H=M("colorAxis"!==this.coll?f.crosshairPos:null,this.isXAxis?f.plotX:this.len-f.plotY)):H=s&&(this.horiz?s.chartX-this.pos:this.len-s.chartY+this.pos),d(H)){var j={value:f&&(this.isXAxis?f.x:M(f.stackY,f.y)),translatedValue:H};z.polar&&u(j,{isCrosshair:!0,chartX:s&&s.chartX,chartY:s&&s.chartY,point:f}),j=this.getPlotLinePath(j)||null}if(!d(j))return void this.hideCrosshair();R=this.categories&&!this.isRadial,m||(this.cross=m=z.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(R?"category ":"thin ")+(k.className||"")).attr({zIndex:M(k.zIndex,2)}).add(),z.styledMode||(m.attr({stroke:k.color||(R?t.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":M(k.width,1)}).css({"pointer-events":"none"}),k.dashStyle&&m.attr({dashstyle:k.dashStyle}))),m.show().attr({d:j}),R&&!k.width&&m.attr({"stroke-width":this.transA}),this.cross.e=s}else this.hideCrosshair();l(this,"afterDrawCrosshair",{e:s,point:f})},N.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),l(this,"afterHideCrosshair")},N.prototype.hasVerticalPanning=function(){var s=this.chart.options.chart.panning;return!!(s&&s.enabled&&/y/.test(s.type))},N.prototype.validatePositiveValue=function(s){return c(s)&&0<s},N.prototype.update=function(s,f){var k=this.chart;s=n(this.userOptions,s),this.destroy(!0),this.init(k,s),k.isDirtyBox=!0,M(f,!0)&&k.redraw()},N.prototype.remove=function(s){for(var f=this.chart,k=this.coll,R=this.series,z=R.length;z--;)R[z]&&R[z].remove(!1);x(f.axes,this),x(f[k],this),f[k].forEach(function(H,m){H.options.index=H.userOptions.index=m}),this.destroy(),f.isDirtyBox=!0,M(s,!0)&&f.redraw()},N.prototype.setTitle=function(s,f){this.update({title:s},f)},N.prototype.setCategories=function(s,f){this.update({categories:s},f)},N.defaultOptions=W.defaultXAxisOptions,N.keepProps="extKey hcEvents names series userMax userMin".split(" "),N}()}),mt(X,"Core/Axis/DateTimeAxis.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.getMagnitude,V=G.normalizeTickInterval,K=G.timeUnits;return function(J){function U(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function I(y){"datetime"!==y.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new P(this))}var O=[];J.compose=function(y){return-1===O.indexOf(y)&&(O.push(y),y.keepProps.push("dateTime"),y.prototype.getTimeTicks=U,W(y,"init",I)),y};var P=function(){function y(h){this.axis=h}return y.prototype.normalizeTimeTickInterval=function(h,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],A=K[(v=_[_.length-1])[0]],d=v[1];for(C=0;C<_.length&&(A=K[(v=_[C])[0]],d=v[1],!(_[C+1]&&h<=(A*d[d.length-1]+K[_[C+1][0]])/2));C++);return A===K.year&&h<5*A&&(d=[1,2,5]),{unitRange:A,count:h=V(h/A,d,"year"===v[0]?Math.max(t(h/A),1):1),unitName:v[0]}},y.prototype.getXDateFormat=function(h,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,h,_.options.startOfWeek,v)||v.year:v.day},y}();J.Additions=P}(et||(et={})),et}),mt(X,"Core/Axis/LogarithmicAxis.js",[X["Core/Utilities.js"]],function(G){var et,W=G.addEvent,t=G.getMagnitude,V=G.normalizeTickInterval,K=G.pick;return function(J){function U(y){var h=this.logarithmic;"logarithmic"!==y.userOptions.type?this.logarithmic=void 0:h||(this.logarithmic=new P(this))}function I(){var y=this.logarithmic;y&&(this.lin2val=function(h){return y.lin2log(h)},this.val2lin=function(h){return y.log2lin(h)})}var O=[];J.compose=function(y){return-1===O.indexOf(y)&&(O.push(y),y.keepProps.push("logarithmic"),W(y,"init",U),W(y,"afterInit",I)),y};var P=function(){function y(h){this.axis=h}return y.prototype.getLogTickPositions=function(h,v,_,A){var d=this.axis,C=d.len,x=d.options,b=[];if(A||(this.minorAutoInterval=void 0),.5<=h)h=Math.round(h),b=d.getLinearTickPositions(h,v,_);else if(.08<=h){var l,u=Math.floor(v),p=x=void 0;for(C=.3<h?[1,2,4]:.15<h?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<_+1&&!p;u++){var i=C.length;for(l=0;l<i&&!p;l++){var c=this.log2lin(this.lin2log(u)*C[l]);c>v&&(!A||x<=_)&&typeof x<"u"&&b.push(x),x>_&&(p=!0),x=c}}}else v=this.lin2log(v),_=this.lin2log(_),h=A?d.getMinorTickInterval():x.tickInterval,h=K("auto"===h?null:h,this.minorAutoInterval,x.tickPixelInterval/(A?5:1)*(_-v)/((A?C/d.tickPositions.length:C)||1)),h=V(h,void 0,t(h)),b=d.getLinearTickPositions(h,v,_).map(this.log2lin),A||(this.minorAutoInterval=h/5);return A||(d.tickInterval=h),b},y.prototype.lin2log=function(h){return Math.pow(10,h)},y.prototype.log2lin=function(h){return Math.log(h)/Math.LN10},y}();J.Additions=P}(et||(et={})),et}),mt(X,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[X["Core/Utilities.js"]],function(G){var K,W=G.erase,t=G.extend,V=G.isNumber;return function(et){var U,J=[];et.compose=function(O,P){return U||(U=O),-1===J.indexOf(P)&&(J.push(P),t(P.prototype,I.prototype)),P};var I=function(){function O(){}return O.prototype.getPlotBandPath=function(P,y,h){void 0===h&&(h=this.options);var v=this.getPlotLinePath({value:y,force:!0,acrossPanes:h.acrossPanes}),_=[],A=this.horiz;if(y=!V(this.min)||!V(this.max)||P<this.min&&y<this.min||P>this.max&&y>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:h.acrossPanes}),h=1,P&&v){if(y){var d=P.toString()===v.toString();h=0}for(y=0;y<P.length;y+=2){var C=P[y],x=P[y+1],b=v[y],u=v[y+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==b[0]&&"L"!==b[0]||"M"!==u[0]&&"L"!==u[0]||(A&&b[1]===C[1]?(b[1]+=h,u[1]+=h):A||b[2]!==C[2]||(b[2]+=h,u[2]+=h),_.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",u[1],u[2]],["L",b[1],b[2]],["Z"])),_.isFlat=d}}return _},O.prototype.addPlotBand=function(P){return this.addPlotBandOrLine(P,"plotBands")},O.prototype.addPlotLine=function(P){return this.addPlotBandOrLine(P,"plotLines")},O.prototype.addPlotBandOrLine=function(P,y){var h=this,v=this.userOptions,_=new U(this,P);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(d){h.addPlotBandOrLine(d)})),y){var A=v[y]||[];A.push(P),v[y]=A}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(P){var y=this.plotLinesAndBands,h=this.options,v=this.userOptions;if(y){for(var _=y.length;_--;)y[_].id===P&&y[_].destroy();[h.plotLines||[],v.plotLines||[],h.plotBands||[],v.plotBands||[]].forEach(function(A){for(_=A.length;_--;)(A[_]||{}).id===P&&W(A,A[_])})}},O.prototype.removePlotBand=function(P){this.removePlotBandOrLine(P)},O.prototype.removePlotLine=function(P){this.removePlotBandOrLine(P)},O}()}(K||(K={})),K}),mt(X,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[X["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],X["Core/Utilities.js"]],function(G,W){var t=W.arrayMax,V=W.arrayMin,K=W.defined,et=W.destroyObjectProperties,J=W.erase,U=W.fireEvent,I=W.merge,O=W.objectEach,P=W.pick;return function(){function y(h,v){this.axis=h,v&&(this.options=v,this.id=v.id)}return y.compose=function(h){return G.compose(y,h)},y.prototype.render=function(){U(this,"render");var h=this,v=h.axis,_=v.horiz,A=v.logarithmic,d=h.options,C=d.color,x=P(d.zIndex,0),b=d.events,u={},l=v.chart.renderer,p=d.label,i=h.label,c=d.to,o=d.from,n=d.value,r=h.svgElem,a=[],M=K(o)&&K(c);a=K(n);var L=!r,Y={class:"highcharts-plot-"+(M?"band ":"line ")+(d.className||"")},D=M?"bands":"lines";if(A&&(o=A.log2lin(o),c=A.log2lin(c),n=A.log2lin(n)),v.chart.styledMode||(a?(Y.stroke=C||"#999999",Y["stroke-width"]=P(d.width,1),d.dashStyle&&(Y.dashstyle=d.dashStyle)):M&&(Y.fill=C||"#e6ebf5",d.borderWidth&&(Y.stroke=d.borderColor,Y["stroke-width"]=d.borderWidth))),u.zIndex=x,(A=v.plotLinesAndBandsGroups[D+="-"+x])||(v.plotLinesAndBandsGroups[D]=A=l.g("plot-"+D).attr(u).add()),L&&(h.svgElem=r=l.path().attr(Y).add(A)),a)a=v.getPlotLinePath({value:n,lineWidth:r.strokeWidth(),acrossPanes:d.acrossPanes});else{if(!M)return;a=v.getPlotBandPath(o,c,d)}return!h.eventsAdded&&b&&(O(b,function(w,N){r.on(N,function(s){b[N].apply(h,[s])})}),h.eventsAdded=!0),(L||!r.d)&&a&&a.length?r.attr({d:a}):r&&(a?(r.show(!0),r.animate({d:a})):r.d&&(r.hide(),i&&(h.label=i=i.destroy()))),p&&(K(p.text)||K(p.formatter))&&a&&a.length&&0<v.width&&0<v.height&&!a.isFlat?(p=I({align:_&&M&&"center",x:_?!M&&4:10,verticalAlign:!_&&M&&"middle",y:_?M?16:10:M?6:-4,rotation:_&&!M&&90},p),this.renderLabel(p,a,M,x)):i&&i.hide(),h},y.prototype.renderLabel=function(h,v,_,A){var d=this.axis,C=d.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(h),0,0,h.useHTML).attr({align:h.textAlign||h.align,rotation:h.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(h.className||""),zIndex:A}).add(),d.chart.styledMode||x.css(I({textOverflow:"ellipsis"},h.style))),A=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=V(A),C=V(v),x.align(h,!1,{x:_,y:C,width:t(A)-_,height:t(v)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?d.height-(x.alignAttr.y-d.top):d.width-(x.alignAttr.x-d.left))+"px"}),x.show(!0)},y.prototype.getLabelText=function(h){return K(h.formatter)?h.formatter.call(this):h.text},y.prototype.destroy=function(){J(this.axis.plotLinesAndBands,this),delete this.axis,et(this)},y}()}),mt(X,"Core/Tooltip.js",[X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=G.format,J=W.doc,U=t.distribute,I=K.addEvent,O=K.clamp,P=K.css,y=K.defined,h=K.discardElement,v=K.extend,_=K.fireEvent,A=K.isArray,d=K.isNumber,C=K.isString,x=K.merge,b=K.pick,u=K.splat,l=K.syncTimeout;return function(){function p(i,c){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=i,this.init(i,c)}return p.prototype.applyFilter=function(){var i=this.chart;i.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+i.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},p.prototype.bodyFormatter=function(i){return i.map(function(c){var o=c.series.tooltipOptions;return(o[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,o[(c.point.formatPrefix||"point")+"Format"]||"")})},p.prototype.cleanSplit=function(i){this.chart.series.forEach(function(c){var o=c&&c.tt;o&&(!o.isActive||i?c.tt=o.destroy():o.isActive=!1)})},p.prototype.defaultFormatter=function(i){var c=this.points||u(this),o=[i.tooltipFooterHeaderFormatter(c[0])];return(o=o.concat(i.bodyFormatter(c))).push(i.tooltipFooterHeaderFormatter(c[0],!0)),o},p.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),h(this.container)),K.clearTimeout(this.hideTimer),K.clearTimeout(this.tooltipTimeout)},p.prototype.getAnchor=function(i,c){var L,Y,o=this.chart,n=o.pointer,r=o.inverted,a=o.plotTop,M=o.plotLeft,D=0,w=0;return i=u(i),this.followPointer&&c?(typeof c.chartX>"u"&&(c=n.normalize(c)),n=[c.chartX-M,c.chartY-a]):i[0].tooltipPos?n=i[0].tooltipPos:(i.forEach(function(N){L=N.series.yAxis,D+=N.plotX||0,w+=N.plotLow?(N.plotLow+(N.plotHigh||0))/2:N.plotY||0,(Y=N.series.xAxis)&&L&&(r?(D+=a+o.plotHeight-Y.len-Y.pos,w+=M+o.plotWidth-L.len-L.pos):(D+=Y.pos-M,w+=L.pos-a))}),D/=i.length,w/=i.length,n=[r?o.plotWidth-w:D,r?o.plotHeight-D:w],this.shared&&1<i.length&&c&&(r?n[0]=c.chartX-M:n[1]=c.chartY-a)),n.map(Math.round)},p.prototype.getLabel=function(){var Y,i=this,c=this.chart.styledMode,o=this.options,n=this.split&&this.allowShared,r="tooltip"+(y(o.className)?" "+o.className:""),a=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),M=function(){i.inContact=!0},L=function(R){var z=i.chart.hoverSeries;i.inContact=i.shouldStickOnContact()&&i.chart.pointer.inClass(R.relatedTarget,"highcharts-tooltip"),!i.inContact&&z&&z.onMouseOut&&z.onMouseOut()},D=this.chart.renderer;if(i.label){var w=!i.label.hasClass("highcharts-label");(n&&!w||!n&&w)&&i.destroy()}if(!this.label){if(this.outside){w=this.chart.options.chart.style;var N=V.getRendererType();this.container=Y=W.doc.createElement("div"),Y.className="highcharts-tooltip-container",P(Y,{position:"absolute",top:"1px",pointerEvents:a,zIndex:Math.max(this.options.style.zIndex||0,(w&&w.zIndex||0)+3)}),I(Y,"mouseenter",M),I(Y,"mouseleave",L),W.doc.body.appendChild(Y),this.renderer=D=new N(Y,0,0,w,void 0,void 0,D.styledMode)}if(n?this.label=D.g(r):(this.label=D.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,r).attr({padding:o.padding,r:o.borderRadius}),c||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:a}).shadow(o.shadow)),c&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),i.outside&&!i.split){var s=this.label,f=s.xSetter,k=s.ySetter;s.xSetter=function(R){f.call(s,i.distance),Y.style.left=R+"px"},s.ySetter=function(R){k.call(s,i.distance),Y.style.top=R+"px"}}this.label.on("mouseenter",M).on("mouseleave",L).attr({zIndex:8}).add()}return this.label},p.prototype.getPosition=function(i,c,o){var k,n=this.chart,r=this.distance,a={},M=n.inverted&&o.h||0,L=this.outside,Y=L?J.documentElement.clientWidth-2*r:n.chartWidth,D=L?Math.max(J.body.scrollHeight,J.documentElement.scrollHeight,J.body.offsetHeight,J.documentElement.offsetHeight,J.documentElement.clientHeight):n.chartHeight,w=n.pointer.getChartPosition(),N=function(T){var Z="x"===T;return[T,Z?Y:D,Z?i:c].concat(L?[Z?i*w.scaleX:c*w.scaleY,Z?w.left-r+(o.plotX+n.plotLeft)*w.scaleX:w.top-r+(o.plotY+n.plotTop)*w.scaleY,0,Z?Y:D]:[Z?i:c,Z?o.plotX+n.plotLeft:o.plotY+n.plotTop,Z?n.plotLeft:n.plotTop,Z?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},s=N("y"),f=N("x");N=!!o.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(N=!N);var R=!this.followPointer&&b(o.ttBelow,!n.inverted===N),z=function(T,Z,B,tt,$,nt,ot){var pt=L?"y"===T?r*w.scaleY:r*w.scaleX:r,ut=(B-tt)/2,ct=tt<$-r,ht=$+r+tt<Z,st=$-pt-B+ut;if($=$+pt-ut,R&&ht)a[T]=$;else if(!R&&ct)a[T]=st;else if(ct)a[T]=Math.min(ot-tt,0>st-M?st:st-M);else{if(!ht)return!1;a[T]=Math.max(nt,$+M+B>Z?$:$+M)}},H=function(T,Z,B,tt,$){var nt;return $<r||$>Z-r?nt=!1:a[T]=$<B/2?1:$>Z-tt/2?Z-tt-2:$-B/2,nt},m=function(T){var Z=s;s=f,f=Z,k=T},j=function(){!1!==z.apply(0,s)?!1!==H.apply(0,f)||k||(m(!0),j()):k?a.x=a.y=0:(m(!0),j())};return(n.inverted||1<this.len)&&m(),j(),a},p.prototype.hide=function(i){var c=this;K.clearTimeout(this.hideTimer),i=b(i,this.options.hideDelay),this.isHidden||(this.hideTimer=l(function(){c.getLabel().fadeOut(i&&void 0),c.isHidden=!0},i))},p.prototype.init=function(i,c){this.chart=i,this.options=c,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=c.split&&!i.inverted&&!i.polar,this.shared=c.shared||this.split,this.outside=b(c.outside,!(!i.scrollablePixelsX&&!i.scrollablePixelsY))},p.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},p.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},p.prototype.move=function(i,c,o,n){var r=this,a=r.now,M=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(i-a.x)||1<Math.abs(c-a.y)),L=r.followPointer||1<r.len;v(a,{x:M?(2*a.x+i)/3:i,y:M?(a.y+c)/2:c,anchorX:L?void 0:M?(2*a.anchorX+o)/3:o,anchorY:L?void 0:M?(a.anchorY+n)/2:n}),r.getLabel().attr(a),r.drawTracker(),M&&(K.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(i,c,o,n)},32))},p.prototype.refresh=function(i,c){var o=this.chart,n=this.options,r=u(i),a=r[0],M=[],L=n.formatter||this.defaultFormatter,Y=this.shared,D=o.styledMode,w={};if(n.enabled&&a.series){K.clearTimeout(this.hideTimer),this.allowShared=!(!A(i)&&i.series&&i.series.noSharedTooltip),this.followPointer=!this.split&&a.series.tooltipOptions.followPointer;var N=(i=this.getAnchor(i,c))[0],s=i[1];if(Y&&this.allowShared?(o.pointer.applyInactiveState(r),r.forEach(function(R){R.setState("hover"),M.push(R.getLabelConfig())}),(w={x:a.category,y:a.y}).points=M):w=a.getLabelConfig(),this.len=M.length,L=L.call(w,this),this.distance=b((Y=a.series).tooltipOptions.distance,16),!1===L)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(L,r);else{var f=N,k=s;if(c&&o.pointer.isDirectTouch&&(f=c.chartX-o.plotLeft,k=c.chartY-o.plotTop),!o.polar&&!1!==Y.options.clip&&!r.some(function(R){return R.series.shouldShowTooltip(f,k)}))return void this.hide();c=this.getLabel(),n.style.width&&!D||c.css({width:this.chart.spacingBox.width+"px"}),c.attr({text:L&&L.join?L.join(""):L}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+b(a.colorIndex,Y.colorIndex)),D||c.attr({stroke:n.borderColor||a.color||Y.color||"#666666"}),this.updatePosition({plotX:N,plotY:s,negative:a.negative,ttBelow:a.ttBelow,h:i[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},p.prototype.renderSplit=function(i,c){function o(ht,st,F,Q,it){return void 0===it&&(it=!0),F?(st=tt?0:pt,ht=O(ht-Q/2,T.left,T.right-Q-(n.outside?$:0))):(st-=nt,ht=O(ht=it?ht-Q-H:ht+H,it?ht:T.left,T.right)),{x:ht,y:st}}var n=this,r=n.chart,a=n.chart,M=a.chartWidth,L=a.chartHeight,Y=a.plotHeight,D=a.plotLeft,w=a.plotTop,N=a.pointer,s=a.scrollablePixelsY;s=void 0===s?0:s;var k=a.scrollingContainer,R=(k=void 0===k?{scrollLeft:0,scrollTop:0}:k).scrollLeft;k=k.scrollTop;var z=a.styledMode,H=n.distance,m=n.options,j=n.options.positioner,T=n.outside&&"number"!=typeof a.scrollablePixelsX?J.documentElement.getBoundingClientRect():{left:R,right:R+M,top:k,bottom:k+L},Z=n.getLabel(),B=this.renderer||r.renderer,tt=!(!r.xAxis[0]||!r.xAxis[0].opposite),$=(r=N.getChartPosition()).left;r=r.top;var nt=w+k,ot=0,pt=Y-s;C(i)&&(i=[!1,i]),i=i.slice(0,c.length+1).reduce(function(ht,st,F){if(!1!==st&&""!==st){var Q=(F=c[F-1]||{isHeader:!0,plotX:c[0].plotX,plotY:Y,series:{}}).isHeader,it=Q?n:F.series;st=st.toString();var at=it.tt,lt=F.isHeader,dt=F.series,gt="highcharts-color-"+b(F.colorIndex,dt.colorIndex,"none");if(at||(at={padding:m.padding,r:m.borderRadius},z||(at.fill=m.backgroundColor,at["stroke-width"]=m.borderWidth),at=B.label("",0,0,m[lt?"headerShape":"shape"],void 0,void 0,m.useHTML).addClass((lt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+gt).attr(at).add(Z)),at.isActive=!0,at.attr({text:st}),z||at.css(m.style).shadow(m.shadow).attr({stroke:m.borderColor||F.color||dt.color||"#333333"}),st=(lt=(it=it.tt=at).getBBox()).width+it.strokeWidth(),Q&&(pt+=ot=lt.height,tt&&(nt-=ot)),dt=void 0===(dt=F.plotX)?0:dt,gt=void 0===(gt=F.plotY)?0:gt,at=F.series,F.isHeader){dt=D+dt;var xt=w+Y/2}else{var Ct=at.xAxis,_t=at.yAxis;dt=Ct.pos+O(dt,-H,Ct.len+H),at.shouldShowTooltip(0,_t.pos-w+gt,{ignoreX:!0})&&(xt=_t.pos+gt)}dt=O(dt,T.left-H,T.right+H),"number"==typeof xt?(lt=lt.height+1,gt=j?j.call(n,st,lt,F):o(dt,xt,Q,st),ht.push({align:j?0:void 0,anchorX:dt,anchorY:xt,boxWidth:st,point:F,rank:b(gt.rank,Q?1:0),size:lt,target:gt.y,tt:it,x:gt.x})):it.isActive=!1}return ht},[]),!j&&i.some(function(ht){var st=(n.outside?$:0)+ht.anchorX;return st<T.left&&st+ht.boxWidth<T.right||st<$-T.left+ht.boxWidth&&T.right-st>st})&&(i=i.map(function(ht){var st=o(ht.anchorX,ht.anchorY,ht.point.isHeader,ht.boxWidth,!1);return v(ht,{target:st.y,x:st.x})})),n.cleanSplit(),U(i,pt);var ut=$,ct=$;i.forEach(function(ht){var st=ht.x,F=ht.boxWidth;(ht=ht.isHeader)||(n.outside&&$+st<ut&&(ut=$+st),!ht&&n.outside&&ut+F>ct&&(ct=$+st))}),i.forEach(function(ht){var st=ht.x,F=ht.anchorX,Q=ht.pos,it=ht.point.isHeader;if(Q={visibility:typeof Q>"u"?"hidden":"inherit",x:st,y:Q+nt,anchorX:F,anchorY:ht.anchorY},n.outside&&st<F){var at=$-ut;0<at&&(it||(Q.x=st+at,Q.anchorX=F+at),it&&(Q.x=(ct-ut)/2,Q.anchorX=F+at))}ht.tt.attr(Q)}),i=n.container,s=n.renderer,n.outside&&i&&s&&(a=Z.getBBox(),s.setSize(a.width+a.x,a.height+a.y,!1),i.style.left=ut+"px",i.style.top=r+"px")},p.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var i=this.chart,c=this.label,o=this.shared?i.hoverPoints:i.hoverPoint;if(c&&o){var n={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var r=c.getBBox();o[0]+=i.plotLeft-c.translateX,o[1]+=i.plotTop-c.translateY,n.x=Math.min(0,o[0]),n.y=Math.min(0,o[1]),n.width=0>o[0]?Math.max(Math.abs(o[0]),r.width-o[0]):Math.max(Math.abs(o[0]),r.width),n.height=0>o[1]?Math.max(Math.abs(o[1]),r.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),r.height),this.tracker?this.tracker.attr(n):(this.tracker=c.renderer.rect(n).addClass("highcharts-tracker").add(c),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},p.prototype.styledModeFormat=function(i){return i.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},p.prototype.tooltipFooterHeaderFormatter=function(i,c){var o=i.series,n=o.tooltipOptions,r=o.xAxis,a=r&&r.dateTime,M=n.xDateFormat,L=n[c?"footerFormat":"headerFormat"];return _(this,"headerFormatter",r={isFooter:c,labelConfig:i},function(Y){a&&!M&&d(i.key)&&(M=a.getXDateFormat(i.key,n.dateTimeLabelFormats)),a&&M&&(i.point&&i.point.tooltipDateKeys||["key"]).forEach(function(D){L=L.replace("{point."+D+"}","{point."+D+":"+M+"}")}),o.chart.styledMode&&(L=this.styledModeFormat(L)),Y.text=et(L,{point:i,series:o},this.chart)}),r.text},p.prototype.update=function(i){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,i),this.init(this.chart,x(!0,this.options,i))},p.prototype.updatePosition=function(i){var c=this.chart,o=this.options,n=c.pointer,r=this.getLabel();n=n.getChartPosition();var a=(o.positioner||this.getPosition).call(this,r.width,r.height,i),M=i.plotX+c.plotLeft;i=i.plotY+c.plotTop,this.outside&&(this.renderer.setSize(r.width+(o=o.borderWidth+2*this.distance),r.height+o,!1),(1!==n.scaleX||1!==n.scaleY)&&(P(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),M*=n.scaleX,i*=n.scaleY),M+=n.left-a.x,i+=n.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),M,i)},p}()}),mt(X,"Core/Series/Point.js",[X["Core/Renderer/HTML/AST.js"],X["Core/Animation/AnimationUtilities.js"],X["Core/DefaultOptions.js"],X["Core/FormatUtilities.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var et=W.animObject,J=t.defaultOptions,U=V.format,I=K.addEvent,O=K.defined,P=K.erase,y=K.extend,h=K.fireEvent,v=K.getNestedProperty,_=K.isArray,A=K.isFunction,d=K.isNumber,C=K.isObject,x=K.merge,b=K.objectEach,u=K.pick,l=K.syncTimeout,p=K.removeEvent,i=K.uniqueKey;return function(){function c(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return c.prototype.animateBeforeDestroy=function(){var o=this,n={x:o.startXPos,opacity:0},r=o.getGraphicalProps();r.singular.forEach(function(a){o[a]=o[a].animate("dataLabel"===a?{x:o[a].startXPos,y:o[a].startYPos,opacity:0}:n)}),r.plural.forEach(function(a){o[a].forEach(function(M){M.element&&M.animate(y({x:o.startXPos},M.startYPos?{x:M.startXPos,y:M.startYPos}:{}))})})},c.prototype.applyOptions=function(o,n){var r=this.series,a=r.options.pointValKey||r.pointValKey;return o=c.prototype.optionsToObject.call(this,o),y(this,o),this.options=this.options?y(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,a&&(this.y=c.prototype.getNestedProperty.call(this,a)),this.formatPrefix=(this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!d(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof n>"u"&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),typeof this.x>"u"&&r?this.x=typeof n>"u"?r.autoIncrement():n:d(o.x)&&r.options.relativeXValue&&(this.x=r.autoIncrement(o.x)),this},c.prototype.destroy=function(){function o(){for(Y in(n.graphic||n.dataLabel||n.dataLabels)&&(p(n),n.destroyElements()),n)n[Y]=null}var n=this,r=n.series,a=r.chart;r=r.options.dataSorting;var Y,M=a.hoverPoints,L=et(n.series.chart.renderer.globalAnimation);n.legendItem&&a.legend.destroyItem(n),M&&(n.setState(),P(M,n),M.length||(a.hoverPoints=null)),n===a.hoverPoint&&n.onMouseOut(),r&&r.enabled?(this.animateBeforeDestroy(),l(o,L.duration)):o(),a.pointCount--},c.prototype.destroyElements=function(o){var n=this;(o=n.getGraphicalProps(o)).singular.forEach(function(r){n[r]=n[r].destroy()}),o.plural.forEach(function(r){n[r].forEach(function(a){a.element&&a.destroy()}),delete n[r]})},c.prototype.firePointEvent=function(o,n,r){var a=this,M=this.series.options;(M.point.events[o]||a.options&&a.options.events&&a.options.events[o])&&a.importEvents(),"click"===o&&M.allowPointSelect&&(r=function(L){a.select&&a.select(null,L.ctrlKey||L.metaKey||L.shiftKey)}),h(a,o,n,r)},c.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},c.prototype.getGraphicalProps=function(o){var M,n=this,r=[],a={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),M=r.length;M--;){var L=r[M];n[L]&&a.singular.push(L)}return["dataLabel","connector"].forEach(function(Y){var D=Y+"s";o[Y]&&n[D]&&a.plural.push(D)}),a},c.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},c.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?v(o,this.options):this[o]},c.prototype.getZone=function(){var o=this.series,n=o.zones;o=o.zoneAxis||"y";var r,a=0;for(r=n[a];this[o]>=r.value;)r=n[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=r&&r.color&&!this.options.color?r.color:this.nonZonedColor,r},c.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},c.prototype.init=function(o,n,r){return this.series=o,this.applyOptions(n,r),this.id=O(this.id)?this.id:i(),this.resolveColor(),o.chart.pointCount++,h(this,"afterInit"),this},c.prototype.optionsToObject=function(o){var n=this.series,r=n.options.keys,a=r||n.pointArrayMap||["y"],M=a.length,L={},Y=0,D=0;if(d(o)||null===o)L[a[0]]=o;else if(_(o))for(!r&&o.length>M&&("string"==(n=typeof o[0])?L.name=o[0]:"number"===n&&(L.x=o[0]),Y++);D<M;)r&&typeof o[Y]>"u"||(0<a[D].indexOf(".")?c.prototype.setNestedProperty(L,o[Y],a[D]):L[a[D]]=o[Y]),Y++,D++;else"object"==typeof o&&(L=o,o.dataLabels&&(n._hasPointLabels=!0),o.marker&&(n._hasPointMarkers=!0));return L},c.prototype.resolveColor=function(){var o=this.series,n=o.chart.styledMode,r=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!n){var a=(r=o.options.colors||o.chart.options.colors)[o.colorCounter];r=r.length}n=o.colorCounter,o.colorCounter++,o.colorCounter===r&&(o.colorCounter=0)}else n||(a=o.color),n=o.colorIndex;this.colorIndex=u(this.options.colorIndex,n),this.color=u(this.options.color,a)},c.prototype.setNestedProperty=function(o,n,r){return r.split(".").reduce(function(a,M,L,Y){return a[M]=Y.length-1===L?n:C(a[M],!0)?a[M]:{},a[M]},o),o},c.prototype.tooltipFormatter=function(o){var n=this.series,r=n.tooltipOptions,a=u(r.valueDecimals,""),M=r.valuePrefix||"",L=r.valueSuffix||"";return n.chart.styledMode&&(o=n.chart.tooltip.styledModeFormat(o)),(n.pointArrayMap||["y"]).forEach(function(Y){Y="{point."+Y,(M||L)&&(o=o.replace(RegExp(Y+"}","g"),M+Y+"}"+L)),o=o.replace(RegExp(Y+"}","g"),Y+":,."+a+"f}")}),U(o,{point:this,series:this.series},n.chart)},c.prototype.update=function(o,n,r,a){function M(){L.applyOptions(o);var f=D&&L.hasDummyGraphic;f=null===L.y?!f:f,D&&f&&(L.graphic=D.destroy(),delete L.hasDummyGraphic),C(o,!0)&&(D&&D.element&&o&&o.marker&&typeof o.marker.symbol<"u"&&(L.graphic=D.destroy()),o&&o.dataLabels&&L.dataLabel&&(L.dataLabel=L.dataLabel.destroy()),L.connector&&(L.connector=L.connector.destroy())),Y.updateParallelArrays(L,s=L.index),N.data[s]=C(N.data[s],!0)||C(o,!0)?L.options:u(o,N.data[s]),Y.isDirty=Y.isDirtyData=!0,!Y.fixedBox&&Y.hasCartesianSeries&&(w.isDirtyBox=!0),"point"===N.legendType&&(w.isDirtyLegend=!0),n&&w.redraw(r)}var s,L=this,Y=L.series,D=L.graphic,w=Y.chart,N=Y.options;n=u(n,!0),!1===a?M():L.firePointEvent("update",{options:o},M)},c.prototype.remove=function(o,n){this.series.removePoint(this.series.data.indexOf(this),o,n)},c.prototype.select=function(o,n){var r=this,a=r.series,M=a.chart;this.selectedStaging=o=u(o,!r.selected),r.firePointEvent(o?"select":"unselect",{accumulate:n},function(){r.selected=r.options.selected=o,a.options.data[a.data.indexOf(r)]=r.options,r.setState(o&&"select"),n||M.getSelectedPoints().forEach(function(L){var Y=L.series;L.selected&&L!==r&&(L.selected=L.options.selected=!1,Y.options.data[Y.data.indexOf(L)]=L.options,L.setState(M.hoverPoints&&Y.options.inactiveOtherPoints?"inactive":""),L.firePointEvent("unselect"))})}),delete this.selectedStaging},c.prototype.onMouseOver=function(o){var n=this.series.chart,r=n.pointer;o=o?r.normalize(o):r.getChartCoordinatesFromPoint(this,n.inverted),r.runPointActions(o,this)},c.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(n){n.setState()}),o.hoverPoints=o.hoverPoint=null},c.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,n=x(o.series.options.point,o.options).events;o.events=n,b(n,function(r,a){A(r)&&I(o,a,r)}),this.hasImportedEvents=!0}},c.prototype.setState=function(o,n){var R,r=this.series,a=this.state,M=r.options.states[o||"normal"]||{},L=J.plotOptions[r.type].marker&&r.options.marker,D=L&&L.states&&L.states[o||"normal"]||{},N=this.marker||{},s=r.chart,f=L&&r.markerAttribs,k=r.halo,z=r.stateMarkerGraphic;if(!((o=o||"")===this.state&&!n||this.selected&&"select"!==o||!1===M.enabled||o&&(!1===D.enabled||L&&!1===L.enabled&&!1===D.enabled)||o&&N.states&&N.states[o]&&!1===N.states[o].enabled)){if(this.state=o,f&&(R=r.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),o&&this.graphic.addClass("highcharts-point-"+o),!s.styledMode){var H=r.pointAttribs(this,o),m=u(s.options.chart.animation,M.animation);r.options.inactiveOtherPoints&&d(H.opacity)&&((this.dataLabels||[]).forEach(function(j){j&&j.animate({opacity:H.opacity},m)}),this.connector&&this.connector.animate({opacity:H.opacity},m)),this.graphic.animate(H,m)}R&&this.graphic.animate(R,u(s.options.chart.animation,D.animation,L.animation)),z&&z.hide()}else o&&D&&(a=N.symbol||r.symbol,z&&z.currentSymbol!==a&&(z=z.destroy()),R&&(z?z[n?"animate":"attr"]({x:R.x,y:R.y}):a&&(r.stateMarkerGraphic=z=s.renderer.symbol(a,R.x,R.y,R.width,R.height).add(r.markerGroup),z.currentSymbol=a)),!s.styledMode&&z&&"inactive"!==this.state&&z.attr(r.pointAttribs(this,o))),z&&(z[o&&this.isInside?"show":"hide"](),z.element.point=this,z.addClass(this.getClassName(),!0));R=(z=this.graphic||z)&&z.visibility||"inherit",(M=M.halo)&&M.size&&z&&"hidden"!==R&&!this.isCluster?(k||(r.halo=k=s.renderer.path().add(z.parentGroup)),k.show()[n?"animate":"attr"]({d:this.haloPath(M.size)}),k.attr({class:"highcharts-halo highcharts-color-"+u(this.colorIndex,r.colorIndex)+(this.className?" "+this.className:""),visibility:R,zIndex:-1}),k.point=this,s.styledMode||k.attr(y({fill:this.color||r.color,"fill-opacity":M.opacity},G.filterUserAttributes(M.attributes||{})))):k&&k.point&&k.point.haloPath&&k.animate({d:k.point.haloPath(0)},null,k.hide),h(this,"afterSetState",{state:o})}},c.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},c}()}),mt(X,"Core/Pointer.js",[X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Tooltip.js"],X["Core/Utilities.js"]],function(G,W,t,V){var K=G.parse,et=W.charts,J=W.noop,U=V.addEvent,I=V.attr,O=V.css,P=V.defined,y=V.extend,h=V.find,v=V.fireEvent,_=V.isNumber,A=V.isObject,d=V.objectEach,C=V.offset,x=V.pick,b=V.splat;return function(){function u(l,p){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=l,this.hasDragged=!1,this.options=p,this.init(l,p)}return u.prototype.applyInactiveState=function(l){var i,p=[];(l||[]).forEach(function(c){p.push(i=c.series),i.linkedParent&&p.push(i.linkedParent),i.linkedSeries&&(p=p.concat(i.linkedSeries)),i.navigatorSeries&&p.push(i.navigatorSeries)}),this.chart.series.forEach(function(c){-1===p.indexOf(c)?c.setState("inactive",!0):c.options.inactiveOtherPoints&&c.setAllPointsToState("inactive")})},u.prototype.destroy=function(){var l=this;this.eventsToUnbind.forEach(function(p){return p()}),this.eventsToUnbind=[],W.chartCount||(u.unbindDocumentMouseUp&&(u.unbindDocumentMouseUp=u.unbindDocumentMouseUp()),u.unbindDocumentTouchEnd&&(u.unbindDocumentTouchEnd=u.unbindDocumentTouchEnd())),clearInterval(l.tooltipTimeout),d(l,function(p,i){l[i]=void 0})},u.prototype.drag=function(l){var p=this.chart,i=p.options.chart,c=this.zoomHor,o=this.zoomVert,n=p.plotLeft,r=p.plotTop,a=p.plotWidth,M=p.plotHeight,L=this.mouseDownX||0,Y=this.mouseDownY||0,D=A(i.panning)?i.panning&&i.panning.enabled:i.panning,w=i.panKey&&l[i.panKey+"Key"],N=l.chartX,s=l.chartY,f=this.selectionMarker;if((!f||!f.touch)&&(N<n?N=n:N>n+a&&(N=n+a),s<r?s=r:s>r+M&&(s=r+M),this.hasDragged=Math.sqrt(Math.pow(L-N,2)+Math.pow(Y-s,2)),10<this.hasDragged)){var k=p.isInsidePlot(L-n,Y-r,{visiblePlotOnly:!0});!p.hasCartesianSeries&&!p.mapView||!this.zoomX&&!this.zoomY||!k||w||f||(this.selectionMarker=f=p.renderer.rect(n,r,c?1:a,o?1:M,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),p.styledMode||f.attr({fill:i.selectionMarkerFill||K("#335cad").setOpacity(.25).get()})),f&&c&&(c=N-L,f.attr({width:Math.abs(c),x:(0<c?0:c)+L})),f&&o&&(c=s-Y,f.attr({height:Math.abs(c),y:(0<c?0:c)+Y})),k&&!f&&D&&p.pan(l,i.panning)}},u.prototype.dragStart=function(l){var p=this.chart;p.mouseIsDown=l.type,p.cancelClick=!1,p.mouseDownX=this.mouseDownX=l.chartX,p.mouseDownY=this.mouseDownY=l.chartY},u.prototype.drop=function(l){var p=this,i=this.chart,c=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,n=o.attr?o.attr("x"):o.x,r=o.attr?o.attr("y"):o.y,a=o.attr?o.attr("width"):o.width,M=o.attr?o.attr("height"):o.height,L={originalEvent:l,xAxis:[],yAxis:[],x:n,y:r,width:a,height:M},Y=!!i.mapView;(this.hasDragged||c)&&(i.axes.forEach(function(D){if(D.zoomEnabled&&P(D.min)&&(c||p[{xAxis:"zoomX",yAxis:"zoomY"}[D.coll]])&&_(n)&&_(r)){var w=D.horiz,N="touchend"===l.type?D.minPixelPadding:0,s=D.toValue((w?n:r)+N);w=D.toValue((w?n+a:r+M)-N),L[D.coll].push({axis:D,min:Math.min(s,w),max:Math.max(s,w)}),Y=!0}}),Y&&v(i,"selection",L,function(D){i.zoom(y(D,c?{animation:!1}:null))})),_(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),c&&this.scaleGroups()}i&&_(i.index)&&(O(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},u.prototype.findNearestKDPoint=function(l,p,i){var n,c=this.chart,o=c.hoverPoint;return c=c.tooltip,o&&c&&c.isStickyOnContact()?o:(l.forEach(function(r){var a=!(r.noSharedTooltip&&p)&&0>r.options.findNearestPointBy.indexOf("y");if(r=r.searchPoint(i,a),(a=A(r,!0)&&r.series)&&!(a=!A(n,!0))){var M=n.dist-r.dist,L=(r.series.group&&r.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);a=0<(0!=(a=n.distX-r.distX)&&p?a:0!==M?M:0!==L?L:n.series.index>r.series.index?-1:1)}a&&(n=r)}),n)},u.prototype.getChartCoordinatesFromPoint=function(l,p){var i=l.series,c=i.xAxis;i=i.yAxis;var o=l.shapeArgs;if(c&&i){var n=x(l.clientX,l.plotX),r=l.plotY||0;return l.isNode&&o&&_(o.x)&&_(o.y)&&(n=o.x,r=o.y),p?{chartX:i.len+i.pos-r,chartY:c.len+c.pos-n}:{chartX:n+c.pos,chartY:r+i.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},u.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var l=this.chart.container,p=C(l);this.chartPosition={left:p.left,top:p.top,scaleX:1,scaleY:1};var i=l.offsetWidth;return l=l.offsetHeight,2<i&&2<l&&(this.chartPosition.scaleX=p.width/i,this.chartPosition.scaleY=p.height/l),this.chartPosition},u.prototype.getCoordinates=function(l){var p={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(i){p[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(l[i.horiz?"chartX":"chartY"])})}),p},u.prototype.getHoverData=function(l,p,i,c,o,n){var r=[];c=!(!c||!l);var a={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:o};v(this,"beforeGetHoverData",a);var M=p&&!p.stickyTracking?[p]:i.filter(function(Y){return a.filter?a.filter(Y):Y.visible&&!(!o&&Y.directTouch)&&x(Y.options.enableMouseTracking,!0)&&Y.stickyTracking}),L=c||!n?l:this.findNearestKDPoint(M,o,n);return p=L&&L.series,L&&(o&&!p.noSharedTooltip?(M=i.filter(function(Y){return a.filter?a.filter(Y):Y.visible&&!(!o&&Y.directTouch)&&x(Y.options.enableMouseTracking,!0)&&!Y.noSharedTooltip})).forEach(function(Y){var D=h(Y.points,function(w){return w.x===L.x&&!w.isNull});A(D)&&(Y.chart.isBoosting&&(D=Y.getPoint(D)),r.push(D))}):r.push(L)),v(this,"afterGetHoverData",a={hoverPoint:L}),{hoverPoint:a.hoverPoint,hoverSeries:p,hoverPoints:r}},u.prototype.getPointFromEvent=function(l){l=l.target;for(var p;l&&!p;)p=l.point,l=l.parentNode;return p},u.prototype.onTrackerMouseOut=function(l){l=l.relatedTarget||l.toElement;var p=this.chart.hoverSeries;this.isDirectTouch=!1,!p||!l||p.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+p.index)&&this.inClass(l,"highcharts-tracker")||p.onMouseOut()},u.prototype.inClass=function(l,p){for(var i;l;){if(i=I(l,"class")){if(-1!==i.indexOf(p))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}l=l.parentElement}},u.prototype.init=function(l,p){this.options=p,this.chart=l,this.runChartClick=!(!p.chart.events||!p.chart.events.click),this.pinchDown=[],this.lastValidTouch={},t&&(l.tooltip=new t(l,p.tooltip),this.followTouchMove=x(p.tooltip.followTouchMove,!0)),this.setDOMEvents()},u.prototype.normalize=function(l,p){var i=l.touches,c=i?i.length?i.item(0):x(i.changedTouches,l.changedTouches)[0]:l;return p||(p=this.getChartPosition()),i=c.pageX-p.left,c=c.pageY-p.top,i/=p.scaleX,c/=p.scaleY,y(l,{chartX:Math.round(i),chartY:Math.round(c)})},u.prototype.onContainerClick=function(l){var p=this.chart,i=p.hoverPoint;l=this.normalize(l);var c=p.plotLeft,o=p.plotTop;p.cancelClick||(i&&this.inClass(l.target,"highcharts-tracker")?(v(i.series,"click",y(l,{point:i})),p.hoverPoint&&i.firePointEvent("click",l)):(y(l,this.getCoordinates(l)),p.isInsidePlot(l.chartX-c,l.chartY-o,{visiblePlotOnly:!0})&&v(p,"click",l)))},u.prototype.onContainerMouseDown=function(l){var p=1==(1&(l.buttons||l.button));l=this.normalize(l),W.isFirefox&&0!==l.button&&this.onContainerMouseMove(l),(typeof l.button>"u"||p)&&(this.zoomOption(l),p&&l.preventDefault&&l.preventDefault(),this.dragStart(l))},u.prototype.onContainerMouseLeave=function(l){var p=et[x(u.hoverChartIndex,-1)],i=this.chart.tooltip;i&&i.shouldStickOnContact()&&this.inClass(l.relatedTarget,"highcharts-tooltip-container")||(l=this.normalize(l),p&&(l.relatedTarget||l.toElement)&&(p.pointer.reset(),p.pointer.chartPosition=void 0),i&&!i.isHidden&&this.reset())},u.prototype.onContainerMouseEnter=function(l){delete this.chartPosition},u.prototype.onContainerMouseMove=function(l){var p=this.chart;l=this.normalize(l),this.setHoverChartIndex(),l.preventDefault||(l.returnValue=!1),("mousedown"===p.mouseIsDown||this.touchSelect(l))&&this.drag(l),p.openMenu||!this.inClass(l.target,"highcharts-tracker")&&!p.isInsidePlot(l.chartX-p.plotLeft,l.chartY-p.plotTop,{visiblePlotOnly:!0})||(this.inClass(l.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(l))},u.prototype.onDocumentTouchEnd=function(l){var p=et[x(u.hoverChartIndex,-1)];p&&p.pointer.drop(l)},u.prototype.onContainerTouchMove=function(l){this.touchSelect(l)?this.onContainerMouseMove(l):this.touch(l)},u.prototype.onContainerTouchStart=function(l){this.touchSelect(l)?this.onContainerMouseDown(l):(this.zoomOption(l),this.touch(l,!0))},u.prototype.onDocumentMouseMove=function(l){var p=this.chart,i=this.chartPosition;l=this.normalize(l,i);var c=p.tooltip;!i||c&&c.isStickyOnContact()||p.isInsidePlot(l.chartX-p.plotLeft,l.chartY-p.plotTop,{visiblePlotOnly:!0})||this.inClass(l.target,"highcharts-tracker")||this.reset()},u.prototype.onDocumentMouseUp=function(l){var p=et[x(u.hoverChartIndex,-1)];p&&p.pointer.drop(l)},u.prototype.pinch=function(l){var p=this,i=p.chart,c=p.pinchDown,o=l.touches||[],n=o.length,r=p.lastValidTouch,a=p.hasZoom,M={},L=1===n&&(p.inClass(l.target,"highcharts-tracker")&&i.runTrackerClick||p.runChartClick),Y={},D=p.selectionMarker;1<n?p.initiated=!0:1===n&&this.followTouchMove&&(p.initiated=!1),a&&p.initiated&&!L&&!1!==l.cancelable&&l.preventDefault(),[].map.call(o,function(w){return p.normalize(w)}),"touchstart"===l.type?([].forEach.call(o,function(w,N){c[N]={chartX:w.chartX,chartY:w.chartY}}),r.x=[c[0].chartX,c[1]&&c[1].chartX],r.y=[c[0].chartY,c[1]&&c[1].chartY],i.axes.forEach(function(w){if(w.zoomEnabled){var N=i.bounds[w.horiz?"h":"v"],s=w.minPixelPadding,f=w.toPixels(Math.min(x(w.options.min,w.dataMin),w.dataMin)),k=w.toPixels(Math.max(x(w.options.max,w.dataMax),w.dataMax)),R=Math.max(f,k);N.min=Math.min(w.pos,Math.min(f,k)-s),N.max=Math.max(w.pos+w.len,R+s)}}),p.res=!0):p.followTouchMove&&1===n?this.runPointActions(p.normalize(l)):c.length&&(v(i,"touchpan",{originalEvent:l},function(){D||(p.selectionMarker=D=y({destroy:J,touch:!0},i.plotBox)),p.pinchTranslate(c,o,M,D,Y,r),p.hasPinched=a,p.scaleGroups(M,Y)}),p.res&&(p.res=!1,this.reset(!1,0)))},u.prototype.pinchTranslate=function(l,p,i,c,o,n){this.zoomHor&&this.pinchTranslateDirection(!0,l,p,i,c,o,n),this.zoomVert&&this.pinchTranslateDirection(!1,l,p,i,c,o,n)},u.prototype.pinchTranslateDirection=function(l,p,i,c,o,n,r,a){var M=this.chart,L=l?"x":"y",Y=l?"X":"Y",D="chart"+Y,w=l?"width":"height",N=M["plot"+(l?"Left":"Top")],s=M.inverted,f=M.bounds[l?"h":"v"],k=1===p.length,R=p[0][D],z=!k&&p[1][D];p=function(){"number"==typeof Z&&20<Math.abs(R-z)&&(j=a||Math.abs(T-Z)/Math.abs(R-z)),m=(N-T)/j+R,H=M["plot"+(l?"Width":"Height")]/j};var H,m,j=a||1,T=i[0][D],Z=!k&&i[1][D];if(p(),(i=m)<f.min){i=f.min;var B=!0}else i+H>f.max&&(i=f.max-H,B=!0);B?(T-=.8*(T-r[L][0]),"number"==typeof Z&&(Z-=.8*(Z-r[L][1])),p()):r[L]=[T,Z],s||(n[L]=m-N,n[w]=H),n=s?1/j:j,o[w]=H,o[L]=i,c[s?l?"scaleY":"scaleX":"scale"+Y]=j,c["translate"+Y]=n*N+(T-n*R)},u.prototype.reset=function(l,p){var i=this.chart,c=i.hoverSeries,o=i.hoverPoint,n=i.hoverPoints,r=i.tooltip,a=r&&r.shared?n:o;l&&a&&b(a).forEach(function(M){M.series.isCartesian&&typeof M.plotX>"u"&&(l=!1)}),l?r&&a&&b(a).length&&(r.refresh(a),r.shared&&n?n.forEach(function(M){M.setState(M.state,!0),M.series.isCartesian&&(M.series.xAxis.crosshair&&M.series.xAxis.drawCrosshair(null,M),M.series.yAxis.crosshair&&M.series.yAxis.drawCrosshair(null,M))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(M){M.crosshair&&o.series[M.coll]===M&&M.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),n&&n.forEach(function(M){M.setState()}),c&&c.onMouseOut(),r&&r.hide(p),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(M){M.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},u.prototype.runPointActions=function(l,p){var i=this.chart,c=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,o=!!c&&c.shared,n=p||i.hoverPoint,r=n&&n.series||i.hoverSeries;p=this.getHoverData(n,r,i.series,(!l||"touchmove"!==l.type)&&(!!p||r&&r.directTouch&&this.isDirectTouch),o,l),n=p.hoverPoint;var a=p.hoverPoints;p=(r=p.hoverSeries)&&r.tooltipOptions.followPointer&&!r.tooltipOptions.split;var M=o&&r&&!r.noSharedTooltip;if(n&&(n!==i.hoverPoint||c&&c.isHidden)){if((i.hoverPoints||[]).forEach(function(L){-1===a.indexOf(L)&&L.setState()}),i.hoverSeries!==r&&r.onMouseOver(),this.applyInactiveState(a),(a||[]).forEach(function(L){L.setState("hover")}),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!n.series)return;i.hoverPoints=a,i.hoverPoint=n,n.firePointEvent("mouseOver",void 0,function(){c&&n&&c.refresh(M?a:n,l)})}else p&&c&&!c.isHidden&&(o=c.getAnchor([{}],l),i.isInsidePlot(o[0],o[1],{visiblePlotOnly:!0})&&c.updatePosition({plotX:o[0],plotY:o[1]}));this.unDocMouseMove||(this.unDocMouseMove=U(i.container.ownerDocument,"mousemove",function(L){var Y=et[u.hoverChartIndex];Y&&Y.pointer.onDocumentMouseMove(L)}),this.eventsToUnbind.push(this.unDocMouseMove)),i.axes.forEach(function(L){var D,Y=x((L.crosshair||{}).snap,!0);Y&&((D=i.hoverPoint)&&D.series[L.coll]===L||(D=h(a,function(w){return w.series&&w.series[L.coll]===L}))),D||!Y?L.drawCrosshair(l,D):L.hideCrosshair()})},u.prototype.scaleGroups=function(l,p){var i=this.chart;i.series.forEach(function(c){var o=l||c.getPlotBox();c.group&&(c.xAxis&&c.xAxis.zoomEnabled||i.mapView)&&(c.group.attr(o),c.markerGroup&&(c.markerGroup.attr(o),c.markerGroup.clip(p?i.clipRect:null)),c.dataLabelsGroup&&c.dataLabelsGroup.attr(o))}),i.clipRect.attr(p||i.clipBox)},u.prototype.setDOMEvents=function(){var l=this,p=this.chart.container,i=p.ownerDocument;p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(U(p,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(U(p,"mouseleave",this.onContainerMouseLeave.bind(this))),u.unbindDocumentMouseUp||(u.unbindDocumentMouseUp=U(i,"mouseup",this.onDocumentMouseUp.bind(this)));for(var c=this.chart.renderTo.parentElement;c&&"BODY"!==c.tagName;)this.eventsToUnbind.push(U(c,"scroll",function(){delete l.chartPosition})),c=c.parentElement;W.hasTouch&&(this.eventsToUnbind.push(U(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(U(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),u.unbindDocumentTouchEnd||(u.unbindDocumentTouchEnd=U(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},u.prototype.setHoverChartIndex=function(){var l=this.chart,p=W.charts[x(u.hoverChartIndex,-1)];p&&p!==l&&p.pointer.onContainerMouseLeave({relatedTarget:l.container}),p&&p.mouseIsDown||(u.hoverChartIndex=l.index)},u.prototype.touch=function(l,p){var i=this.chart;if(this.setHoverChartIndex(),1===l.touches.length)if(l=this.normalize(l),i.isInsidePlot(l.chartX-i.plotLeft,l.chartY-i.plotTop,{visiblePlotOnly:!0})&&!i.openMenu){if(p&&this.runPointActions(l),"touchmove"===l.type)var o=!!(p=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(p[0].chartX-l.chartX,2)+Math.pow(p[0].chartY-l.chartY,2));x(o,!0)&&this.pinch(l)}else p&&this.reset();else 2===l.touches.length&&this.pinch(l)},u.prototype.touchSelect=function(l){return!(!this.chart.options.chart.zoomBySingleTouch||!l.touches||1!==l.touches.length)},u.prototype.zoomOption=function(l){var p=this.chart,i=p.options.chart;p=p.inverted;var c=i.zoomType||"";/touch/.test(l.type)&&(c=x(i.pinchType,c)),this.zoomX=l=/x/.test(c),this.zoomY=i=/y/.test(c),this.zoomHor=l&&!p||i&&p,this.zoomVert=i&&!p||l&&p,this.hasZoom=l||i},u}()}),mt(X,"Core/MSPointer.js",[X["Core/Globals.js"],X["Core/Pointer.js"],X["Core/Utilities.js"]],function(G,W,t){function V(){var d=[];return d.item=function(C){return this[C]},h(_,function(C){d.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),d}function K(d,C,x,b){var u=J[W.hoverChartIndex||NaN];"touch"!==d.pointerType&&d.pointerType!==d.MSPOINTER_TYPE_TOUCH||!u||(u=u.pointer,b(d),u[C]({type:x,target:d.currentTarget,preventDefault:I,touches:V()}))}var d,et=this&&this.__extends||(d=function(C,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var l in u)u.hasOwnProperty(l)&&(b[l]=u[l])})(C,x)},function(C,x){function b(){this.constructor=C}d(C,x),C.prototype=null===x?Object.create(x):(b.prototype=x.prototype,new b)}),J=G.charts,U=G.doc,I=G.noop,O=G.win,P=t.addEvent,y=t.css,h=t.objectEach,v=t.removeEvent,_={},A=!!O.PointerEvent;return function(d){function C(){return null!==d&&d.apply(this,arguments)||this}return et(C,d),C.isRequired=function(){return!(G.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,A?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,A?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(U,A?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),d.prototype.destroy.call(this)},C.prototype.init=function(x,b){d.prototype.init.call(this,x,b),this.hasZoom&&y(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){K(x,"onContainerTouchStart","touchstart",function(b){_[b.pointerId]={pageX:b.pageX,pageY:b.pageY,target:b.currentTarget}})},C.prototype.onContainerPointerMove=function(x){K(x,"onContainerTouchMove","touchmove",function(b){_[b.pointerId]={pageX:b.pageX,pageY:b.pageY},_[b.pointerId].target||(_[b.pointerId].target=b.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){K(x,"onDocumentTouchEnd","touchend",function(b){delete _[b.pointerId]})},C.prototype.setDOMEvents=function(){d.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(P)},C}(W)}),mt(X,"Core/Legend/Legend.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Series/Point.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){var J=G.animObject,U=G.setAnimation,I=W.format;G=t.isFirefox;var O=t.marginNames;t=t.win;var P=K.distribute,y=et.addEvent,h=et.createElement,v=et.css,_=et.defined,A=et.discardElement,d=et.find,C=et.fireEvent,x=et.isNumber,b=et.merge,u=et.pick,l=et.relativeLength,p=et.stableSort,i=et.syncTimeout;return K=et.wrap,et=function(){function c(o,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,n)}return c.prototype.init=function(o,n){this.chart=o,this.setOptions(n),n.enabled&&(this.render(),y(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=y(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},c.prototype.setOptions=function(o){var n=u(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=b(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=u(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},c.prototype.update=function(o,n){var r=this.chart;this.setOptions(b(!0,this.options,o)),this.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,u(n,!0)&&r.redraw(),C(this,"afterUpdate")},c.prototype.colorizeItem=function(o,n){if(o.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var r=this.options,a=o.legendItem,M=o.legendLine,L=o.legendSymbol,Y=this.itemHiddenStyle.color;r=n?r.itemStyle.color:Y;var D=n&&o.color||Y,w=o.options&&o.options.marker,N={fill:D};a&&a.css({fill:r,color:r}),M&&M.attr({stroke:D}),L&&(w&&L.isMarker&&(N=o.pointAttribs(),n||(N.stroke=N.fill=Y)),L.attr(N))}C(this,"afterColorizeItem",{item:o,visible:n})},c.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},c.prototype.positionItem=function(o){var n=this,r=this.options,a=r.symbolPadding,M=!r.rtl,L=o._legendItemPos;r=L[0],L=L[1];var Y=o.checkbox,D=o.legendGroup;D&&D.element&&(a={translateX:M?r:this.legendWidth-r-2*a-4,translateY:L},M=function(){C(n,"afterPositionItem",{item:o})},_(D.translateY)?D.animate(a,void 0,M):(D.attr(a),M())),Y&&(Y.x=r,Y.y=L)},c.prototype.destroyItem=function(o){var n=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(r){o[r]&&(o[r]=o[r].destroy())}),n&&A(o.checkbox)},c.prototype.destroy=function(){function o(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(o,n)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},c.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;if(o){var a=o.translateY;this.allItems.forEach(function(M){var L=M.checkbox;if(L){var Y=a+r+L.y+(this.scrollOffset||0)+3;v(L,{left:o.translateX+M.checkboxOffset+L.x-20+"px",top:Y+"px",display:this.proximate||Y>a-6&&Y<a+n-6?"":"none"})}},this)}},c.prototype.renderTitle=function(){var o=this.options,n=this.padding,r=o.title,a=0;r.text&&(this.title||(this.title=this.chart.renderer.label(r.text,n-3,n-4,void 0,void 0,void 0,o.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(r.style),this.title.add(this.group)),r.width||this.title.css({width:this.maxLegendWidth+"px"}),a=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},c.prototype.setText=function(o){var n=this.options;o.legendItem.attr({text:n.labelFormat?I(n.labelFormat,o,this.chart):n.labelFormatter.call(o)})},c.prototype.renderItem=function(o){var n=this.chart,r=n.renderer,a=this.options,M=this.symbolWidth,L=a.symbolPadding||0,Y=this.itemStyle,D=this.itemHiddenStyle,w="horizontal"===a.layout?u(a.itemDistance,20):0,N=!a.rtl,s=!o.series,f=!s&&o.series.drawLegendSymbol?o.series:o,k=f.options,R=this.createCheckboxForItem&&k&&k.showCheckbox,z=a.useHTML,H=o.options.className,m=o.legendItem;k=M+L+w+(R?20:0),m||(o.legendGroup=r.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+o.colorIndex+(H?" "+H:"")+(s?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=m=r.text("",N?M+L:-L,this.baseline||0,z),n.styledMode||m.css(b(o.visible?Y:D)),m.attr({align:N?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=r.fontMetrics(n.styledMode?12:Y.fontSize,m),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,m.attr("y",this.baseline),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,a.squareSymbol&&(this.symbolWidth=u(a.symbolWidth,Math.max(this.symbolHeight,16)),k=this.symbolWidth+L+w+(R?20:0),N&&m.attr("x",this.symbolWidth+L))),f.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,m,z)),R&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!n.styledMode&&Y.width||m.css({width:(a.itemWidth||this.widthOption||n.spacingBox.width)-k+"px"}),this.setText(o),n=m.getBBox(),r=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=a.itemWidth||o.legendItemWidth||n.width+k,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(n.height>1.5*r?n.height:r))},c.prototype.layoutItem=function(o){var n=this.options,r=this.padding,a="horizontal"===n.layout,M=o.itemHeight,L=this.itemMarginBottom,Y=this.itemMarginTop,D=a?u(n.itemDistance,20):0,w=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>w?this.maxItemWidth:o.itemWidth,a&&this.itemX-r+n>w&&(this.itemX=r,this.lastLineHeight&&(this.itemY+=Y+this.lastLineHeight+L),this.lastLineHeight=0),this.lastItemY=Y+this.itemY+L,this.lastLineHeight=Math.max(M,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=n:(this.itemY+=Y+M+L,this.lastLineHeight=M),this.offsetWidth=this.widthOption||Math.max((a?this.itemX-r-(o.checkbox?0:D):n)+r,this.offsetWidth)},c.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(n){var r=n&&n.options;n&&u(r.showInLegend,!_(r.linkedTo)&&void 0,!0)&&(o=o.concat(n.legendItems||("point"===r.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:o}),o},c.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},c.prototype.adjustMargins=function(o,n){var r=this.chart,a=this.options,M=this.getAlignment();M&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(L,Y){L.test(M)&&!_(o[Y])&&(r[O[Y]]=Math.max(r[O[Y]],r.legend[(Y+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][Y]*a[Y%2?"x":"y"]+u(a.margin,12)+n[Y]+(r.titleOffset[Y]||0)))})},c.prototype.proximatePositions=function(){var o=this.chart,n=[],r="left"===this.options.align;this.allItems.forEach(function(a){var M,L=r;if(a.yAxis){a.xAxis.options.reversed&&(L=!L),a.points&&(M=d(L?a.points:a.points.slice(0).reverse(),function(D){return x(D.plotY)})),L=this.itemMarginTop+a.legendItem.getBBox().height+this.itemMarginBottom;var Y=a.yAxis.top-o.plotTop;a.visible?(M=M?M.plotY:a.yAxis.height,M+=Y-.3*L):M=Y+a.yAxis.height,n.push({target:M,size:L,item:a})}},this),P(n,o.plotHeight).forEach(function(a){a.item._legendItemPos&&(a.item._legendItemPos[1]=o.plotTop-o.spacing[0]+a.pos)})},c.prototype.render=function(){var o=this.chart,n=o.renderer,r=this.options,a=this.padding,M=this.getAllItems(),L=this.group,Y=this.box;this.itemX=a,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=l(r.width,o.spacingBox.width-a);var D=o.spacingBox.width-2*a-r.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(D/=2),this.maxLegendWidth=this.widthOption||D,L||(this.group=L=n.g("legend").addClass(r.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(L),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),p(M,function(N,s){return(N.options&&N.options.legendIndex||0)-(s.options&&s.options.legendIndex||0)}),r.reversed&&M.reverse(),this.allItems=M,this.display=D=!!M.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,M.forEach(this.renderItem,this),M.forEach(this.layoutItem,this),M=(this.widthOption||this.offsetWidth)+a;var w=this.lastItemY+this.lastLineHeight+this.titleHeight;w=this.handleOverflow(w),w+=a,Y||(this.box=Y=n.rect().addClass("highcharts-legend-box").attr({r:r.borderRadius}).add(L)),o.styledMode||Y.attr({stroke:r.borderColor,"stroke-width":r.borderWidth||0,fill:r.backgroundColor||"none"}).shadow(r.shadow),0<M&&0<w&&Y[Y.placed?"animate":"attr"](Y.crisp.call({},{x:0,y:0,width:M,height:w},Y.strokeWidth())),Y[D?"show":"hide"](),o.styledMode&&"none"===L.getStyle("display")&&(M=w=0),this.legendWidth=M,this.legendHeight=w,D&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},c.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var n=this.chart,r=this.options,a=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?a+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(a-=n.titleOffset[2]),a!==o.y&&(o=b(o,{y:a})),n.hasRendered||(this.group.placed=!1),this.group.align(b(r,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":r.verticalAlign}),!0,o)},c.prototype.handleOverflow=function(o){var m,j,n=this,r=this.chart,a=r.renderer,M=this.options,L=M.y,Y="top"===M.verticalAlign,D=this.padding,w=M.maxHeight,N=M.navigation,s=u(N.animation,!0),f=N.arrowSize||12,k=this.pages,R=this.allItems,z=function(B){"number"==typeof B?Z.attr({height:B}):Z&&(n.clipRect=Z.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=B?"rect("+D+"px,9999px,"+(D+B)+"px,0)":"auto")},H=function(B){return n[B]=a.circle(0,0,1.3*f).translate(f/2,f/2).add(T),r.styledMode||n[B].attr("fill","rgba(0,0,0,0.0001)"),n[B]};L=r.spacingBox.height+(Y?-L:L)-D;var T=this.nav,Z=this.clipRect;return"horizontal"!==M.layout||"middle"===M.verticalAlign||M.floating||(L/=2),w&&(L=Math.min(L,w)),k.length=0,o&&0<L&&o>L&&!1!==N.enabled?(this.clipHeight=m=Math.max(L-20-this.titleHeight-D,0),this.currentPage=u(this.currentPage,1),this.fullHeight=o,R.forEach(function(B,tt){var $=B._legendItemPos[1],nt=Math.round(B.legendItem.getBBox().height),ot=k.length;(!ot||$-k[ot-1]>m&&(j||$)!==k[ot-1])&&(k.push(j||$),ot++),B.pageIx=ot-1,j&&(R[tt-1].pageIx=ot-1),tt===R.length-1&&$+nt-k[ot-1]>m&&nt<=m&&(k.push($),B.pageIx=ot),$!==j&&(j=$)}),Z||(Z=n.clipRect=a.clipRect(0,D,9999,0),n.contentGroup.clip(Z)),z(m),T||(this.nav=T=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).add(T),H("upTracker").on("click",function(){n.scroll(-1,s)}),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation"),!r.styledMode&&N.style&&this.pager.css(N.style),this.pager.add(T),this.down=a.symbol("triangle-down",0,0,f,f).add(T),H("downTracker").on("click",function(){n.scroll(1,s)})),n.scroll(0),o=L):T&&(z(),this.nav=T.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},c.prototype.scroll=function(o,n){var r=this,a=this.chart,M=this.pages,L=M.length,Y=this.clipHeight,D=this.options.navigation,w=this.pager,N=this.padding,s=this.currentPage+o;s>L&&(s=L),0<s&&(typeof n<"u"&&U(n,a),this.nav.attr({translateX:N,translateY:Y+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(f){f.attr({class:1===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),w.attr({text:s+"/"+L}),[this.down,this.downTracker].forEach(function(f){f.attr({x:18+this.pager.getBBox().width,class:s===L?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),a.styledMode||(this.up.attr({fill:1===s?D.inactiveColor:D.activeColor}),this.upTracker.css({cursor:1===s?"default":"pointer"}),this.down.attr({fill:s===L?D.inactiveColor:D.activeColor}),this.downTracker.css({cursor:s===L?"default":"pointer"})),this.scrollOffset=-M[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=s,this.positionCheckboxes(),o=J(u(n,a.renderer.globalAnimation,!0)),i(function(){C(r,"afterScroll",{currentPage:s})},o.duration))},c.prototype.setItemEvents=function(o,n,r){var a=this,M=a.chart.renderer.boxWrapper,L=o instanceof V,Y="highcharts-legend-"+(L?"point":"series")+"-active",D=a.chart.styledMode,w=function(N){a.allItems.forEach(function(s){o!==s&&[s].concat(s.linkedSeries||[]).forEach(function(f){f.setState(N,!L)})})};(r?[n,o.legendSymbol]:[o.legendGroup]).forEach(function(N){N&&N.on("mouseover",function(){o.visible&&w("inactive"),o.setState("hover"),o.visible&&M.addClass(Y),D||n.css(a.options.itemHoverStyle)}).on("mouseout",function(){a.chart.styledMode||n.css(b(o.visible?a.itemStyle:a.itemHiddenStyle)),w(""),M.removeClass(Y),o.setState()}).on("click",function(s){var f=function(){o.setVisible&&o.setVisible(),w(o.visible?"inactive":"")};M.removeClass(Y),s={browserEvent:s},o.firePointEvent?o.firePointEvent("legendItemClick",s,f):C(o,"legendItemClick",s,f)})})},c.prototype.createCheckboxForItem=function(o){o.checkbox=h("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),y(o.checkbox,"click",function(n){C(o.series||o,"checkboxClick",{checked:n.target.checked,item:o},function(){o.select()})})},c}(),(/Trident\/7\.0/.test(t.navigator&&t.navigator.userAgent)||G)&&K(et.prototype,"positionItem",function(c,o){var n=this,r=function(){o._legendItemPos&&c.call(n,o)};r(),n.bubbleLegend||setTimeout(r)}),et}),mt(X,"Core/Series/SeriesRegistry.js",[X["Core/Globals.js"],X["Core/DefaultOptions.js"],X["Core/Series/Point.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=W.defaultOptions,et=V.error,J=V.extendClass,U=V.merge;return function(O){function P(y,h){var v=K.plotOptions||{},_=h.defaultOptions;h.prototype.pointClass||(h.prototype.pointClass=t),h.prototype.type=y,_&&(v[y]=_),O.seriesTypes[y]=h}O.seriesTypes=G.seriesTypes,O.getSeries=function(y,h){void 0===h&&(h={});var v=y.options.chart,_=O.seriesTypes[v=h.type||v.type||v.defaultSeriesType||""];return O||et(17,!0,y,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(y,h),v},O.registerSeriesType=P,O.seriesType=function(y,h,v,_,A){var d=K.plotOptions||{};return d[y]=U(d[h=h||""],v),P(y,J(O.seriesTypes[h]||function(){},_)),O.seriesTypes[y].prototype.type=y,A&&(O.seriesTypes[y].prototype.pointClass=J(t,A)),O.seriesTypes[y]}}(I||(I={})),I}),mt(X,"Core/Chart/Chart.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/FormatUtilities.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Legend/Legend.js"],X["Core/MSPointer.js"],X["Core/DefaultOptions.js"],X["Core/Pointer.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Time.js"],X["Core/Utilities.js"],X["Core/Renderer/HTML/AST.js"]],function(G,W,t,V,K,et,J,U,I,O,P,y,h,v,_){var A=G.animate,d=G.animObject,C=G.setAnimation,x=t.numberFormat,b=V.registerEventOptions,u=K.charts,l=K.doc,p=K.marginNames,i=K.svg,c=K.win,o=U.defaultOptions,n=U.defaultTime,r=P.seriesTypes,a=v.addEvent,M=v.attr,L=v.cleanRecursively,Y=v.createElement,D=v.css,w=v.defined,N=v.discardElement,s=v.erase,f=v.error,k=v.extend,R=v.find,z=v.fireEvent,H=v.getStyle,m=v.isArray,j=v.isNumber,T=v.isObject,Z=v.isString,B=v.merge,tt=v.objectEach,$=v.pick,nt=v.pInt,ot=v.relativeLength,pt=v.removeEvent,ut=v.splat,ct=v.syncTimeout,ht=v.uniqueKey;return G=function(){function st(F,Q,it){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(F,Q,it)}return st.chart=function(F,Q,it){return new st(F,Q,it)},st.prototype.getArgs=function(F,Q,it){Z(F)||F.nodeName?(this.renderTo=F,this.init(Q,it)):this.init(F,Q)},st.prototype.init=function(F,Q){var it=F.plotOptions||{};z(this,"init",{args:arguments},function(){var at=B(o,F),lt=at.chart;tt(at.plotOptions,function(dt,gt){T(dt)&&(dt.tooltip=it[gt]&&B(it[gt].tooltip)||void 0)}),at.tooltip.userOptions=F.chart&&F.chart.forExport&&F.tooltip.userOptions||F.tooltip,this.userOptions=F,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Q,this.isResizing=0,this.options=at,this.axes=[],this.series=[],this.time=F.time&&Object.keys(F.time).length?new h(F.time):K.time,this.numberFormatter=lt.numberFormatter||x,this.styledMode=lt.styledMode,this.hasCartesianSeries=lt.showAxes,this.index=u.length,u.push(this),K.chartCount++,b(this,lt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,z(this,"afterInit"),this.firstRender()})},st.prototype.initSeries=function(F){var Q=this.options.chart,it=r[Q=F.type||Q.type||Q.defaultSeriesType];return it||f(17,!0,this,{missingModuleFor:Q}),"function"==typeof(Q=new it).init&&Q.init(this,F),Q},st.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(F){F.points||F.data||!F.enabledDataSorting||F.setData(F.options.data,!1)})},st.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(F,Q){return F.linkedSeries.length||Q.linkedSeries.length?Q.linkedSeries.length-F.linkedSeries.length:0})},st.prototype.orderSeries=function(F){var Q=this.series;F=F||0;for(var it=Q.length;F<it;++F)Q[F]&&(Q[F].index=F,Q[F].name=Q[F].getName())},st.prototype.isInsidePlot=function(F,Q,it){void 0===it&&(it={});var at=this.inverted,lt=this.plotBox,dt=this.plotLeft,gt=this.plotTop,xt=this.scrollablePlotBox,Ct=0,_t=0;it.visiblePlotOnly&&this.scrollingContainer&&(Ct=(_t=this.scrollingContainer).scrollLeft,_t=_t.scrollTop);var vt=it.series;if(lt=it.visiblePlotOnly&&xt||lt,F={x:xt=it.inverted?Q:F,y:Q=it.inverted?F:Q,isInsidePlot:!0},!it.ignoreX){var Pt=vt&&(at?vt.yAxis:vt.xAxis)||{pos:dt,len:1/0};(xt=it.paneCoordinates?Pt.pos+xt:dt+xt)>=Math.max(Ct+dt,Pt.pos)&&xt<=Math.min(Ct+dt+lt.width,Pt.pos+Pt.len)||(F.isInsidePlot=!1)}return!it.ignoreY&&F.isInsidePlot&&(at=vt&&(at?vt.xAxis:vt.yAxis)||{pos:gt,len:1/0},(it=it.paneCoordinates?at.pos+Q:gt+Q)>=Math.max(_t+gt,at.pos)&&it<=Math.min(_t+gt+lt.height,at.pos+at.len)||(F.isInsidePlot=!1)),z(this,"afterIsInsidePlot",F),F.isInsidePlot},st.prototype.redraw=function(F){z(this,"beforeRedraw");var Q=this.hasCartesianSeries?this.axes:this.colorAxis||[],it=this.series,at=this.pointer,lt=this.legend,dt=this.userOptions.legend,gt=this.renderer,xt=gt.isHidden(),Ct=[],_t=this.isDirtyBox,vt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&F,this),xt&&this.temporaryDisplay(),this.layOutTitles(),F=it.length;F--;){var Pt=it[F];if(Pt.options.stacking||Pt.options.centerInCategory){var wt=!0;if(Pt.isDirty){var Tt=!0;break}}}if(Tt)for(F=it.length;F--;)(Pt=it[F]).options.stacking&&(Pt.isDirty=!0);it.forEach(function(bt){bt.isDirty&&("point"===bt.options.legendType?("function"==typeof bt.updateTotals&&bt.updateTotals(),vt=!0):dt&&(dt.labelFormatter||dt.labelFormat)&&(vt=!0)),bt.isDirtyData&&z(bt,"updatedData")}),vt&&lt&&lt.options.enabled&&(lt.render(),this.isDirtyLegend=!1),wt&&this.getStacks(),Q.forEach(function(bt){bt.updateNames(),bt.setScale()}),this.getMargins(),Q.forEach(function(bt){bt.isDirty&&(_t=!0)}),Q.forEach(function(bt){var jt=bt.min+","+bt.max;bt.extKey!==jt&&(bt.extKey=jt,Ct.push(function(){z(bt,"afterSetExtremes",k(bt.eventArgs,bt.getExtremes())),delete bt.eventArgs})),(_t||wt)&&bt.redraw()}),_t&&this.drawChartBox(),z(this,"predraw"),it.forEach(function(bt){(_t||bt.isDirty)&&bt.visible&&bt.redraw(),bt.isDirtyData=!1}),at&&at.reset(!0),gt.draw(),z(this,"redraw"),z(this,"render"),xt&&this.temporaryDisplay(!0),Ct.forEach(function(bt){bt.call()})},st.prototype.get=function(F){function Q(dt){return dt.id===F||dt.options&&dt.options.id===F}for(var it=this.series,at=R(this.axes,Q)||R(this.series,Q),lt=0;!at&&lt<it.length;lt++)at=R(it[lt].points||[],Q);return at},st.prototype.getAxes=function(){var F=this,Q=this.options,it=Q.xAxis=ut(Q.xAxis||{});Q=Q.yAxis=ut(Q.yAxis||{}),z(this,"getAxes"),it.forEach(function(at,lt){at.index=lt,at.isX=!0}),Q.forEach(function(at,lt){at.index=lt}),it.concat(Q).forEach(function(at){new W(F,at)}),z(this,"afterGetAxes")},st.prototype.getSelectedPoints=function(){return this.series.reduce(function(F,Q){return Q.getPointsCollection().forEach(function(it){$(it.selectedStaging,it.selected)&&F.push(it)}),F},[])},st.prototype.getSelectedSeries=function(){return this.series.filter(function(F){return F.selected})},st.prototype.setTitle=function(F,Q,it){this.applyDescription("title",F),this.applyDescription("subtitle",Q),this.applyDescription("caption",void 0),this.layOutTitles(it)},st.prototype.applyDescription=function(F,Q){var it=this,at="title"===F?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};at=this.options[F]=B(!this.styledMode&&{style:at},this.options[F],Q);var lt=this[F];lt&&Q&&(this[F]=lt=lt.destroy()),at&&!lt&&((lt=this.renderer.text(at.text,0,0,at.useHTML).attr({align:at.align,class:"highcharts-"+F,zIndex:at.zIndex||4}).add()).update=function(dt){it[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[F]](dt)},this.styledMode||lt.css(at.style),this[F]=lt)},st.prototype.layOutTitles=function(F){var Q=[0,0,0],it=this.renderer,at=this.spacingBox;["title","subtitle","caption"].forEach(function(dt){var _t,gt=this[dt],xt=this.options[dt],Ct=xt.verticalAlign||"top";if(dt="title"===dt?"top"===Ct?-3:0:"top"===Ct?Q[0]+2:0,gt){this.styledMode||(_t=xt.style&&xt.style.fontSize),_t=it.fontMetrics(_t,gt).b,gt.css({width:(xt.width||at.width+(xt.widthAdjust||0))+"px"});var vt=Math.round(gt.getBBox(xt.useHTML).height);gt.align(k({y:"bottom"===Ct?_t:dt+_t,height:vt},xt),!1,"spacingBox"),xt.floating||("top"===Ct?Q[0]=Math.ceil(Q[0]+vt):"bottom"===Ct&&(Q[2]=Math.ceil(Q[2]+vt)))}},this),Q[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Q[0]+=this.options.title.margin),Q[2]&&"bottom"===this.options.caption.verticalAlign&&(Q[2]+=this.options.caption.margin);var lt=!this.titleOffset||this.titleOffset.join(",")!==Q.join(",");this.titleOffset=Q,z(this,"afterLayOutTitles"),!this.isDirtyBox&&lt&&(this.isDirtyBox=this.isDirtyLegend=lt,this.hasRendered&&$(F,!0)&&this.isDirtyBox&&this.redraw())},st.prototype.getChartSize=function(){var F=this.options.chart,Q=F.width;F=F.height;var it=this.renderTo;w(Q)||(this.containerWidth=H(it,"width")),w(F)||(this.containerHeight=H(it,"height")),this.chartWidth=Math.max(0,Q||this.containerWidth||600),this.chartHeight=Math.max(0,ot(F,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},st.prototype.temporaryDisplay=function(F){var Q=this.renderTo;if(F)for(;Q&&Q.style;)Q.hcOrigStyle&&(D(Q,Q.hcOrigStyle),delete Q.hcOrigStyle),Q.hcOrigDetached&&(l.body.removeChild(Q),Q.hcOrigDetached=!1),Q=Q.parentNode;else for(;Q&&Q.style&&(l.body.contains(Q)||Q.parentNode||(Q.hcOrigDetached=!0,l.body.appendChild(Q)),("none"===H(Q,"display",!1)||Q.hcOricDetached)&&(Q.hcOrigStyle={display:Q.style.display,height:Q.style.height,overflow:Q.style.overflow},F={display:"block",overflow:"hidden"},Q!==this.renderTo&&(F.height=0),D(Q,F),Q.offsetWidth||Q.style.setProperty("display","block","important")),(Q=Q.parentNode)!==l.body););},st.prototype.setClassName=function(F){this.container.className="highcharts-container "+(F||"")},st.prototype.getContainer=function(){var at,F=this.options,Q=F.chart,it=ht(),lt=this.renderTo;lt||(this.renderTo=lt=Q.renderTo),Z(lt)&&(this.renderTo=lt=l.getElementById(lt)),lt||f(13,!0,this);var dt=nt(M(lt,"data-highcharts-chart"));j(dt)&&u[dt]&&u[dt].hasRendered&&u[dt].destroy(),M(lt,"data-highcharts-chart",this.index),lt.innerHTML=_.emptyHTML,Q.skipClone||lt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),dt=this.chartWidth;var gt=this.chartHeight;if(D(lt,{overflow:"hidden"}),this.styledMode||(at=k({position:"relative",overflow:"hidden",width:dt+"px",height:gt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Q.style||{})),this.container=it=Y("div",{id:it},at,lt),this._cursor=it.style.cursor,this.renderer=new(Q.renderer||!i?O.getRendererType(Q.renderer):y)(it,dt,gt,void 0,Q.forExport,F.exporting&&F.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(Q.className),this.styledMode)for(var xt in F.defs)this.renderer.definition(F.defs[xt]);else this.renderer.setStyle(Q.style);this.renderer.chartIndex=this.index,z(this,"afterGetContainer")},st.prototype.getMargins=function(F){var Q=this.spacing,it=this.margin,at=this.titleOffset;this.resetMargins(),at[0]&&!w(it[0])&&(this.plotTop=Math.max(this.plotTop,at[0]+Q[0])),at[2]&&!w(it[2])&&(this.marginBottom=Math.max(this.marginBottom,at[2]+Q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(it,Q),z(this,"getMargins"),F||this.getAxisMargins()},st.prototype.getAxisMargins=function(){var F=this,Q=F.axisOffset=[0,0,0,0],it=F.colorAxis,at=F.margin,lt=function(dt){dt.forEach(function(gt){gt.visible&&gt.getOffset()})};F.hasCartesianSeries?lt(F.axes):it&&it.length&&lt(it),p.forEach(function(dt,gt){w(at[gt])||(F[dt]+=Q[gt])}),F.setChartSize()},st.prototype.reflow=function(F){var Q=this,it=Q.options.chart,at=Q.renderTo,lt=w(it.width)&&w(it.height),dt=it.width||H(at,"width");it=it.height||H(at,"height"),at=F?F.target:c,delete Q.pointer.chartPosition,!lt&&!Q.isPrinting&&dt&&it&&(at===c||at===l)&&((dt!==Q.containerWidth||it!==Q.containerHeight)&&(v.clearTimeout(Q.reflowTimeout),Q.reflowTimeout=ct(function(){Q.container&&Q.setSize(void 0,void 0,!1)},F?100:0)),Q.containerWidth=dt,Q.containerHeight=it)},st.prototype.setReflow=function(F){var Q=this;!1===F||this.unbindReflow?!1===F&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=a(c,"resize",function(it){Q.options&&Q.reflow(it)}),a(this,"destroy",this.unbindReflow))},st.prototype.setSize=function(F,Q,it){var at=this,lt=at.renderer;at.isResizing+=1,C(it,at),it=lt.globalAnimation,at.oldChartHeight=at.chartHeight,at.oldChartWidth=at.chartWidth,typeof F<"u"&&(at.options.chart.width=F),typeof Q<"u"&&(at.options.chart.height=Q),at.getChartSize(),at.styledMode||(it?A:D)(at.container,{width:at.chartWidth+"px",height:at.chartHeight+"px"},it),at.setChartSize(!0),lt.setSize(at.chartWidth,at.chartHeight,it),at.axes.forEach(function(dt){dt.isDirty=!0,dt.setScale()}),at.isDirtyLegend=!0,at.isDirtyBox=!0,at.layOutTitles(),at.getMargins(),at.redraw(it),at.oldChartHeight=null,z(at,"resize"),ct(function(){at&&z(at,"endResize",null,function(){--at.isResizing})},d(it).duration)},st.prototype.setChartSize=function(F){var Ct,_t,vt,Pt,Q=this.inverted,it=this.renderer,at=this.chartWidth,lt=this.chartHeight,dt=this.options.chart,gt=this.spacing,xt=this.clipOffset;this.plotLeft=Ct=Math.round(this.plotLeft),this.plotTop=_t=Math.round(this.plotTop),this.plotWidth=vt=Math.max(0,Math.round(at-Ct-this.marginRight)),this.plotHeight=Pt=Math.max(0,Math.round(lt-_t-this.marginBottom)),this.plotSizeX=Q?Pt:vt,this.plotSizeY=Q?vt:Pt,this.plotBorderWidth=dt.plotBorderWidth||0,this.spacingBox=it.spacingBox={x:gt[3],y:gt[0],width:at-gt[3]-gt[1],height:lt-gt[0]-gt[2]},this.plotBox=it.plotBox={x:Ct,y:_t,width:vt,height:Pt},Q=2*Math.floor(this.plotBorderWidth/2),at=Math.ceil(Math.max(Q,xt[3])/2),lt=Math.ceil(Math.max(Q,xt[0])/2),this.clipBox={x:at,y:lt,width:Math.floor(this.plotSizeX-Math.max(Q,xt[1])/2-at),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Q,xt[2])/2-lt))},F||(this.axes.forEach(function(wt){wt.setAxisSize(),wt.setAxisTranslation()}),it.alignElements()),z(this,"afterSetChartSize",{skipAxes:F})},st.prototype.resetMargins=function(){z(this,"resetMargins");var F=this,Q=F.options.chart;["margin","spacing"].forEach(function(it){var at=Q[it],lt=T(at)?at:[at,at,at,at];["Top","Right","Bottom","Left"].forEach(function(dt,gt){F[it][gt]=$(Q[it+dt],lt[gt])})}),p.forEach(function(it,at){F[it]=$(F.margin[at],F.spacing[at])}),F.axisOffset=[0,0,0,0],F.clipOffset=[0,0,0,0]},st.prototype.drawChartBox=function(){var Wt,F=this.options.chart,Q=this.renderer,it=this.chartWidth,at=this.chartHeight,lt=this.styledMode,dt=this.plotBGImage,gt=F.backgroundColor,xt=F.plotBackgroundColor,Ct=F.plotBackgroundImage,_t=this.plotLeft,vt=this.plotTop,Pt=this.plotWidth,wt=this.plotHeight,Tt=this.plotBox,bt=this.clipRect,jt=this.clipBox,Nt=this.chartBackground,Lt=this.plotBackground,Ut=this.plotBorder,It="animate";if(Nt||(this.chartBackground=Nt=Q.rect().addClass("highcharts-background").add(),It="attr"),lt)var Gt=Wt=Nt.strokeWidth();else Wt=(Gt=F.borderWidth||0)+(F.shadow?8:0),gt={fill:gt||"none"},(Gt||Nt["stroke-width"])&&(gt.stroke=F.borderColor,gt["stroke-width"]=Gt),Nt.attr(gt).shadow(F.shadow);Nt[It]({x:Wt/2,y:Wt/2,width:it-Wt-Gt%2,height:at-Wt-Gt%2,r:F.borderRadius}),It="animate",Lt||(It="attr",this.plotBackground=Lt=Q.rect().addClass("highcharts-plot-background").add()),Lt[It](Tt),lt||(Lt.attr({fill:xt||"none"}).shadow(F.plotShadow),Ct&&(dt?(Ct!==dt.attr("href")&&dt.attr("href",Ct),dt.animate(Tt)):this.plotBGImage=Q.image(Ct,_t,vt,Pt,wt).add())),bt?bt.animate({width:jt.width,height:jt.height}):this.clipRect=Q.clipRect(jt),It="animate",Ut||(It="attr",this.plotBorder=Ut=Q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),lt||Ut.attr({stroke:F.plotBorderColor,"stroke-width":F.plotBorderWidth||0,fill:"none"}),Ut[It](Ut.crisp({x:_t,y:vt,width:Pt,height:wt},-Ut.strokeWidth())),this.isDirtyBox=!1,z(this,"afterDrawChartBox")},st.prototype.propFromSeries=function(){var at,lt,dt,F=this,Q=F.options.chart,it=F.options.series;["inverted","angular","polar"].forEach(function(gt){for(lt=r[Q.type||Q.defaultSeriesType],dt=Q[gt]||lt&&lt.prototype[gt],at=it&&it.length;!dt&&at--;)(lt=r[it[at].type])&&lt.prototype[gt]&&(dt=!0);F[gt]=dt})},st.prototype.linkSeries=function(){var F=this,Q=F.series;Q.forEach(function(it){it.linkedSeries.length=0}),Q.forEach(function(it){var at=it.options.linkedTo;Z(at)&&(at=":previous"===at?F.series[it.index-1]:F.get(at))&&at.linkedParent!==it&&(at.linkedSeries.push(it),it.linkedParent=at,at.enabledDataSorting&&it.setDataSortingOptions(),it.visible=$(it.options.visible,at.options.visible,it.visible))}),z(this,"afterLinkSeries")},st.prototype.renderSeries=function(){this.series.forEach(function(F){F.translate(),F.render()})},st.prototype.renderLabels=function(){var F=this,Q=F.options.labels;Q.items&&Q.items.forEach(function(it){var at=k(Q.style,it.style),lt=nt(at.left)+F.plotLeft,dt=nt(at.top)+F.plotTop+12;delete at.left,delete at.top,F.renderer.text(it.html,lt,dt).attr({zIndex:2}).css(at).add()})},st.prototype.render=function(){var F=this.axes,Q=this.colorAxis,it=this.renderer,at=this.options,lt=function(_t){_t.forEach(function(vt){vt.visible&&vt.render()})},dt=0;this.setTitle(),this.legend=new et(this,at.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),at=this.plotWidth,F.some(function(_t){if(_t.horiz&&_t.visible&&_t.options.labels.enabled&&_t.series.length)return dt=21,!0});var gt=this.plotHeight=Math.max(this.plotHeight-dt,0);F.forEach(function(_t){_t.setScale()}),this.getAxisMargins();var xt=1.1<at/this.plotWidth,Ct=1.05<gt/this.plotHeight;(xt||Ct)&&(F.forEach(function(_t){(_t.horiz&&xt||!_t.horiz&&Ct)&&_t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?lt(F):Q&&Q.length&&lt(Q),this.seriesGroup||(this.seriesGroup=it.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},st.prototype.addCredits=function(F){var Q=this,it=B(!0,this.options.credits,F);it.enabled&&!this.credits&&(this.credits=this.renderer.text(it.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){it.href&&(c.location.href=it.href)}).attr({align:it.position.align,zIndex:8}),Q.styledMode||this.credits.css(it.style),this.credits.add().align(it.position),this.credits.update=function(at){Q.credits=Q.credits.destroy(),Q.addCredits(at)})},st.prototype.destroy=function(){var dt,F=this,Q=F.axes,it=F.series,at=F.container,lt=at&&at.parentNode;for(z(F,"destroy"),F.renderer.forExport?s(u,F):u[F.index]=void 0,K.chartCount--,F.renderTo.removeAttribute("data-highcharts-chart"),pt(F),dt=Q.length;dt--;)Q[dt]=Q[dt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),dt=it.length;dt--;)it[dt]=it[dt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(gt){var xt=F[gt];xt&&xt.destroy&&(F[gt]=xt.destroy())}),at&&(at.innerHTML=_.emptyHTML,pt(at),lt&&N(at)),tt(F,function(gt,xt){delete F[xt]})},st.prototype.firstRender=function(){var F=this,Q=F.options;(!F.isReadyToRender||F.isReadyToRender())&&(F.getContainer(),F.resetMargins(),F.setChartSize(),F.propFromSeries(),F.getAxes(),(m(Q.series)?Q.series:[]).forEach(function(it){F.initSeries(it)}),F.linkSeries(),F.setSeriesData(),z(F,"beforeRender"),I&&(F.pointer=J.isRequired()?new J(F,Q):new I(F,Q)),F.render(),F.pointer.getChartPosition(),!F.renderer.imgCount&&!F.hasLoaded&&F.onload(),F.temporaryDisplay(!0))},st.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(F){F&&typeof this.index<"u"&&F.apply(this,[this])},this),z(this,"load"),z(this,"render"),w(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},st.prototype.addSeries=function(F,Q,it){var lt,at=this;return F&&(Q=$(Q,!0),z(at,"addSeries",{options:F},function(){lt=at.initSeries(F),at.isDirtyLegend=!0,at.linkSeries(),lt.enabledDataSorting&&lt.setData(F.data,!1),z(at,"afterAddSeries",{series:lt}),Q&&at.redraw(it)})),lt},st.prototype.addAxis=function(F,Q,it,at){return this.createAxis(Q?"xAxis":"yAxis",{axis:F,redraw:it,animation:at})},st.prototype.addColorAxis=function(F,Q,it){return this.createAxis("colorAxis",{axis:F,redraw:Q,animation:it})},st.prototype.createAxis=function(F,Q){return F=new W(this,B(Q.axis,{index:this[F].length,isX:"xAxis"===F})),$(Q.redraw,!0)&&this.redraw(Q.animation),F},st.prototype.showLoading=function(F){var Q=this,it=Q.options,at=it.loading,lt=function(){dt&&D(dt,{left:Q.plotLeft+"px",top:Q.plotTop+"px",width:Q.plotWidth+"px",height:Q.plotHeight+"px"})},dt=Q.loadingDiv,gt=Q.loadingSpan;dt||(Q.loadingDiv=dt=Y("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Q.container)),gt||(Q.loadingSpan=gt=Y("span",{className:"highcharts-loading-inner"},null,dt),a(Q,"redraw",lt)),dt.className="highcharts-loading",_.setElementHTML(gt,$(F,it.lang.loading,"")),Q.styledMode||(D(dt,k(at.style,{zIndex:10})),D(gt,at.labelStyle),Q.loadingShown||(D(dt,{opacity:0,display:""}),A(dt,{opacity:at.style.opacity||.5},{duration:at.showDuration||0}))),Q.loadingShown=!0,lt()},st.prototype.hideLoading=function(){var F=this.options,Q=this.loadingDiv;Q&&(Q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||A(Q,{opacity:0},{duration:F.loading.hideDuration||100,complete:function(){D(Q,{display:"none"})}})),this.loadingShown=!1},st.prototype.update=function(F,Q,it,at){var Ct,_t,lt=this,dt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},gt=F.isResponsiveOptions,xt=[];z(lt,"update",{options:F}),gt||lt.setResponsive(!1,!0),F=L(F,lt.options),lt.userOptions=B(lt.userOptions,F);var vt=F.chart;if(vt){if(B(!0,lt.options.chart,vt),"className"in vt&&lt.setClassName(vt.className),"reflow"in vt&&lt.setReflow(vt.reflow),"inverted"in vt||"polar"in vt||"type"in vt){lt.propFromSeries();var Pt=!0}"alignTicks"in vt&&(Pt=!0),"events"in vt&&b(this,vt),tt(vt,function(wt,Tt){-1!==lt.propsRequireUpdateSeries.indexOf("chart."+Tt)&&(Ct=!0),-1!==lt.propsRequireDirtyBox.indexOf(Tt)&&(lt.isDirtyBox=!0),-1!==lt.propsRequireReflow.indexOf(Tt)&&(gt?lt.isDirtyBox=!0:_t=!0)}),!lt.styledMode&&vt.style&&lt.renderer.setStyle(lt.options.chart.style||{})}!lt.styledMode&&F.colors&&(this.options.colors=F.colors),F.time&&(this.time===n&&(this.time=new h(F.time)),B(!0,lt.options.time,F.time)),tt(F,function(wt,Tt){lt[Tt]&&"function"==typeof lt[Tt].update?lt[Tt].update(wt,!1):"function"==typeof lt[dt[Tt]]?lt[dt[Tt]](wt):"colors"!==Tt&&-1===lt.collectionsWithUpdate.indexOf(Tt)&&B(!0,lt.options[Tt],F[Tt]),"chart"!==Tt&&-1!==lt.propsRequireUpdateSeries.indexOf(Tt)&&(Ct=!0)}),this.collectionsWithUpdate.forEach(function(wt){if(F[wt]){var Tt=[];lt[wt].forEach(function(bt,jt){bt.options.isInternal||Tt.push($(bt.options.index,jt))}),ut(F[wt]).forEach(function(bt,jt){var Lt,Nt=w(bt.id);Nt&&(Lt=lt.get(bt.id)),!Lt&&lt[wt]&&(Lt=lt[wt][Tt?Tt[jt]:jt])&&Nt&&w(Lt.options.id)&&(Lt=void 0),Lt&&Lt.coll===wt&&(Lt.update(bt,!1),it&&(Lt.touched=!0)),!Lt&&it&&lt.collectionsWithInit[wt]&&(lt.collectionsWithInit[wt][0].apply(lt,[bt].concat(lt.collectionsWithInit[wt][1]||[]).concat([!1])).touched=!0)}),it&&lt[wt].forEach(function(bt){bt.touched||bt.options.isInternal?delete bt.touched:xt.push(bt)})}}),xt.forEach(function(wt){wt.chart&&wt.remove&&wt.remove(!1)}),Pt&&lt.axes.forEach(function(wt){wt.update({},!1)}),Ct&&lt.getSeriesOrderByLinks().forEach(function(wt){wt.chart&&wt.update({},!1)},this),Pt=vt&&vt.width,vt=vt&&(Z(vt.height)?ot(vt.height,Pt||lt.chartWidth):vt.height),_t||j(Pt)&&Pt!==lt.chartWidth||j(vt)&&vt!==lt.chartHeight?lt.setSize(Pt,vt,at):$(Q,!0)&&lt.redraw(at),z(lt,"afterUpdate",{options:F,redraw:Q,animation:at})},st.prototype.setSubtitle=function(F,Q){this.applyDescription("subtitle",F),this.layOutTitles(Q)},st.prototype.setCaption=function(F,Q){this.applyDescription("caption",F),this.layOutTitles(Q)},st.prototype.showResetZoom=function(){function F(){Q.zoomOut()}var Q=this,it=o.lang,at=Q.options.chart.resetZoomButton,lt=at.theme,dt=lt.states,gt="chart"===at.relativeTo||"spacingBox"===at.relativeTo?null:"scrollablePlotBox";z(this,"beforeShowResetZoom",null,function(){Q.resetZoomButton=Q.renderer.button(it.resetZoom,null,null,F,lt,dt&&dt.hover).attr({align:at.position.align,title:it.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(at.position,!1,gt)}),z(this,"afterShowResetZoom")},st.prototype.zoomOut=function(){z(this,"selection",{resetSelection:!0},this.zoom)},st.prototype.zoom=function(F){var dt,Q=this,it=Q.pointer,at=Q.inverted?it.mouseDownX:it.mouseDownY,lt=!1;!F||F.resetSelection?(Q.axes.forEach(function(xt){dt=xt.zoom()}),it.initiated=!1):F.xAxis.concat(F.yAxis).forEach(function(xt){var Ct=xt.axis,_t=Q.inverted?Ct.left:Ct.top,Pt=Ct.isXAxis,wt=!1;(!Pt&&at>=_t&&at<=(Q.inverted?_t+Ct.width:_t+Ct.height)||Pt||!w(at))&&(wt=!0),it[Pt?"zoomX":"zoomY"]&&wt&&(dt=Ct.zoom(xt.min,xt.max),Ct.displayBtn&&(lt=!0))});var gt=Q.resetZoomButton;lt&&!gt?Q.showResetZoom():!lt&&T(gt)&&(Q.resetZoomButton=gt.destroy()),dt&&Q.redraw($(Q.options.chart.animation,F&&F.animation,100>Q.pointCount))},st.prototype.pan=function(F,Q){var it=this,at=it.hoverPoints;Q="object"==typeof Q?Q:{enabled:Q,type:"x"};var lt=it.options.chart,dt=it.options.mapNavigation&&it.options.mapNavigation.enabled;lt&&lt.panning&&(lt.panning=Q);var xt,gt=Q.type;z(this,"pan",{originalEvent:F},function(){at&&at.forEach(function(vt){vt.setState()});var Ct=it.xAxis;"xy"===gt?Ct=Ct.concat(it.yAxis):"y"===gt&&(Ct=it.yAxis);var _t={};Ct.forEach(function(vt){if(vt.options.panningEnabled&&!vt.options.isInternal){var Pt=vt.horiz,wt=F[Pt?"chartX":"chartY"],Tt=it[Pt=Pt?"mouseDownX":"mouseDownY"],bt=vt.minPointOffset||0,jt=vt.reversed&&!it.inverted||!vt.reversed&&it.inverted?-1:1,Nt=vt.getExtremes(),Lt=vt.toValue(Tt-wt,!0)+bt*jt,Ut=vt.toValue(Tt+vt.len-wt,!0)-(bt*jt||vt.isXAxis&&vt.pointRangePadding||0),Wt=Ut<Lt;jt=vt.hasVerticalPanning(),Tt=Wt?Ut:Lt,Lt=Wt?Lt:Ut;var It=vt.panningState;!jt||vt.isXAxis||It&&!It.isDirty||vt.series.forEach(function(Gt){var Qt=Gt.getProcessedData(!0);Qt=Gt.getExtremes(Qt.yData,!0),It||(It={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),j(Qt.dataMin)&&j(Qt.dataMax)&&(It.startMin=Math.min($(Gt.options.threshold,1/0),Qt.dataMin,It.startMin),It.startMax=Math.max($(Gt.options.threshold,-1/0),Qt.dataMax,It.startMax))}),jt=Math.min($(It&&It.startMin,Nt.dataMin),bt?Nt.min:vt.toValue(vt.toPixels(Nt.min)-vt.minPixelPadding)),Ut=Math.max($(It&&It.startMax,Nt.dataMax),bt?Nt.max:vt.toValue(vt.toPixels(Nt.max)+vt.minPixelPadding)),vt.panningState=It,vt.isOrdinal||(0<(bt=jt-Tt)&&(Lt+=bt,Tt=jt),0<(bt=Lt-Ut)&&(Lt=Ut,Tt-=bt),vt.series.length&&Tt!==Nt.min&&Lt!==Nt.max&&Tt>=jt&&Lt<=Ut&&(vt.setExtremes(Tt,Lt,!1,!1,{trigger:"pan"}),it.resetZoomButton||dt||Tt===jt||Lt===Ut||!gt.match("y")||(it.showResetZoom(),vt.displayBtn=!1),xt=!0),_t[Pt]=wt)}}),tt(_t,function(vt,Pt){it[Pt]=vt}),xt&&it.redraw(!1),D(it.container,{cursor:"move"})})},st}(),k(G.prototype,{callbacks:[],collectionsWithInit:{xAxis:[G.prototype.addAxis,[!0]],yAxis:[G.prototype.addAxis,[!1]],series:[G.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),G}),mt(X,"Core/Legend/LegendSymbol.js",[X["Core/Utilities.js"]],function(G){var V,K,W=G.merge,t=G.pick;return(K=V||(V={})).drawLineMarker=function(et){var J=this.options,U=et.symbolWidth,I=et.symbolHeight,O=I/2,P=this.chart.renderer,y=this.legendGroup;et=et.baseline-Math.round(.3*et.fontMetrics.b);var h={},v=J.marker;this.chart.styledMode||(h={"stroke-width":J.lineWidth||0},J.dashStyle&&(h.dashstyle=J.dashStyle)),this.legendLine=P.path([["M",0,et],["L",U,et]]).addClass("highcharts-graph").attr(h).add(y),v&&!1!==v.enabled&&U&&(J=Math.min(t(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=W(v,{width:I,height:I}),J=0),this.legendSymbol=U=P.symbol(this.symbol,U/2-J,et-J,2*J,2*J,v).addClass("highcharts-point").add(y),U.isMarker=!0)},K.drawRectangle=function(et,J){var U=et.symbolHeight,I=et.options.squareSymbol;J.legendSymbol=this.chart.renderer.rect(I?(et.symbolWidth-U)/2:0,et.baseline-U+1,I?U:et.symbolWidth,U,t(et.options.symbolRadius,U/2)).addClass("highcharts-point").attr({zIndex:3}).add(J.legendGroup)},V}),mt(X,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),mt(X,"Core/Series/Series.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/DefaultOptions.js"],X["Core/Foundation.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/Point.js"],X["Core/Series/SeriesDefaults.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I,O){var P=G.animObject,y=G.setAnimation,h=W.defaultOptions,v=t.registerEventOptions,_=V.hasTouch,A=V.svg,d=V.win,C=U.seriesTypes,x=O.addEvent,b=O.arrayMax,u=O.arrayMin,l=O.clamp,p=O.cleanRecursively,i=O.correctFloat,c=O.defined,o=O.erase,n=O.error,r=O.extend,a=O.find,M=O.fireEvent,L=O.getNestedProperty,Y=O.isArray,D=O.isNumber,w=O.isString,N=O.merge,s=O.objectEach,f=O.pick,k=O.removeEvent,R=O.splat,z=O.syncTimeout;return G=function(){function H(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return H.prototype.init=function(m,j){M(this,"init",{options:j});var T=this,Z=m.series;this.eventsToUnbind=[],T.chart=m,T.options=T.setOptions(j),j=T.options,T.linkedSeries=[],T.bindAxes(),r(T,{name:j.name,state:"",visible:!1!==j.visible,selected:!0===j.selected}),v(this,j);var tt,B=j.events;(B&&B.click||j.point&&j.point.events&&j.point.events.click||j.allowPointSelect)&&(m.runTrackerClick=!0),T.getColor(),T.getSymbol(),T.parallelArrays.forEach(function($){T[$+"Data"]||(T[$+"Data"]=[])}),T.isCartesian&&(m.hasCartesianSeries=!0),Z.length&&(tt=Z[Z.length-1]),T._i=f(tt&&tt._i,-1)+1,T.opacity=T.options.opacity,m.orderSeries(this.insert(Z)),j.dataSorting&&j.dataSorting.enabled?T.setDataSortingOptions():T.points||T.data||T.setData(j.data,!1),M(this,"afterInit")},H.prototype.is=function(m){return C[m]&&this instanceof C[m]},H.prototype.insert=function(m){var T,j=this.options.index;if(D(j)){for(T=m.length;T--;)if(j>=f(m[T].options.index,m[T]._i)){m.splice(T+1,0,this);break}-1===T&&m.unshift(this),T+=1}else m.push(this);return f(T,m.length-1)},H.prototype.bindAxes=function(){var Z,m=this,j=m.options,T=m.chart;M(this,"bindAxes",null,function(){(m.axisTypes||[]).forEach(function(B){var tt=0;T[B].forEach(function($){Z=$.options,(j[B]===tt&&!Z.isInternal||typeof j[B]<"u"&&j[B]===Z.id||typeof j[B]>"u"&&0===Z.index)&&(m.insert($.series),m[B]=$,$.isDirty=!0),Z.isInternal||tt++}),m[B]||m.optionalAxis===B||n(18,!0,T)})}),M(this,"afterBindAxes")},H.prototype.updateParallelArrays=function(m,j){var T=m.series,Z=arguments,B=D(j)?function(tt){var $="y"===tt&&T.toYData?T.toYData(m):m[tt];T[tt+"Data"][j]=$}:function(tt){Array.prototype[j].apply(T[tt+"Data"],Array.prototype.slice.call(Z,2))};T.parallelArrays.forEach(B)},H.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},H.prototype.autoIncrement=function(m){var $,j=this.options,T=j.pointIntervalUnit,Z=j.relativeXValue,B=this.chart.time,tt=this.xIncrement;return tt=f(tt,j.pointStart,0),this.pointInterval=$=f(this.pointInterval,j.pointInterval,1),Z&&D(m)&&($*=m),T&&(j=new B.Date(tt),"day"===T?B.set("Date",j,B.get("Date",j)+$):"month"===T?B.set("Month",j,B.get("Month",j)+$):"year"===T&&B.set("FullYear",j,B.get("FullYear",j)+$),$=j.getTime()-tt),Z&&D(m)?tt+$:(this.xIncrement=tt+$,tt)},H.prototype.setDataSortingOptions=function(){var m=this.options;r(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),c(m.pointRange)||(m.pointRange=1)},H.prototype.setOptions=function(m){var j=this.chart,T=j.options,Z=T.plotOptions,B=j.userOptions||{};m=N(m),j=j.styledMode;var tt={plotOptions:Z,userOptions:m};M(this,"setOptions",tt);var $=tt.plotOptions[this.type],nt=B.plotOptions||{};return this.userOptions=tt.userOptions,B=N($,Z.series,B.plotOptions&&B.plotOptions[this.type],m),this.tooltipOptions=N(h.tooltip,h.plotOptions.series&&h.plotOptions.series.tooltip,h.plotOptions[this.type].tooltip,T.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,m.tooltip),this.stickyTracking=f(m.stickyTracking,nt[this.type]&&nt[this.type].stickyTracking,nt.series&&nt.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||B.stickyTracking),null===$.marker&&delete B.marker,this.zoneAxis=B.zoneAxis,Z=this.zones=(B.zones||[]).slice(),!B.negativeColor&&!B.negativeFillColor||B.zones||(T={value:B[this.zoneAxis+"Threshold"]||B.threshold||0,className:"highcharts-negative"},j||(T.color=B.negativeColor,T.fillColor=B.negativeFillColor),Z.push(T)),Z.length&&c(Z[Z.length-1].value)&&Z.push(j?{}:{color:this.color,fillColor:this.fillColor}),M(this,"afterSetOptions",{options:B}),B},H.prototype.getName=function(){return f(this.options.name,"Series "+(this.index+1))},H.prototype.getCyclic=function(m,j,T){var Z=this.chart,B=this.userOptions,tt=m+"Index",$=m+"Counter",nt=T?T.length:f(Z.options.chart[m+"Count"],Z[m+"Count"]);if(!j){var ot=f(B[tt],B["_"+tt]);c(ot)||(Z.series.length||(Z[$]=0),B["_"+tt]=ot=Z[$]%nt,Z[$]+=1),T&&(j=T[ot])}typeof ot<"u"&&(this[tt]=ot),this[m]=j},H.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||h.plotOptions[this.type].color,this.chart.options.colors)},H.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},H.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},H.prototype.findPointIndex=function(m,j){var $,nt,T=m.id,Z=m.x,B=this.points,tt=this.options.dataSorting;if(T)(tt=this.chart.get(T))instanceof et&&($=tt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&($=function(pt){return!pt.touched&&pt.index===m.index},tt&&tt.matchByName?$=function(pt){return!pt.touched&&pt.name===m.name}:this.options.relativeXValue&&($=function(pt){return!pt.touched&&pt.options.x===m.x}),!($=a(B,$))))return;if($){var ot=$&&$.index;typeof ot<"u"&&(nt=!0)}return typeof ot>"u"&&D(Z)&&(ot=this.xData.indexOf(Z,j)),-1!==ot&&typeof ot<"u"&&this.cropped&&(ot=ot>=this.cropStart?ot-this.cropStart:ot),!nt&&D(ot)&&B[ot]&&B[ot].touched&&(ot=void 0),ot},H.prototype.updateData=function(m,j){var ot,pt,ut,T=this.options,Z=T.dataSorting,B=this.points,tt=[],$=this.requireSorting,nt=m.length===B.length,ct=!0;if(this.xIncrement=null,m.forEach(function(ht,st){var F=c(ht)&&this.pointClass.prototype.optionsToObject.call({series:this},ht)||{};F.id||D(F.x)?(-1===(F=this.findPointIndex(F,ut))||typeof F>"u"?tt.push(ht):B[F]&&ht!==T.data[F]?(B[F].update(ht,!1,null,!1),B[F].touched=!0,$&&(ut=F+1)):B[F]&&(B[F].touched=!0),(!nt||st!==F||Z&&Z.enabled||this.hasDerivedData)&&(ot=!0)):tt.push(ht)},this),ot)for(m=B.length;m--;)(pt=B[m])&&!pt.touched&&pt.remove&&pt.remove(!1,j);else!nt||Z&&Z.enabled?ct=!1:(m.forEach(function(ht,st){ht!==B[st].y&&B[st].update&&B[st].update(ht,!1,null,!1)}),tt.length=0);return B.forEach(function(ht){ht&&(ht.touched=!1)}),!!ct&&(tt.forEach(function(ht){this.addPoint(ht,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=b(this.xData),this.autoIncrement()),!0)},H.prototype.setData=function(m,j,T,Z){var B=this,tt=B.points,$=tt&&tt.length||0,nt=B.options,ot=B.chart,pt=nt.dataSorting,ut=B.xAxis,ct=nt.turboThreshold,ht=this.xData,st=this.yData,F=B.pointArrayMap;F=F&&F.length;var it,Q=nt.keys,at=0,lt=1,dt=null,gt=(m=m||[]).length;if(j=f(j,!0),pt&&pt.enabled&&(m=this.sortData(m)),!1!==Z&&gt&&$&&!B.cropped&&!B.hasGroupedData&&B.visible&&!B.isSeriesBoosting&&(it=this.updateData(m,T)),!it){if(B.xIncrement=null,B.colorCounter=0,this.parallelArrays.forEach(function(xt){B[xt+"Data"].length=0}),ct&&gt>ct)if(dt=B.getFirstValidPoint(m),D(dt))for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T];else if(Y(dt))if(F)if(dt.length===F)for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T];else for(T=0;T<gt;T++)ht[T]=(Z=m[T])[0],st[T]=Z.slice(1,F+1);else if(Q&&(at=0<=(at=Q.indexOf("x"))?at:0,lt=0<=(lt=Q.indexOf("y"))?lt:1),1===dt.length&&(lt=0),at===lt)for(T=0;T<gt;T++)ht[T]=this.autoIncrement(),st[T]=m[T][lt];else for(T=0;T<gt;T++)ht[T]=(Z=m[T])[at],st[T]=Z[lt];else n(12,!1,ot);else for(T=0;T<gt;T++)typeof m[T]<"u"&&(B.pointClass.prototype.applyOptions.apply(Z={series:B},[m[T]]),B.updateParallelArrays(Z,T));for(st&&w(st[0])&&n(14,!0,ot),B.data=[],B.options.data=B.userOptions.data=m,T=$;T--;)tt[T]&&tt[T].destroy&&tt[T].destroy();ut&&(ut.minRange=ut.userMinRange),B.isDirty=ot.isDirtyBox=!0,B.isDirtyData=!!tt,T=!1}"point"===nt.legendType&&(this.processData(),this.generatePoints()),j&&ot.redraw(T)},H.prototype.sortData=function(m){var j=this,T=j.options.dataSorting.sortKey||"y",Z=function(B,tt){return c(tt)&&B.pointClass.prototype.optionsToObject.call({series:B},tt)||{}};return m.forEach(function(B,tt){m[tt]=Z(j,B),m[tt].index=tt},this),m.concat().sort(function(B,tt){return B=L(T,B),(tt=L(T,tt))<B?-1:tt>B?1:0}).forEach(function(B,tt){B.x=tt},this),j.linkedSeries&&j.linkedSeries.forEach(function(B){var tt=B.options,$=tt.data;tt.dataSorting&&tt.dataSorting.enabled||!$||($.forEach(function(nt,ot){$[ot]=Z(B,nt),m[ot]&&($[ot].x=m[ot].x,$[ot].index=ot)}),B.setData($,!1))}),m},H.prototype.getProcessedData=function(m){var j=this.xAxis,T=this.options,Z=T.cropThreshold,B=m||this.getExtremesFromAll||T.getExtremesFromAll,tt=this.isCartesian;m=j&&j.val2lin,T=!(!j||!j.logarithmic);var $=0,nt=this.xData,ot=this.yData,pt=this.requireSorting,ut=!1,ct=nt.length;if(j){var ht=(ut=j.getExtremes()).min,st=ut.max;ut=!(!j.categories||j.names.length)}if(tt&&this.sorted&&!B&&(!Z||ct>Z||this.forceCrop))if(nt[ct-1]<ht||nt[0]>st)nt=[],ot=[];else if(this.yData&&(nt[0]<ht||nt[ct-1]>st)){var F=this.cropData(this.xData,this.yData,ht,st);nt=F.xData,ot=F.yData,$=F.start,F=!0}for(Z=nt.length||1;--Z;)if(0<(j=T?m(nt[Z])-m(nt[Z-1]):nt[Z]-nt[Z-1])&&(typeof Q>"u"||j<Q))var Q=j;else 0>j&&pt&&!ut&&(n(15,!1,this.chart),pt=!1);return{xData:nt,yData:ot,cropped:F,cropStart:$,closestPointRange:Q}},H.prototype.processData=function(m){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!m)return!1;m=this.getProcessedData(),this.cropped=m.cropped,this.cropStart=m.cropStart,this.processedXData=m.xData,this.processedYData=m.yData,this.closestPointRange=this.basePointRange=m.closestPointRange,M(this,"afterProcessData")},H.prototype.cropData=function(m,j,T,Z,B){var $,tt=m.length,nt=0,ot=tt;for(B=f(B,this.cropShoulder),$=0;$<tt;$++)if(m[$]>=T){nt=Math.max(0,$-B);break}for(T=$;T<tt;T++)if(m[T]>Z){ot=T+B;break}return{xData:m.slice(nt,ot),yData:j.slice(nt,ot),start:nt,end:ot}},H.prototype.generatePoints=function(){var m=this.options,j=this.processedData||m.data,T=this.processedXData,Z=this.processedYData,B=this.pointClass,tt=T.length,$=this.cropStart||0,nt=this.hasGroupedData,ot=m.keys,pt=[];m=m.dataGrouping&&m.dataGrouping.groupAll?$:0;var ut,ct,ht=this.data;if(!ht&&!nt){var st=[];st.length=j.length,ht=this.data=st}for(ot&&nt&&(this.options.keys=!1),ct=0;ct<tt;ct++){if(st=$+ct,nt){var F=(new B).init(this,[T[ct]].concat(R(Z[ct])));F.dataGroup=this.groupMap[m+ct],F.dataGroup.options&&(F.options=F.dataGroup.options,r(F,F.dataGroup.options),delete F.dataLabels)}else(F=ht[st])||typeof j[st]>"u"||(ht[st]=F=(new B).init(this,j[st],T[ct]));F&&(F.index=nt?m+ct:st,pt[ct]=F)}if(this.options.keys=ot,ht&&(tt!==(ut=ht.length)||nt))for(ct=0;ct<ut;ct++)ct!==$||nt||(ct+=tt),ht[ct]&&(ht[ct].destroyElements(),ht[ct].plotX=void 0);this.data=ht,this.points=pt,M(this,"afterGeneratePoints")},H.prototype.getXExtremes=function(m){return{min:u(m),max:b(m)}},H.prototype.getExtremes=function(m,j){var T=this.xAxis,Z=this.yAxis,B=this.processedXData||this.xData,tt=[],$=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var nt,ot=0,pt=0,ut=0,ct=(m=m||this.stackedYData||this.processedYData||[]).length;if(T){var ht=T.getExtremes();ot=ht.min,pt=ht.max}for(nt=0;nt<ct;nt++){var st=B[nt],F=(D(ht=m[nt])||Y(ht))&&(ht.length||0<ht||!Z);if(st=j||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!T||(B[nt+$]||st)>=ot&&(B[nt-$]||st)<=pt,F&&st)if(F=ht.length)for(;F--;)D(ht[F])&&(tt[ut++]=ht[F]);else tt[ut++]=ht}return m={activeYData:tt,dataMin:u(tt),dataMax:b(tt)},M(this,"afterGetExtremes",{dataExtremes:m}),m},H.prototype.applyExtremes=function(){var m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m},H.prototype.getFirstValidPoint=function(m){for(var j=m.length,T=0,Z=null;null===Z&&T<j;)Z=m[T],T++;return Z},H.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var st,F,m=this.options,j=m.stacking,T=this.xAxis,Z=T.categories,B=this.enabledDataSorting,tt=this.yAxis,$=this.points,nt=$.length,ot=this.pointPlacementToXValue(),pt=!!ot,ut=m.threshold,ct=m.startFromThreshold?ut:0,ht=this.zoneAxis||"y",Q=Number.MAX_VALUE;for(st=0;st<nt;st++){var it=$[st],at=it.x,lt=void 0,dt=void 0,gt=it.y,xt=it.low,Ct=j&&tt.stacking&&tt.stacking.stacks[(this.negStacks&&gt<(ct?0:ut)?"-":"")+this.stackKey];if((tt.positiveValuesOnly&&!tt.validatePositiveValue(gt)||T.positiveValuesOnly&&!T.validatePositiveValue(at))&&(it.isNull=!0),it.plotX=F=i(l(T.translate(at,0,0,0,1,ot,"flags"===this.type),-1e5,1e5)),j&&this.visible&&Ct&&Ct[at]){var _t=this.getStackIndicator(_t,at,this.index);it.isNull||(dt=(lt=Ct[at]).points[_t.key])}if(Y(dt)&&(gt=dt[1],(xt=dt[0])===ct&&_t.key===Ct[at].base&&(xt=f(D(ut)&&ut,tt.min)),tt.positiveValuesOnly&&0>=xt&&(xt=null),it.total=it.stackTotal=lt.total,it.percentage=lt.total&&it.y/lt.total*100,it.stackY=gt,this.irregularWidths||lt.setOffset(this.pointXOffset||0,this.barW||0)),it.yBottom=c(xt)?l(tt.translate(xt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(gt=this.dataModify.modifyValue(gt,st)),it.plotY=void 0,D(gt)&&typeof(lt=tt.translate(gt,!1,!0,!1,!0))<"u"&&(it.plotY=l(lt,-1e5,1e5)),it.isInside=this.isPointInside(it),it.clientX=pt?i(T.translate(at,0,0,0,1,ot)):F,it.negative=it[ht]<(m[ht+"Threshold"]||ut||0),it.category=f(Z&&Z[it.x],it.x),!it.isNull&&!1!==it.visible){typeof vt<"u"&&(Q=Math.min(Q,Math.abs(F-vt)));var vt=F}it.zone=this.zones.length?it.getZone():void 0,!it.graphic&&this.group&&B&&(it.isNew=!0)}this.closestPointRangePx=Q,M(this,"afterTranslate")},H.prototype.getValidPoints=function(m,j,T){var Z=this.chart;return(m||this.points||[]).filter(function(B){return!(j&&!Z.isInsidePlot(B.plotX,B.plotY,{inverted:Z.inverted}))&&!1!==B.visible&&(T||!B.isNull)})},H.prototype.getClipBox=function(){var m=this.chart,j=this.xAxis,T=this.yAxis,Z=N(m.clipBox);return j&&j.len!==m.plotSizeX&&(Z.width=j.len),T&&T.len!==m.plotSizeY&&(Z.height=T.len),Z},H.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},H.prototype.setClip=function(){var m=this.chart,j=this.group,T=this.markerGroup,Z=m.sharedClips;m=m.renderer;var B=this.getClipBox(),tt=this.getSharedClipKey(),$=Z[tt];$?$.animate(B):Z[tt]=$=m.clipRect(B),j&&j.clip(!1===this.options.clip?void 0:$),T&&T.clip()},H.prototype.animate=function(m){var j=this.chart,T=this.group,Z=this.markerGroup,B=j.inverted,tt=P(this.options.animation),$=[this.getSharedClipKey(),tt.duration,tt.easing,tt.defer].join(),nt=j.sharedClips[$],ot=j.sharedClips[$+"m"];if(m&&T)tt=this.getClipBox(),nt?nt.attr("height",tt.height):(tt.width=0,B&&(tt.x=j.plotHeight),nt=j.renderer.clipRect(tt),j.sharedClips[$]=nt,ot=j.renderer.clipRect({x:B?(j.plotSizeX||0)+99:-99,y:B?-j.plotLeft:-j.plotTop,width:99,height:B?j.chartWidth:j.chartHeight}),j.sharedClips[$+"m"]=ot),T.clip(nt),Z&&Z.clip(ot);else if(nt&&!nt.hasClass("highcharts-animating")){j=this.getClipBox();var pt=tt.step;Z&&Z.element.childNodes.length&&(tt.step=function(ut,ct){pt&&pt.apply(ct,arguments),ot&&ot.element&&ot.attr(ct.prop,"width"===ct.prop?ut+99:ut)}),nt.addClass("highcharts-animating").animate(j,tt)}},H.prototype.afterAnimate=function(){var m=this;this.setClip(),s(this.chart.sharedClips,function(j,T,Z){j&&!m.chart.container.querySelector('[clip-path="url(#'+j.id+')"]')&&(j.destroy(),delete Z[T])}),this.finishedAnimating=!0,M(this,"afterAnimate")},H.prototype.drawPoints=function(){var $,nt,m=this.points,j=this.chart,T=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,B=this.xAxis,tt=f(T.enabled,!(B&&!B.isRadial)||null,this.closestPointRangePx>=T.enabledThreshold*T.radius);if(!1!==T.enabled||this._hasPointMarkers)for($=0;$<m.length;$++){var ot=m[$],pt=(nt=ot.graphic)?"animate":"attr",ut=ot.marker||{},ct=!!ot.marker;if((tt&&typeof ut.enabled>"u"||ut.enabled)&&!ot.isNull&&!1!==ot.visible){var ht=f(ut.symbol,this.symbol,"rect"),st=this.markerAttribs(ot,ot.selected&&"select");this.enabledDataSorting&&(ot.startXPos=B.reversed?-(st.width||0):B.width);var F=!1!==ot.isInside;nt?nt[F?"show":"hide"](F).animate(st):F&&(0<(st.width||0)||ot.hasImage)&&(ot.graphic=nt=j.renderer.symbol(ht,st.x,st.y,st.width,st.height,ct?ut:T).add(Z),this.enabledDataSorting&&j.hasRendered&&(nt.attr({x:ot.startXPos}),pt="animate")),nt&&"animate"===pt&&nt[F?"show":"hide"](F).animate(st),nt&&!j.styledMode&&nt[pt](this.pointAttribs(ot,ot.selected&&"select")),nt&&nt.addClass(ot.getClassName(),!0)}else nt&&(ot.graphic=nt.destroy())}},H.prototype.markerAttribs=function(m,j){var T=this.options,Z=T.marker,B=m.marker||{},tt=B.symbol||Z.symbol,$=f(B.radius,Z&&Z.radius);return j&&(Z=Z.states[j],$=f((j=B.states&&B.states[j])&&j.radius,Z&&Z.radius,$&&$+(Z&&Z.radiusPlus||0))),m.hasImage=tt&&0===tt.indexOf("url"),m.hasImage&&($=0),m=D($)?{x:T.crisp?Math.floor(m.plotX-$):m.plotX-$,y:m.plotY-$}:{},$&&(m.width=m.height=2*$),m},H.prototype.pointAttribs=function(m,j){var T=this.options.marker,Z=m&&m.options,B=Z&&Z.marker||{},tt=Z&&Z.color,$=m&&m.color,nt=m&&m.zone&&m.zone.color,ot=this.color;return m=f(B.lineWidth,T.lineWidth),Z=1,ot=tt||nt||$||ot,tt=B.fillColor||T.fillColor||ot,$=B.lineColor||T.lineColor||ot,T=T.states[j=j||"normal"]||{},m=f((j=B.states&&B.states[j]||{}).lineWidth,T.lineWidth,m+f(j.lineWidthPlus,T.lineWidthPlus,0)),{stroke:$=j.lineColor||T.lineColor||$,"stroke-width":m,fill:tt=j.fillColor||T.fillColor||tt,opacity:Z=f(j.opacity,T.opacity,Z)}},H.prototype.destroy=function(m){var $,nt,ot,j=this,T=j.chart,Z=/AppleWebKit\/533/.test(d.navigator.userAgent),B=j.data||[];for(M(j,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(j.axisTypes||[]).forEach(function(pt){(ot=j[pt])&&ot.series&&(o(ot.series,j),ot.isDirty=ot.forceRedraw=!0)}),j.legendItem&&j.chart.legend.destroyItem(j),$=B.length;$--;)(nt=B[$])&&nt.destroy&&nt.destroy();j.clips&&j.clips.forEach(function(pt){return pt.destroy()}),O.clearTimeout(j.animationTimeout),s(j,function(pt,ut){pt instanceof I&&!pt.survive&&pt[Z&&"group"===ut?"hide":"destroy"]()}),T.hoverSeries===j&&(T.hoverSeries=void 0),o(T.series,j),T.orderSeries(),s(j,function(pt,ut){m&&"hcEvents"===ut||delete j[ut]})},H.prototype.applyZones=function(){var ut,ct,ht,st,F,Q,it,at,m=this,j=this.chart,T=j.renderer,Z=this.zones,B=this.clips||[],tt=this.graph,$=this.area,nt=Math.max(j.chartWidth,j.chartHeight),ot=this[(this.zoneAxis||"y")+"Axis"],pt=j.inverted,lt=!1;if(Z.length&&(tt||$)&&ot&&typeof ot.min<"u"){var dt=ot.reversed,gt=ot.horiz;tt&&!this.showLine&&tt.hide(),$&&$.hide();var xt=ot.getExtremes();Z.forEach(function(Ct,_t){ut=dt?gt?j.plotWidth:0:gt?0:ot.toPixels(xt.min)||0,ut=l(f(ct,ut),0,nt),ct=l(Math.round(ot.toPixels(f(Ct.value,xt.max),!0)||0),0,nt),lt&&(ut=ct=ot.toPixels(xt.max)),st=Math.abs(ut-ct),F=Math.min(ut,ct),Q=Math.max(ut,ct),ot.isXAxis?(ht={x:pt?Q:F,y:0,width:st,height:nt},gt||(ht.x=j.plotHeight-ht.x)):(ht={x:0,y:pt?Q:F,width:nt,height:st},gt&&(ht.y=j.plotWidth-ht.y)),pt&&T.isVML&&(ht=ot.isXAxis?{x:0,y:dt?F:Q,height:ht.width,width:j.chartWidth}:{x:ht.y-j.plotLeft-j.spacingBox.x,y:0,width:ht.height,height:j.chartHeight}),B[_t]?B[_t].animate(ht):B[_t]=T.clipRect(ht),it=m["zone-area-"+_t],at=m["zone-graph-"+_t],tt&&at&&at.clip(B[_t]),$&&it&&it.clip(B[_t]),lt=Ct.value>xt.max,m.resetZones&&0===ct&&(ct=void 0)}),this.clips=B}else m.visible&&(tt&&tt.show(!0),$&&$.show(!0))},H.prototype.invertGroups=function(m){function j(){["group","markerGroup"].forEach(function(B){T[B]&&(Z.renderer.isVML&&T[B].attr({width:T.yAxis.len,height:T.xAxis.len}),T[B].width=T.yAxis.len,T[B].height=T.xAxis.len,T[B].invert(!T.isRadialSeries&&m))})}var T=this,Z=T.chart;T.xAxis&&(T.eventsToUnbind.push(x(Z,"resize",j)),j(),T.invertGroups=j)},H.prototype.plotGroup=function(m,j,T,Z,B){var tt=this[m],$=!tt;return T={visibility:T,zIndex:Z||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(T.opacity=this.opacity),$&&(this[m]=tt=this.chart.renderer.g().add(B)),tt.addClass("highcharts-"+j+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(tt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),tt.attr(T)[$?"attr":"animate"](this.getPlotBox()),tt},H.prototype.getPlotBox=function(){var m=this.chart,j=this.xAxis,T=this.yAxis;return m.inverted&&(j=T,T=this.xAxis),{translateX:j?j.left:m.plotLeft,translateY:T?T.top:m.plotTop,scaleX:1,scaleY:1}},H.prototype.removeEvents=function(m){m||k(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(j){j()}),this.eventsToUnbind.length=0)},H.prototype.render=function(){var m=this,j=m.chart,T=m.options,Z=P(T.animation),B=m.visible?"inherit":"hidden",tt=T.zIndex,$=m.hasRendered,nt=j.seriesGroup,ot=j.inverted;j=!m.finishedAnimating&&j.renderer.isSVG?Z.duration:0,M(this,"render");var pt=m.plotGroup("group","series",B,tt,nt);m.markerGroup=m.plotGroup("markerGroup","markers",B,tt,nt),!1!==T.clip&&m.setClip(),m.animate&&j&&m.animate(!0),pt.inverted=!!f(m.invertible,m.isCartesian)&&ot,m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels&&m.drawDataLabels(),m.redrawPoints&&m.redrawPoints(),m.drawTracker&&!1!==m.options.enableMouseTracking&&m.drawTracker(),m.invertGroups(ot),m.animate&&j&&m.animate(),$||(j&&Z.defer&&(j+=Z.defer),m.animationTimeout=z(function(){m.afterAnimate()},j||0)),m.isDirty=!1,m.hasRendered=!0,M(m,"afterRender")},H.prototype.redraw=function(){var m=this.chart,j=this.isDirty||this.isDirtyData,T=this.group,Z=this.xAxis,B=this.yAxis;T&&(m.inverted&&T.attr({width:m.plotWidth,height:m.plotHeight}),T.animate({translateX:f(Z&&Z.left,m.plotLeft),translateY:f(B&&B.top,m.plotTop)})),this.translate(),this.render(),j&&delete this.kdTree},H.prototype.searchPoint=function(m,j){var T=this.xAxis,Z=this.yAxis,B=this.chart.inverted;return this.searchKDTree({clientX:B?T.len-m.chartY+T.pos:m.chartX-T.pos,plotY:B?Z.len-m.chartX+Z.pos:m.chartY-Z.pos},j,m)},H.prototype.buildKDTree=function(m){function j(B,tt,$){var nt=B&&B.length;if(nt){var ot=T.kdAxisArray[tt%$];return B.sort(function(pt,ut){return pt[ot]-ut[ot]}),{point:B[nt=Math.floor(nt/2)],left:j(B.slice(0,nt),tt+1,$),right:j(B.slice(nt+1),tt+1,$)}}}this.buildingKdTree=!0;var T=this,Z=-1<T.options.findNearestPointBy.indexOf("y")?2:1;delete T.kdTree,z(function(){T.kdTree=j(T.getValidPoints(null,!T.directTouch),Z,Z),T.buildingKdTree=!1},T.options.kdNow||m&&"touchstart"===m.type?0:1)},H.prototype.searchKDTree=function(m,j,T){var B=this,tt=this.kdAxisArray[0],$=this.kdAxisArray[1],nt=j?"distX":"dist";if(j=-1<B.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(T),this.kdTree)return function Z(ot,pt,ut,ct){var ht=pt.point,st=B.kdAxisArray[ut%ct],F=ht,Q=c(ot[tt])&&c(ht[tt])?Math.pow(ot[tt]-ht[tt],2):null,it=c(ot[$])&&c(ht[$])?Math.pow(ot[$]-ht[$],2):null;return ht.dist=c(it=(Q||0)+(it||0))?Math.sqrt(it):Number.MAX_VALUE,ht.distX=c(Q)?Math.sqrt(Q):Number.MAX_VALUE,Q=0>(st=ot[st]-ht[st])?"right":"left",pt[it=0>st?"left":"right"]&&(F=(it=Z(ot,pt[it],ut+1,ct))[nt]<F[nt]?it:ht),pt[Q]&&Math.sqrt(st*st)<F[nt]&&(F=(ot=Z(ot,pt[Q],ut+1,ct))[nt]<F[nt]?ot:F),F}(m,this.kdTree,j,j)},H.prototype.pointPlacementToXValue=function(){var m=this.options,j=m.pointRange,T=this.xAxis;return"between"===(m=m.pointPlacement)&&(m=T.reversed?-.5:.5),D(m)?m*(j||T.pointRange):0},H.prototype.isPointInside=function(m){var j=this.chart,T=this.xAxis,Z=this.yAxis;return typeof m.plotY<"u"&&typeof m.plotX<"u"&&0<=m.plotY&&m.plotY<=(Z?Z.len:j.plotHeight)&&0<=m.plotX&&m.plotX<=(T?T.len:j.plotWidth)},H.prototype.drawTracker=function(){var m=this,j=m.options,T=j.trackByArea,Z=[].concat(T?m.areaPath:m.graphPath),B=m.chart,tt=B.pointer,$=B.renderer,nt=B.options.tooltip.snap,ot=m.tracker,pt=function(ct){B.hoverSeries!==m&&m.onMouseOver()},ut="rgba(192,192,192,"+(A?1e-4:.002)+")";ot?ot.attr({d:Z}):m.graph&&(m.tracker=$.path(Z).attr({visibility:m.visible?"visible":"hidden",zIndex:2}).addClass(T?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),B.styledMode||m.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ut,fill:T?ut:"none","stroke-width":m.graph.strokeWidth()+(T?0:2*nt)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(function(ct){ct&&(ct.addClass("highcharts-tracker").on("mouseover",pt).on("mouseout",function(ht){tt.onTrackerMouseOut(ht)}),j.cursor&&!B.styledMode&&ct.css({cursor:j.cursor}),_)&&ct.on("touchstart",pt)})),M(this,"afterDrawTracker")},H.prototype.addPoint=function(m,j,T,Z,B){var tt=this.options,$=this.data,nt=this.chart,ot=this.xAxis;ot=ot&&ot.hasNames&&ot.names;var ct,pt=tt.data,ut=this.xData;j=f(j,!0);var ht={series:this};this.pointClass.prototype.applyOptions.apply(ht,[m]);var st=ht.x,F=ut.length;if(this.requireSorting&&st<ut[F-1])for(ct=!0;F&&ut[F-1]>st;)F--;this.updateParallelArrays(ht,"splice",F,0,0),this.updateParallelArrays(ht,F),ot&&ht.name&&(ot[st]=ht.name),pt.splice(F,0,m),(ct||this.processedData)&&(this.data.splice(F,0,null),this.processData()),"point"===tt.legendType&&this.generatePoints(),T&&($[0]&&$[0].remove?$[0].remove(!1):($.shift(),this.updateParallelArrays(ht,"shift"),pt.shift())),!1!==B&&M(this,"addPoint",{point:ht}),this.isDirtyData=this.isDirty=!0,j&&nt.redraw(Z)},H.prototype.removePoint=function(m,j,T){var Z=this,B=Z.data,tt=B[m],$=Z.points,nt=Z.chart,ot=function(){$&&$.length===B.length&&$.splice(m,1),B.splice(m,1),Z.options.data.splice(m,1),Z.updateParallelArrays(tt||{series:Z},"splice",m,1),tt&&tt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,j&&nt.redraw()};y(T,nt),j=f(j,!0),tt?tt.firePointEvent("remove",null,ot):ot()},H.prototype.remove=function(m,j,T,Z){function B(){tt.destroy(Z),$.isDirtyLegend=$.isDirtyBox=!0,$.linkSeries(),f(m,!0)&&$.redraw(j)}var tt=this,$=tt.chart;!1!==T?M(tt,"remove",null,B):B()},H.prototype.update=function(m,j){m=p(m,this.userOptions),M(this,"update",{options:m});var ut,T=this,Z=T.chart,B=T.userOptions,tt=T.initialType||T.type,$=Z.options.plotOptions,nt=C[tt].prototype,ot=T.finishedAnimating&&{animation:!1},pt={},ct=["eventOptions","navigatorSeries","baseSeries"],ht=m.type||B.type||Z.options.chart.type,st=!(this.hasDerivedData||ht&&ht!==this.type||typeof m.pointStart<"u"||typeof m.pointInterval<"u"||typeof m.relativeXValue<"u"||m.joinBy||m.mapData||T.hasOptionChanged("dataGrouping")||T.hasOptionChanged("pointStart")||T.hasOptionChanged("pointInterval")||T.hasOptionChanged("pointIntervalUnit")||T.hasOptionChanged("keys"));if(ht=ht||tt,st&&(ct.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==m.visible&&ct.push("area","graph"),T.parallelArrays.forEach(function(Q){ct.push(Q+"Data")}),m.data&&(m.dataSorting&&r(T.options.dataSorting,m.dataSorting),this.setData(m.data,!1))),m=N(B,ot,{index:typeof B.index>"u"?T.index:B.index,pointStart:f($&&$.series&&$.series.pointStart,B.pointStart,T.xData[0])},!st&&{data:T.options.data},m),st&&m.data&&(m.data=T.options.data),(ct=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ct)).forEach(function(Q){ct[Q]=T[Q],delete T[Q]}),$=!1,C[ht]){if($=ht!==T.type,T.remove(!1,!1,!1,!0),$)if(Object.setPrototypeOf)Object.setPrototypeOf(T,C[ht].prototype);else{for(ut in ot=Object.hasOwnProperty.call(T,"hcEvents")&&T.hcEvents,nt)T[ut]=void 0;r(T,C[ht].prototype),ot?T.hcEvents=ot:delete T.hcEvents}}else n(17,!0,Z,{missingModuleFor:ht});if(ct.forEach(function(Q){T[Q]=ct[Q]}),T.init(Z,m),st&&this.points){var F=T.options;!1===F.visible?(pt.graphic=1,pt.dataLabel=1):T._hasPointLabels||(nt=F.dataLabels,!(m=F.marker)||!1!==m.enabled&&(B.marker&&B.marker.symbol)===m.symbol||(pt.graphic=1),nt&&!1===nt.enabled&&(pt.dataLabel=1)),this.points.forEach(function(Q){Q&&Q.series&&(Q.resolveColor(),Object.keys(pt).length&&Q.destroyElements(pt),!1===F.showInLegend&&Q.legendItem&&Z.legend.destroyItem(Q))},this)}T.initialType=tt,Z.linkSeries(),$&&T.linkedSeries.length&&(T.isDirtyData=!0),M(this,"afterUpdate"),f(j,!0)&&Z.redraw(!!st&&void 0)},H.prototype.setName=function(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0},H.prototype.hasOptionChanged=function(m){var j=this.options[m],T=this.chart.options.plotOptions,Z=this.userOptions[m];return Z?j!==Z:j!==f(T&&T[this.type]&&T[this.type][m],T&&T.series&&T.series[m],j)},H.prototype.onMouseOver=function(){var m=this.chart,j=m.hoverSeries;m.pointer.setHoverChartIndex(),j&&j!==this&&j.onMouseOut(),this.options.events.mouseOver&&M(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this},H.prototype.onMouseOut=function(){var m=this.options,j=this.chart,T=j.tooltip,Z=j.hoverPoint;j.hoverSeries=null,Z&&Z.onMouseOut(),this&&m.events.mouseOut&&M(this,"mouseOut"),!T||this.stickyTracking||T.shared&&!this.noSharedTooltip||T.hide(),j.series.forEach(function(B){B.setState("",!0)})},H.prototype.setState=function(m,j){var T=this,Z=T.options,B=T.graph,tt=Z.inactiveOtherPoints,$=Z.states,nt=f($[m||"normal"]&&$[m||"normal"].animation,T.chart.options.chart.animation),ot=Z.lineWidth,pt=0,ut=Z.opacity;if(T.state!==(m=m||"")&&([T.group,T.markerGroup,T.dataLabelsGroup].forEach(function(ct){ct&&(T.state&&ct.removeClass("highcharts-series-"+T.state),m&&ct.addClass("highcharts-series-"+m))}),T.state=m,!T.chart.styledMode)){if($[m]&&!1===$[m].enabled)return;if(m&&(ot=$[m].lineWidth||ot+($[m].lineWidthPlus||0),ut=f($[m].opacity,ut)),B&&!B.dashstyle)for(B.animate(Z={"stroke-width":ot},nt);T["zone-graph-"+pt];)T["zone-graph-"+pt].animate(Z,nt),pt+=1;tt||[T.group,T.markerGroup,T.dataLabelsGroup,T.labelBySeries].forEach(function(ct){ct&&ct.animate({opacity:ut},nt)})}j&&tt&&T.points&&T.setAllPointsToState(m||void 0)},H.prototype.setAllPointsToState=function(m){this.points.forEach(function(j){j.setState&&j.setState(m)})},H.prototype.setVisible=function(m,j){var T=this,Z=T.chart,B=T.legendItem,tt=Z.options.chart.ignoreHiddenSeries,nt=(T.visible=m=T.options.visible=T.userOptions.visible=typeof m>"u"?!T.visible:m)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(ot){T[ot]&&T[ot][nt]()}),(Z.hoverSeries===T||(Z.hoverPoint&&Z.hoverPoint.series)===T)&&T.onMouseOut(),B&&Z.legend.colorizeItem(T,m),T.isDirty=!0,T.options.stacking&&Z.series.forEach(function(ot){ot.options.stacking&&ot.visible&&(ot.isDirty=!0)}),T.linkedSeries.forEach(function(ot){ot.setVisible(m,!1)}),tt&&(Z.isDirtyBox=!0),M(T,nt),!1!==j&&Z.redraw()},H.prototype.show=function(){this.setVisible(!0)},H.prototype.hide=function(){this.setVisible(!1)},H.prototype.select=function(m){this.selected=m=this.options.selected=typeof m>"u"?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),M(this,m?"select":"unselect")},H.prototype.shouldShowTooltip=function(m,j,T){return void 0===T&&(T={}),T.series=this,T.visiblePlotOnly=!0,this.chart.isInsidePlot(m,j,T)},H.defaultOptions=J,H}(),r(G.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:K.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:et,requireSorting:!0,sorted:!0}),U.series=G,G}),mt(X,"Extensions/ScrollablePlotArea.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/Chart/Chart.js"],X["Core/Series/Series.js"],X["Core/Renderer/RendererRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){var J=G.stop,U=et.addEvent,I=et.createElement,O=et.merge,P=et.pick;U(t,"afterSetChartSize",function(y){var h=this.options.chart.scrollablePlotArea,v=h&&h.minWidth;if(h=h&&h.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else h&&(this.scrollablePixelsY=v=Math.max(0,h-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!y.skipAxes&&this.axes.forEach(function(A){_[A.side]?A.getPlotLinePath=function(){var d=_[A.side].name,C=this[d];this[d]=C-_[A.side].value;var x=W.prototype.getPlotLinePath.apply(this,arguments);return this[d]=C,x}:(A.setAxisSize(),A.setAxisTranslation())})}}),U(t,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),t.prototype.setUpScrolling=function(){var y=this,h={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(h.overflowX="auto"),this.scrollablePixelsY&&(h.overflowY="auto"),this.scrollingParent=I("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=I("div",{className:"highcharts-scrolling"},h,this.scrollingParent),U(this.scrollingContainer,"scroll",function(){y.pointer&&delete y.pointer.chartPosition}),this.innerContainer=I("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},t.prototype.moveFixedElements=function(){var _,y=this.container,h=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(A){[].forEach.call(y.querySelectorAll(A),function(d){(d.namespaceURI===h.SVG_NS?h.box:h.box.parentNode).appendChild(d),d.style.pointerEvents="auto"})})},t.prototype.applyFixed=function(){var y=!this.fixedDiv,h=this.options.chart,v=h.scrollablePlotArea,_=K.getRendererType();y?(this.fixedDiv=I("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(h.style&&h.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=h=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=h.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":P(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),U(this,"afterShowResetZoom",this.moveFixedElements),U(this,"afterApplyDrilldown",this.moveFixedElements),U(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||y)&&(this.scrollableDirty=!1,this.moveFixedElements()),h=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=h+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:h,height:_,viewBox:[0,0,h,_].join(" ")}),this.chartBackground.attr({width:h,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",y&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),y=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,h=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var A=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),d=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);y=this.scrollablePixelsX?[["M",0,y],["L",this.plotLeft-1,y],["L",this.plotLeft-1,h],["L",0,h],["Z"],["M",A,y],["L",this.chartWidth,y],["L",this.chartWidth,h],["L",A,h],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,d],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,d],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:y})},U(W,"afterInit",function(){this.chart.scrollableDirty=!0}),U(V,"show",function(){this.chart.scrollableDirty=!0})}),mt(X,"Core/Axis/StackingAxis.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Axis/Axis.js"],X["Core/Utilities.js"]],function(G,W,t){var O,V=G.getDeferredAnimation,K=t.addEvent,et=t.destroyObjectProperties,J=t.fireEvent,U=t.isNumber,I=t.objectEach;return function(P){function y(){var A=this.stacking;if(A){var d=A.stacks;I(d,function(C,x){et(C),d[x]=null}),A&&A.stackTotalGroup&&A.stackTotalGroup.destroy()}}function h(){this.stacking||(this.stacking=new _(this))}var v=[];P.compose=function(A){return-1===v.indexOf(A)&&(v.push(A),K(A,"init",h),K(A,"destroy",y)),A};var _=function(){function A(d){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=d}return A.prototype.buildStacks=function(){var u,d=this.axis,C=d.series,x=d.options.reversedStacks,b=C.length;if(!d.isXAxis){for(this.usePercentage=!1,u=b;u--;){var l=C[x?u:b-u-1];l.setStackedPoints(),l.setGroupedPoints()}for(u=0;u<b;u++)C[u].modifyStacks();J(d,"afterBuildStacks")}},A.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var d=this.stacks=this.oldStacks;I(d,function(C){I(C,function(x){x.cumulative=x.total})})}},A.prototype.resetStacks=function(){var d=this;d.axis.isXAxis||I(d.stacks,function(x){I(x,function(b,u){U(b.touched)&&b.touched<d.stacksTouched?(b.destroy(),delete x[u]):(b.total=null,b.cumulative=null)})})},A.prototype.renderStackTotals=function(){var d=this.axis,C=d.chart,x=C.renderer,b=this.stacks;d=V(C,d.options.stackLabels&&d.options.stackLabels.animation||!1);var u=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();u.translate(C.plotLeft,C.plotTop),I(b,function(l){I(l,function(p){p.render(u)})}),u.animate({opacity:1},d)},A}();P.Additions=_}(O||(O={})),O}),mt(X,"Extensions/Stacking.js",[X["Core/Axis/Axis.js"],X["Core/Chart/Chart.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Series/Series.js"],X["Core/Axis/StackingAxis.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var U=t.format,I=J.correctFloat,O=J.defined,P=J.destroyObjectProperties,y=J.isArray,h=J.isNumber,v=J.objectEach,_=J.pick,A=function(){function d(C,x,b,u,l){var p=C.chart.inverted;this.axis=C,this.isNegative=b,this.options=x=x||{},this.x=u,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=l,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(p?b?"left":"right":"center"),verticalAlign:x.verticalAlign||(p?"middle":b?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(p?b?"right":"left":"center")}return d.prototype.destroy=function(){P(this,this.axis)},d.prototype.render=function(C){var x=this.axis.chart,b=this.options,u=b.format;u=u?U(u,this,x):b.formatter.call(this),this.label?this.label.attr({text:u,visibility:"hidden"}):(this.label=x.renderer.label(u,null,null,b.shape,null,null,b.useHTML,!1,"stack-labels"),u={r:b.borderRadius||0,text:u,rotation:b.rotation,padding:_(b.padding,5),visibility:"hidden"},x.styledMode||(u.fill=b.backgroundColor,u.stroke=b.borderColor,u["stroke-width"]=b.borderWidth,this.label.css(b.style)),this.label.attr(u),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},d.prototype.setOffset=function(C,x,b,u,l){var p=this.axis,i=p.chart;u=p.translate(p.stacking.usePercentage?100:u||this.total,0,0,0,1),b=p.translate(b||0),b=O(u)&&Math.abs(u-b),C=_(l,i.xAxis[0].translate(this.x))+C,p=O(u)&&this.getStackBox(i,this,C,u,x,b,p),x=this.label,b=this.isNegative,C="justify"===_(this.options.overflow,"justify");var c=this.textAlign;x&&p&&(l=x.getBBox(),u=x.padding,c="left"===c?i.inverted?-u:u:"right"===c?l.width:i.inverted&&"center"===c?l.width/2:i.inverted?b?l.width+u:-u:l.width/2,b=i.inverted?l.height/2:b?-u:l.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),p.x-=c,p.y-=b,x.align(this.alignOptions,null,p),i.isInsidePlot(x.alignAttr.x+c-this.alignOptions.x,x.alignAttr.y+b-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&K.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,l,p),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),_(!C&&this.options.crop,!0)&&((i=h(x.x)&&h(x.y)&&i.isInsidePlot(x.x-u+x.width,x.y)&&i.isInsidePlot(x.x+u,x.y))||x.hide()))},d.prototype.getStackBox=function(C,x,b,u,l,p,i){var c=x.axis.reversed,o=C.inverted,n=i.height+i.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!c||!x.isNegative&&c,{x:o?x?u-i.right:u-p+i.pos-C.plotLeft:b+C.xAxis[0].transB-C.plotLeft,y:o?i.height-b-l:x?n-u-p:n-u,width:o?p:l,height:o?l:p}},d}();return W.prototype.getStacks=function(){var d=this,C=d.inverted;d.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),d.series.forEach(function(x){var b=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==d.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,_(x.options.stack,""),C?b.top:b.left,C?b.height:b.width].join())})},et.compose(G),K.prototype.setGroupedPoints=function(){var d=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?K.prototype.setStackedPoints.call(this,"group"):d&&v(d.stacks,function(C,x){"group"===x.slice(-5)&&(v(C,function(b){return b.destroy()}),delete d.stacks[x])})},K.prototype.setStackedPoints=function(d){var C=d||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,b=this.processedYData,u=[],l=b.length,p=this.options,i=p.threshold,c=_(p.startFromThreshold&&i,0);p=p.stack;var L,Y,o="-"+(d=d?this.type+","+C:this.stackKey),n=this.negStacks,r=this.yAxis,a=r.stacking.stacks,M=r.stacking.oldStacks;for(r.stacking.stacksTouched+=1,Y=0;Y<l;Y++){var D=x[Y],w=b[Y],N=this.getStackIndicator(N,D,this.index),s=N.key,f=(L=n&&w<(c?0:i))?o:d;a[f]||(a[f]={}),a[f][D]||(M[f]&&M[f][D]?(a[f][D]=M[f][D],a[f][D].total=null):a[f][D]=new A(r,r.options.stackLabels,L,D,p)),f=a[f][D],null!==w?(f.points[s]=f.points[this.index]=[_(f.cumulative,c)],O(f.cumulative)||(f.base=s),f.touched=r.stacking.stacksTouched,0<N.index&&!1===this.singleStacks&&(f.points[s][0]=f.points[this.index+","+D+",0"][0])):f.points[s]=f.points[this.index]=null,"percent"===C?(L=L?d:o,f.total=n&&a[L]&&a[L][D]?(L=a[L][D]).total=Math.max(L.total,f.total)+Math.abs(w)||0:I(f.total+(Math.abs(w)||0))):"group"===C?(y(w)&&(w=w[0]),null!==w&&(f.total=(f.total||0)+1)):f.total=I(f.total+(w||0)),f.cumulative="group"===C?(f.total||1)-1:_(f.cumulative,c)+(w||0),null!==w&&(f.points[s].push(f.cumulative),u[Y]=f.cumulative,f.hasValidPoints=!0)}"percent"===C&&(r.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=u),r.stacking.oldStacks={}}},K.prototype.modifyStacks=function(){var u,d=this,C=d.stackKey,x=d.yAxis.stacking.stacks,b=d.processedXData,l=d.options.stacking;d[l+"Stacker"]&&[C,"-"+C].forEach(function(p){for(var c,o,i=b.length;i--;)u=d.getStackIndicator(u,c=b[i],d.index,p),(o=(c=x[p]&&x[p][c])&&c.points[u.key])&&d[l+"Stacker"](o,c,i)})},K.prototype.percentStacker=function(d,C,x){d[0]=I(d[0]*(C=C.total?100/C.total:0)),d[1]=I(d[1]*C),this.stackedYData[x]=d[1]},K.prototype.getStackIndicator=function(d,C,x,b){return!O(d)||d.x!==C||b&&d.stackKey!==b?d={x:C,index:0,key:b,stackKey:b}:d.index++,d.key=[x,C,d.index].join(),d},V.StackItem=A,V.StackItem}),mt(X,"Series/Line/LineSeries.js",[X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),K=t.defined,et=t.merge;return t=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return V(U,J),U.prototype.drawGraph=function(){var I=this,O=this.options,P=(this.gappedPath||this.getGraphPath).call(this),y=this.chart.styledMode,h=[["graph","highcharts-graph"]];y||h[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(h=I.getZonesGraphs(h)).forEach(function(v,_){var A=v[0],d=I[A],C=d?"animate":"attr";d?(d.endX=I.preventGraphAnimation?null:P.xMap,d.animate({d:P})):P.length&&(I[A]=d=I.chart.renderer.path(P).addClass(v[1]).attr({zIndex:1}).add(I.group)),d&&!y&&(A={stroke:v[2],"stroke-width":O.lineWidth,fill:I.fillGraph&&I.color||"none"},v[3]?A.dashstyle=v[3]:"square"!==O.linecap&&(A["stroke-linecap"]=A["stroke-linejoin"]="round"),d[C](A).shadow(2>_&&O.shadow)),d&&(d.startX=P.xMap,d.isArea=P.isArea)})},U.prototype.getGraphPath=function(I,O,P){var A,y=this,h=y.options,v=[],_=[],d=h.step,C=(I=I||y.points).reversed;return C&&I.reverse(),(d={right:1,center:2}[d]||d&&3)&&C&&(d=4-d),(I=this.getValidPoints(I,!1,!(h.connectNulls&&!O&&!P))).forEach(function(x,b){var u=x.plotX,l=x.plotY,p=I[b-1];(x.leftCliff||p&&p.rightCliff)&&!P&&(A=!0),x.isNull&&!K(O)&&0<b?A=!h.connectNulls:x.isNull&&!O?A=!0:(0===b||A?b=[["M",x.plotX,x.plotY]]:y.getPointSpline?b=[y.getPointSpline(I,x,b)]:d?(b=1===d?[["L",p.plotX,l]]:2===d?[["L",(p.plotX+u)/2,p.plotY],["L",(p.plotX+u)/2,l]]:[["L",u,p.plotY]]).push(["L",u,l]):b=[["L",u,l]],_.push(x.x),d&&(_.push(x.x),2===d&&_.push(x.x)),v.push.apply(v,b),A=!1)}),v.xMap=_,y.graphPath=v},U.prototype.getZonesGraphs=function(I){return this.zones.forEach(function(O,P){P=["zone-graph-"+P,"highcharts-graph highcharts-zone-graph-"+P+" "+(O.className||"")],this.chart.styledMode||P.push(O.color||this.color,O.dashStyle||this.options.dashStyle),I.push(P)},this),I},U.defaultOptions=et(G.defaultOptions,{}),U}(G),W.registerSeriesType("line",t),t}),mt(X,"Series/Area/AreaSeries.js",[X["Core/Color/Color.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var P,K=this&&this.__extends||(P=function(y,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var A in _)_.hasOwnProperty(A)&&(v[A]=_[A])})(y,h)},function(y,h){function v(){this.constructor=y}P(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),et=G.parse,J=t.seriesTypes.line;G=V.extend;var U=V.merge,I=V.objectEach,O=V.pick;return V=function(P){function y(){var h=null!==P&&P.apply(this,arguments)||this;return h.data=void 0,h.options=void 0,h.points=void 0,h}return K(y,P),y.prototype.drawGraph=function(){this.areaPath=[],P.prototype.drawGraph.apply(this);var h=this,v=this.areaPath,_=this.options,A=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(d,C){A.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+d.className,d.color||h.color,d.fillColor||_.fillColor])}),A.forEach(function(d){var C=d[0],x=h[C],b=x?"animate":"attr",u={};x?(x.endX=h.preventGraphAnimation?null:v.xMap,x.animate({d:v})):(u.zIndex=0,(x=h[C]=h.chart.renderer.path(v).addClass(d[1]).add(h.group)).isArea=!0),h.chart.styledMode||(u.fill=O(d[3],et(d[2]).setOpacity(O(_.fillOpacity,.75)).get())),x[b](u),x.startX=v.xMap,x.shiftUnit=_.step?2:1})},y.prototype.getGraphPath=function(h){var C,v=J.prototype.getGraphPath,_=this.options,A=_.stacking,d=this.yAxis,x=[],b=[],u=this.index,l=d.stacking.stacks[this.stackKey],p=_.threshold,i=Math.round(d.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===A);var c=function(a,M,L){var Y=h[a];a=A&&l[Y.x].points[u];var D=Y[L+"Null"]||0;if(L=Y[L+"Cliff"]||0,Y=!0,L||D){var w=(D?a[0]:a[1])+L,N=a[0]+L;Y=!!D}else!A&&h[M]&&h[M].isNull&&(w=N=p);typeof w<"u"&&(b.push({plotX:n,plotY:null===w?i:d.getThreshold(w),isNull:Y,isCliff:!0}),x.push({plotX:n,plotY:null===N?i:d.getThreshold(N),doCurve:!1}))};for(h=h||this.points,A&&(h=this.getStackPoints(h)),C=0;C<h.length;C++){A||(h[C].leftCliff=h[C].rightCliff=h[C].leftNull=h[C].rightNull=void 0);var o=h[C].isNull,n=O(h[C].rectPlotX,h[C].plotX),r=A?O(h[C].yBottom,i):i;(!o||_)&&(_||c(C,C-1,"left"),o&&!A&&_||(b.push(h[C]),x.push({x:C,plotX:n,plotY:r})),_||c(C,C+1,"right"))}return C=v.call(this,b,!0,!0),x.reversed=!0,(r=(o=v.call(this,x,!0,!0))[0])&&"M"===r[0]&&(o[0]=["L",r[1],r[2]]),(o=C.concat(o)).length&&o.push(["Z"]),v=v.call(this,b,!1,_),o.xMap=C.xMap,this.areaPath=o,v},y.prototype.getStackPoints=function(h){var v=this,_=[],A=[],d=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],b={},u=C.series,l=u.length,p=C.options.reversedStacks?1:-1,i=u.indexOf(v);if(h=h||this.points,this.options.stacking){for(var c=0;c<h.length;c++)h[c].leftNull=h[c].rightNull=void 0,b[h[c].x]=h[c];I(x,function(n,r){null!==n.total&&A.push(r)}),A.sort(function(n,r){return n-r});var o=u.map(function(n){return n.visible});A.forEach(function(n,r){var M,L,a=0;if(b[n]&&!b[n].isNull)_.push(b[n]),[-1,1].forEach(function(D){var w=1===D?"rightNull":"leftNull",N=0,s=x[A[r+D]];if(s)for(var f=i;0<=f&&f<l;){var k=u[f].index;(M=s.points[k])||(k===v.index?b[n][w]=!0:o[f]&&(L=x[n].points[k])&&(N-=L[1]-L[0])),f+=p}b[n][1===D?"rightCliff":"leftCliff"]=N});else{for(var Y=i;0<=Y&&Y<l;){if(M=x[n].points[u[Y].index]){a=M[1];break}Y+=p}a=O(a,0),a=C.translate(a,0,1,0,1),_.push({isNull:!0,plotX:d.translate(n,0,0,0,1),x:n,plotY:a,yBottom:a})}})}return _},y.defaultOptions=U(J.defaultOptions,{threshold:0}),y}(J),G(V.prototype,{singleStacks:!1,drawLegendSymbol:W.drawRectangle}),t.registerSeriesType("area",V),V}),mt(X,"Series/Spline/SplineSeries.js",[X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W){var J,t=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),V=G.seriesTypes.line,K=W.merge,et=W.pick;return W=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return t(U,J),U.prototype.getPointSpline=function(I,O,P){var y=O.plotX||0,h=O.plotY||0,v=I[P-1];if(P=I[P+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&P&&!P.isNull&&!1!==P.doCurve&&!O.isCliff){var _=P.plotX||0,A=0,d=(1.5*y+(v.plotX||0))/2.5,C=(1.5*h+(I=v.plotY||0))/2.5,x=(1.5*h+(P=P.plotY||0))/2.5;(_=(1.5*y+_)/2.5)!==d&&(A=(x-C)*(_-y)/(_-d)+h-x),x+=A,(C+=A)>I&&C>h?x=2*h-(C=Math.max(I,h)):C<I&&C<h&&(x=2*h-(C=Math.min(I,h))),x>P&&x>h?C=2*h-(x=Math.max(P,h)):x<P&&x<h&&(C=2*h-(x=Math.min(P,h))),O.rightContX=_,O.rightContY=x}return O=["C",et(v.rightContX,v.plotX,0),et(v.rightContY,v.plotY,0),et(d,y,0),et(C,h,0),y,h],v.rightContX=v.rightContY=void 0,O},U.defaultOptions=K(V.defaultOptions),U}(V),G.registerSeriesType("spline",W),W}),mt(X,"Series/AreaSpline/AreaSplineSeries.js",[X["Series/Area/AreaSeries.js"],X["Series/Spline/SplineSeries.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var O,et=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),J=G.prototype,U=K.extend,I=K.merge;return K=function(O){function P(){var y=null!==O&&O.apply(this,arguments)||this;return y.data=void 0,y.points=void 0,y.options=void 0,y}return et(P,O),P.defaultOptions=I(W.defaultOptions,G.defaultOptions),P}(W),U(K.prototype,{getGraphPath:J.getGraphPath,getStackPoints:J.getStackPoints,drawGraph:J.drawGraph,drawLegendSymbol:t.drawRectangle}),V.registerSeriesType("areaspline",K),K}),mt(X,"Series/Column/ColumnSeries.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var l,U=this&&this.__extends||(l=function(p,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var n in o)o.hasOwnProperty(n)&&(c[n]=o[n])})(p,i)},function(p,i){function c(){this.constructor=p}l(p,i),p.prototype=null===i?Object.create(i):(c.prototype=i.prototype,new c)}),I=G.animObject,O=W.parse,P=t.hasTouch;G=t.noop;var y=J.clamp,h=J.css,v=J.defined,_=J.extend,A=J.fireEvent,d=J.isArray,C=J.isNumber,x=J.merge,b=J.pick,u=J.objectEach;return J=function(l){function p(){var i=null!==l&&l.apply(this,arguments)||this;return i.borderWidth=void 0,i.data=void 0,i.group=void 0,i.options=void 0,i.points=void 0,i}return U(p,l),p.prototype.animate=function(i){var c=this,o=this.yAxis,n=c.options,r=this.chart.inverted,a={},M=r?"translateX":"translateY";if(i)a.scaleY=.001,i=y(o.toPixels(n.threshold),o.pos,o.pos+o.len),r?a.translateX=i-o.len:a.translateY=i,c.clipBox&&c.setClip(),c.group.attr(a);else{var L=Number(c.group.attr(M));c.group.animate({scaleY:1},_(I(c.options.animation),{step:function(Y,D){c.group&&(a[M]=L+D.pos*(o.pos-L),c.group.attr(a))}}))}},p.prototype.init=function(i,c){l.prototype.init.apply(this,arguments);var o=this;(i=o.chart).hasRendered&&i.series.forEach(function(n){n.type===o.type&&(n.isDirty=!0)})},p.prototype.getColumnMetrics=function(){var i=this,c=i.options,o=i.xAxis,n=i.yAxis,r=o.options.reversedStacks;r=o.reversed&&!r||!o.reversed&&r;var M,a={},L=0;!1===c.grouping?L=1:i.chart.series.forEach(function(N){var s=N.yAxis,f=N.options;if(N.type===i.type&&(N.visible||!i.chart.options.chart.ignoreHiddenSeries)&&n.len===s.len&&n.pos===s.pos){if(f.stacking&&"group"!==f.stacking){typeof a[M=N.stackKey]>"u"&&(a[M]=L++);var k=a[M]}else!1!==f.grouping&&(k=L++);N.columnIndex=k}});var Y=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||c.pointRange||o.closestPointRange||o.tickInterval||1),o.len),D=Y*c.groupPadding,w=(Y-2*D)/(L||1);return c=Math.min(c.maxPointWidth||o.len,b(c.pointWidth,w*(1-2*c.pointPadding))),i.columnMetrics={width:c,offset:(w-c)/2+(D+((i.columnIndex||0)+(r?1:0))*w-Y/2)*(r?-1:1),paddedWidth:w,columnCount:L},i.columnMetrics},p.prototype.crispCol=function(i,c,o,n){var r=this.chart,a=this.borderWidth,M=-(a%2?.5:0);return a=a%2?.5:1,r.inverted&&r.renderer.isVML&&(a+=1),this.options.crisp&&(o=Math.round(i+o)+M,o-=i=Math.round(i)+M),n=Math.round(c+n)+a,M=.5>=Math.abs(c)&&.5<n,n-=c=Math.round(c)+a,M&&n&&(--c,n+=1),{x:i,y:c,width:o,height:n}},p.prototype.adjustForMissingColumns=function(i,c,o,n){var r=this,a=this.options.stacking;if(!o.isNull&&1<n.columnCount){var M=this.yAxis.options.reversedStacks,L=0,Y=M?0:-n.columnCount;u(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(D){if("number"==typeof o.x&&(D=D[o.x.toString()])){var w=D.points[r.index],N=D.total;a?(w&&(L=Y),D.hasValidPoints&&(M?Y++:Y--)):d(w)&&(L=w[1],Y=N||0)}}),i=(o.plotX||0)+((Y-1)*n.paddedWidth+c)/2-c-L*n.paddedWidth}return i},p.prototype.translate=function(){var i=this,c=i.chart,o=i.options,n=i.dense=2>i.closestPointRange*i.xAxis.transA;n=i.borderWidth=b(o.borderWidth,n?0:1);var r=i.xAxis,a=i.yAxis,M=o.threshold,L=i.translatedThreshold=a.getThreshold(M),Y=b(o.minPointLength,5),D=i.getColumnMetrics(),w=D.width,N=i.pointXOffset=D.offset,s=i.dataMin,f=i.dataMax,k=i.barW=Math.max(w,1+2*n);c.inverted&&(L-=.5),o.pointPadding&&(k=Math.ceil(k)),K.prototype.translate.apply(i),i.points.forEach(function(R){var z=b(R.yBottom,L),H=999+Math.abs(z),m=R.plotX||0;H=y(R.plotY,-H,a.len+H);var j=Math.min(H,z),T=Math.max(H,z)-j,Z=w,B=m+N,tt=k;Y&&Math.abs(T)<Y&&(T=Y,m=!a.reversed&&!R.negative||a.reversed&&R.negative,C(M)&&C(f)&&R.y===M&&f<=M&&(a.min||0)<M&&(s!==f||(a.max||0)<=M)&&(m=!m),j=Math.abs(j-L)>Y?z-Y:L-(m?Y:0)),v(R.options.pointWidth)&&(Z=tt=Math.ceil(R.options.pointWidth),B-=Math.round((Z-w)/2)),o.centerInCategory&&(B=i.adjustForMissingColumns(B,Z,R,D)),R.barX=B,R.pointWidth=Z,R.tooltipPos=c.inverted?[y(a.len+a.pos-c.plotLeft-H,a.pos-c.plotLeft,a.len+a.pos-c.plotLeft),r.len+r.pos-c.plotTop-B-tt/2,T]:[r.left-c.plotLeft+B+tt/2,y(H+a.pos-c.plotTop,a.pos-c.plotTop,a.len+a.pos-c.plotTop),T],R.shapeType=i.pointClass.prototype.shapeType||"rect",R.shapeArgs=i.crispCol.apply(i,R.isNull?[B,L,tt,0]:[B,j,tt,T])})},p.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},p.prototype.pointAttribs=function(i,c){var o=this.options,n=this.pointAttrToOptions||{},r=n.stroke||"borderColor",a=n["stroke-width"]||"borderWidth",M=i&&i.color||this.color,L=i&&i[r]||o[r]||M;n=i&&i.options.dashStyle||o.dashStyle;var Y=i&&i[a]||o[a]||this[a]||0,D=b(i&&i.opacity,o.opacity,1);if(i&&this.zones.length){var w=i.getZone();M=i.options.color||w&&(w.color||i.nonZonedColor)||this.color,w&&(L=w.borderColor||L,n=w.dashStyle||n,Y=w.borderWidth||Y)}return c&&i&&(c=(i=x(o.states[c],i.options.states&&i.options.states[c]||{})).brightness,M=i.color||typeof c<"u"&&O(M).brighten(i.brightness).get()||M,L=i[r]||L,Y=i[a]||Y,n=i.dashStyle||n,D=b(i.opacity,D)),r={fill:M,stroke:L,"stroke-width":Y,opacity:D},n&&(r.dashstyle=n),r},p.prototype.drawPoints=function(){var a,i=this,c=this.chart,o=i.options,n=c.renderer,r=o.animationLimit||250;i.points.forEach(function(M){var L=M.graphic,Y=!!L,D=L&&c.pointCount<r?"animate":"attr";C(M.plotY)&&null!==M.y?(a=M.shapeArgs,L&&M.hasNewShapeType()&&(L=L.destroy()),i.enabledDataSorting&&(M.startXPos=i.xAxis.reversed?-(a&&a.width||0):i.xAxis.width),L||(M.graphic=L=n[M.shapeType](a).add(M.group||i.group))&&i.enabledDataSorting&&c.hasRendered&&c.pointCount<r&&(L.attr({x:M.startXPos}),Y=!0,D="animate"),L&&Y&&L[D](x(a)),o.borderRadius&&L[D]({r:o.borderRadius}),c.styledMode||L[D](i.pointAttribs(M,M.selected&&"select")).shadow(!1!==M.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),L&&(L.addClass(M.getClassName(),!0),L.attr({visibility:M.visible?"inherit":"hidden"}))):L&&(M.graphic=L.destroy())})},p.prototype.drawTracker=function(){var r,i=this,c=i.chart,o=c.pointer,n=function(a){var M=o.getPointFromEvent(a);typeof M<"u"&&(o.isDirectTouch=!0,M.onMouseOver(a))};i.points.forEach(function(a){r=d(a.dataLabels)?a.dataLabels:a.dataLabel?[a.dataLabel]:[],a.graphic&&(a.graphic.element.point=a),r.forEach(function(M){M.div?M.div.point=a:M.element.point=a})}),i._hasTracking||(i.trackerGroups.forEach(function(a){i[a]&&(i[a].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(M){o.onTrackerMouseOut(M)}),P&&i[a].on("touchstart",n),!c.styledMode&&i.options.cursor&&i[a].css(h).css({cursor:i.options.cursor}))}),i._hasTracking=!0),A(this,"afterDrawTracker")},p.prototype.remove=function(){var i=this,c=i.chart;c.hasRendered&&c.series.forEach(function(o){o.type===i.type&&(o.isDirty=!0)}),K.prototype.remove.apply(i,arguments)},p.defaultOptions=x(K.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),p}(K),_(J.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:V.drawRectangle,getSymbol:G,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),et.registerSeriesType("column",J),J}),mt(X,"Core/Series/DataLabel.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/FormatUtilities.js"],X["Core/Utilities.js"]],function(G,W,t){var v,V=G.getDeferredAnimation,K=W.format,et=t.defined,J=t.extend,U=t.fireEvent,I=t.isArray,O=t.merge,P=t.objectEach,y=t.pick,h=t.splat;return function(_){function A(p,i,c,o,n){var r=this,a=this.chart,M=this.isCartesian&&a.inverted,L=this.enabledDataSorting,Y=y(p.dlBox&&p.dlBox.centerX,p.plotX,-9999),D=y(p.plotY,-9999),w=i.getBBox(),N=c.rotation,s=c.align,f=a.isInsidePlot(Y,Math.round(D),{inverted:M,paneCoordinates:!0,series:r}),k=function(m){L&&r.xAxis&&!R&&r.setDataLabelStartPos(p,i,n,f,m)},R="justify"===y(c.overflow,L?"none":"justify"),z=this.visible&&!1!==p.visible&&(p.series.forceDL||L&&!R||f||y(c.inside,!!this.options.stacking)&&o&&a.isInsidePlot(Y,M?o.x+1:o.y+o.height-1,{inverted:M,paneCoordinates:!0,series:r}));if(z){var H=a.renderer.fontMetrics(a.styledMode?void 0:c.style.fontSize,i).b;o=J({x:M?this.yAxis.len-D:Y,y:Math.round(M?this.xAxis.len-Y:D),width:0,height:0},o),J(c,{width:w.width,height:w.height}),N?(R=!1,Y=a.renderer.rotCorr(H,N),k(Y={x:o.x+(c.x||0)+o.width/2+Y.x,y:o.y+(c.y||0)+{top:0,middle:.5,bottom:1}[c.verticalAlign]*o.height}),i[n?"attr":"animate"](Y).attr({align:s}),k=180<(k=(N+720)%360)&&360>k,"left"===s?Y.y-=k?w.height:0:"center"===s?(Y.x-=w.width/2,Y.y-=w.height/2):"right"===s&&(Y.x-=w.width,Y.y-=k?0:w.height),i.placed=!0,i.alignAttr=Y):(k(o),i.align(c,void 0,o),Y=i.alignAttr),R&&0<=o.height?this.justifyDataLabel(i,c,Y,w,o,n):y(c.crop,!0)&&(z=a.isInsidePlot(Y.x,Y.y,{paneCoordinates:!0,series:r})&&a.isInsidePlot(Y.x+w.width,Y.y+w.height,{paneCoordinates:!0,series:r})),c.shape&&!N&&i[n?"attr":"animate"]({anchorX:M?a.plotWidth-p.plotY:p.plotX,anchorY:M?a.plotHeight-p.plotX:p.plotY})}n&&L&&(i.placed=!1),z||L&&!R||(i.hide(!0),i.placed=!1)}function C(){var p=this,i=p.chart,c=p.options,o=p.points,n=p.hasRendered||0,r=i.renderer,a=c.dataLabels,L=a.animation;if(L=a.defer?V(i,L,p):{defer:0,duration:0},a=b(b(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[p.type]&&i.options.plotOptions[p.type].dataLabels),a),U(this,"drawDataLabels"),I(a)||a.enabled||p._hasPointLabels){var Y=p.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",a.zIndex||6);Y.attr({opacity:+n}),!n&&(n=p.dataLabelsGroup)&&(p.visible&&Y.show(!0),n[c.animation?"animate":"attr"]({opacity:1},L)),o.forEach(function(D){h(b(a,D.dlOptions||D.options&&D.options.dataLabels)).forEach(function(w,N){var s=w.enabled&&(!D.isNull||D.dataLabelOnNull)&&function d(p,i){var c=i.filter;return!c||(i=c.operator,p=p[c.property],c=c.value,">"===i&&p>c||"<"===i&&p<c||">="===i&&p>=c||"<="===i&&p<=c||"=="===i&&p==c||"==="===i&&p===c)}(D,w),f=D.connectors?D.connectors[N]:D.connector,k=D.dataLabels?D.dataLabels[N]:D.dataLabel,R=!k,z=y(w.distance,D.labelDistance);if(s){var H=D.getLabelConfig(),m=y(w[D.formatPrefix+"Format"],w.format);H=et(m)?K(m,H,i):(w[D.formatPrefix+"Formatter"]||w.formatter).call(H,w),m=w.style;var j=w.rotation;i.styledMode||(m.color=y(w.color,m.color,p.color,"#000000"),"contrast"===m.color?(D.contrastColor=r.getContrast(D.color||p.color),m.color=!et(z)&&w.inside||0>z||c.stacking?D.contrastColor:"#000000"):delete D.contrastColor,c.cursor&&(m.cursor=c.cursor));var T={r:w.borderRadius||0,rotation:j,padding:w.padding,zIndex:1};i.styledMode||(T.fill=w.backgroundColor,T.stroke=w.borderColor,T["stroke-width"]=w.borderWidth),P(T,function(Z,B){typeof Z>"u"&&delete T[B]})}!k||s&&et(H)&&!!k.div==!!w.useHTML&&(k.rotation&&w.rotation||k.rotation===w.rotation)||(R=!0,D.dataLabel=k=D.dataLabel&&D.dataLabel.destroy(),D.dataLabels&&(1===D.dataLabels.length?delete D.dataLabels:delete D.dataLabels[N]),N||delete D.dataLabel,f&&(D.connector=D.connector.destroy(),D.connectors&&(1===D.connectors.length?delete D.connectors:delete D.connectors[N]))),s&&et(H)&&(k?T.text=H:(D.dataLabels=D.dataLabels||[],k=D.dataLabels[N]=j?r.text(H,0,-9999,w.useHTML).addClass("highcharts-data-label"):r.label(H,0,-9999,w.shape,null,null,w.useHTML,null,"data-label"),N||(D.dataLabel=k),k.addClass(" highcharts-data-label-color-"+D.colorIndex+" "+(w.className||"")+(w.useHTML?" highcharts-tracker":""))),k.options=w,k.attr(T),i.styledMode||k.css(m).shadow(w.shadow),k.added||k.add(Y),w.textPath&&!w.useHTML&&(k.setTextPath(D.getDataLabelPath&&D.getDataLabelPath(k)||D.graphic,w.textPath),D.dataLabelPath&&!w.textPath.enabled&&(D.dataLabelPath=D.dataLabelPath.destroy())),p.alignDataLabel(D,k,w,null,R))})})}U(this,"afterDrawDataLabels")}function x(p,i,c,o,n,r){var a=this.chart,M=i.align,L=i.verticalAlign,Y=p.box?0:p.padding||0,D=i.x;D=void 0===D?0:D;var w=i.y;w=void 0===w?0:w;var N=(c.x||0)+Y;if(0>N){"right"===M&&0<=D?(i.align="left",i.inside=!0):D-=N;var s=!0}return(N=(c.x||0)+o.width-Y)>a.plotWidth&&("left"===M&&0>=D?(i.align="right",i.inside=!0):D+=a.plotWidth-N,s=!0),0>(N=c.y+Y)&&("bottom"===L&&0<=w?(i.verticalAlign="top",i.inside=!0):w-=N,s=!0),(N=(c.y||0)+o.height-Y)>a.plotHeight&&("top"===L&&0>=w?(i.verticalAlign="bottom",i.inside=!0):w+=a.plotHeight-N,s=!0),s&&(i.x=D,i.y=w,p.placed=!r,p.align(i,void 0,n)),s}function b(p,i){var o,c=[];if(I(p)&&!I(i))c=p.map(function(n){return O(n,i)});else if(I(i)&&!I(p))c=i.map(function(n){return O(p,n)});else if(I(p)||I(i))for(o=Math.max(p.length,i.length);o--;)c[o]=O(p[o],i[o]);else c=O(p,i);return c}function u(p,i,c,o,n){var r=this.chart,a=r.inverted,M=this.xAxis,L=M.reversed,Y=a?i.height/2:i.width/2;p=(p=p.pointWidth)?p/2:0,i.startXPos=a?n.x:L?-Y-p:M.width-Y+p,i.startYPos=a?L?this.yAxis.height-Y+p:-Y-p:n.y,o?"hidden"===i.visibility&&(i.show(),i.attr({opacity:0}).animate({opacity:1})):i.attr({opacity:1}).animate({opacity:0},void 0,i.hide),r.hasRendered&&(c&&i.attr({x:i.startXPos,y:i.startYPos}),i.placed=!0)}var l=[];_.compose=function(p){if(-1===l.indexOf(p)){var i=p.prototype;l.push(p),i.alignDataLabel=A,i.drawDataLabels=C,i.justifyDataLabel=x,i.setDataLabelStartPos=u}}}(v||(v={})),v}),mt(X,"Series/Column/ColumnDataLabel.js",[X["Core/Series/DataLabel.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=W.series,K=t.merge,et=t.pick;return function(U){function I(P,y,h,v,_){var A=this.chart.inverted,d=P.series,C=(d.xAxis?d.xAxis.len:this.chart.plotSizeX)||0,x=P.dlBox||P.shapeArgs,b=et(P.below,P.plotY>et(this.translatedThreshold,d=(d.yAxis?d.yAxis.len:this.chart.plotSizeY)||0)),u=et(h.inside,!!this.options.stacking);x&&(0>(v=K(x)).y&&(v.height+=v.y,v.y=0),0<(x=v.y+v.height-d)&&x<v.height&&(v.height-=x),A&&(v={x:d-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),u||(A?(v.x+=b?0:v.width,v.width=0):(v.y+=b?v.height:0,v.height=0))),h.align=et(h.align,!A||u?"center":b?"right":"left"),h.verticalAlign=et(h.verticalAlign,A||u?"middle":b?"top":"bottom"),V.prototype.alignDataLabel.call(this,P,y,h,v,_),h.inside&&P.contrastColor&&y.css({color:P.contrastColor})}var O=[];U.compose=function(P){G.compose(V),-1===O.indexOf(P)&&(O.push(P),P.prototype.alignDataLabel=I)}}(J||(J={})),J}),mt(X,"Series/Bar/BarSeries.js",[X["Series/Column/ColumnSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var J,V=this&&this.__extends||(J=function(U,I){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var y in P)P.hasOwnProperty(y)&&(O[y]=P[y])})(U,I)},function(U,I){function O(){this.constructor=U}J(U,I),U.prototype=null===I?Object.create(I):(O.prototype=I.prototype,new O)}),K=t.extend,et=t.merge;return t=function(J){function U(){var I=null!==J&&J.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return V(U,J),U.defaultOptions=et(G.defaultOptions,{}),U}(G),K(t.prototype,{inverted:!0}),W.registerSeriesType("bar",t),t}),mt(X,"Series/Scatter/ScatterSeries.js",[X["Series/Column/ColumnSeries.js"],X["Series/Line/LineSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=this&&this.__extends||(I=function(O,P){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)h.hasOwnProperty(v)&&(y[v]=h[v])})(O,P)},function(O,P){function y(){this.constructor=O}I(O,P),O.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),et=V.addEvent,J=V.extend,U=V.merge;return V=function(I){function O(){var P=null!==I&&I.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return K(O,I),O.prototype.applyJitter=function(){var P=this,y=this.options.jitter,h=this.points.length;y&&this.points.forEach(function(v,_){["x","y"].forEach(function(A,d){var C="plot"+A.toUpperCase();if(y[A]&&!v.isNull){var x=P[A+"Axis"],b=y[A]*x.transA;if(x&&!x.isLog){var u=Math.max(0,v[C]-b);x=Math.min(x.len,v[C]+b),d=1e4*Math.sin(_+d*h),v[C]=u+(x-u)*(d-Math.floor(d)),"x"===A&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?I.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=U(W.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}(W),J(V.prototype,{drawTracker:G.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),et(V,"afterTranslate",function(){this.applyJitter()}),t.registerSeriesType("scatter",V),V}),mt(X,"Series/CenteredUtilities.js",[X["Core/Globals.js"],X["Core/Series/Series.js"],X["Core/Utilities.js"]],function(G,W,t){var U,I,V=G.deg2rad,K=t.isNumber,et=t.pick,J=t.relativeLength;return(I=U||(U={})).getCenter=function(){var O=this.options,P=this.chart,y=2*(O.slicedOffset||0),h=P.plotWidth-2*y,v=P.plotHeight-2*y,_=O.center,A=Math.min(h,v),d=O.size,C=O.innerSize||0;for("string"==typeof d&&(d=parseFloat(d)),"string"==typeof C&&(C=parseFloat(C)),O=[et(_[0],"50%"),et(_[1],"50%"),et(d&&0>d?void 0:O.size,"100%"),et(C&&0>C?void 0:O.innerSize||0,"0%")],!P.angular||this instanceof W||(O[3]=0),_=0;4>_;++_)d=O[_],P=2>_||2===_&&/%$/.test(d),O[_]=J(d,[h,v,A,O[2]][_])+(P?y:0);return O[3]>O[2]&&(O[3]=O[2]),O},I.getStartAndEndRadians=function(O,P){return O=K(O)?O:0,P=K(P)&&P>O&&360>P-O?P:O+360,{start:V*(O+-90),end:V*(P+-90)}},U}),mt(X,"Series/Pie/PiePoint.js",[X["Core/Animation/AnimationUtilities.js"],X["Core/Series/Point.js"],X["Core/Utilities.js"]],function(G,W,t){var P,V=this&&this.__extends||(P=function(y,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var A in _)_.hasOwnProperty(A)&&(v[A]=_[A])})(y,h)},function(y,h){function v(){this.constructor=y}P(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),K=G.setAnimation,et=t.addEvent,J=t.defined;G=t.extend;var U=t.isNumber,I=t.pick,O=t.relativeLength;return W=function(P){function y(){var h=null!==P&&P.apply(this,arguments)||this;return h.labelDistance=void 0,h.options=void 0,h.series=void 0,h}return V(y,P),y.prototype.getConnectorPath=function(){var h=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,A=v.connectorShape;return _[A]&&(A=_[A]),A.call(this,{x:h.final.x,y:h.final.y,alignment:h.alignment},h.connectorPosition,v)},y.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},y.prototype.haloPath=function(h){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+h,v.r+h,{innerR:v.r-1,start:v.start,end:v.end})},y.prototype.init=function(){var h=this;P.prototype.init.apply(this,arguments),this.name=I(this.name,"Slice");var v=function(_){h.slice("select"===_.type)};return et(this,"select",v),et(this,"unselect",v),this},y.prototype.isValid=function(){return U(this.y)&&0<=this.y},y.prototype.setVisible=function(h,v){var _=this,A=this.series,d=A.chart,C=A.options.ignoreHiddenPoint;v=I(v,C),h!==this.visible&&(this.visible=this.options.visible=h=typeof h>"u"?!this.visible:h,A.options.data[A.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){_[x]&&_[x][h?"show":"hide"](h)}),this.legendItem&&d.legend.colorizeItem(this,h),h||"hover"!==this.state||this.setState(""),C&&(A.isDirty=!0),v&&d.redraw())},y.prototype.slice=function(h,v,_){var A=this.series;K(_,A.chart),I(v,!0),this.sliced=this.options.sliced=J(h)?h:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},y}(W),G(W.prototype,{connectorShapes:{fixedOffset:function(P,y,h){var v=y.breakAt;return y=y.touchingSliceAt,[["M",P.x,P.y],h.softConnector?["C",P.x+("left"===P.alignment?-5:5),P.y,2*v.x-y.x,2*v.y-y.y,v.x,v.y]:["L",v.x,v.y],["L",y.x,y.y]]},straight:function(P,y){return[["M",P.x,P.y],["L",(y=y.touchingSliceAt).x,y.y]]},crookedLine:function(P,y,h){y=y.touchingSliceAt;var v=this.series,_=v.center[0],A=v.chart.plotWidth,d=v.chart.plotLeft;v=P.alignment;var C=this.shapeArgs.r;return h=O(h.crookDistance,1),h=["L",A="left"===v?_+C+(A+d-_-C)*(1-h):d+(_-C)*h,P.y],_=!0,("left"===v?A>P.x||A<y.x:A<P.x||A>y.x)&&(_=!1),P=[["M",P.x,P.y]],_&&P.push(h),P.push(["L",y.x,y.y]),P}}}),W}),mt(X,"Series/Pie/PieSeries.js",[X["Series/CenteredUtilities.js"],X["Series/Column/ColumnSeries.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Series/Pie/PiePoint.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/Symbols.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I){var C,O=this&&this.__extends||(C=function(x,b){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var p in l)l.hasOwnProperty(p)&&(u[p]=l[p])})(x,b)},function(x,b){function u(){this.constructor=x}C(x,b),x.prototype=null===b?Object.create(b):(u.prototype=b.prototype,new u)}),P=G.getStartAndEndRadians;t=t.noop;var y=I.clamp,h=I.extend,v=I.fireEvent,_=I.merge,A=I.pick,d=I.relativeLength;return I=function(C){function x(){var b=null!==C&&C.apply(this,arguments)||this;return b.center=void 0,b.data=void 0,b.maxLabelDistance=void 0,b.options=void 0,b.points=void 0,b}return O(x,C),x.prototype.animate=function(b){var u=this,p=u.startAngleRad;b||u.points.forEach(function(i){var c=i.graphic,o=i.shapeArgs;c&&o&&(c.attr({r:A(i.startR,u.center&&u.center[3]/2),start:p,end:p}),c.animate({r:o.r,start:o.start,end:o.end},u.options.animation))})},x.prototype.drawEmpty=function(){var b=this.startAngleRad,u=this.endAngleRad,l=this.options;if(0===this.total&&this.center){var p=this.center[0],i=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(p,i,this.center[1]/2,0,b,u).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:U.arc(p,i,this.center[2]/2,0,{start:b,end:u,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":l.borderWidth,fill:l.fillColor||"none",stroke:l.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var b=this.chart.renderer;this.points.forEach(function(u){u.graphic&&u.hasNewShapeType()&&(u.graphic=u.graphic.destroy()),u.graphic||(u.graphic=b[u.shapeType](u.shapeArgs).add(u.series.group),u.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(b,u,l){var p=this.center,i=this.radii?this.radii[l.index]||0:p[2]/2;return b=Math.asin(y((b-p[1])/(i+l.labelDistance),-1,1)),p[0]+(u?-1:1)*Math.cos(b)*(i+l.labelDistance)+(0<l.labelDistance?(u?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var i,c,o,n,b=this,u=b.chart,l=u.renderer,p=b.options.shadow;this.drawEmpty(),!p||b.shadowGroup||u.styledMode||(b.shadowGroup=l.g("shadow").attr({zIndex:-1}).add(b.group)),b.points.forEach(function(r){var a={};if(c=r.graphic,!r.isNull&&c){var M=void 0;n=r.shapeArgs,i=r.getTranslate(),u.styledMode||(M=r.shadowGroup,p&&!M&&(M=r.shadowGroup=l.g("shadow").add(b.shadowGroup)),M&&M.attr(i),o=b.pointAttribs(r,r.selected&&"select")),r.delayedRendering?(c.setRadialReference(b.center).attr(n).attr(i),u.styledMode||c.attr(o).attr({"stroke-linejoin":"round"}).shadow(p,M),r.delayedRendering=!1):(c.setRadialReference(b.center),u.styledMode||_(!0,a,o),_(!0,a,n,i),c.animate(a)),c.attr({visibility:r.visible?"inherit":"hidden"}),c.addClass(r.getClassName(),!0)}else c&&(r.graphic=c.destroy())})},x.prototype.sortByAngle=function(b,u){b.sort(function(l,p){return typeof l.angle<"u"&&(p.angle-l.angle)*u})},x.prototype.translate=function(b){this.generatePoints();var u=this.options,l=u.slicedOffset,p=l+(u.borderWidth||0),i=P(u.startAngle,u.endAngle),c=this.startAngleRad=i.start;i=(this.endAngleRad=i.end)-c;var o=this.points,n=u.dataLabels.distance;u=u.ignoreHiddenPoint;var a,r=o.length,M=0;for(b||(this.center=b=this.getCenter()),a=0;a<r;a++){var L=o[a],Y=c+M*i;!L.isValid()||u&&!L.visible||(M+=L.percentage/100);var D=c+M*i,w={x:b[0],y:b[1],r:b[2]/2,innerR:b[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*D)/1e3};L.shapeType="arc",L.shapeArgs=w,L.labelDistance=A(L.options.dataLabels&&L.options.dataLabels.distance,n),L.labelDistance=d(L.labelDistance,w.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,L.labelDistance),(D=(D+Y)/2)>1.5*Math.PI?D-=2*Math.PI:D<-Math.PI/2&&(D+=2*Math.PI),L.slicedTranslation={translateX:Math.round(Math.cos(D)*l),translateY:Math.round(Math.sin(D)*l)},w=Math.cos(D)*b[2]/2;var N=Math.sin(D)*b[2]/2;L.tooltipPos=[b[0]+.7*w,b[1]+.7*N],L.half=D<-Math.PI/2||D>Math.PI/2?1:0,L.angle=D,Y=Math.min(p,L.labelDistance/5),L.labelPosition={natural:{x:b[0]+w+Math.cos(D)*L.labelDistance,y:b[1]+N+Math.sin(D)*L.labelDistance},final:{},alignment:0>L.labelDistance?"center":L.half?"right":"left",connectorPosition:{breakAt:{x:b[0]+w+Math.cos(D)*Y,y:b[1]+N+Math.sin(D)*Y},touchingSliceAt:{x:b[0]+w,y:b[1]+N}}}}v(this,"afterTranslate")},x.prototype.updateTotals=function(){var p,b=this.points,u=b.length,l=this.options.ignoreHiddenPoint,i=0;for(p=0;p<u;p++){var c=b[p];!c.isValid()||l&&!c.visible||(i+=c.y)}for(this.total=i,p=0;p<u;p++)(c=b[p]).percentage=0<i&&(c.visible||!l)?c.y/i*100:0,c.total=i},x.defaultOptions=_(et.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(et),h(I.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:V.drawRectangle,drawTracker:W.prototype.drawTracker,getCenter:G.getCenter,getSymbol:t,isCartesian:!1,noSharedTooltip:!0,pointAttribs:W.prototype.pointAttribs,pointClass:K,requireSorting:!1,searchPoint:t,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",I),I}),mt(X,"Series/Pie/PieDataLabel.js",[X["Core/Series/DataLabel.js"],X["Core/Globals.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){var _,et=W.noop,J=t.distribute,U=V.series,I=K.arrayMax,O=K.clamp,P=K.defined,y=K.merge,h=K.pick,v=K.relativeLength;return function(A){function d(){var f,k,R,z,H,m,j,T,Z,B,tt,$,l=this,p=l.data,i=l.chart,c=l.options.dataLabels||{},o=c.connectorPadding,n=i.plotWidth,r=i.plotHeight,a=i.plotLeft,M=Math.round(i.chartWidth/3),L=l.center,Y=L[2]/2,D=L[1],w=[[],[]],N=[0,0,0,0],s=l.dataLabelPositioners;l.visible&&(c.enabled||l._hasPointLabels)&&(p.forEach(function(nt){nt.dataLabel&&nt.visible&&nt.dataLabel.shortened&&(nt.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),nt.dataLabel.shortened=!1)}),U.prototype.drawDataLabels.apply(l),p.forEach(function(nt){nt.dataLabel&&(nt.visible?(w[nt.half].push(nt),nt.dataLabel._pos=null,!P(c.style.width)&&!P(nt.options.dataLabels&&nt.options.dataLabels.style&&nt.options.dataLabels.style.width)&&nt.dataLabel.getBBox().width>M&&(nt.dataLabel.css({width:Math.round(.7*M)+"px"}),nt.dataLabel.shortened=!0)):(nt.dataLabel=nt.dataLabel.destroy(),nt.dataLabels&&1===nt.dataLabels.length&&delete nt.dataLabels))}),w.forEach(function(nt,ot){var ct,pt=nt.length,ut=[];if(pt){if(l.sortByAngle(nt,ot-.5),0<l.maxLabelDistance){var ht=Math.max(0,D-Y-l.maxLabelDistance),st=Math.min(D+Y+l.maxLabelDistance,i.plotHeight);nt.forEach(function(F){0<F.labelDistance&&F.dataLabel&&(F.top=Math.max(0,D-Y-F.labelDistance),F.bottom=Math.min(D+Y+F.labelDistance,i.plotHeight),ct=F.dataLabel.getBBox().height||21,F.distributeBox={target:F.labelPosition.natural.y-F.top+ct/2,size:ct,rank:F.y},ut.push(F.distributeBox))}),J(ut,ht=st+ct-ht,ht/5)}for(tt=0;tt<pt;tt++){if(z=(f=nt[tt]).dataLabel,B=!1===f.visible?"hidden":"inherit",Z=ht=(m=f.labelPosition).natural.y,ut&&P(f.distributeBox)&&(typeof f.distributeBox.pos>"u"?B="hidden":(j=f.distributeBox.size,Z=s.radialDistributionY(f))),delete f.positionIndex,c.justify)T=s.justify(f,Y,L);else switch(c.alignTo){case"connectors":T=s.alignToConnectors(nt,ot,n,a);break;case"plotEdges":T=s.alignToPlotEdges(z,ot,n,a);break;default:T=s.radialDistributionX(l,f,Z,ht)}z._attr={visibility:B,align:m.alignment},z._pos={x:T+h(($=f.options.dataLabels||{}).x,c.x)+({left:o,right:-o}[m.alignment]||0),y:Z+h($.y,c.y)-10},m.final.x=T,m.final.y=Z,h(c.crop,!0)&&(H=z.getBBox().width,ht=null,T-H<o&&1===ot?(ht=Math.round(H-T+o),N[3]=Math.max(ht,N[3])):T+H>n-o&&0===ot&&(ht=Math.round(T+H-n+o),N[1]=Math.max(ht,N[1])),0>Z-j/2?N[0]=Math.max(Math.round(j/2-Z),N[0]):Z+j/2>r&&(N[2]=Math.max(Math.round(Z+j/2-r),N[2])),z.sideOverflow=ht)}}}),0===I(N)||this.verifyDataLabelOverflow(N))&&(this.placeDataLabels(),this.points.forEach(function(nt){var ot;$=y(c,nt.options.dataLabels),(k=h($.connectorWidth,1))&&(R=nt.connector,(z=nt.dataLabel)&&z._pos&&nt.visible&&0<nt.labelDistance?(B=z._attr.visibility,(ot=!R)&&(nt.connector=R=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+nt.colorIndex+(nt.className?" "+nt.className:"")).add(l.dataLabelsGroup),i.styledMode||R.attr({"stroke-width":k,stroke:$.connectorColor||nt.color||"#666666"})),R[ot?"attr":"animate"]({d:nt.getConnectorPath()}),R.attr("visibility",B)):R&&(nt.connector=R.destroy()))}))}function C(){this.points.forEach(function(l){var i,p=l.dataLabel;p&&l.visible&&((i=p._pos)?(p.sideOverflow&&(p._attr.width=Math.max(p.getBBox().width-p.sideOverflow,0),p.css({width:p._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),p.shortened=!0),p.attr(p._attr),p[p.moved?"animate":"attr"](i),p.moved=!0):p&&p.attr({y:-9999})),delete l.distributeBox},this)}function x(l){var p=this.center,i=this.options,c=i.center,o=i.minSize||80,n=null!==i.size;if(!n){if(null!==c[0])var r=Math.max(p[2]-Math.max(l[1],l[3]),o);else r=Math.max(p[2]-l[1]-l[3],o),p[0]+=(l[3]-l[1])/2;null!==c[1]?r=O(r,o,p[2]-Math.max(l[0],l[2])):(r=O(r,o,p[2]-l[0]-l[2]),p[1]+=(l[0]-l[2])/2),r<p[2]?(p[2]=r,p[3]=Math.min(v(i.innerSize||0,r),r),this.translate(p),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var b=[],u={radialDistributionY:function(l){return l.top+l.distributeBox.pos},radialDistributionX:function(l,p,i,c){return l.getX(i<p.top+2||i>p.bottom-2?c:i,p.half,p)},justify:function(l,p,i){return i[0]+(l.half?-1:1)*(p+l.labelDistance)},alignToPlotEdges:function(l,p,i,c){return l=l.getBBox().width,p?l+c:i-l-c},alignToConnectors:function(l,p,i,c){var n,o=0;return l.forEach(function(r){(n=r.dataLabel.getBBox().width)>o&&(o=n)}),p?o+c:i-o-c}};A.compose=function(l){G.compose(U),-1===b.indexOf(l)&&(b.push(l),(l=l.prototype).dataLabelPositioners=u,l.alignDataLabel=et,l.drawDataLabels=d,l.placeDataLabels=C,l.verifyDataLabelOverflow=x)}}(_||(_={})),_}),mt(X,"Extensions/OverlappingDataLabels.js",[X["Core/Chart/Chart.js"],X["Core/Utilities.js"]],function(G,W){function t(O,P){var y=!1;if(O){var h=O.newOpacity;O.oldOpacity!==h&&(O.alignAttr&&O.placed?(O[h?"removeClass":"addClass"]("highcharts-data-label-hidden"),y=!0,O.alignAttr.opacity=h,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){P.styledMode||O.css({pointerEvents:h?"auto":"none"})}),K(P,"afterHideOverlappingLabel")):O.attr({opacity:h})),O.isOld=!0}return y}var K=W.fireEvent,et=W.isArray,J=W.isNumber,U=W.objectEach,I=W.pick;(0,W.addEvent)(G,"render",function(){var O=this,P=[];(this.labelCollectors||[]).forEach(function(y){P=P.concat(y())}),(this.yAxis||[]).forEach(function(y){y.stacking&&y.options.stackLabels&&!y.options.stackLabels.allowOverlap&&U(y.stacking.stacks,function(h){U(h,function(v){v.label&&"hidden"!==v.label.visibility&&P.push(v.label)})})}),(this.series||[]).forEach(function(y){var h=y.options.dataLabels;y.visible&&(!1!==h.enabled||y._hasPointLabels)&&((h=function(v){return v.forEach(function(_){_.visible&&(et(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(A){var d=A.options;A.labelrank=I(d.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),d.allowOverlap?(A.oldOpacity=A.opacity,A.newOpacity=1,t(A,O)):P.push(A)})})})(y.nodes||[]),h(y.points))}),this.hideOverlappingLabels(P)}),G.prototype.hideOverlappingLabels=function(O){var v,_,A,P=this,y=O.length,h=P.renderer,d=!1,C=function(u){var l,c,p=u.box?0:u.padding||0,i=l=0;if(u&&(!u.alignAttr||u.placed)){var o=u.alignAttr||{x:u.attr("x"),y:u.attr("y")},n=u.parentGroup;return u.width||(l=u.getBBox(),u.width=l.width,u.height=l.height,l=h.fontMetrics(null,u.element).h),(c={left:"0",center:"0.5",right:"1"}[u.alignValue])?i=+c*(u.width-2*p):J(u.x)&&Math.round(u.x)!==u.translateX&&(i=u.x-u.translateX),{x:o.x+(n.translateX||0)+p-(i||0),y:o.y+(n.translateY||0)+p-l,width:u.width-2*p,height:u.height-2*p}}};for(_=0;_<y;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(u,l){return(l.labelrank||0)-(u.labelrank||0)}),_=0;_<y;_++){var x=(C=O[_])&&C.absoluteBox;for(v=_+1;v<y;++v){var b=(A=O[v])&&A.absoluteBox;!x||!b||C===A||0===C.newOpacity||0===A.newOpacity||b.x>=x.x+x.width||b.x+b.width<=x.x||b.y>=x.y+x.height||b.y+b.height<=x.y||((C.labelrank<A.labelrank?C:A).newOpacity=0)}}O.forEach(function(u){t(u,P)&&(d=!0)}),d&&K(P,"afterHideAllOverlappingLabels")}}),mt(X,"Core/Responsive.js",[X["Core/Utilities.js"]],function(G){var P,W=G.extend,t=G.find,V=G.isArray,K=G.isObject,et=G.merge,J=G.objectEach,U=G.pick,I=G.splat,O=G.uniqueKey;return function(y){var h=[];y.compose=function(_){return-1===h.indexOf(_)&&(h.push(_),W(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(A){var C=this,x={};return function d(b,u,l,p){var i;J(b,function(c,o){if(!p&&-1<C.collectionsWithUpdate.indexOf(o)&&u[o])for(c=I(c),l[o]=[],i=0;i<Math.max(c.length,u[o].length);i++)u[o][i]&&(void 0===c[i]?l[o][i]=u[o][i]:(l[o][i]={},d(c[i],u[o][i],l[o][i],p+1)));else K(c)?(l[o]=V(c)?[]:{},d(c,u[o]||{},l[o],p+1)):l[o]=typeof u[o]>"u"?null:u[o]})}(A,this.options,x,0),x},_.prototype.matchResponsiveRule=function(A,d){var C=A.condition;(C.callback||function(){return this.chartWidth<=U(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=U(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=U(C.minWidth,0)&&this.chartHeight>=U(C.minHeight,0)}).call(this)&&d.push(A._id)},_.prototype.setResponsive=function(A,d){var C=this,x=this.options.responsive,b=this.currentResponsive,u=[];!d&&x&&x.rules&&x.rules.forEach(function(l){typeof l._id>"u"&&(l._id=O()),C.matchResponsiveRule(l,u)},this),(d=et.apply(void 0,u.map(function(l){return t((x||{}).rules||[],function(p){return p._id===l})}).map(function(l){return l&&l.chartOptions}))).isResponsiveOptions=!0,(u=u.toString()||void 0)!==(b&&b.ruleIds)&&(b&&this.update(b.undoOptions,A,!0),u?((b=this.currentOptions(d)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:u,mergedOptions:d,undoOptions:b},this.update(d,A,!0)):this.currentResponsive=void 0)},_}()}(P||(P={})),P}),mt(X,"masters/highcharts.src.js",[X["Core/Globals.js"],X["Core/Utilities.js"],X["Core/DefaultOptions.js"],X["Core/Animation/Fx.js"],X["Core/Animation/AnimationUtilities.js"],X["Core/Renderer/HTML/AST.js"],X["Core/FormatUtilities.js"],X["Core/Renderer/RendererUtilities.js"],X["Core/Renderer/SVG/SVGElement.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Renderer/HTML/HTMLElement.js"],X["Core/Renderer/HTML/HTMLRenderer.js"],X["Core/Axis/Axis.js"],X["Core/Axis/DateTimeAxis.js"],X["Core/Axis/LogarithmicAxis.js"],X["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],X["Core/Axis/Tick.js"],X["Core/Tooltip.js"],X["Core/Series/Point.js"],X["Core/Pointer.js"],X["Core/MSPointer.js"],X["Core/Legend/Legend.js"],X["Core/Chart/Chart.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Series/Column/ColumnSeries.js"],X["Series/Column/ColumnDataLabel.js"],X["Series/Pie/PieSeries.js"],X["Series/Pie/PieDataLabel.js"],X["Core/Series/DataLabel.js"],X["Core/Responsive.js"],X["Core/Color/Color.js"],X["Core/Time.js"]],function(G,W,t,V,K,et,J,U,I,O,P,y,h,v,_,A,d,C,x,b,u,l,p,i,c,o,n,r,a,M,L,Y,D){return G.animate=K.animate,G.animObject=K.animObject,G.getDeferredAnimation=K.getDeferredAnimation,G.setAnimation=K.setAnimation,G.stop=K.stop,G.timers=V.timers,G.AST=et,G.Axis=h,G.Chart=p,G.chart=p.chart,G.Fx=V,G.Legend=l,G.PlotLineOrBand=A,G.Point=x,G.Pointer=u.isRequired()?u:b,G.Series=i,G.SVGElement=I,G.SVGRenderer=O,G.Tick=d,G.Time=D,G.Tooltip=C,G.Color=Y,G.color=Y.parse,y.compose(O),P.compose(I),G.defaultOptions=t.defaultOptions,G.getOptions=t.getOptions,G.time=t.defaultTime,G.setOptions=t.setOptions,G.dateFormat=J.dateFormat,G.format=J.format,G.numberFormat=J.numberFormat,G.addEvent=W.addEvent,G.arrayMax=W.arrayMax,G.arrayMin=W.arrayMin,G.attr=W.attr,G.clearTimeout=W.clearTimeout,G.correctFloat=W.correctFloat,G.createElement=W.createElement,G.css=W.css,G.defined=W.defined,G.destroyObjectProperties=W.destroyObjectProperties,G.discardElement=W.discardElement,G.distribute=U.distribute,G.erase=W.erase,G.error=W.error,G.extend=W.extend,G.extendClass=W.extendClass,G.find=W.find,G.fireEvent=W.fireEvent,G.getMagnitude=W.getMagnitude,G.getStyle=W.getStyle,G.inArray=W.inArray,G.isArray=W.isArray,G.isClass=W.isClass,G.isDOMElement=W.isDOMElement,G.isFunction=W.isFunction,G.isNumber=W.isNumber,G.isObject=W.isObject,G.isString=W.isString,G.keys=W.keys,G.merge=W.merge,G.normalizeTickInterval=W.normalizeTickInterval,G.objectEach=W.objectEach,G.offset=W.offset,G.pad=W.pad,G.pick=W.pick,G.pInt=W.pInt,G.relativeLength=W.relativeLength,G.removeEvent=W.removeEvent,G.seriesType=c.seriesType,G.splat=W.splat,G.stableSort=W.stableSort,G.syncTimeout=W.syncTimeout,G.timeUnits=W.timeUnits,G.uniqueKey=W.uniqueKey,G.useSerialIds=W.useSerialIds,G.wrap=W.wrap,n.compose(o),M.compose(i),v.compose(h),_.compose(h),a.compose(r),A.compose(h),L.compose(p),G}),mt(X,"Core/Axis/Color/ColorAxisComposition.js",[X["Core/Color/Color.js"],X["Core/Utilities.js"]],function(G,W){var I,t=G.parse,V=W.addEvent,K=W.extend,et=W.merge,J=W.pick,U=W.splat;return function(O){function P(){var i=this,c=this.options;this.colorAxis=[],c.colorAxis&&(c.colorAxis=U(c.colorAxis),c.colorAxis.forEach(function(o,n){o.index=n,new p(i,o)}))}function y(i){var r,a,c=this,o=function(M){-1!==(M=i.allItems.indexOf(M))&&(c.destroyItem(i.allItems[M]),i.allItems.splice(M,1))},n=[];for((this.chart.colorAxis||[]).forEach(function(M){(r=M.options)&&r.showInLegend&&(r.dataClasses&&r.visible?n=n.concat(M.getDataClassLegendSymbols()):r.visible&&n.push(M),M.series.forEach(function(L){(!L.options.showInLegend||r.dataClasses)&&("point"===L.options.legendType?L.points.forEach(function(Y){o(Y)}):o(L))}))}),a=n.length;a--;)i.allItems.unshift(n[a])}function h(i){i.visible&&i.item.legendColor&&i.item.legendSymbol.attr({fill:i.item.legendColor})}function v(){var i=this.chart.colorAxis;i&&i.forEach(function(c,o,n){c.update({},n)})}function _(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function A(){var i=this.axisTypes;i?-1===i.indexOf("colorAxis")&&i.push("colorAxis"):this.axisTypes=["colorAxis"]}function d(i){var c=this,o=i?"show":"hide";c.visible=c.options.visible=!!i,["graphic","dataLabel"].forEach(function(n){c[n]&&c[n][o]()}),this.series.buildKDTree()}function C(){var i=this,c=this.options.nullColor,o=this.colorAxis,n=this.colorKey;(this.data.length?this.data:this.points).forEach(function(r){var a=r.getNestedProperty(n);(a=r.options.color||(r.isNull||null===r.value?c:o&&typeof a<"u"?o.toColor(a,r):r.color||i.color))&&r.color!==a&&(r.color=a,"point"===i.options.legendType&&r.legendItem&&i.chart.legend.colorizeItem(r,r.visible))})}function b(){this.elem.attr("fill",t(this.start).tweenTo(t(this.end),this.pos),void 0,!0)}function u(){this.elem.attr("stroke",t(this.start).tweenTo(t(this.end),this.pos),void 0,!0)}var p,l=[];O.compose=function(i,c,o,n,r){p||(p=i),-1===l.indexOf(c)&&(l.push(c),(i=c.prototype).collectionsWithUpdate.push("colorAxis"),i.collectionsWithInit.colorAxis=[i.addColorAxis],V(c,"afterGetAxes",P),function x(i){var c=i.prototype.createAxis;i.prototype.createAxis=function(o,n){if("colorAxis"!==o)return c.apply(this,arguments);var r=new p(this,et(n.axis,{index:this[o].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(a){a.series=[]}),this.series.forEach(function(a){a.bindAxes(),a.isDirtyData=!0}),J(n.redraw,!0)&&this.redraw(n.animation),r}}(c)),-1===l.indexOf(o)&&(l.push(o),(c=o.prototype).fillSetter=b,c.strokeSetter=u),-1===l.indexOf(n)&&(l.push(n),V(n,"afterGetAllItems",y),V(n,"afterColorizeItem",h),V(n,"afterUpdate",v)),-1===l.indexOf(r)&&(l.push(r),K(r.prototype,{optionalAxis:"colorAxis",translateColors:C}),K(r.prototype.pointClass.prototype,{setVisible:d}),V(r,"afterTranslate",_),V(r,"bindAxes",A))},O.pointSetVisible=d}(I||(I={})),I}),mt(X,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),mt(X,"Core/Axis/Color/ColorAxis.js",[X["Core/Axis/Axis.js"],X["Core/Color/Color.js"],X["Core/Axis/Color/ColorAxisComposition.js"],X["Core/Axis/Color/ColorAxisDefaults.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U){var d,I=this&&this.__extends||(d=function(C,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var l in u)u.hasOwnProperty(l)&&(b[l]=u[l])})(C,x)},function(C,x){function b(){this.constructor=C}d(C,x),C.prototype=null===x?Object.create(x):(b.prototype=x.prototype,new b)}),O=W.parse,P=K.noop,y=J.series,h=U.extend,v=U.isNumber,_=U.merge,A=U.pick;return W=function(d){function C(x,b){var u=d.call(this,x,b)||this;return u.beforePadding=!1,u.chart=void 0,u.coll="colorAxis",u.dataClasses=void 0,u.legendItem=void 0,u.legendItems=void 0,u.name="",u.options=void 0,u.stops=void 0,u.visible=!0,u.init(x,b),u}return I(C,d),C.compose=function(x,b,u,l){t.compose(C,x,b,u,l)},C.prototype.init=function(x,b){var u=x.options.legend||{},l=b.layout?"vertical"!==b.layout:"vertical"!==u.layout,p=b.visible;u=_(C.defaultColorAxisOptions,b,{showEmpty:!1,title:null,visible:u.enabled&&!1!==p}),this.coll="colorAxis",this.side=b.side||l?2:1,this.reversed=b.reversed||!l,this.opposite=!l,d.prototype.init.call(this,x,u),this.userOptions.visible=p,b.dataClasses&&this.initDataClasses(b),this.initStops(),this.horiz=l,this.zoomEnabled=!1},C.prototype.initDataClasses=function(x){var p,b=this.chart,u=this.options,l=x.dataClasses.length,i=0,c=b.options.chart.colorCount;this.dataClasses=p=[],this.legendItems=[],(x.dataClasses||[]).forEach(function(o,n){o=_(o),p.push(o),(b.styledMode||!o.color)&&("category"===u.dataClassColor?(b.styledMode||(c=(n=b.options.colors).length,o.color=n[i]),o.colorIndex=i,++i===c&&(i=0)):o.color=O(u.minColor).tweenTo(O(u.maxColor),2>l?.5:n/(l-1)))})},C.prototype.hasData=function(){return!!(this.tickPositions||[]).length},C.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)},C.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(x){x.color=O(x[1])})},C.prototype.setOptions=function(x){d.prototype.setOptions.call(this,x),this.options.crosshair=this.options.marker},C.prototype.setAxisSize=function(){var l,p,x=this.legendSymbol,b=this.chart,u=b.options.legend||{};x?(this.left=u=x.attr("x"),this.top=l=x.attr("y"),this.width=p=x.attr("width"),this.height=x=x.attr("height"),this.right=b.chartWidth-u-p,this.bottom=b.chartHeight-l-x,this.len=this.horiz?p:x,this.pos=this.horiz?u:l):this.len=(this.horiz?u.symbolWidth:u.symbolHeight)||C.defaultLegendLength},C.prototype.normalizedValue=function(x){return this.logarithmic&&(x=this.logarithmic.log2lin(x)),1-(this.max-x)/(this.max-this.min||1)},C.prototype.toColor=function(x,b){var p,u=this.dataClasses,l=this.stops;if(u)for(p=u.length;p--;){var i=u[p],c=i.from;if(l=i.to,(typeof c>"u"||x>=c)&&(typeof l>"u"||x<=l)){var o=i.color;b&&(b.dataClass=p,b.colorIndex=i.colorIndex);break}}else{for(x=this.normalizedValue(x),p=l.length;p--&&!(x>l[p][0]););o=(c=l[p]||l[p+1]).color.tweenTo((l=l[p+1]||c).color,x=1-(l[0]-x)/(l[0]-c[0]||1))}return o},C.prototype.getOffset=function(){var x=this.legendGroup,b=this.chart.axisOffset[this.side];if(x){this.axisParent=x,d.prototype.getOffset.call(this);var u=this.chart.legend;u.allItems.forEach(function(l){l instanceof C&&l.drawLegendSymbol(u,l)}),u.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=b}},C.prototype.setLegendColor=function(){var x=this.reversed,b=x?1:0;x=x?0:1,this.legendColor={linearGradient:{x1:(b=this.horiz?[b,0,x,0]:[0,x,0,b])[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}},C.prototype.drawLegendSymbol=function(x,b){var u=x.padding,l=x.options,p=this.horiz,i=A(l.symbolWidth,p?C.defaultLegendLength:12),c=A(l.symbolHeight,p?12:C.defaultLegendLength),o=A(l.labelPadding,p?16:30);l=A(l.itemDistance,10),this.setLegendColor(),b.legendSymbol||(b.legendSymbol=this.chart.renderer.rect(0,x.baseline-11,i,c).attr({zIndex:1}).add(b.legendGroup)),this.legendItemWidth=i+u+(p?l:this.options.labels.x+this.maxLabelLength),this.legendItemHeight=c+u+(p?o:0)},C.prototype.setState=function(x){this.series.forEach(function(b){b.setState(x)})},C.prototype.setVisible=function(){},C.prototype.getSeriesExtremes=function(){var u,x=this.series,b=x.length;for(this.dataMin=1/0,this.dataMax=-1/0;b--;){var l=x[b],p=l.colorKey=A(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y"),i=l.pointArrayMap,c=l[p+"Min"]&&l[p+"Max"];if(l[p+"Data"])var o=l[p+"Data"];else if(i){o=[],i=i.indexOf(p);var n=l.yData;if(0<=i&&n)for(u=0;u<n.length;u++)o.push(A(n[u][i],n[u]))}else o=l.yData;c?(l.minColorValue=l[p+"Min"],l.maxColorValue=l[p+"Max"]):(o=y.prototype.getExtremes.call(l,o),l.minColorValue=o.dataMin,l.maxColorValue=o.dataMax),typeof l.minColorValue<"u"&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue)),c||y.prototype.applyExtremes.call(l)}},C.prototype.drawCrosshair=function(x,b){var u=b&&b.plotX,l=b&&b.plotY,p=this.pos,i=this.len;if(b){var c=this.toPixels(b.getNestedProperty(b.series.colorKey));c<p?c=p-2:c>p+i&&(c=p+i+2),b.plotX=c,b.plotY=this.len-c,d.prototype.drawCrosshair.call(this,x,b),b.plotX=u,b.plotY=l,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},C.prototype.getPlotLinePath=function(x){var b=this.left,u=x.translatedValue,l=this.top;return v(u)?this.horiz?[["M",u-4,l-6],["L",u+4,l-6],["L",u,l],["Z"]]:[["M",b,u],["L",b-6,u+6],["L",b-6,u-6],["Z"]]:d.prototype.getPlotLinePath.call(this,x)},C.prototype.update=function(x,b){var u=this.chart.legend;this.series.forEach(function(l){l.isDirtyData=!0}),(x.dataClasses&&u.allItems||this.dataClasses)&&this.destroyItems(),d.prototype.update.call(this,x,b),this.legendItem&&(this.setLegendColor(),u.colorizeItem(this,!0))},C.prototype.destroyItems=function(){var x=this.chart;this.legendItem?x.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(b){x.legend.destroyItem(b)}),x.isDirtyLegend=!0},C.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),d.prototype.destroy.apply(this,[].slice.call(arguments))},C.prototype.remove=function(x){this.destroyItems(),d.prototype.remove.call(this,x)},C.prototype.getDataClassLegendSymbols=function(){var c,x=this,b=x.chart,u=x.legendItems,l=b.options.legend,p=l.valueDecimals,i=l.valueSuffix||"";return u.length||x.dataClasses.forEach(function(o,n){var r=o.from,a=o.to,M=b.numberFormatter,L=!0;c="",typeof r>"u"?c="< ":typeof a>"u"&&(c="> "),typeof r<"u"&&(c+=M(r,p)+i),typeof r<"u"&&typeof a<"u"&&(c+=" - "),typeof a<"u"&&(c+=M(a,p)+i),u.push(h({chart:b,name:c,options:{},drawLegendSymbol:et.drawRectangle,visible:!0,setState:P,isDataClass:!0,setVisible:function(){L=x.visible=!L,x.series.forEach(function(Y){Y.points.forEach(function(D){D.dataClass===n&&D.setVisible(L)})}),b.legend.colorizeItem(this,L)}},o))}),u},C.defaultColorAxisOptions=V,C.defaultLegendLength=200,C.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],C}(G),Array.prototype.push.apply(G.keepProps,W.keepProps),W}),mt(X,"Maps/MapNavigationOptionsDefault.js",[X["Core/DefaultOptions.js"],X["Core/Utilities.js"]],function(G,W){return(W=W.extend)(G.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),G.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),mt(X,"Maps/MapNavigation.js",[X["Core/Chart/Chart.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t){function V(h){h&&(h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation(),h.cancelBubble=!0)}function K(h){this.navButtons=[],this.init(h)}var et=W.doc,J=t.addEvent,U=t.extend,I=t.isNumber,O=t.merge,P=t.objectEach,y=t.pick;K.prototype.init=function(h){this.chart=h},K.prototype.update=function(h){var d,C,x,b,v=this,_=this.chart,A=_.options.mapNavigation,u=function(p){this.handler.call(_,p),V(p)},l=v.navButtons;for(h&&(A=_.options.mapNavigation=O(_.options.mapNavigation,h));l.length;)l.pop().destroy();y(A.enableButtons,A.enabled)&&!_.renderer.forExport&&(v.navButtonsGroup||(v.navButtonsGroup=_.renderer.g().attr({zIndex:4}).add()),P(A.buttons,function(p,i){p=O(A.buttonOptions,p),!_.styledMode&&p.theme&&((d=p.theme).style=O(p.theme.style,p.style),x=(C=d.states)&&C.hover,b=C&&C.select,delete d.states);var c=_.renderer.button(p.text||"",0,0,u,d,x,b,void 0,"zoomIn"===i?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[i]).attr({width:p.width,height:p.height,title:_.options.lang[i],padding:p.padding,zIndex:5}).add(v.navButtonsGroup);if(c.handler=p.onclick,J(c.element,"dblclick",V),l.push(c),U(p,{width:c.width,height:2*c.height}),_.hasLoaded)c.align(p,!1,p.alignTo);else var o=J(_,"load",function(){c.element&&c.align(p,!1,p.alignTo),o()})}),h=function(){var p=_.exportingGroup&&_.exportingGroup.getBBox();if(p){var i=v.navButtonsGroup.getBBox();if(!(i.x>=p.x+p.width||i.x+i.width<=p.x||i.y>=p.y+p.height||i.y+i.height<=p.y)){var c=-i.y-i.height+p.y-5;p=p.y+p.height-i.y+5,v.navButtonsGroup.attr({translateY:"bottom"===(A.buttonOptions&&A.buttonOptions.verticalAlign)?c:p})}}},_.hasLoaded||J(_,"render",h)),this.updateEvents(A)},K.prototype.updateEvents=function(h){var v=this.chart;y(h.enableDoubleClickZoom,h.enabled)||h.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||J(v.container,"dblclick",function(_){v.pointer.onContainerDblClick(_)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),y(h.enableMouseWheelZoom,h.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||J(v.container,void 0!==et.onwheel?"wheel":void 0!==et.onmousewheel?"mousewheel":"DOMMouseScroll",function(_){return v.pointer.inClass(_.target,"highcharts-no-mousewheel")||(v.pointer.onContainerMouseWheel(_),V(_)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},U(G.prototype,{fitToBox:function(h,v){return[["x","width"],["y","height"]].forEach(function(_){var A=_[0];h[A]+h[_=_[1]]>v[A]+v[_]&&(h[_]>v[_]?(h[_]=v[_],h[A]=v[A]):h[A]=v[A]+v[_]-h[_]),h[_]>v[_]&&(h[_]=v[_]),h[A]<v[A]&&(h[A]=v[A])}),h},mapZoom:function(h,v,_,A,d){this.mapView&&(I(h)&&(h=Math.log(h)/Math.log(.5)),this.mapView.zoomBy(h,I(v)&&I(_)?this.mapView.projection.inverse([v,_]):void 0,I(A)&&I(d)?[A,d]:void 0))}}),J(G,"beforeRender",function(){this.mapNavigation=new K(this),this.mapNavigation.update()}),W.MapNavigation=K}),mt(X,"Maps/MapPointer.js",[X["Core/Pointer.js"],X["Core/Utilities.js"]],function(G,W){var t=W.defined,V=W.extend,K=W.pick;W=W.wrap;var U,et=G.prototype.normalize,J=0;V(G.prototype,{normalize:function(I,O){var P=this.chart;return I=et.call(this,I,O),P&&P.mapView&&(O=P.mapView.pixelsToLonLat({x:I.chartX-P.plotLeft,y:I.chartY-P.plotTop}))&&V(I,O),I},onContainerDblClick:function(I){var O=this.chart;I=this.normalize(I),O.options.mapNavigation.enableDoubleClickZoomTo?O.pointer.inClass(I.target,"highcharts-tracker")&&O.hoverPoint&&O.hoverPoint.zoomTo():O.isInsidePlot(I.chartX-O.plotLeft,I.chartY-O.plotTop)&&O.mapZoom(.5,void 0,void 0,I.chartX,I.chartY)},onContainerMouseWheel:function(I){var O=this.chart;I=this.normalize(I);var P=t(I.wheelDelta)&&-I.wheelDelta/120||I.deltaY||I.detail;1<=Math.abs(P)&&(J+=Math.abs(P),U&&clearTimeout(U),U=setTimeout(function(){J=0},50)),10>J&&O.isInsidePlot(I.chartX-O.plotLeft,I.chartY-O.plotTop)&&O.mapView&&O.mapView.zoomBy((O.options.mapNavigation.mouseWheelSensitivity-1)*-P,void 0,[I.chartX,I.chartY],!(1>Math.abs(P))&&void 0)}}),W(G.prototype,"zoomOption",function(I){var O=this.chart.options.mapNavigation;K(O.enableTouchZoom,O.enabled)&&(this.chart.options.chart.pinchType="xy"),I.apply(this,[].slice.call(arguments,1))}),W(G.prototype,"pinchTranslate",function(I,O,P,y,h,v,_){I.call(this,O,P,y,h,v,_),"map"===this.chart.options.chart.type&&this.hasZoom&&this.pinchTranslateDirection(!(I=y.scaleX>y.scaleY),O,P,y,h,v,_,I?y.scaleX:y.scaleY)})}),mt(X,"Series/ColorMapMixin.js",[X["Core/Globals.js"],X["Core/Series/Point.js"],X["Core/Utilities.js"]],function(G,W,t){var V=G.noop;G=G.seriesTypes;var K=t.defined;return(t=t.addEvent)(W,"afterSetState",function(et){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:et&&"hover"===et.state?1:0})}),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:V,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:G.column.prototype.pointAttribs,colorAttribs:function(et){var J={};return!K(et.color)||et.state&&"normal"!==et.state||(J[this.colorProp||"fill"]=et.color),J}}}}),mt(X,"Maps/MapSymbols.js",[X["Core/Renderer/SVG/SVGRenderer.js"]],function(G){function W(t,V,K,et,J,U,I,O){return[["M",t+J,V],["L",t+K-U,V],["C",t+K-U/2,V,t+K,V+U/2,t+K,V+U],["L",t+K,V+et-I],["C",t+K,V+et-I/2,t+K-I/2,V+et,t+K-I,V+et],["L",t+O,V+et],["C",t+O/2,V+et,t,V+et-O/2,t,V+et-O],["L",t,V+J],["C",t,V+J/2,t+J/2,V,t+J,V],["Z"]]}return(G=G.prototype.symbols).bottombutton=function(t,V,K,et,J){return W(t-1,V-1,K,et,0,0,J=J&&J.r||0,J)},G.topbutton=function(t,V,K,et,J){return W(t-1,V-1,K,et,J=J&&J.r||0,J,0,0)},G}),mt(X,"Core/Chart/MapChart.js",[X["Core/Chart/Chart.js"],X["Core/DefaultOptions.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=this&&this.__extends||(I=function(O,P){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)h.hasOwnProperty(v)&&(y[v]=h[v])})(O,P)},function(O,P){function y(){this.constructor=O}I(O,P),O.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),et=W.getOptions,J=V.merge,U=V.pick;return G=function(I){function O(){return null!==I&&I.apply(this,arguments)||this}return K(O,I),O.prototype.init=function(P,y){var h=et().credits;P=J({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:U(h.mapText,' \xa9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:U(h.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},P),I.prototype.init.call(this,P,y)},O}(G),function(I){I.maps={},I.mapChart=function(O,P,y){return new I(O,P,y)},I.splitPath=function(O){return"string"==typeof O&&(O=(O=O.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(P){return/[A-za-z]/.test(P)?P:parseFloat(P)})),t.prototype.pathToSegments(O)}}(G||(G={})),G}),mt(X,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(G){var et,W=-Number.MAX_VALUE,t=Number.MAX_VALUE,V=-Number.MAX_VALUE,K=Number.MAX_VALUE;if(G.forEach(function(J){var U=J[J.length-2];J=J[J.length-1],"number"==typeof U&&"number"==typeof J&&(t=Math.min(t,U),W=Math.max(W,U),K=Math.min(K,J),V=Math.max(V,J),et=!0)}),et)return{x1:t,y1:K,x2:W,y2:V}},pointInPolygon:function(G,W){var t,V=!1,K=G.x,et=G.y;for(G=0,t=W.length-1;G<W.length;t=G++)W[G][1]>et!=W[t][1]>et&&K<(W[t][0]-W[G][0])*(et-W[G][1])/(W[t][1]-W[G][1])+W[G][0]&&(V=!V);return V}}}),mt(X,"Series/Map/MapPoint.js",[X["Series/ColorMapMixin.js"],X["Maps/MapUtilities.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var O,K=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),et=W.boundsFromPath,J=V.extend,U=V.isNumber,I=V.pick;return W=function(O){function P(){var y=null!==O&&O.apply(this,arguments)||this;return y.options=void 0,y.path=void 0,y.series=void 0,y}return K(P,O),P.getProjectedPath=function(y,h){return y.projectedPath||(h&&y.geometry?(h.hasCoordinates=!0,y.projectedPath=h.path(y.geometry)):y.projectedPath=y.path),y.projectedPath||[]},P.prototype.applyOptions=function(y,h){var v=this.series;return y=O.prototype.applyOptions.call(this,y,h),h=v.joinBy,v.mapData&&v.mapMap&&((v=typeof(h=O.prototype.getNestedProperty.call(y,h[1]))<"u"&&v.mapMap[h])?J(y,v):y.value=y.value||null),y},P.prototype.getProjectedBounds=function(y){y=P.getProjectedPath(this,y),y=et(y);var h=this.properties;if(y){var v=h&&h["hc-middle-x"];return h=h&&h["hc-middle-y"],y.midX=y.x1+(y.x2-y.x1)*I(this.middleX,U(v)?v:.5),v=I(this.middleY,U(h)?h:.5),this.geometry||(v=1-v),y.midY=y.y2-(y.y2-y.y1)*v,y}},P.prototype.onMouseOver=function(y){V.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?O.prototype.onMouseOver.call(this,y):this.series.onMouseOut(y)},P.prototype.zoomTo=function(){var y=this.series.chart;y.mapView&&this.bounds&&(y.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,y.redraw())},P}(t.seriesTypes.scatter.prototype.pointClass),J(W.prototype,{dataLabelOnNull:G.PointMixin.dataLabelOnNull,isValid:G.PointMixin.isValid,moveToTopOnHover:G.PointMixin.moveToTopOnHover}),W}),mt(X,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}}),mt(X,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}),mt(X,"Extensions/GeoJSON.js",[X["Core/Chart/Chart.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Maps/MapUtilities.js"],X["Core/Utilities.js"]],function(G,W,t,V,K){function et(h,v){if(v||(v=Object.keys(h.objects)[0]),(v=h.objects[v])["hc-decoded-geojson"])return v["hc-decoded-geojson"];var _=h.arcs;if(h.transform){var A=h.transform,d=A.scale,C=A.translate;_=h.arcs.map(function(b){var u=0,l=0;return b.map(function(p){return(p=p.slice())[0]=(u+=p[0])*d[0]+C[0],p[1]=(l+=p[1])*d[1]+C[1],p})})}var x=function(b){return"number"==typeof b[0]?b.reduce(function(u,l,p){var i=0>l?_[~l]:_[l];return 0>l?(i=i.slice(0,0===p?i.length:i.length-1)).reverse():p&&(i=i.slice(1)),u.concat(i)},[]):b.map(x)};return A=v.geometries.map(function(b){return{type:"Feature",properties:b.properties,geometry:{type:b.type,coordinates:b.coordinates||x(b.arcs)}}}),v["hc-decoded-geojson"]={type:"FeatureCollection",copyright:h.copyright,copyrightShort:h.copyrightShort,copyrightUrl:h.copyrightUrl,features:A,"hc-recommended-mapview":v["hc-recommended-mapview"],bbox:h.bbox}}function J(h,v,_){void 0===v&&(v="map");var A=[];return(h="Topology"===h.type?et(h):h).features.forEach(function(d){var b,C=d.geometry||{},x=C.type;C=C.coordinates,d=d.properties,("map"!==v&&"mapbubble"!==v||"Polygon"!==x&&"MultiPolygon"!==x)&&("mapline"!==v||"LineString"!==x&&"MultiLineString"!==x)?"mappoint"===v&&"Point"===x&&C.length&&(b={geometry:{coordinates:C,type:x}}):C.length&&(b={geometry:{coordinates:C,type:x}}),b&&A.push(P(b,{name:"string"==typeof(x=d&&(d.name||d.NAME))?x:void 0,properties:d}))}),_&&h.copyrightShort&&(_.chart.mapCredits=U(_.chart.options.credits.mapText,{geojson:h}),_.chart.mapCreditsFull=U(_.chart.options.credits.mapTextFull,{geojson:h})),A}var U=W.format,I=t.win,O=K.error,P=K.extend,y=K.merge;return W=K.wrap,G.prototype.transformFromLatLon=function(h,v){var _=this.options.chart.proj4||I.proj4;if(_){var A=v.jsonmarginX;A=void 0===A?0:A;var d=v.jsonmarginY;d=void 0===d?0:d;var C=v.jsonres;C=void 0===C?1:C;var x=v.scale;x=void 0===x?1:x;var b=v.xoffset;b=void 0===b?0:b;var u=v.xpan;u=void 0===u?0:u;var l=v.yoffset;l=void 0===l?0:l;var p=v.ypan;p=void 0===p?0:p,h=_(v.crs,[h.lon,h.lat]),_=v.cosAngle||v.rotation&&Math.cos(v.rotation);var i=v.sinAngle||v.rotation&&Math.sin(v.rotation);return{x:(((v=v.rotation?[h[0]*_+h[1]*i,-h[0]*i+h[1]*_]:h)[0]-b)*x+u)*C+A,y:-(((l-v[1])*x+p)*C-d)}}O(21,!1,this)},G.prototype.transformToLatLon=function(h,v){if(this.options.chart.proj4||I.proj4){if(null!==h.y){var _=v.jsonmarginX,A=v.jsonmarginY,d=v.jsonres,C=v.scale,x=v.xoffset,b=v.xpan,u=v.yoffset,l=v.ypan;return h={x:((h.x-(void 0===_?0:_))/(d=void 0===d?1:d)-(void 0===b?0:b))/(C=void 0===C?1:C)+(void 0===x?0:x),y:((h.y-(void 0===A?0:A))/d+(void 0===l?0:l))/C+(void 0===u?0:u)},_=v.cosAngle||v.rotation&&Math.cos(v.rotation),A=v.sinAngle||v.rotation&&Math.sin(v.rotation),{lat:(v=I.proj4(v.crs,"WGS84",v.rotation?{x:h.x*_+h.y*-A,y:h.x*A+h.y*_}:h)).y,lon:v.x}}}else O(21,!1,this)},G.prototype.fromPointToLatLon=function(h){return this.mapView&&this.mapView.projectedUnitsToLonLat(h)},G.prototype.fromLatLonToPoint=function(h){return this.mapView&&this.mapView.lonLatToProjectedUnits(h)},W(G.prototype,"addCredits",function(h,v){v=y(!0,this.options.credits,v),this.mapCredits&&(v.href=null),h.call(this,v),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),t.geojson=J,{geojson:J,topo2geo:et}}),mt(X,"Core/Geometry/PolygonClip.js",[],function(){var t,V,G=function(V,K,et){return(K[0]-V[0])*(et[1]-V[1])>(K[1]-V[1])*(et[0]-V[0])},W=function(V,K,et,J){var U=[V[0]-K[0],V[1]-K[1]],I=[et[0]-J[0],et[1]-J[1]];return(U=[((V=V[0]*K[1]-V[1]*K[0])*I[0]-(et=et[0]*J[1]-et[1]*J[0])*U[0])*(J=1/(U[0]*I[1]-U[1]*I[0])),(V*I[1]-et*U[1])*J]).isIntersection=!0,U};return(V=t||(t={})).clipLineString=function(K,et){var J=[];for(K=V.clipPolygon(K,et,!1),et=1;et<K.length;et++)K[et].isIntersection&&K[et-1].isIntersection&&(J.push(K.splice(0,et)),et=0),et===K.length-1&&J.push(K);return J},V.clipPolygon=function(K,et,J){void 0===J&&(J=!0);for(var I,O,U=et[et.length-1],P=K,y=0;y<et.length;y++){var h=P;K=et[y],P=[],I=J?h[h.length-1]:h[0];for(var v=0;v<h.length;v++)G(U,K,O=h[v])?(G(U,K,I)||P.push(W(U,K,I,O)),P.push(O)):G(U,K,I)&&P.push(W(U,K,I,O)),I=O;U=K}return P},t}),mt(X,"Maps/Projections/LambertConformalConic.js",[],function(){var G=Math.sign||function(V){return 0===V?0:0<V?1:-1},W=Math.PI/180,t=Math.PI/2;return function(){function V(K){var et,J=(K.parallels||[]).map(function(I){return I*W}),U=J[0]||0;J=null!==(et=J[1])&&void 0!==et?et:U,et=Math.cos(U),"object"==typeof K.projectedBounds&&(this.projectedBounds=K.projectedBounds),K=U===J?Math.sin(U):Math.log(et/Math.cos(J))/Math.log(Math.tan((t+J)/2)/Math.tan((t+U)/2)),1e-10>Math.abs(K)&&(K=1e-10*(G(K)||1)),this.n=K,this.c=et*Math.pow(Math.tan((t+U)/2),K)/K}return V.prototype.forward=function(K){var et=K[0]*W,J=this.c,U=this.n,I=this.projectedBounds;K=K[1]*W,0<J?K<1e-6-t&&(K=1e-6-t):K>t-1e-6&&(K=t-1e-6);var O=J/Math.pow(Math.tan((t+K)/2),U);return J=[K=O*Math.sin(U*et)*63.78137,et=63.78137*(J-O*Math.cos(U*et))],I&&(K<I.x1||K>I.x2||et<I.y1||et>I.y2)&&(J.outside=!0),J},V.prototype.inverse=function(K){var et=K[0]/63.78137,J=this.c,U=this.n;K=J-K[1]/63.78137;var I=G(U)*Math.sqrt(et*et+K*K),O=Math.atan2(et,Math.abs(K))*G(K);return 0>K*U&&(O-=Math.PI*G(et)*G(K)),[O/U/W,(2*Math.atan(Math.pow(J/I,1/U))-t)/W]},V}()}),mt(X,"Maps/Projections/EqualEarth.js",[],function(){var G=Math.sqrt(3)/2;return function(){function W(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return W.prototype.forward=function(t){var V=Math.PI/180,K=Math.asin(G*Math.sin(t[1]*V)),et=K*K,J=et*et*et;return[t[0]*V*Math.cos(K)*74.03120656864502/(G*(1.340264+3*-.081106*et+J*(7*893e-6+.034164*et))),74.03120656864502*K*(1.340264+-.081106*et+J*(893e-6+.003796*et))]},W.prototype.inverse=function(t){var V=t[0]/74.03120656864502;t=t[1]/74.03120656864502;var J,K=180/Math.PI,et=t;for(J=0;12>J;++J){var U=et*et,I=U*U*U,O=et*(1.340264+-.081106*U+I*(893e-6+.003796*U))-t;if(et-=O/=U=1.340264+3*-.081106*U+I*(7*893e-6+.034164*U),1e-9>Math.abs(O))break}return[K*G*V*(1.340264+3*-.081106*(U=et*et)+U*U*U*(7*893e-6+.034164*U))/Math.cos(et),K*Math.asin(Math.sin(et)/G)]},W}()}),mt(X,"Maps/Projections/Miller.js",[],function(){var G=Math.PI/4,W=Math.PI/180;return function(){function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return t.prototype.forward=function(V){return[V[0]*W*63.78137,79.7267125*Math.log(Math.tan(G+.4*V[1]*W))]},t.prototype.inverse=function(V){return[V[0]/63.78137/W,2.5*(Math.atan(Math.exp(V[1]/63.78137*.8))-G)/W]},t}()}),mt(X,"Maps/Projections/Orthographic.js",[],function(){var G=Math.PI/180;return function(){function W(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return W.prototype.forward=function(t){var V=t[0];return t=t[1]*G,t=[Math.cos(t)*Math.sin(V*G)*63.78460826781007,63.78460826781007*Math.sin(t)],(-90>V||90<V)&&(t.outside=!0),t},W.prototype.inverse=function(t){var V=t[0]/63.78460826781007;t=t[1]/63.78460826781007;var K=Math.sqrt(V*V+t*t),et=Math.asin(K),J=Math.sin(et);return[Math.atan2(V*J,K*Math.cos(et))/G,Math.asin(K&&t*J/K)/G]},W}()}),mt(X,"Maps/Projections/WebMercator.js",[],function(){var G=Math.PI/180;return function(){function W(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return W.prototype.forward=function(t){var V=Math.sin(t[1]*G);return V=[63.78137*t[0]*G,63.78137*Math.log((1+V)/(1-V))/2],85.0511287798<Math.abs(t[1])&&(V.outside=!0),V},W.prototype.inverse=function(t){return[t[0]/(63.78137*G),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/G]},W}()}),mt(X,"Maps/Projections/ProjectionRegistry.js",[X["Maps/Projections/LambertConformalConic.js"],X["Maps/Projections/EqualEarth.js"],X["Maps/Projections/Miller.js"],X["Maps/Projections/Orthographic.js"],X["Maps/Projections/WebMercator.js"]],function(G,W,t,V,K){return{EqualEarth:W,LambertConformalConic:G,Miller:t,Orthographic:V,WebMercator:K}}),mt(X,"Maps/Projection.js",[X["Core/Geometry/PolygonClip.js"],X["Maps/Projections/ProjectionRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var V=this&&this.__spreadArrays||function(){for(var P=0,y=0,h=arguments.length;y<h;y++)P+=arguments[y].length;P=Array(P);var v=0;for(y=0;y<h;y++)for(var _=arguments[y],A=0,d=_.length;A<d;A++,v++)P[v]=_[A];return P},K=G.clipLineString,et=G.clipPolygon,J=t.clamp,U=t.erase,I=2*Math.PI/360,O=function(P){return-180>P&&(P+=360),180<P&&(P-=360),P};return function(){function P(y){void 0===y&&(y={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=y;var h=y.name,v=y.projectedBounds,_=y.rotation;this.rotator=_?this.getRotator(_):void 0,(h=h?P.registry[h]:void 0)&&(this.def=new h(y));var A=this.def,d=this.rotator;A&&(this.maxLatitude=A.maxLatitude||90,this.hasGeoProjection=!0),d&&A?(this.forward=function(C){return A.forward(d.forward(C))},this.inverse=function(C){return d.inverse(A.inverse(C))}):A?(this.forward=function(C){return A.forward(C)},this.inverse=function(C){return A.inverse(C)}):d&&(this.forward=d.forward,this.inverse=d.inverse),this.bounds="world"===v?A&&A.bounds:v}return P.add=function(y,h){P.registry[y]=h},P.greatCircle=function(y,h,v){var _=Math.atan2,A=Math.cos,d=Math.sin,C=Math.sqrt,x=y[1]*I,b=y[0]*I,u=h[1]*I,l=h[0]*I,p=u-x,i=l-b;p=2*_(C(p=d(p/2)*d(p/2)+A(x)*A(u)*d(i/2)*d(i/2)),C(1-p));var c=Math.round(6371e3*p/5e5);if(i=[],v&&i.push(y),1<c)for(c=y=1/c;.999>c;c+=y){var o=d((1-c)*p)/d(p),n=d(c*p)/d(p),r=o*A(x)*A(b)+n*A(u)*A(l),a=o*A(x)*d(b)+n*A(u)*d(l);o=_(o=o*d(x)+n*d(u),C(r*r+a*a)),r=_(a,r),i.push([r/I,o/I])}return v&&i.push(h),i},P.insertGreatCircles=function(y){for(var h=y.length-1;h--;)if(10<Math.max(Math.abs(y[h][0]-y[h+1][0]),Math.abs(y[h][1]-y[h+1][1]))){var v=P.greatCircle(y[h],y[h+1]);v.length&&y.splice.apply(y,V([h+1,0],v))}},P.toString=function(y){var h=(y=y||{}).rotation;return[y.name,h&&h.join(",")].join(";")},P.prototype.lineIntersectsBounds=function(y){var h=this.bounds||{},v=h.x2,_=h.y1,A=h.y2,d=function(x,b,u){var l=x[0];x=x[1];var p=b?0:1;if("number"==typeof u&&l[b]>=u!=x[b]>=u)return l=l[p]+(u-l[b])/(x[b]-l[b])*(x[p]-l[p]),b?[l,u]:[u,l]},C=y[0];return((h=d(y,0,h.x1))||(h=d(y,0,v)))&&(C=h,y[1]=h),((h=d(y,1,_))||(h=d(y,1,A)))&&(C=h),C},P.prototype.getRotator=function(y){var h=y[0]*I,v=(y[1]||0)*I;y=(y[2]||0)*I;var _=Math.cos(v),A=Math.sin(v),d=Math.cos(y),C=Math.sin(y);if(0!==h||0!==v||0!==y)return{forward:function(x){var b=x[0]*I+h,u=x[1]*I,l=Math.cos(u);return x=Math.cos(b)*l,b=Math.sin(b)*l,l=(u=Math.sin(u))*_+x*A,[Math.atan2(b*d-l*C,x*_-u*A)/I,Math.asin(l*d+b*C)/I]},inverse:function(x){var b=x[0]*I,u=x[1]*I,l=Math.cos(u);return x=Math.cos(b)*l,b=Math.sin(b)*l,l=(u=Math.sin(u))*d-b*C,[(Math.atan2(b*d+u*C,x*_+l*A)-h)/I,Math.asin(l*_-x*A)/I]}}},P.prototype.forward=function(y){return y},P.prototype.inverse=function(y){return y},P.prototype.cutOnAntimeridian=function(y,h){var v=[],_=[y];if(y.forEach(function(i,c){var o=y[c-1];if(!c){if(!h)return;o=y[y.length-1]}var n=o[0],r=i[0];(-90>n||90<n)&&(-90>r||90<r)&&0<n!=0<r&&(r=J((180-(n+360)%360)/((r+360)%360-(n+360)%360),0,1),v.push({i:c,lat:o[1]+r*(i[1]-o[1]),direction:0>n?1:-1,previousLonLat:o,lonLat:i}))}),v.length)if(h){if(v.length%2==1){var A=v.slice().sort(function(i,c){return Math.abs(c.lat)-Math.abs(i.lat)})[0];U(v,A)}for(var d=v.length-2;0<=d;){var C=v[d].i,x=O(180+1e-6*v[d].direction),b=O(180-1e-6*v[d].direction);(C=y.splice.apply(y,V([C,v[d+1].i-C],P.greatCircle([x,v[d].lat],[x,v[d+1].lat],!0)))).push.apply(C,P.greatCircle([b,v[d+1].lat],[b,v[d].lat],!0)),_.push(C),d-=2}if(A)for(x=0;x<_.length;x++){d=A.direction;var u=A.lat;if(-1<(C=(b=_[x]).indexOf(A.lonLat))){x=(0>u?-1:1)*this.maxLatitude;var l=O(180+1e-6*d),p=O(180-1e-6*d);for(u=P.greatCircle([l,u],[l,x],!0),l+=120*d;-180<l&&180>l;l+=120*d)u.push([l,x]);u.push.apply(u,P.greatCircle([p,x],[p,A.lat],!0)),b.splice.apply(b,V([C,0],u));break}}}else for(d=v.length;d--;)(C=y.splice(C=v[d].i,y.length,[O(180+1e-6*v[d].direction),v[d].lat])).unshift([O(180-1e-6*v[d].direction),v[d].lat]),_.push(C);return _},P.prototype.path=function(y){var p,h=this,v=this.bounds,_=this.def,d=[],C="Polygon"===y.type||"MultiPolygon"===y.type,x=this.hasGeoProjection,b=!_||!1!==_.antimeridianCutting,u=b?this.rotator:void 0,l=b&&_||this;v&&(p=[[v.x1,v.y1],[v.x2,v.y1],[v.x2,v.y2],[v.x1,v.y2]]);var i=function(c){var o=[c=c.map(function(n){if(b){u&&(n=u.forward(n));var r=n[0];1e-6>Math.abs(r-180)&&(r=180>r?179.999999:180.000001),n=[r,n[1]]}return n})];x&&(P.insertGreatCircles(c),b&&(o=h.cutOnAntimeridian(c,C))),o.forEach(function(n){if(!(2>n.length)){var r=!1,a=!1,M=function(R){r?d.push(["L",R[0],R[1]]):(d.push(["M",R[0],R[1]]),r=!0)},L=!1,Y=!1,D=n.map(function(R){return(R=l.forward(R)).outside?L=!0:Y=!0,R[1]===1/0?R[1]=1e10:R[1]===-1/0&&(R[1]=-1e10),R});if(b){if(C&&D.push(D[0]),L){if(!Y)return;if(p)if(C)D=et(D,p);else if(v)return void K(D,p).forEach(function(R){r=!1,R.forEach(M)})}D.forEach(M)}else for(var w=0;w<D.length;w++){var N=n[w],s=D[w];if(s.outside)a=!0;else{if(C&&!f){var f=N;n.push(N),D.push(s)}a&&k&&(C&&x?P.greatCircle(k,N).forEach(function(R){return M(l.forward(R))}):r=!1),M(s);var k=N;a=!1}}}})};return"LineString"===y.type?i(y.coordinates):"MultiLineString"===y.type?y.coordinates.forEach(function(c){return i(c)}):"Polygon"===y.type?(y.coordinates.forEach(function(c){return i(c)}),d.length&&d.push(["Z"])):"MultiPolygon"===y.type&&(y.coordinates.forEach(function(c){c.forEach(function(o){return i(o)})}),d.length&&d.push(["Z"])),d},P.registry=W,P}()}),mt(X,"Maps/MapView.js",[X["Maps/MapViewOptionsDefault.js"],X["Maps/MapViewInsetsOptionsDefault.js"],X["Extensions/GeoJSON.js"],X["Core/Chart/MapChart.js"],X["Maps/MapUtilities.js"],X["Maps/Projection.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var n,U=this&&this.__extends||(n=function(r,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var Y in L)L.hasOwnProperty(Y)&&(M[Y]=L[Y])})(r,a)},function(r,a){function M(){this.constructor=r}n(r,a),r.prototype=null===a?Object.create(a):(M.prototype=a.prototype,new M)}),I=this&&this.__spreadArrays||function(){for(var n=0,r=0,a=arguments.length;r<a;r++)n+=arguments[r].length;n=Array(n);var M=0;for(r=0;r<a;r++)for(var L=arguments[r],Y=0,D=L.length;Y<D;Y++,M++)n[M]=L[Y];return n},O=t.topo2geo,P=V.maps,y=K.boundsFromPath,h=K.pointInPolygon,v=J.addEvent,_=J.clamp,A=J.fireEvent,d=J.isArray,C=J.isNumber,x=J.isObject,b=J.isString,u=J.merge,l=J.pick,p=J.relativeLength,i=function(n,r){return Math.log(400.979322/Math.max((n.x2-n.x1)/(r.width/256),(n.y2-n.y1)/(r.height/256)))/Math.log(2)},c=function(){function n(r,a){var L,M=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof o)){var Y=I([r.options.chart.map],(r.options.series||[]).map(function(k){return k.mapData})).map(function(k){return M.getGeoMap(k)}),D=[];Y.forEach(function(k){k&&(L||(L=k["hc-recommended-mapview"]),k.bbox&&D.push({x1:(k=k.bbox)[0],y1:k[1],x2:k[2],y2:k[3]}))});var w=D.length&&n.compositeBounds(D);if(w){var N=w.x1,s=w.y1,f=w.x2;w=w.y2,N=180<f-N&&90<w-s?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[s,w],rotation:[-(N+f)/2]}}this.geoMap=Y[0]}this.userOptions=a||{},Y=u(G,{projection:N},L,a),a=a&&a.insets,(w=L&&L.insets)&&a&&(Y.insets=n.mergeInsets(w,a)),this.chart=r,this.center=Y.center,this.options=Y,this.projection=new et(Y.projection),this.playingField=r.plotBox,this.zoom=Y.zoom||0,this.createInsets(),this.eventsToUnbind.push(v(r,"afterSetChartSize",function(){M.playingField=M.getField(),(void 0===M.minZoom||M.minZoom===M.zoom)&&(M.fitToBounds(void 0,void 0,!1),C(M.userOptions.zoom)&&(M.zoom=M.userOptions.zoom),M.userOptions.center&&u(!0,M.center,M.userOptions.center))})),this.setUpEvents()}return n.mergeInsets=function(r,a){var M=function(Y){var D={};return Y.forEach(function(w,N){D[w&&w.id||"i"+N]=w}),D},L=u(M(r),M(a));return Object.keys(L).map(function(Y){return L[Y]})},n.prototype.createInsets=function(){var r=this,a=this.options,M=a.insets;M&&M.forEach(function(L){L=new o(r,u(a.insetOptions,L)),r.insets.push(L)})},n.prototype.fitToBounds=function(r,a,M,L){void 0===M&&(M=!0);var Y=r||this.getProjectedBounds();if(Y){var D=l(a,r?0:this.options.padding);a=this.getField(!1),D=d(D)?D:[D,D,D,D],this.padding=[p(D[0],a.height),p(D[1],a.width),p(D[2],a.height),p(D[3],a.width)],this.playingField=this.getField(),a=i(Y,this.playingField),r||(this.minZoom=a),r=this.projection.inverse([(Y.x2+Y.x1)/2,(Y.y2+Y.y1)/2]),this.setView(r,a,M,L)}},n.prototype.getField=function(r){return void 0===r&&(r=!0),{x:(r=r?this.padding:[0,0,0,0])[3],y:r[0],width:this.chart.plotWidth-r[1]-r[3],height:this.chart.plotHeight-r[0]-r[2]}},n.prototype.getGeoMap=function(r){if(b(r))return P[r];if(x(r,!0)){if("FeatureCollection"===r.type)return r;if("Topology"===r.type)return O(r)}},n.prototype.getMapBBox=function(){var r=this.getProjectedBounds(),a=this.getScale();if(r){var M=this.padding,L=this.projectedUnitsToPixels({x:r.x1,y:r.y2});return{width:(r.x2-r.x1)*a+M[1]+M[3],height:(r.y2-r.y1)*a+M[0]+M[2],x:L.x-M[3],y:L.y-M[0]}}},n.prototype.getProjectedBounds=function(){var r=this.chart.series.reduce(function(a,M){var L=M.getProjectedBounds&&M.getProjectedBounds();return L&&!1!==M.options.affectsMapView&&a.push(L),a},[]);return this.projection.bounds||n.compositeBounds(r)},n.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},n.prototype.getSVGTransform=function(){var r=this.playingField,a=r.x,M=r.y,L=r.width;r=r.height;var Y=this.projection.forward(this.center),D=this.projection.hasCoordinates?-1:1,w=this.getScale();return{scaleX:w,scaleY:D*=w,translateX:a+L/2-Y[0]*w,translateY:M+r/2-Y[1]*D}},n.prototype.lonLatToPixels=function(r){if(r=this.lonLatToProjectedUnits(r))return this.projectedUnitsToPixels(r)},n.prototype.lonLatToProjectedUnits=function(r){var a=this.chart,M=a.mapTransforms;if(M){for(var L in M)if(Object.hasOwnProperty.call(M,L)&&M[L].hitZone){var Y=a.transformFromLatLon(r,M[L]);if(Y&&h(Y,M[L].hitZone.coordinates[0]))return Y}return a.transformFromLatLon(r,M.default)}for(M=0,L=this.insets;M<L.length;M++)if((a=L[M]).options.geoBounds&&h({x:r.lon,y:r.lat},a.options.geoBounds.coordinates[0]))return r=a.projection.forward([r.lon,r.lat]),r=a.projectedUnitsToPixels({x:r[0],y:r[1]}),this.pixelsToProjectedUnits(r);if(!(r=this.projection.forward([r.lon,r.lat])).outside)return{x:r[0],y:r[1]}},n.prototype.projectedUnitsToLonLat=function(r){var a=this.chart,M=a.mapTransforms;if(M){for(var L in M)if(Object.hasOwnProperty.call(M,L)&&M[L].hitZone&&h(r,M[L].hitZone.coordinates[0]))return a.transformToLatLon(r,M[L]);return a.transformToLatLon(r,M.default)}M=this.projectedUnitsToPixels(r),L=0;for(var Y=this.insets;L<Y.length;L++)if((a=Y[L]).hitZone&&h(M,a.hitZone.coordinates[0]))return r=a.pixelsToProjectedUnits(M),{lon:(r=a.projection.inverse([r.x,r.y]))[0],lat:r[1]};return{lon:(r=this.projection.inverse([r.x,r.y]))[0],lat:r[1]}},n.prototype.redraw=function(r){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)}),this.chart.redraw(r)},n.prototype.setView=function(r,a,M,L){void 0===M&&(M=!0),r&&(this.center=r),"number"==typeof a&&("number"==typeof this.minZoom&&(a=Math.max(a,this.minZoom)),"number"==typeof this.options.maxZoom&&(a=Math.min(a,this.options.maxZoom)),this.zoom=a);var Y=this.getProjectedBounds();if(Y){r=this.projection.forward(this.center);var D=this.playingField;a=D.x;var w=D.y,N=D.width;D=D.height;var s=this.getScale(),f=this.projectedUnitsToPixels({x:Y.x1,y:Y.y1}),k=this.projectedUnitsToPixels({x:Y.x2,y:Y.y2});Y=[(Y.x1+Y.x2)/2,(Y.y1+Y.y2)/2];var R=f.x,z=k.y;f=f.y,(k=k.x)-R<N?r[0]=Y[0]:R<a&&k<a+N?r[0]+=Math.max(R-a,k-N-a)/s:k>a+N&&R>a&&(r[0]+=Math.min(k-N-a,R-a)/s),f-z<D?r[1]=Y[1]:z<w&&f<w+D?r[1]-=Math.max(z-w,f-D-w)/s:f>w+D&&z>w&&(r[1]-=Math.min(f-D-w,z-w)/s),this.center=this.projection.inverse(r),this.insets.forEach(function(H){H.options.field&&(H.hitZone=H.getHitZone(),H.playingField=H.getField())}),this.render()}A(this,"afterSetView"),M&&this.redraw(L)},n.prototype.projectedUnitsToPixels=function(r){var a=this.getScale(),M=this.projection.forward(this.center),L=this.playingField;return{x:L.x+L.width/2-a*(M[0]-r.x),y:L.y+L.height/2+a*(M[1]-r.y)}},n.prototype.pixelsToLonLat=function(r){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(r))},n.prototype.pixelsToProjectedUnits=function(r){var a=r.x;r=r.y;var M=this.getScale(),L=this.projection.forward(this.center),Y=this.playingField;return{x:L[0]+(a-(Y.x+Y.width/2))/M,y:L[1]-(r-(Y.y+Y.height/2))/M}},n.prototype.setUpEvents=function(){var M,L,Y,r=this,a=this.chart,D=function(w){var N=a.pointer.pinchDown,s=r.projection,f=a.mouseDownX,k=a.mouseDownY;if(1===N.length&&(f=N[0].chartX,k=N[0].chartY),"number"==typeof f&&"number"==typeof k){var R=f+","+k,z=w.originalEvent;N=z.chartX,z=z.chartY,R!==L&&(L=R,M=r.projection.forward(r.center),Y=(r.projection.options.rotation||[0,0]).slice()),R=(R=s.def&&s.def.bounds)&&i(R,r.playingField)||-1/0,"Orthographic"===s.options.name&&(r.minZoom||1/0)<1.1*R?(s=440/(r.getScale()*Math.min(a.plotWidth,a.plotHeight)),Y&&(f=(f-N)*s-Y[0],k=_(-Y[1]-(k-z)*s,-80,80),N=r.zoom,r.update({projection:{rotation:[-f,-k]}},!1),r.zoom=N,a.redraw(!1))):(s=r.getScale(),k=r.projection.inverse([M[0]+(f-N)/s,M[1]-(k-z)/s]),r.setView(k,void 0,!0,!1)),w.preventDefault()}};v(a,"pan",D),v(a,"touchpan",D),v(a,"selection",function(w){if(w.resetSelection)r.zoomBy();else{var N=w.x-a.plotLeft,s=w.y-a.plotTop,f=r.pixelsToProjectedUnits({x:N,y:s}),k=f.y;f=f.x,N=r.pixelsToProjectedUnits({x:N+w.width,y:s+w.height}),r.fitToBounds({x1:f,y1:k,x2:N.x,y2:N.y},void 0,!0,!w.originalEvent.touches&&void 0),/^touch/.test(w.originalEvent.type)||a.showResetZoom(),w.preventDefault()}})},n.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},n.prototype.update=function(r,a,M){void 0===a&&(a=!0);var L=r.projection;L=L&&et.toString(L)!==et.toString(this.options.projection);var Y=!1;u(!0,this.userOptions,r),u(!0,this.options,r),"insets"in r&&(this.insets.forEach(function(D){return D.destroy()}),this.insets.length=0,Y=!0),(L||Y)&&(this.chart.series.forEach(function(D){var w=D.transformGroups;if(D.clearBounds&&D.clearBounds(),D.isDirty=!0,D.isDirtyData=!0,Y&&w)for(;1<w.length;)(D=w.pop())&&D.destroy()}),L&&(this.projection=new et(this.options.projection)),Y&&this.createInsets(),r.center||C(r.zoom)||this.fitToBounds(void 0,void 0,!1)),(r.center||C(r.zoom))&&this.setView(this.options.center,r.zoom,!1),a&&this.chart.redraw(M)},n.prototype.zoomBy=function(r,a,M,L){var Y=this.chart,D=this.projection.forward(this.center),w=(a=a?this.projection.forward(a):[])[0],N=a[1];"number"==typeof r?(r=this.zoom+r,a=void 0,M&&(w=M[0],N=M[1],M=this.getScale(),w=D[0]+(w=w-Y.plotLeft-Y.plotWidth/2)/M,N=D[1]+(Y=N-Y.plotTop-Y.plotHeight/2)/M),"number"==typeof w&&"number"==typeof N&&(M=1-Math.pow(2,this.zoom)/Math.pow(2,r),Y=D[1]-N,D[0]-=(w=D[0]-w)*M,D[1]+=Y*M,a=this.projection.inverse(D)),this.setView(a,r,void 0,L)):this.fitToBounds(void 0,void 0,void 0,L)},n.compositeBounds=function(r){if(r.length)return r.slice(1).reduce(function(a,M){return a.x1=Math.min(a.x1,M.x1),a.y1=Math.min(a.y1,M.y1),a.x2=Math.max(a.x2,M.x2),a.y2=Math.max(a.y2,M.y2),a},u(r[0]))},n}(),o=function(n){function r(a,M){var L=n.call(this,a.chart,M)||this;return L.id=M.id,L.mapView=a,L.options=u(W,M),L.allBounds=[],L.options.geoBounds&&(a=a.projection.path(L.options.geoBounds),L.geoBoundsProjectedBox=y(a),L.geoBoundsProjectedPolygon=a.map(function(Y){return[Y[1]||0,Y[2]||0]})),L}return U(r,n),r.prototype.getField=function(a){void 0===a&&(a=!0);var M=this.hitZone;if(M){var L=a?this.padding:[0,0,0,0],Y=(M=M.coordinates[0]).map(function(N){return N[0]}),D=M.map(function(N){return N[1]});M=Math.min.apply(0,Y)+L[3],Y=Math.max.apply(0,Y)-L[1];var w=Math.min.apply(0,D)+L[0];if(L=Math.max.apply(0,D)-L[2],C(M)&&C(w))return{x:M,y:w,width:Y-M,height:L-w}}return n.prototype.getField.call(this,a)},r.prototype.getHitZone=function(){var a=this.chart,L=this.options,Y=(L.field||{}).coordinates;if(Y){if(Y=Y[0],"percent"===L.units){var D="mapBoundingBox"===L.relativeTo&&this.mapView.getMapBBox()||u(a.plotBox,{x:0,y:0});Y=Y.map(function(w){return[p(w[0]+"%",D.width,D.x),p(w[1]+"%",D.height,D.y)]})}return{type:"Polygon",coordinates:[Y]}}},r.prototype.getProjectedBounds=function(){return c.compositeBounds(this.allBounds)},r.prototype.isInside=function(a){var M=this.geoBoundsProjectedBox,L=this.geoBoundsProjectedPolygon;return!!(M&&a.x>=M.x1&&a.x<=M.x2&&a.y>=M.y1&&a.y<=M.y2&&L&&h(a,L))},r.prototype.render=function(){var a=this.chart,M=this.mapView,L=this.options,Y=L.borderPath||L.field;if(Y&&M.group){var D=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(M.group),D=!1),a.styledMode||this.border.attr({stroke:L.borderColor,"stroke-width":L.borderWidth});var w=Math.round(this.border.strokeWidth())%2/2,N="mapBoundingBox"===L.relativeTo&&M.getMapBBox()||M.playingField;M=(Y.coordinates||[]).reduce(function(s,f){return f.reduce(function(k,R,z){var H=R[0];return R=R[1],"percent"===L.units&&(H=a.plotLeft+p(H+"%",N.width,N.x),R=a.plotTop+p(R+"%",N.height,N.y)),H=Math.floor(H)+w,R=Math.floor(R)+w,k.push(0===z?["M",H,R]:["L",H,R]),k},s)},[]),this.border[D?"animate":"attr"]({d:M})}},r.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(function(a){return a()})},r.prototype.setUpEvents=function(){},r}(c);return v(V,"afterInit",function(){this.mapView=new c(this,this.options.mapView)}),c}),mt(X,"Series/Map/MapSeries.js",[X["Core/Animation/AnimationUtilities.js"],X["Series/ColorMapMixin.js"],X["Series/CenteredUtilities.js"],X["Core/Globals.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Chart/MapChart.js"],X["Series/Map/MapPoint.js"],X["Maps/MapView.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U,I,O,P,y){var r,h=this&&this.__extends||(r=function(a,M){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Y){L.__proto__=Y}||function(L,Y){for(var D in Y)Y.hasOwnProperty(D)&&(L[D]=Y[D])})(a,M)},function(a,M){function L(){this.constructor=a}r(a,M),a.prototype=null===M?Object.create(M):(L.prototype=M.prototype,new L)}),v=G.animObject;G=V.noop;var _=et.splitPath,A=(et=O.seriesTypes).column,d=et.scatter;et=y.extend;var C=y.find,x=y.fireEvent,b=y.getNestedProperty,u=y.isArray,l=y.isNumber,p=y.isObject,i=y.merge,c=y.objectEach,o=y.pick,n=y.splat;return y=function(r){function a(){var M=null!==r&&r.apply(this,arguments)||this;return M.chart=void 0,M.data=void 0,M.group=void 0,M.joinBy=void 0,M.options=void 0,M.points=void 0,M.processedData=[],M}return h(a,r),a.prototype.animate=function(M){var L=this.chart,Y=this.group,D=v(this.options.animation);L.renderer.isSVG&&(M?Y.attr({translateX:L.plotLeft+L.plotWidth/2,translateY:L.plotTop+L.plotHeight/2,scaleX:.001,scaleY:.001}):Y.animate({translateX:L.plotLeft,translateY:L.plotTop,scaleX:1,scaleY:1},D))},a.prototype.animateDrilldown=function(M){var L=this.chart,Y=this.group;L.renderer.isSVG&&(M?Y.attr({translateX:L.plotLeft+L.plotWidth/2,translateY:L.plotTop+L.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(Y.animate({translateX:L.plotLeft,translateY:L.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),L.drilldown&&L.drilldown.fadeInGroup(this.dataLabelsGroup)))},a.prototype.animateDrillupFrom=function(){var M=this.chart;M.renderer.isSVG&&this.group.animate({translateX:M.plotLeft+M.plotWidth/2,translateY:M.plotTop+M.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},a.prototype.animateDrillupTo=function(M){A.prototype.animateDrillupTo.call(this,M)},a.prototype.clearBounds=function(){this.points.forEach(function(M){delete M.bounds,delete M.insetIndex,delete M.projectedPath}),delete this.bounds},a.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},a.prototype.drawMapDataLabels=function(){I.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},a.prototype.drawPoints=function(){var M=this,L=this.chart,Y=this.group,D=this.transformGroups,w=void 0===D?[]:D,N=L.mapView,s=L.renderer;N&&(this.transformGroups=w,w[0]||(w[0]=s.g().add(Y)),N.insets.forEach(function(f,k){w[k+1]||w.push(s.g().add(Y))}),this.doFullTranslate()&&(this.points.forEach(function(f){var k=f.graphic,R=f.shapeArgs;f.group=w["number"==typeof f.insetIndex?f.insetIndex+1:0],k&&k.parentGroup!==f.group&&k.add(f.group),R&&L.hasRendered&&!L.styledMode&&(R.fill=M.pointAttribs(f,f.state).fill)}),A.prototype.drawPoints.apply(this),this.points.forEach(function(f){if(f.graphic){var k="";f.name&&(k+="highcharts-name-"+f.name.replace(/ /g,"-").toLowerCase()),f.properties&&f.properties["hc-key"]&&(k+=" highcharts-key-"+f.properties["hc-key"].toString().toLowerCase()),k&&f.graphic.addClass(k),L.styledMode&&f.graphic.css(M.pointAttribs(f,f.selected?"select":void 0))}})),w.forEach(function(f,k){var R=(0===k?N:N.insets[k-1]).getSVGTransform(),z=o(M.options[M.pointAttrToOptions&&M.pointAttrToOptions["stroke-width"]||"borderWidth"],1),H=R.scaleX,m=0<R.scaleY?1:-1;if(s.globalAnimation&&L.hasRendered){var j=Number(f.attr("translateX")),T=Number(f.attr("translateY")),Z=Number(f.attr("scaleX"));f.attr({animator:0}).animate({animator:1},{step:function(B,tt){f.attr({translateX:j+(R.translateX-j)*tt.pos,translateY:T+(R.translateY-T)*tt.pos,scaleX:B=Z+(H-Z)*tt.pos,scaleY:B*m}),f.element.setAttribute("stroke-width",z/B)}})}else f.attr(R),f.element.setAttribute("stroke-width",z/H)}),this.drawMapDataLabels())},a.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var M=this.chart.mapView,L=M.insets,Y=M.projection,D=[];(this.points||[]).forEach(function(w){if(w.path||w.geometry){if("string"==typeof w.path?w.path=_(w.path):u(w.path)&&"M"===w.path[0]&&(w.path=P.prototype.pathToSegments(w.path)),!w.bounds){var N=w.getProjectedBounds(Y);if(N){w.labelrank=o(w.labelrank,(N.x2-N.x1)*(N.y2-N.y1));var s=N.midX,f=N.midY;if(L&&l(s)&&l(f)){var k=C(L,function(R){return R.isInside({x:s,y:f})});k&&(delete w.projectedPath,(N=w.getProjectedBounds(k.projection))&&k.allBounds.push(N),w.insetIndex=L.indexOf(k))}w.bounds=N}}w.bounds&&void 0===w.insetIndex&&D.push(w.bounds)}}),this.bounds=U.compositeBounds(D)}return this.bounds},a.prototype.hasData=function(){return!!this.processedXData.length},a.prototype.pointAttribs=function(M,L){var Y=M.series.chart,D=Y.mapView;return L=Y.styledMode?this.colorAttribs(M):A.prototype.pointAttribs.call(this,M,L),(M=M.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&D&&(M/=D.getScale()),L.dashstyle&&D&&this.options.borderWidth&&(M=this.options.borderWidth/D.getScale()),L["stroke-width"]=o(M,"inherit"),L},a.prototype.setData=function(){r.prototype.setData.apply(this,arguments),this.processData(),this.generatePoints()},a.prototype.processData=function(){var M=this.options,L=M.data,Y=this.chart.options.chart,D=this.joinBy,w=M.keys||this.pointArrayMap,N=[],s={},f=this.chart.mapView;f=f&&(p(M.mapData,!0)?f.getGeoMap(M.mapData):f.geoMap);var k=this.chart.mapTransforms;if((this.chart.mapTransforms=k=Y.mapTransforms||f&&f["hc-transform"]||k)&&c(k,function(T){T.rotation&&(T.cosAngle=Math.cos(T.rotation),T.sinAngle=Math.sin(T.rotation))}),u(M.mapData))var R=M.mapData;else f&&"FeatureCollection"===f.type&&(this.mapTitle=f.title,R=V.geojson(f,this.type,this));var z=this.processedData=[];if(L&&L.forEach(function(T,Z){var B=0;if(l(T))z[Z]={value:T};else if(u(T)){z[Z]={},!M.keys&&T.length>w.length&&"string"==typeof T[0]&&(z[Z]["hc-key"]=T[0],++B);for(var tt=0;tt<w.length;++tt,++B)w[tt]&&typeof T[B]<"u"&&(0<w[tt].indexOf(".")?J.prototype.setNestedProperty(z[Z],T[B],w[tt]):z[Z][w[tt]]=T[B])}else z[Z]=L[Z];D&&"_i"===D[0]&&(z[Z]._i=Z)}),R){for(this.mapData=R,this.mapMap={},k=0;k<R.length;k++)f=(Y=R[k]).properties,Y._i=k,D[0]&&f&&f[D[0]]&&(Y[D[0]]=f[D[0]]),s[Y[D[0]]]=Y;if(this.mapMap=s,D[1]){var H=D[1];z.forEach(function(T){T=b(H,T),s[T]&&N.push(s[T])})}if(M.allAreas){if(D[1]){var m=D[1];z.forEach(function(T){N.push(b(m,T))})}var j="|"+N.map(function(T){return T&&T[D[0]]}).join("|")+"|";R.forEach(function(T){D[0]&&-1!==j.indexOf("|"+T[D[0]]+"|")||z.push(i(T,{value:null}))})}}this.processedXData=Array(z.length)},a.prototype.setOptions=function(M){var L=(M=I.prototype.setOptions.call(this,M)).joinBy;return null===L&&(L="_i"),(L=this.joinBy=n(L))[1]||(L[1]=L[0]),M},a.prototype.translate=function(){var M=this.doFullTranslate(),L=this.chart.mapView,Y=L&&L.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),L){var D=L.getSVGTransform();this.points.forEach(function(w){var N=l(w.insetIndex)&&L.insets[w.insetIndex].getSVGTransform()||D;N&&w.bounds&&l(w.bounds.midX)&&l(w.bounds.midY)&&(w.plotX=w.bounds.midX*N.scaleX+N.translateX,w.plotY=w.bounds.midY*N.scaleY+N.translateY),M&&(w.shapeType="path",w.shapeArgs={d:J.getProjectedPath(w,Y)})})}x(this,"afterTranslate")},a.defaultOptions=i(d.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var M=this.series.chart.numberFormatter,L=this.point.value;return l(L)?M(L,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),a}(d),et(y.prototype,{type:"map",axisTypes:W.SeriesMixin.axisTypes,colorAttribs:W.SeriesMixin.colorAttribs,colorKey:W.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:G,drawGraph:G,drawLegendSymbol:K.drawRectangle,forceDL:!0,getCenter:t.getCenter,getExtremesFromAll:!0,getSymbol:W.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:W.SeriesMixin.parallelArrays,pointArrayMap:W.SeriesMixin.pointArrayMap,pointClass:J,preserveAspectRatio:!0,searchPoint:G,trackerGroups:W.SeriesMixin.trackerGroups,useMapGeometry:!0}),O.registerSeriesType("map",y),y}),mt(X,"Series/MapLine/MapLineSeries.js",[X["Series/Map/MapSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var U,V=this&&this.__extends||(U=function(I,O){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var h in y)y.hasOwnProperty(h)&&(P[h]=y[h])})(I,O)},function(I,O){function P(){this.constructor=I}U(I,O),I.prototype=null===O?Object.create(O):(P.prototype=O.prototype,new P)}),K=W.series,et=t.extend,J=t.merge;return t=function(U){function I(){var O=null!==U&&U.apply(this,arguments)||this;return O.data=void 0,O.options=void 0,O.points=void 0,O}return V(I,U),I.prototype.pointAttribs=function(O,P){return(O=G.prototype.pointAttribs.call(this,O,P)).fill=this.options.fillColor,O},I.defaultOptions=J(G.defaultOptions,{lineWidth:1,fillColor:"none"}),I}(G),et(t.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:K.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),W.registerSeriesType("mapline",t),t}),mt(X,"Series/MapPoint/MapPointPoint.js",[X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W){var K,t=this&&this.__extends||(K=function(et,J){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var O in I)I.hasOwnProperty(O)&&(U[O]=I[O])})(et,J)},function(et,J){function U(){this.constructor=et}K(et,J),et.prototype=null===J?Object.create(J):(U.prototype=J.prototype,new U)}),V=W.isNumber;return function(K){function et(){var J=null!==K&&K.apply(this,arguments)||this;return J.options=void 0,J.series=void 0,J}return t(et,K),et.prototype.isValid=function(){return!!(this.options.geometry||V(this.x)&&V(this.y)||V(this.options.lon)&&V(this.options.lat))},et}(G.seriesTypes.scatter.prototype.pointClass)}),mt(X,"Series/MapPoint/MapPointSeries.js",[X["Core/Globals.js"],X["Series/MapPoint/MapPointPoint.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V){var P,K=this&&this.__extends||(P=function(y,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var A in _)_.hasOwnProperty(A)&&(v[A]=_[A])})(y,h)},function(y,h){function v(){this.constructor=y}P(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)});G=G.noop;var et=t.seriesTypes.scatter,J=V.extend,U=V.fireEvent,I=V.isNumber,O=V.merge;return V=function(P){function y(){var h=null!==P&&P.apply(this,arguments)||this;return h.chart=void 0,h.data=void 0,h.options=void 0,h.points=void 0,h}return K(y,P),y.prototype.drawDataLabels=function(){P.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},y.prototype.projectPoint=function(h){var v=this.chart.mapView;if(v){var _=h.geometry,A=h.lon;if(h=h.lat,_=_&&"Point"===_.type&&_.coordinates,I(A)&&I(h)&&(_=[A,h]),_)return v.lonLatToProjectedUnits({lon:_[0],lat:_[1]})}},y.prototype.translate=function(){var h=this,v=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),v){var _=v.projection.hasCoordinates;this.points.forEach(function(A){var d=A.x;d=void 0===d?void 0:d;var C=A.y;C=void 0===C?void 0:C;var x=h.projectPoint(A.options);x?(d=x.x,C=x.y):A.bounds&&(d=A.bounds.midX,C=A.bounds.midY),I(d)&&I(C)?(d=v.projectedUnitsToPixels({x:d,y:C}),A.plotX=d.x,A.plotY=_?d.y:h.chart.plotHeight-d.y):A.y=A.plotX=A.plotY=void 0,A.isInside=h.isPointInside(A),A.zone=h.zones.length?A.getZone():void 0})}U(this,"afterTranslate")},y.defaultOptions=O(et.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),y}(et),J(V.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:W,searchPoint:G,useMapGeometry:!0}),t.registerSeriesType("mappoint",V),V}),mt(X,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),mt(X,"Series/Bubble/BubbleLegendItem.js",[X["Core/Color/Color.js"],X["Core/FormatUtilities.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t,V){var K=G.parse,et=t.noop,J=V.arrayMax,U=V.arrayMin,I=V.isNumber,O=V.merge,P=V.pick,y=V.stableSort;return function(){function h(v,_){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=et,this.init(v,_)}return h.prototype.init=function(v,_){this.options=v,this.visible=!0,this.chart=_.chart,this.legend=_},h.prototype.addToLegend=function(v){v.splice(this.options.legendIndex,0,this)},h.prototype.drawLegendSymbol=function(v){var _=this.chart,A=this.options,d=P(v.options.itemDistance,20),C=A.ranges,x=A.connectorDistance;this.fontMetrics=_.renderer.fontMetrics(A.labels.style.fontSize),C&&C.length&&I(C[0].value)?(y(C,function(b,u){return u.value-b.value}),this.ranges=C,this.setOptions(),this.render(),v=this.getMaxLabelSize(),_=2*(C=this.ranges[0].radius),x=0<(x=x-C+v.width)?x:0,this.maxLabel=v,this.movementX="left"===A.labels.align?x:0,this.legendItemWidth=_+x+d,this.legendItemHeight=_+this.fontMetrics.h/2):v.options.bubbleLegend.autoRanges=!0},h.prototype.setOptions=function(){var v=this.ranges,_=this.options,A=this.chart.series[_.seriesIndex],d=this.legend.baseline,C={zIndex:_.zIndex,"stroke-width":_.borderWidth},x={zIndex:_.zIndex,"stroke-width":_.connectorWidth},b={align:this.legend.options.rtl||"left"===_.labels.align?"right":"left",zIndex:_.zIndex},u=A.options.marker.fillOpacity,l=this.chart.styledMode;v.forEach(function(p,i){l||(C.stroke=P(p.borderColor,_.borderColor,A.color),C.fill=P(p.color,_.color,1!==u?K(A.color).setOpacity(u).get("rgba"):A.color),x.stroke=P(p.connectorColor,_.connectorColor,A.color)),v[i].radius=this.getRangeRadius(p.value),v[i]=O(v[i],{center:v[0].radius-v[i].radius+d}),l||O(!0,v[i],{bubbleAttribs:O(C),connectorAttribs:O(x),labelAttribs:b})},this)},h.prototype.getRangeRadius=function(v){var _=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,_.ranges[_.ranges.length-1].value,_.ranges[0].value,_.minSize,_.maxSize,v)},h.prototype.render=function(){var v=this.chart.renderer,_=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=v.g("bubble-legend"),this.legendItem=v.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(A){A.value>=_&&this.renderRange(A)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},h.prototype.renderRange=function(v){var _=this.options,A=_.labels,d=this.chart,C=d.series[_.seriesIndex],x=d.renderer,b=this.symbols;d=b.labels;var u=v.center,l=Math.abs(v.radius),p=_.connectorDistance||0,i=A.align,c=_.connectorWidth,o=this.ranges[0].radius||0,n=u-l-_.borderWidth/2+c/2,r=this.fontMetrics;r=r.f/2-(r.h-r.f)/2;var a=x.styledMode;p=this.legend.options.rtl||"left"===i?-p:p,"center"===i&&(p=0,_.connectorDistance=0,v.labelAttribs.align="center"),i=n+_.labels.y;var M=o+p+_.labels.x;b.bubbleItems.push(x.circle(o,u+((n%1?1:.5)-(c%2?0:.5)),l).attr(a?{}:v.bubbleAttribs).addClass((a?"highcharts-color-"+C.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(_.className||"")).add(this.legendSymbol)),b.connectors.push(x.path(x.crispLine([["M",o,n],["L",o+p,n]],_.connectorWidth)).attr(a?{}:v.connectorAttribs).addClass((a?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(_.connectorClassName||"")).add(this.legendSymbol)),v=x.text(this.formatLabel(v),M,i+r).attr(a?{}:v.labelAttribs).css(a?{}:A.style).addClass("highcharts-bubble-legend-labels "+(_.labels.className||"")).add(this.legendSymbol),d.push(v),v.placed=!0,v.alignAttr={x:M,y:i+r}},h.prototype.getMaxLabelSize=function(){var v,_;return this.symbols.labels.forEach(function(A){_=A.getBBox(!0),v=v?_.width>v.width?_:v:_}),v||{}},h.prototype.formatLabel=function(v){var _=this.options,A=_.labels.formatter,d=this.chart.numberFormatter;return(_=_.labels.format)?W.format(_,v):A?A.call(v):d(v.value,1)},h.prototype.hideOverlappingLabels=function(){var _=this.symbols;!this.options.labels.allowOverlap&&_&&(this.chart.hideOverlappingLabels(_.labels),_.labels.forEach(function(A,d){A.newOpacity?A.newOpacity!==A.oldOpacity&&_.connectors[d].show():_.connectors[d].hide()}))},h.prototype.getRanges=function(){var A,v=this.legend.bubbleLegend,_=v.options.ranges,d=Number.MAX_VALUE,C=-Number.MAX_VALUE;v.chart.series.forEach(function(b){b.isBubble&&!b.ignoreSeries&&(A=b.zData.filter(I)).length&&(d=P(b.options.zMin,Math.min(d,Math.max(U(A),!1===b.options.displayNegative?b.options.zThreshold:-Number.MAX_VALUE))),C=P(b.options.zMax,Math.max(C,J(A))))});var x=d===C?[{value:C}]:[{value:d},{value:(d+C)/2},{value:C,autoRanges:!0}];return _.length&&_[0].radius&&x.reverse(),x.forEach(function(b,u){_&&_[u]&&(x[u]=O(_[u],b))}),x},h.prototype.predictBubbleSizes=function(){var v=this.chart,_=this.fontMetrics,A=v.legend.options,d=A.floating,C=(A="horizontal"===A.layout)?v.legend.lastLineHeight:0,x=v.plotSizeX,b=v.plotSizeY,u=v.series[this.options.seriesIndex],l=u.getPxExtremes();v=Math.ceil(l.minPxSize),l=Math.ceil(l.maxPxSize);var p=Math.min(b,x);return u=u.options.maxSize,d||!/%$/.test(u)?_=l:(u=parseFloat(u),_=(p+C-_.h/2)*u/100/(u/100+1),(A&&b-_>=x||!A&&x-_>=b)&&(_=l)),[v,Math.ceil(_)]},h.prototype.updateRanges=function(v,_){var A=this.legend.options.bubbleLegend;A.minSize=v,A.maxSize=_,A.ranges=this.getRanges()},h.prototype.correctSizes=function(){var v=this.legend,_=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(_.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,_.maxPxSize),v.render())},h}()}),mt(X,"Series/Bubble/BubbleLegendComposition.js",[X["Series/Bubble/BubbleLegendDefaults.js"],X["Series/Bubble/BubbleLegendItem.js"],X["Core/DefaultOptions.js"],X["Core/Utilities.js"]],function(G,W,t,V){var I,K=t.setOptions,et=V.addEvent,J=V.objectEach,U=V.wrap;return function(O){function P(C,x,b){var u=this.legend,l=0<=y(this);if(u&&u.options.enabled&&u.bubbleLegend&&u.options.bubbleLegend.autoRanges&&l){var p=u.bubbleLegend.options;l=u.bubbleLegend.predictBubbleSizes(),u.bubbleLegend.updateRanges(l[0],l[1]),p.placed||(u.group.placed=!1,u.allItems.forEach(function(i){i.legendGroup.translateY=null})),u.render(),this.getMargins(),this.axes.forEach(function(i){i.visible&&i.render(),p.placed||(i.setScale(),i.updateNames(),J(i.ticks,function(c){c.isNew=!0,c.isNewLabel=!0}))}),p.placed=!0,this.getMargins(),C.call(this,x,b),u.bubbleLegend.correctSizes(),A(u,h(u))}else C.call(this,x,b),u&&u.options.enabled&&u.bubbleLegend&&(u.render(),A(u,h(u)))}function y(C){C=C.series;for(var x=0;x<C.length;){if(C[x]&&C[x].isBubble&&C[x].visible&&C[x].zData.length)return x;x++}return-1}function h(C){var u,x=[],b=(C=C.allItems).length,l=0;for(u=0;u<b;u++)if(C[u].legendItemHeight&&(C[u].itemHeight=C[u].legendItemHeight),C[u]===C[b-1]||C[u+1]&&C[u]._legendItemPos[1]!==C[u+1]._legendItemPos[1]){x.push({height:0});for(var p=x[x.length-1];l<=u;l++)C[l].itemHeight>p.height&&(p.height=C[l].itemHeight);p.step=u}return x}function v(C){var x=this.bubbleLegend,b=this.options,u=b.bubbleLegend,l=y(this.chart);x&&x.ranges&&x.ranges.length&&(u.ranges.length&&(u.autoRanges=!!u.ranges[0].autoRanges),this.destroyItem(x)),0<=l&&b.enabled&&u.enabled&&(u.seriesIndex=l,this.bubbleLegend=new W(u,this),this.bubbleLegend.addToLegend(C.allItems))}function _(){var C=this.chart,x=this.visible,b=this.chart.legend;b&&b.bubbleLegend&&(this.visible=!x,this.ignoreSeries=x,C=0<=y(C),b.bubbleLegend.visible!==C&&(b.update({bubbleLegend:{enabled:C}}),b.bubbleLegend.visible=C),this.visible=x)}function A(C,x){var u,l,p,b=C.options.rtl,i=0;C.allItems.forEach(function(c,o){u=c.legendGroup.translateX,l=c._legendItemPos[1],((p=c.movementX)||b&&c.ranges)&&c.legendGroup.attr({translateX:p=b?u-c.options.maxSize/2:u+p}),o>x[i].step&&i++,c.legendGroup.attr({translateY:Math.round(l+x[i].height/2)}),c._legendItemPos[1]=l+x[i].height/2})}var d=[];O.compose=function(C,x,b){-1===d.indexOf(C)&&(d.push(C),K({legend:{bubbleLegend:G}}),U(C.prototype,"drawChartBox",P)),-1===d.indexOf(x)&&(d.push(x),et(x,"afterGetAllItems",v)),-1===d.indexOf(b)&&(d.push(b),et(b,"legendItemClick",_))}}(I||(I={})),I}),mt(X,"Series/Bubble/BubblePoint.js",[X["Core/Series/Point.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t){var K,V=this&&this.__extends||(K=function(et,J){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var O in I)I.hasOwnProperty(O)&&(U[O]=I[O])})(et,J)},function(et,J){function U(){this.constructor=et}K(et,J),et.prototype=null===J?Object.create(J):(U.prototype=J.prototype,new U)});return t=t.extend,W=function(K){function et(){var J=null!==K&&K.apply(this,arguments)||this;return J.options=void 0,J.series=void 0,J}return V(et,K),et.prototype.haloPath=function(J){return G.prototype.haloPath.call(this,0===J?0:(this.marker&&this.marker.radius||0)+J)},et}(W.seriesTypes.scatter.prototype.pointClass),t(W.prototype,{ttBelow:!1}),W}),mt(X,"Series/Bubble/BubbleSeries.js",[X["Core/Axis/Axis.js"],X["Series/Bubble/BubbleLegendComposition.js"],X["Series/Bubble/BubblePoint.js"],X["Core/Color/Color.js"],X["Core/Globals.js"],X["Core/Series/Series.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J,U){var b,I=this&&this.__extends||(b=function(u,l){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var c in i)i.hasOwnProperty(c)&&(p[c]=i[c])})(u,l)},function(u,l){function p(){this.constructor=u}b(u,l),u.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)}),O=V.parse;V=K.noop;var P=J.seriesTypes;K=P.column;var y=P.scatter;P=U.addEvent;var h=U.arrayMax,v=U.arrayMin,_=U.clamp,A=U.extend,d=U.isNumber,C=U.merge,x=U.pick;return U=function(b){function u(){var l=null!==b&&b.apply(this,arguments)||this;return l.data=void 0,l.maxPxSize=void 0,l.minPxSize=void 0,l.options=void 0,l.points=void 0,l.radii=void 0,l.yData=void 0,l.zData=void 0,l}return I(u,b),u.prototype.animate=function(l){!l&&this.points.length<this.options.animationLimit&&this.points.forEach(function(p){var i=p.graphic;i&&i.width&&(this.hasRendered||i.attr({x:p.plotX,y:p.plotY,width:1,height:1}),i.animate(this.markerAttribs(p),this.options.animation))},this)},u.prototype.getRadii=function(){var l=this,p=this.zData,i=this.yData,c=[],o=this.chart.bubbleZExtremes,n=this.getPxExtremes(),r=n.minPxSize,a=n.maxPxSize;if(!o){var Y,M=Number.MAX_VALUE,L=-Number.MAX_VALUE;this.chart.series.forEach(function(N){N.bubblePadding&&(N.visible||!l.chart.options.chart.ignoreHiddenSeries)&&(N=N.getZExtremes())&&(M=Math.min(M||N.zMin,N.zMin),L=Math.max(L||N.zMax,N.zMax),Y=!0)}),Y?this.chart.bubbleZExtremes=o={zMin:M,zMax:L}:o={zMin:0,zMax:0}}var D=0;for(n=p.length;D<n;D++)c.push(this.getRadius(o.zMin,o.zMax,r,a,p[D],i[D]));this.radii=c},u.prototype.getRadius=function(l,p,i,c,o,n){var r=this.options,a="width"!==r.sizeBy,M=r.zThreshold,L=p-l,Y=.5;if(null===n||null===o)return null;if(d(o)){if(r.sizeByAbsoluteValue&&(o=Math.abs(o-M),L=Math.max(p-M,Math.abs(l-M)),l=0),o<l)return i/2-1;0<L&&(Y=(o-l)/L)}return a&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(i+Y*(c-i))/2},u.prototype.hasData=function(){return!!this.processedXData.length},u.prototype.pointAttribs=function(l,p){var i=this.options.marker.fillOpacity;return l=et.prototype.pointAttribs.call(this,l,p),1!==i&&(l.fill=O(l.fill).setOpacity(i).get("rgba")),l},u.prototype.translate=function(){b.prototype.translate.call(this),this.getRadii(),this.translateBubble()},u.prototype.translateBubble=function(){for(var l=this.data,p=this.radii,i=this.getPxExtremes().minPxSize,c=l.length;c--;){var o=l[c],n=p?p[c]:0;d(n)&&n>=i/2?(o.marker=A(o.marker,{radius:n,width:2*n,height:2*n}),o.dlBox={x:o.plotX-n,y:o.plotY-n,width:2*n,height:2*n}):o.shapeArgs=o.plotY=o.dlBox=void 0}},u.prototype.getPxExtremes=function(){var l=Math.min(this.chart.plotWidth,this.chart.plotHeight),p=function(c){if("string"==typeof c){var o=/%$/.test(c);c=parseInt(c,10)}return o?l*c/100:c},i=p(x(this.options.minSize,8));return{minPxSize:i,maxPxSize:p=Math.max(p(x(this.options.maxSize,"20%")),i)}},u.prototype.getZExtremes=function(){var l=this.options,p=(this.zData||[]).filter(d);if(p.length){var i=x(l.zMin,_(v(p),!1===l.displayNegative?l.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(l=x(l.zMax,h(p)),d(i)&&d(l))return{zMin:i,zMax:l}}},u.compose=W.compose,u.defaultOptions=C(y.defaultOptions,{dataLabels:{formatter:function(){var l=this.series.chart.numberFormatter,p=this.point.z;return d(p)?l(p,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),u}(y),A(U.prototype,{alignDataLabel:K.prototype.alignDataLabel,applyZones:V,bubblePadding:!0,buildKDTree:V,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),P(U,"updatedData",function(b){delete b.target.chart.bubbleZExtremes}),G.prototype.beforePadding=function(){var M,b=this,u=this.len,l=this.chart,p=0,i=u,c=this.isXAxis,o=c?"xData":"yData",n=this.min,r=this.max-n,a=u/r;this.series.forEach(function(L){if(L.bubblePadding&&(L.visible||!l.options.chart.ignoreHiddenSeries)){M=b.allowZoomOutside=!0;var Y=L[o];if(c&&L.getRadii(0,0,L),0<r)for(var D=Y.length;D--;)if(d(Y[D])&&b.dataMin<=Y[D]&&Y[D]<=b.max){var w=L.radii&&L.radii[D]||0;p=Math.min((Y[D]-n)*a-w,p),i=Math.max((Y[D]-n)*a+w,i)}}}),M&&0<r&&!this.logarithmic&&(i-=u,a*=(u+Math.max(0,p)-Math.min(i,u))/u,[["min","userMin",p],["max","userMax",i]].forEach(function(L){typeof x(b.options[L[0]],b[L[1]])>"u"&&(b[L[0]]+=L[2]/a)}))},J.registerSeriesType("bubble",U),U}),mt(X,"Series/MapBubble/MapBubblePoint.js",[X["Series/Map/MapPoint.js"],X["Core/Series/SeriesRegistry.js"]],function(G,W){var K,t=this&&this.__extends||(K=function(et,J){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var O in I)I.hasOwnProperty(O)&&(U[O]=I[O])})(et,J)},function(et,J){function U(){this.constructor=et}K(et,J),et.prototype=null===J?Object.create(J):(U.prototype=J.prototype,new U)}),V=(W=W.seriesTypes).map;return function(K){function et(){var J=null!==K&&K.apply(this,arguments)||this;return J.applyOptions=V.prototype.pointClass.prototype.applyOptions,J.getProjectedBounds=G.prototype.getProjectedBounds,J}return t(et,K),et.prototype.isValid=function(){return"number"==typeof this.z},et}(W.bubble.prototype.pointClass)}),mt(X,"Series/MapBubble/MapBubbleSeries.js",[X["Series/Bubble/BubbleSeries.js"],X["Series/MapBubble/MapBubblePoint.js"],X["Series/Map/MapSeries.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Globals.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et){var O,J=this&&this.__extends||(O=function(P,y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)v.hasOwnProperty(_)&&(h[_]=v[_])})(P,y)},function(P,y){function h(){this.constructor=P}O(P,y),P.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),U=V.seriesTypes.mappoint;K=et.extend;var I=et.merge;return et=function(O){function P(){var y=null!==O&&O.apply(this,arguments)||this;return y.data=void 0,y.options=void 0,y.points=void 0,y}return J(P,O),P.prototype.searchPoint=function(y,h){return this.searchKDTree({clientX:y.chartX-this.chart.plotLeft,plotY:y.chartY-this.chart.plotTop},h,y)},P.prototype.translate=function(){U.prototype.translate.call(this),this.getRadii(),this.translateBubble()},P.compose=G.compose,P.defaultOptions=I(G.defaultOptions,{animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),P}(G),K(et.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:t.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:W,processData:t.prototype.processData,projectPoint:U.prototype.projectPoint,setData:t.prototype.setData,setOptions:t.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),V.registerSeriesType("mapbubble",et),et}),mt(X,"Series/Heatmap/HeatmapPoint.js",[X["Core/Series/SeriesRegistry.js"],X["Core/Utilities.js"]],function(G,W){var U,t=this&&this.__extends||(U=function(I,O){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var h in y)y.hasOwnProperty(h)&&(P[h]=y[h])})(I,O)},function(I,O){function P(){this.constructor=I}U(I,O),I.prototype=null===O?Object.create(O):(P.prototype=O.prototype,new P)}),V=W.clamp,K=W.defined,et=W.extend,J=W.pick;return G=function(U){function I(){var O=null!==U&&U.apply(this,arguments)||this;return O.options=void 0,O.series=void 0,O.value=void 0,O.x=void 0,O.y=void 0,O}return t(I,U),I.prototype.applyOptions=function(O,P){return(O=U.prototype.applyOptions.call(this,O,P)).formatPrefix=O.isNull||null===O.value?"null":"point",O},I.prototype.getCellAttributes=function(){var O=this.series,P=O.options,y=(P.colsize||1)/2,h=(P.rowsize||1)/2,v=O.xAxis,_=O.yAxis,A=this.options.marker||O.options.marker;O=O.pointPlacementToXValue();var d=J(this.pointPadding,P.pointPadding,0),C={x1:V(Math.round(v.len-(v.translate(this.x-y,!1,!0,!1,!0,-O)||0)),-v.len,2*v.len),x2:V(Math.round(v.len-(v.translate(this.x+y,!1,!0,!1,!0,-O)||0)),-v.len,2*v.len),y1:V(Math.round(_.translate(this.y-h,!1,!0,!1,!0)||0),-_.len,2*_.len),y2:V(Math.round(_.translate(this.y+h,!1,!0,!1,!0)||0),-_.len,2*_.len)};return[["width","x"],["height","y"]].forEach(function(x){var b=x[0],u=(x=x[1])+"1",l=x+"2",p=Math.abs(C[u]-C[l]),i=A&&A.lineWidth||0,c=Math.abs(C[u]+C[l])/2;K(b=A&&A[b])&&b<p&&(C[u]=c-(b=b/2+i/2),C[l]=c+b),d&&("y"===x&&(u=l,l=x+"1"),C[u]+=d,C[l]-=d)}),C},I.prototype.haloPath=function(O){if(!O)return[];var P=this.shapeArgs;return["M",P.x-O,P.y-O,"L",P.x-O,P.y+P.height+O,P.x+P.width+O,P.y+P.height+O,P.x+P.width+O,P.y-O,"Z"]},I.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},I}(G.seriesTypes.scatter.prototype.pointClass),et(G.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),G}),mt(X,"Series/Heatmap/HeatmapSeries.js",[X["Core/Color/Color.js"],X["Series/ColorMapMixin.js"],X["Series/Heatmap/HeatmapPoint.js"],X["Core/Legend/LegendSymbol.js"],X["Core/Series/SeriesRegistry.js"],X["Core/Renderer/SVG/SVGRenderer.js"],X["Core/Utilities.js"]],function(G,W,t,V,K,et,J){var x,U=this&&this.__extends||(x=function(b,u){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var i in p)p.hasOwnProperty(i)&&(l[i]=p[i])})(b,u)},function(b,u){function l(){this.constructor=b}x(b,u),b.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l)}),I=K.series,O=K.seriesTypes,P=O.column,y=O.scatter,h=et.prototype.symbols,v=J.extend,_=J.fireEvent,A=J.isNumber,d=J.merge,C=J.pick;return et=function(x){function b(){var u=null!==x&&x.apply(this,arguments)||this;return u.colorAxis=void 0,u.data=void 0,u.options=void 0,u.points=void 0,u.valueMax=NaN,u.valueMin=NaN,u}return U(b,x),b.prototype.drawPoints=function(){var u=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(I.prototype.drawPoints.call(this),this.points.forEach(function(l){l.graphic&&(l.graphic[u.chart.styledMode?"css":"animate"](u.colorAttribs(l)),u.options.borderRadius&&l.graphic.attr({r:u.options.borderRadius}),(l.shapeArgs||{}).r=u.options.borderRadius,(l.shapeArgs||{}).d=l.graphic.pathArray,null===l.value&&l.graphic.addClass("highcharts-null-point"))}))},b.prototype.getExtremes=function(){var u=I.prototype.getExtremes.call(this,this.valueData),l=u.dataMin;return u=u.dataMax,A(l)&&(this.valueMin=l),A(u)&&(this.valueMax=u),I.prototype.getExtremes.call(this)},b.prototype.getValidPoints=function(u,l){return I.prototype.getValidPoints.call(this,u,l,!0)},b.prototype.hasData=function(){return!!this.processedXData.length},b.prototype.init=function(){I.prototype.init.apply(this,arguments);var u=this.options;u.pointRange=C(u.pointRange,u.colsize||1),this.yAxis.axisPointRange=u.rowsize||1,h.ellipse=h.circle},b.prototype.markerAttribs=function(u,l){var p=u.marker||{},c=u.shapeArgs||{},o={};if(u.hasImage)return{x:u.plotX,y:u.plotY};if(l){var n=(this.options.marker||{}).states[l]||{},r=p.states&&p.states[l]||{};[["width","x"],["height","y"]].forEach(function(a){o[a[0]]=(r[a[0]]||n[a[0]]||c[a[0]])+(r[a[0]+"Plus"]||n[a[0]+"Plus"]||0),o[a[1]]=c[a[1]]+(c[a[0]]-o[a[0]])/2})}return l?o:c},b.prototype.pointAttribs=function(u,l){var p=I.prototype.pointAttribs.call(this,u,l),i=this.options||{},c=this.chart.options.plotOptions||{},o=c.series||{},n=c.heatmap||{};return c=u&&u.options.borderColor||i.borderColor||n.borderColor||o.borderColor,o=u&&u.options.borderWidth||i.borderWidth||n.borderWidth||o.borderWidth||p["stroke-width"],p.stroke=u&&u.marker&&u.marker.lineColor||i.marker&&i.marker.lineColor||c||this.color,p["stroke-width"]=o,l&&(l=(u=d(i.states[l],i.marker&&i.marker.states[l],u&&u.options.states&&u.options.states[l]||{})).brightness,p.fill=u.color||G.parse(p.fill).brighten(l||0).get(),p.stroke=u.lineColor),p},b.prototype.setClip=function(u){var l=this.chart;I.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||u)&&this.markerGroup.clip((u||this.clipBox)&&this.sharedClipKey?l.sharedClips[this.sharedClipKey]:l.clipRect)},b.prototype.translate=function(){var u=this.options,l=u.marker&&u.marker.symbol||"rect",p=h[l]?l:"rect",i=-1!==["circle","square"].indexOf(p);this.generatePoints(),this.points.forEach(function(c){var o=c.getCellAttributes(),n={};n.x=Math.min(o.x1,o.x2),n.y=Math.min(o.y1,o.y2),n.width=Math.max(Math.abs(o.x2-o.x1),0),n.height=Math.max(Math.abs(o.y2-o.y1),0);var r=c.hasImage=0===(c.marker&&c.marker.symbol||l||"").indexOf("url");if(i){var a=Math.abs(n.width-n.height);n.x=Math.min(o.x1,o.x2)+(n.width<n.height?0:a/2),n.y=Math.min(o.y1,o.y2)+(n.width<n.height?a/2:0),n.width=n.height=Math.min(n.width,n.height)}a={plotX:(o.x1+o.x2)/2,plotY:(o.y1+o.y2)/2,clientX:(o.x1+o.x2)/2,shapeType:"path",shapeArgs:d(!0,n,{d:h[p](n.x,n.y,n.width,n.height)})},r&&(c.marker={width:n.width,height:n.height}),v(c,a)}),_(this,"afterTranslate")},b.defaultOptions=d(y.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var u=this.series.chart.numberFormatter,l=this.point.value;return A(l)?u(l,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),b}(y),v(et.prototype,{alignDataLabel:P.prototype.alignDataLabel,axisTypes:W.SeriesMixin.axisTypes,colorAttribs:W.SeriesMixin.colorAttribs,colorKey:W.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:V.drawRectangle,getExtremesFromAll:!0,getSymbol:I.prototype.getSymbol,parallelArrays:W.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:t,trackerGroups:W.SeriesMixin.trackerGroups}),K.registerSeriesType("heatmap",et),et}),mt(X,"masters/modules/map.src.js",[X["Core/Globals.js"],X["Core/Axis/Color/ColorAxis.js"],X["Series/MapBubble/MapBubbleSeries.js"],X["Core/Chart/MapChart.js"],X["Maps/MapView.js"],X["Maps/Projection.js"]],function(G,W,t,V,K,et){G.ColorAxis=W,G.MapChart=V,G.mapChart=G.Map=V.mapChart,G.MapView=K,G.maps=V.maps,G.Projection=et,W.compose(G.Chart,G.Fx,G.Legend,G.Series),t.compose(G.Chart,G.Legend,G.Series)}),mt(X,"masters/highmaps.src.js",[X["masters/highcharts.src.js"]],function(G){return G.product="Highmaps",G}),X["masters/highmaps.src.js"]._modules=X,X["masters/highmaps.src.js"]},ee.exports?(mt.default=mt,ee.exports=kt.document?mt(kt):mt):void 0!==(Kt=function(){return mt(kt)}.call(ce,Mt,ce,ee))&&(ee.exports=Kt)},9025:(ee,ce,Mt)=>{var Kt={"./ad/ad-all.geo.json":[93986,3986],"./ae/ae-all.geo.json":[55528,5528],"./af/af-all.geo.json":[16159,6159],"./ag/ag-all.geo.json":[76744,6744],"./al/al-all.geo.json":[14727,4727],"./am/am-all.geo.json":[88860,8860],"./ao/ao-all.geo.json":[40670,670],"./ar/ar-all.geo.json":[31608,1608],"./as/as-all.geo.json":[73287,3287],"./at/at-all.geo.json":[43355,3355],"./au/au-all.geo.json":[760,760],"./az/az-all.geo.json":[88660,8660],"./ba/ba-all.geo.json":[58468,8468],"./bb/bb-all.geo.json":[50521,521],"./bd/bd-all.geo.json":[23923,3923],"./be/be-all.geo.json":[25163,5163],"./bf/bf-all.geo.json":[70390,390],"./bg/bg-all.geo.json":[51564,1564],"./bh/bh-all.geo.json":[99550,9550],"./bi/bi-all-all.geo.json":[60292,292],"./bi/bi-all.geo.json":[56399,6399],"./bj/bj-all.geo.json":[48711,8711],"./bn/bn-all.geo.json":[5374,5374],"./bo/bo-all.geo.json":[58249,8249],"./br/br-all.geo.json":[50744,744],"./bs/bs-all.geo.json":[42919,2919],"./bt/bt-all.geo.json":[46119,6119],"./bw/bw-all.geo.json":[56552,6552],"./by/by-all.geo.json":[97331,7331],"./bz/bz-all.geo.json":[98456,8456],"./ca/ca-ab-all.geo.json":[74710,4710],"./ca/ca-all-all.geo.json":[66212,6212],"./ca/ca-all.geo.json":[97758,7758],"./ca/ca-bc-all.geo.json":[89535,9535],"./ca/ca-mb-all.geo.json":[32574,2574],"./ca/ca-nb-all.geo.json":[28304,7425],"./ca/ca-nf-all.geo.json":[58657,8657],"./ca/ca-ns-all.geo.json":[41313,1313],"./ca/ca-nt-all.geo.json":[69810,9810],"./ca/ca-nu-all.geo.json":[94449,4449],"./ca/ca-on-all.geo.json":[33638,3638],"./ca/ca-pe-all.geo.json":[85807,5807],"./ca/ca-qc-all.geo.json":[10092,92],"./ca/ca-sk-all.geo.json":[19157,9157],"./ca/ca-yt-all.geo.json":[14315,4315],"./cd/cd-all.geo.json":[71639,1639],"./cf/cf-all.geo.json":[77311,7311],"./cg/cg-all.geo.json":[88892,8892],"./ch/ch-all.geo.json":[46197,6197],"./ci/ci-all.geo.json":[25633,5633],"./ck/ck-all.geo.json":[49946,9946],"./cl/cl-all.geo.json":[50918,918],"./cm/cm-all.geo.json":[92179,2179],"./cn/cn-all.geo.json":[11098,1098],"./co/co-all.geo.json":[28863,8863],"./cr/cr-all.geo.json":[53485,3485],"./cu/cu-all.geo.json":[33746,3746],"./cv/cv-all.geo.json":[59396,9396],"./cy/cy-all.geo.json":[94107,4107],"./cz/cz-all.geo.json":[63470,3470],"./de/de-all-all.geo.json":[32165,2165],"./de/de-all.geo.json":[49158,9158],"./de/de-bb-all-all.geo.json":[20130,130],"./de/de-bb-all.geo.json":[70808,808],"./de/de-be-all-all.geo.json":[12618,2618],"./de/de-be-all.geo.json":[6068,6068],"./de/de-bw-all-all.geo.json":[89140,9140],"./de/de-bw-all.geo.json":[48506,8506],"./de/de-by-all-all.geo.json":[10753,753],"./de/de-by-all.geo.json":[14668,4668],"./de/de-hb-all-all.geo.json":[20209,209],"./de/de-hb-all.geo.json":[6874,6874],"./de/de-he-all-all.geo.json":[33895,3895],"./de/de-he-all.geo.json":[98709,8709],"./de/de-hh-all-all.geo.json":[27200,7200],"./de/de-hh-all.geo.json":[43880,3880],"./de/de-mv-all-all.geo.json":[25795,5795],"./de/de-mv-all.geo.json":[23557,3557],"./de/de-ni-all-all.geo.json":[96063,6063],"./de/de-ni-all.geo.json":[30476,476],"./de/de-nw-all-all.geo.json":[4730,4730],"./de/de-nw-all.geo.json":[9829,9829],"./de/de-rp-all-all.geo.json":[61377,1377],"./de/de-rp-all.geo.json":[43128,3128],"./de/de-sh-all-all.geo.json":[59626,9626],"./de/de-sh-all.geo.json":[86096,6096],"./de/de-sl-all-all.geo.json":[66699,6699],"./de/de-sl-all.geo.json":[10140,140],"./de/de-sn-all-all.geo.json":[14951,4951],"./de/de-sn-all.geo.json":[21274,1274],"./de/de-st-all-all.geo.json":[79892,9892],"./de/de-st-all.geo.json":[98986,1926],"./de/de-th-all-all.geo.json":[50155,155],"./de/de-th-all.geo.json":[11695,1695],"./dj/dj-all.geo.json":[88958,8958],"./dk/dk-all.geo.json":[6323,6323],"./dm/dm-all.geo.json":[13730,3730],"./do/do-all.geo.json":[84712,4712],"./dz/dz-all.geo.json":[54566,4566],"./ec/ec-all.geo.json":[1567,1567],"./ee/ee-all.geo.json":[53705,3705],"./eg/eg-all.geo.json":[77486,5480],"./eh/eh-all.geo.json":[30636,636],"./er/er-all.geo.json":[75478,5478],"./es/es-all.geo.json":[21070,1070],"./et/et-all.geo.json":[34223,4223],"./fi/fi-all.geo.json":[52835,2835],"./fj/fj-all.geo.json":[38501,8501],"./fo/fo-all.geo.json":[77420,7420],"./fr/fr-all-all.geo.json":[20544,544],"./fr/fr-all.geo.json":[29930,9930],"./fr/fr-ara-all.geo.json":[83352,3352],"./fr/fr-bfc-all.geo.json":[47209,7209],"./fr/fr-bre-all.geo.json":[52561,2561],"./fr/fr-cor-all.geo.json":[44802,4802],"./fr/fr-cvl-all.geo.json":[57208,7208],"./fr/fr-ges-all.geo.json":[97634,7634],"./fr/fr-gf-all.geo.json":[46288,6288],"./fr/fr-gua-all.geo.json":[24506,4506],"./fr/fr-hdf-all.geo.json":[60145,145],"./fr/fr-idf-all.geo.json":[57518,7518],"./fr/fr-lre-all.geo.json":[77108,7108],"./fr/fr-may-all.geo.json":[62682,2682],"./fr/fr-mq-all.geo.json":[8801,8801],"./fr/fr-naq-all.geo.json":[35600,5600],"./fr/fr-nor-all.geo.json":[2934,2934],"./fr/fr-occ-all.geo.json":[45730,5730],"./fr/fr-pac-all.geo.json":[45660,5660],"./fr/fr-pdl-all.geo.json":[94884,4884],"./ga/ga-all.geo.json":[63447,3447],"./gb/gb-all.geo.json":[1555,1555],"./gd/gd-all.geo.json":[73971,6087],"./ge/ge-all.geo.json":[26044,6044],"./gh/gh-all.geo.json":[831,831],"./gl/gl-all.geo.json":[20593,593],"./gm/gm-all.geo.json":[33255,3255],"./gn/gn-all.geo.json":[20169,169],"./gq/gq-all.geo.json":[18853,8853],"./gr/gr-all.geo.json":[18319,8319],"./gt/gt-all.geo.json":[45320,5320],"./gu/gu-all.geo.json":[1054,1054],"./gw/gw-all.geo.json":[36527,6527],"./gy/gy-all.geo.json":[70151,151],"./hn/hn-all.geo.json":[85040,5040],"./hr/hr-all.geo.json":[16885,6885],"./ht/ht-all.geo.json":[14022,4022],"./hu/hu-all.geo.json":[46445,6445],"./id/id-all.geo.json":[8361,8361],"./ie/ie-all.geo.json":[58240,8240],"./il/il-all.geo.json":[39352,9352],"./in/in-all.geo.json":[40610,610],"./iq/iq-all.geo.json":[302,302],"./ir/ir-all.geo.json":[68348,8348],"./is/is-all.geo.json":[64549,4549],"./it/it-all.geo.json":[89923,9923],"./jm/jm-all.geo.json":[82756,2756],"./jo/jo-all.geo.json":[79583,9583],"./jp/jp-all.geo.json":[74186,4186],"./ke/ke-all.geo.json":[19013,9013],"./kg/kg-all.geo.json":[74684,4684],"./kh/kh-all.geo.json":[30535,535],"./km/km-all.geo.json":[64806,4806],"./kn/kn-all.geo.json":[12302,2302],"./kp/kp-all.geo.json":[60398,398],"./kr/kr-all.geo.json":[41800,1800],"./kv/kv-all.geo.json":[60576,576],"./kw/kw-all.geo.json":[98744,8744],"./kz/kz-all.geo.json":[70369,369],"./la/la-all.geo.json":[89734,9734],"./lb/lb-all.geo.json":[93095,3095],"./lc/lc-all.geo.json":[81380,1380],"./li/li-all.geo.json":[17058,7058],"./lk/lk-all.geo.json":[72055,2055],"./lr/lr-all.geo.json":[17963,7963],"./ls/ls-all.geo.json":[26349,6349],"./lt/lt-all.geo.json":[47603,7603],"./lu/lu-all.geo.json":[90838,838],"./lv/lv-all.geo.json":[32163,2163],"./ly/ly-all.geo.json":[51115,1115],"./ma/ma-all.geo.json":[37873,7873],"./mc/mc-all.geo.json":[83004,3004],"./md/md-all.geo.json":[81739,1739],"./me/me-all.geo.json":[56012,6012],"./mg/mg-all.geo.json":[83836,3836],"./mk/mk-all.geo.json":[46946,6946],"./ml/ml-all.geo.json":[77608,7608],"./mm/mm-all.geo.json":[7027,7027],"./mn/mn-all.geo.json":[8986,8986],"./mp/mp-all.geo.json":[23096,3096],"./mr/mr-all.geo.json":[35223,5223],"./mt/mt-all.geo.json":[66889,6889],"./mu/mu-all.geo.json":[12865,2865],"./mw/mw-all.geo.json":[8761,8761],"./mx/mx-all.geo.json":[72225,2225],"./my/my-all.geo.json":[45006,5006],"./mz/mz-all.geo.json":[58576,8576],"./na/na-all.geo.json":[44543,4543],"./nc/nc-all.geo.json":[61261,1261],"./ne/ne-all.geo.json":[60795,795],"./ng/ng-all.geo.json":[92700,2700],"./ni/ni-all.geo.json":[53685,9290],"./nl/nl-all-all.geo.json":[40364,364],"./nl/nl-all.geo.json":[55402,5402],"./nl/nl-dr-all.geo.json":[57407,7407],"./nl/nl-fl-all.geo.json":[33526,3526],"./nl/nl-fr-all.geo.json":[62294,2294],"./nl/nl-ge-all.geo.json":[728,728],"./nl/nl-gr-all.geo.json":[24933,4933],"./nl/nl-li-all.geo.json":[34113,4113],"./nl/nl-nb-all.geo.json":[29990,9990],"./nl/nl-nh-all.geo.json":[6128,6128],"./nl/nl-ov-all.geo.json":[70544,2766],"./nl/nl-ut-all.geo.json":[51599,1599],"./nl/nl-ze-all.geo.json":[82698,2698],"./nl/nl-zh-all.geo.json":[41355,1355],"./no/no-ag-all.geo.json":[30848,848],"./no/no-all-all.geo.json":[50087,87],"./no/no-all.geo.json":[41060,1060],"./no/no-in-all.geo.json":[88272,8272],"./no/no-mr-all.geo.json":[48577,8577],"./no/no-no-all.geo.json":[84661,4661],"./no/no-os-all.geo.json":[37980,7980],"./no/no-ro-all.geo.json":[23507,3507],"./no/no-td-all.geo.json":[21678,1678],"./no/no-tf-all.geo.json":[94808,4808],"./no/no-vi-all.geo.json":[13273,3273],"./no/no-vl-all.geo.json":[1047,1047],"./no/no-vt-all.geo.json":[71704,1704],"./np/np-all.geo.json":[14218,4218],"./nr/nr-all.geo.json":[67887,7887],"./nz/nz-all.geo.json":[69556,9556],"./om/om-all.geo.json":[2101,2101],"./pa/pa-all.geo.json":[19527,9527],"./pe/pe-all.geo.json":[8115,8115],"./pg/pg-all.geo.json":[45062,5062],"./ph/ph-all.geo.json":[55497,5497],"./pk/pk-all.geo.json":[17431,7431],"./pl/pl-all.geo.json":[73707,3707],"./pr/pr-all-all.geo.json":[63902,3902],"./pr/pr-all.geo.json":[36036,6036],"./pt/pt-all.geo.json":[59582,9582],"./pw/pw-all.geo.json":[48087,8087],"./py/py-all.geo.json":[84215,4215],"./qa/qa-all.geo.json":[47204,7204],"./ro/ro-all.geo.json":[9877,9877],"./rs/rs-all.geo.json":[42982,2982],"./ru/ru-all.geo.json":[57438,7438],"./rw/rw-all.geo.json":[53406,3406],"./sa/sa-all.geo.json":[78918,8918],"./sb/sb-all.geo.json":[79750,9750],"./sc/sc-all.geo.json":[93994,3994],"./sd/sd-all.geo.json":[81716,1716],"./se/se-all.geo.json":[24188,4188],"./sg/sg-all.geo.json":[87848,7848],"./si/si-all.geo.json":[89775,9775],"./sk/sk-all.geo.json":[66277,6277],"./sl/sl-all.geo.json":[95152,5152],"./sm/sm-all.geo.json":[10942,942],"./sn/sn-all.geo.json":[4812,4812],"./so/so-all.geo.json":[81830,1830],"./sr/sr-all.geo.json":[8304,8304],"./ss/ss-all.geo.json":[98050,8050],"./st/st-all.geo.json":[67586,7586],"./sv/sv-all.geo.json":[88817,8817],"./sx/sx-all.geo.json":[14524,4524],"./sy/sy-all.geo.json":[75764,5764],"./sz/sz-all.geo.json":[63804,3804],"./td/td-all.geo.json":[15099,5099],"./tf/tf-all.geo.json":[52226,2226],"./tg/tg-all.geo.json":[25610,5610],"./th/th-all.geo.json":[12538,2538],"./tj/tj-all.geo.json":[31272,1272],"./tl/tl-all.geo.json":[76314,6314],"./tm/tm-all.geo.json":[29639,9639],"./tn/tn-all.geo.json":[1331,1331],"./tr/tr-all.geo.json":[41103,1103],"./tt/tt-all.geo.json":[75290,5290],"./tw/tw-all.geo.json":[48756,8756],"./tz/tz-all.geo.json":[2038,2038],"./ua/ua-all.geo.json":[43248,3248],"./ug/ug-all.geo.json":[59034,9034],"./us/us-ak-all.geo.json":[65188,5188],"./us/us-al-all.geo.json":[21725,1725],"./us/us-all-all.geo.json":[57692,7692],"./us/us-all.geo.json":[33133,3133],"./us/us-ar-all.geo.json":[66982,6982],"./us/us-az-all.geo.json":[78435,8435],"./us/us-ca-all.geo.json":[18111,8111],"./us/us-co-all.geo.json":[82484,2484],"./us/us-ct-all.geo.json":[35745,5745],"./us/us-dc-all.geo.json":[33462,3462],"./us/us-de-all.geo.json":[35693,5693],"./us/us-fl-all.geo.json":[35079,5079],"./us/us-ga-all.geo.json":[88650,8650],"./us/us-hi-all.geo.json":[32713,2713],"./us/us-ia-all.geo.json":[73617,3617],"./us/us-id-all.geo.json":[92785,2785],"./us/us-il-all.geo.json":[32360,2360],"./us/us-in-all.geo.json":[62151,2151],"./us/us-ks-all.geo.json":[24253,4253],"./us/us-ky-all.geo.json":[18531,8531],"./us/us-la-all.geo.json":[67877,7877],"./us/us-ma-all.geo.json":[19244,9244],"./us/us-md-all.geo.json":[44589,4589],"./us/us-me-all.geo.json":[649,649],"./us/us-mi-all.geo.json":[13971,3971],"./us/us-mn-all.geo.json":[49439,9439],"./us/us-mo-all.geo.json":[66595,6595],"./us/us-ms-all.geo.json":[68350,8350],"./us/us-mt-all.geo.json":[82615,2615],"./us/us-nc-all.geo.json":[20924,924],"./us/us-nd-all.geo.json":[57284,7284],"./us/us-ne-all.geo.json":[67486,7486],"./us/us-nh-all.geo.json":[48e3,8e3],"./us/us-nj-all.geo.json":[45201,5201],"./us/us-nm-all.geo.json":[96739,6739],"./us/us-nv-all.geo.json":[12689,2689],"./us/us-ny-all.geo.json":[29135,9135],"./us/us-oh-all.geo.json":[64315,9413],"./us/us-ok-all.geo.json":[30208,208],"./us/us-or-all.geo.json":[51789,1789],"./us/us-pa-all.geo.json":[56362,6362],"./us/us-ri-all.geo.json":[27149,7149],"./us/us-sc-all.geo.json":[18182,8182],"./us/us-sd-all.geo.json":[53911,3911],"./us/us-tn-all.geo.json":[49069,9069],"./us/us-tx-all.geo.json":[25248,5248],"./us/us-ut-all.geo.json":[70942,9075],"./us/us-va-all.geo.json":[70726,726],"./us/us-vt-all.geo.json":[70464,464],"./us/us-wa-all.geo.json":[11342,1342],"./us/us-wi-all.geo.json":[7203,7203],"./us/us-wv-all.geo.json":[91360,1360],"./us/us-wy-all.geo.json":[6170,6170],"./uy/uy-all.geo.json":[11458,1458],"./uz/uz-all.geo.json":[44881,4881],"./vc/vc-all.geo.json":[50461,461],"./ve/ve-all.geo.json":[2174,2174],"./vi/vi-all.geo.json":[67519,7519],"./vn/vn-all.geo.json":[63912,3912],"./vu/vu-all.geo.json":[61552,1552],"./wf/wf-all.geo.json":[28720,8720],"./ws/ws-all.geo.json":[71873,1873],"./ye/ye-all.geo.json":[2396,2396],"./za/za-all.geo.json":[59222,9222],"./zm/zm-all.geo.json":[31364,1364],"./zw/zw-all.geo.json":[73343,3343]};function kt(mt){if(!Mt.o(Kt,mt))return Promise.resolve().then(()=>{var W=new Error("Cannot find module '"+mt+"'");throw W.code="MODULE_NOT_FOUND",W});var X=Kt[mt],G=X[0];return Mt.e(X[1]).then(()=>Mt.t(G,19))}kt.keys=()=>Object.keys(Kt),kt.id=9025,ee.exports=kt},78858:(ee,ce,Mt)=>{var Kt={"./cs/index.js":27463,"./fr/index.js":69003};function kt(X){return mt(X).then(G=>Mt.t(G,23))}function mt(X){return Mt.e(7869).then(()=>{if(!Mt.o(Kt,X)){var G=new Error("Cannot find module '"+X+"'");throw G.code="MODULE_NOT_FOUND",G}return Kt[X]})}kt.keys=()=>Object.keys(Kt),kt.resolve=mt,kt.id=78858,ee.exports=kt}}]);