"use strict";(self.webpackChunkgravitee_portal_webui=self.webpackChunkgravitee_portal_webui||[]).push([[2523],{12523:(A,_,i)=>{i.r(_),i.d(_,{GvPageRedocComponent:()=>D});var p=i(97520),r=i(91456),f=i(10550),s=i(85799),y=i(99052),n=i(55062),P=i(97963),C=i(49450),h=i(36895);const M=["redoc"];function O(c,l){1&c&&(n.TgZ(0,"div",3),n._UZ(1,"gv-icon",4),n.qZA())}const E=function(c){return{show:c}};let D=(()=>{class c{constructor(e,t){this.notificationService=e,this.pageService=t,this.isLoaded=!1}ngOnInit(){const e=this.pageService.getCurrentPage();this.loadScript().then(()=>this.refresh(e))}onScroll(){window.requestAnimationFrame(()=>{s.F.updateMenuPosition(this.redocMenu)})}loadScript(){return new Promise(e=>{const t="redoc-standalone";if(null==document.getElementById(t)){const o=document.createElement("script");o.async=!0,o.src="redoc.js",o.onload=e,o.id=t,document.body.appendChild(o)}else e({})})}refresh(e){if(e){const t=(0,r.M)(document.body,"--gv-theme-color-dark",void 0),o=(0,r.M)(document.body,"--gv-theme-color",void 0),g=(0,r.M)(document.body,"--gv-theme-color-danger",void 0),d=(0,r.M)(document.body,"--gv-theme-font-color-dark",void 0),m=(0,r.M)(document.body,"--gv-theme-font-color-light",void 0),a=(0,r.M)(document.body,"--gv-theme-font-family",void 0),R={expandResponses:"",expandSingleSchemaField:!1,lazyRendering:!0,scrollYOffset:120,theme:{colors:{primary:{main:t},success:{main:o},error:{main:g},text:{primary:d}},typography:{fontSize:(0,r.M)(document.body,"--gv-theme-font-size-m",void 0),fontFamily:a,headings:{fontFamily:a}},sidebar:{backgroundColor:(0,r.M)(document.body,"--gv-theme-neutral-color-lightest",void 0),textColor:d},rightPanel:{backgroundColor:t,textColor:m}}};let u;try{u=JSON.parse(e.content)}catch{u=(0,y.D)(e.content)}Redoc.init(u,R,this.redocContainer.nativeElement,v=>this._redocCallback(v))}}get redocMenu(){return document.querySelector(".menu-content")}_redocCallback(e){e&&this.notificationService.error((0,p.J)("gv-page.swagger.badFormat")),this.isLoaded=!0,setTimeout(()=>{const t=f.a.getHeaderHeight()+s.F.PAGE_PADDING_TOP_BOTTOM,o=document.querySelector(".redoc-wrap"),g=window.getComputedStyle(o).height;let d=document.querySelector(".page__content");null==d&&(d=document.querySelector(".layout__content")),d.style.minHeight=g,document.querySelector(s.F.PAGE_COMPONENT).style.minHeight=g,this.redocMenu.style.position="fixed",this.redocMenu.style.height=` ${window.innerHeight-t-s.F.PAGE_PADDING_TOP_BOTTOM}px`,this.redocMenu.style.top=`${t}px`,this.redocMenu.style.bottom=`${s.F.PAGE_PADDING_TOP_BOTTOM}px`;const m=window.getComputedStyle(document.querySelector(".menu-content")).width;document.querySelector(".api-content").style.marginLeft=m,document.querySelector('.menu-content a[target="_blank"]').remove(),[].forEach.call(document.querySelectorAll(".api-content h2 a, .api-content h1 a"),a=>{a.remove()}),this.fragment&&setTimeout(()=>{const a=document.getElementById(`${this.fragment}`);a&&a.scrollIntoView({block:"start",inline:"nearest"})},350)},0)}ngOnDestroy(){[".layout__content",".page__content",s.F.PAGE_COMPONENT].forEach(e=>{const t=document.querySelector(e);t&&(t.style.height="auto",t.style.minHeight="auto")})}}return c.\u0275fac=function(e){return new(e||c)(n.Y36(P.g),n.Y36(C.P))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-gv-page-redoc"]],viewQuery:function(e,t){if(1&e&&n.Gf(M,7),2&e){let o;n.iGM(o=n.CRH())&&(t.redocContainer=o.first)}},hostBindings:function(e,t){1&e&&n.NdJ("resize",function(){return t.onScroll()},!1,n.Jf7)("scroll",function(){return t.onScroll()},!1,n.Jf7)},inputs:{fragment:"fragment"},decls:4,vars:4,consts:[[1,"gv-page-container",3,"ngClass"],["redoc",""],["class","gv-documentation__loading",4,"ngIf"],[1,"gv-documentation__loading"],["shape","navigation:waiting"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"div",null,1),n.qZA(),n.YNc(3,O,2,0,"div",2)),2&e&&(n.Q6J("ngClass",n.VKq(2,E,t.isLoaded)),n.xp6(3),n.Q6J("ngIf",!t.isLoaded))},directives:[h.mk,h.O5],styles:["[_nghost-%COMP%]{width:100%;display:flex;height:100%}.gv-page-container[_ngcontent-%COMP%]{background-color:var(--gv-theme-neutral-color);display:none;opacity:0;transition:opacity 1s ease-in-out;width:100%}.gv-page-container.show[_ngcontent-%COMP%]{display:block;opacity:1}.gv-documentation__loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:calc(100vh - var(--gv-theme-page--pt) - var(--gv-theme-page--pb) - var(--gv-theme-layout-header--h))}.gv-documentation__loading[_ngcontent-%COMP%]   gv-icon[_ngcontent-%COMP%]{--gv-icon--s: 32px;-webkit-animation:spinner 1.6s linear infinite;animation:spinner 1.6s linear infinite}@-webkit-keyframes spinner{to{transform:rotate(360deg)}}@keyframes spinner{to{transform:rotate(360deg)}}"]}),c})()}}]);