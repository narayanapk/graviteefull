(self.webpackChunkgravitee_portal_webui=self.webpackChunkgravitee_portal_webui||[]).push([[8547],{84879:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,r,Ne;module=__webpack_require__.nmd(module),function(r){var Je,Ne=this;if(typeof global<"u"&&(Ne=global),typeof window<"u"&&(Ne=window),"log"in(Je="object"==typeof Ne.console?Ne.console:null==Ne.console?Ne.console={}:{})||(Je.log=function(){}),"warn"in Je||(Je.warn=Je.log),typeof Ne.Opal<"u")return Je.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),Ne.Opal;var Ze,Be,he,gt,Re,R=this.Opal={};R.global=Ne,Ne.Opal=R,R.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var Gt=Object.hasOwnProperty,F=Function.prototype.bind,ke=Object.setPrototypeOf,st=Array.prototype.slice,Ge=Array.prototype.splice,Oe=4;function ve(D,se,ue){"string"==typeof D?D[se]=ue:Object.defineProperty(D,se,{value:ue,enumerable:!1,configurable:!0,writable:!0})}function J(D,se){if(D)return D.$$const[se]}function Ve(D,se){var ue,ge,Ue;if(null!=D)for(ue=0,ge=(Ue=R.ancestors(D)).length;ue<ge;ue++)if(Ue[ue].$$const&&Gt.call(Ue[ue].$$const,se))return Ue[ue].$$const[se]}function Ye(D,se,ue){if(!ue)return(D||he).$const_missing(se)}function lt(D){return D.hasOwnProperty("$$iclass")&&D.hasOwnProperty("$$root")}function pt(D){var se=St(D);return D.$$is_module&&D.$$iclasses.push(se),se}function St(D){var se={},ue=D.$$prototype;ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on);var Ue,ge=Object.getOwnPropertyNames(ue),Le=ge.length;for(Ue=0;Ue<Le;Ue++){var qe=ge[Ue];ve(se,qe,ue[qe])}return ve(se,"$$iclass",!0),ve(se,"$$module",D),se}function Rt(D){var se=D.length,ue=D[0];if(ve(ue,"$$root",!0),1===se)return{first:ue,last:ue};for(var ge=ue,Le=1;Le<se;Le++){var Ue=D[Le];ke(ge,Ue),ge=Ue}return{first:D[0],last:D[se-1]}}function Et(D){if(!D.hasOwnProperty("$$dummy")){if(D.hasOwnProperty("$$iclass"))return D.$$module;if(D.hasOwnProperty("$$class"))return D.$$class}}function qt(D){return"function"==typeof D&&!D.$$stub}R.uid=function(){return Oe+=2},R.id=function(D){return D.$$is_number?2*D+1:(null!=D.$$id||ve(D,"$$id",R.uid()),D.$$id)},R.gvars={},R.exit=function(D){R.gvars.DEBUG&&Je.log("Exited with status "+D)},R.exceptions=[],R.pop_exception=function(){R.gvars["!"]=R.exceptions.pop()||Ze},R.inspect=function(D){return D===r?"undefined":null===D?"null":D.$$class?D.$inspect():D.toString()},R.defineProperty=ve,R.slice=st,R.truthy=function(D){return D!==Ze&&null!=D&&(!D.$$is_boolean||1==D)},R.falsy=function(D){return D===Ze||null==D||D.$$is_boolean&&0==D},R.const_get_local=function(D,se,ue){var ge;if(null!=D){if("::"===D&&(D=he),!D.$$is_module&&!D.$$is_class)throw new R.TypeError(D.toString()+" is not a class/module");if(null!=(ge=J(D,se))||null!=(ge=Ye(D,se,ue)))return ge}},R.const_get_qualified=function(D,se,ue){var ge,Le,Ue,qe=R.const_cache_version;if(null!=D){if("::"===D&&(D=he),!D.$$is_module&&!D.$$is_class)throw new R.TypeError(D.toString()+" is not a class/module");return null==(Le=D.$$const_cache)&&(ve(D,"$$const_cache",Object.create(null)),Le=D.$$const_cache),null==(Ue=Le[se])||Ue[0]!==qe?(null!=(ge=J(D,se))||(ge=Ve(D,se)),Le[se]=[qe,ge]):ge=Ue[1],ge??Ye(D,se,ue)}},R.const_cache_version=1,R.const_get_relative=function(D,se,ue){var Le,qe,wt,ge=D[0],Ue=R.const_cache_version;return null==(qe=D.$$const_cache)&&(ve(D,"$$const_cache",Object.create(null)),qe=D.$$const_cache),null==(wt=qe[se])||wt[0]!==Ue?(null!=(Le=J(ge,se))||null!=(Le=function G(D,se){var ue,ge,Ue;if(0!==D.length)for(ue=0,ge=D.length;ue<ge;ue++)if(null!=(Ue=D[ue].$$const[se]))return Ue}(D,se))||null!=(Le=Ve(ge,se))||(Le=function ft(D,se){if(null==D||D.$$is_module)return Ve(he,se)}(ge,se)),qe[se]=[Ue,Le]):Le=wt[1],Le??Ye(ge,se,ue)},R.const_set=function(D,se,ue){return(null==D||"::"===D)&&(D=he),ue.$$is_a_module&&((null==ue.$$name||ue.$$name===Ze)&&(ue.$$name=se),null==ue.$$base_module&&(ue.$$base_module=D)),D.$$const=D.$$const||Object.create(null),D.$$const[se]=ue,D.$$=D.$$const,R.const_cache_version++,D===he&&(R[se]=ue),ve(D,se,ue),ue},R.constants=function(D,se){null==se&&(se=!0);var ue,Ue,qe,Nt,ge=[D],wt={};for(se&&(ge=ge.concat(R.ancestors(D))),se&&D.$$is_module&&(ge=ge.concat([R.Object]).concat(R.ancestors(R.Object))),Ue=0,qe=ge.length;Ue<qe&&(ue=ge[Ue],D===he||ue!=he);Ue++)for(Nt in ue.$$const)wt[Nt]=!0;return Object.keys(wt)},R.const_remove=function(D,se){if(R.const_cache_version++,null!=D.$$const[se]){var ue=D.$$const[se];return delete D.$$const[se],ue}if(null!=D.$$autoload&&null!=D.$$autoload[se])return delete D.$$autoload[se],Ze;throw R.NameError.$new("constant "+D+"::"+D.$name()+" not defined")},R.allocate_class=function(D,se){var ue,ge;return ge=null!=se&&se.$$bridge?function(){var Le=st.call(arguments),Ue=new(F.apply(se.$$constructor,[null].concat(Le)));return ke(Ue,ue.$$prototype),Ue}:function(){},D&&ve(ge,"displayName","::"+D),ve(ue=ge,"$$name",D),ve(ue,"$$constructor",ge),ve(ue,"$$prototype",ge.prototype),ve(ue,"$$const",{}),ve(ue,"$$is_class",!0),ve(ue,"$$is_a_module",!0),ve(ue,"$$super",se),ve(ue,"$$cvars",{}),ve(ue,"$$own_included_modules",[]),ve(ue,"$$own_prepended_modules",[]),ve(ue,"$$ancestors",[]),ve(ue,"$$ancestors_cache_version",null),ve(ue.$$prototype,"$$class",ue),R.Class&&ke(ue,R.Class.prototype),null!=se&&(ke(ue.$$prototype,se.$$prototype),se.$$meta&&R.build_class_singleton_class(ue)),ue},R.klass=function(D,se,ue){var ge;null==D?D=he:!D.$$is_class&&!D.$$is_module&&(D=D.$$class),null!=se&&!se.hasOwnProperty("$$is_class")&&(ge=se,se=he);var Le=function pe(D,se){var ue=J(D,se);if(ue){if(!ue.$$is_class)throw R.TypeError.$new(se+" is not a class");return ue}}(D,ue);return Le?(se&&function De(D,se){if(D.$$super!==se)throw R.TypeError.$new("superclass mismatch for class "+D.$$name)}(Le,se),Le):(null==se&&(se=he),Le=R.allocate_class(ue,se),R.const_set(D,ue,Le),se.$inherited&&se.$inherited(Le),ge&&R.bridge(ge,Le),Le)},R.allocate_module=function(D){var se=function(){};D&&ve(se,"displayName",D+".$$constructor");var ue=se;return D&&ve(se,"displayName",D+".constructor"),ve(ue,"$$name",D),ve(ue,"$$prototype",se.prototype),ve(ue,"$$const",{}),ve(ue,"$$is_module",!0),ve(ue,"$$is_a_module",!0),ve(ue,"$$cvars",{}),ve(ue,"$$iclasses",[]),ve(ue,"$$own_included_modules",[]),ve(ue,"$$own_prepended_modules",[]),ve(ue,"$$ancestors",[ue]),ve(ue,"$$ancestors_cache_version",null),ke(ue,R.Module.prototype),ue},R.module=function(D,se){var ue;return null==D?D=he:!D.$$is_class&&!D.$$is_module&&(D=D.$$class),ue=function Ce(D,se){var ue=J(D,se);if(null==ue&&D===he&&(ue=Ve(he,se)),ue&&!ue.$$is_module&&ue!==he)throw R.TypeError.$new(se+" is not a module");return ue}(D,se),ue||(ue=R.allocate_module(se),R.const_set(D,se,ue),ue)},R.get_singleton_class=function(D){return D.$$meta?D.$$meta:D.hasOwnProperty("$$is_class")?R.build_class_singleton_class(D):D.hasOwnProperty("$$is_module")?R.build_module_singletin_class(D):R.build_object_singleton_class(D)},R.build_class_singleton_class=function(D){var se,ue;return D.$$meta?D.$$meta:(se=D===Be?Re:R.get_singleton_class(D.$$super),ve(ue=R.allocate_class(null,se,function(){}),"$$is_singleton",!0),ve(ue,"$$singleton_of",D),ve(D,"$$meta",ue),ke(D,ue.$$prototype),ve(D,"$$class",R.Class),ue)},R.build_module_singletin_class=function(D){if(D.$$meta)return D.$$meta;var se=R.allocate_class(null,R.Module,function(){});return ve(se,"$$is_singleton",!0),ve(se,"$$singleton_of",D),ve(D,"$$meta",se),ke(D,se.$$prototype),ve(D,"$$class",R.Module),se},R.build_object_singleton_class=function(D){var ue=R.allocate_class(Ze,D.$$class,function(){});return ve(ue,"$$is_singleton",!0),ve(ue,"$$singleton_of",D),delete ue.$$prototype.$$class,ve(D,"$$meta",ue),ke(D,D.$$meta.$$prototype),ue},R.is_method=function(D){return"$"===D[0]&&"$"!==D[1]},R.instance_methods=function(D){for(var se=[],ue=[],ge=R.ancestors(D),Le=0,Ue=ge.length;Le<Ue;Le++){var wt=ge[Le].$$prototype;wt.hasOwnProperty("$$dummy")&&(wt=wt.$$define_methods_on);for(var Nt=Object.getOwnPropertyNames(wt),Bt=0,Ut=Nt.length;Bt<Ut;Bt++){var Vt=Nt[Bt];if(R.is_method(Vt)){var Jt=Vt.slice(1),Kt=wt[Vt];Kt.$$stub&&-1===se.indexOf(Jt)&&se.push(Jt),!Kt.$$stub&&-1===ue.indexOf(Jt)&&-1===se.indexOf(Jt)&&ue.push(Jt)}}}return ue},R.own_instance_methods=function(D){var se=[],ue=D.$$prototype;ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on);for(var ge=Object.getOwnPropertyNames(ue),Le=0,Ue=ge.length;Le<Ue;Le++){var qe=ge[Le];if(R.is_method(qe)&&!ue[qe].$$stub){var Nt=qe.slice(1);se.push(Nt)}}return se},R.methods=function(D){return R.instance_methods(R.get_singleton_class(D))},R.own_methods=function(D){return R.own_instance_methods(R.get_singleton_class(D))},R.receiver_methods=function(D){var se=R.get_singleton_class(D),ue=R.own_instance_methods(se),ge=R.own_instance_methods(se.$$super);return ue.concat(ge)},R.class_variables=function(D){var ue,se=R.ancestors(D),Le={};for(ue=se.length-1;ue>=0;ue--){var Ue=se[ue];for(var qe in Ue.$$cvars)Le[qe]=Ue.$$cvars[qe]}return Le},R.class_variable_set=function(D,se,ue){var Le,ge=R.ancestors(D);for(Le=ge.length-2;Le>=0;Le--){var qe=ge[Le];if(Gt.call(qe.$$cvars,se))return qe.$$cvars[se]=ue,ue}return D.$$cvars[se]=ue,ue},R.append_features=function(D,se){var ue=R.ancestors(D),ge=[];if(-1!==ue.indexOf(se))throw R.ArgumentError.$new("cyclic include detected");for(var Le=0,Ue=ue.length;Le<Ue;Le++){var wt=pt(ue[Le]);ve(wt,"$$included",!0),ge.push(wt)}var Ut,Vt,Nt=R.ancestors(se),Bt=Rt(ge);if(-1===Nt.indexOf(D))Ut=se.$$prototype,Vt=Object.getPrototypeOf(se.$$prototype);else{for(var Kt=se.$$prototype,Wt=Object.getPrototypeOf(Kt);null!=Wt&&(!lt(Wt)||Wt.$$module!==D);)Kt=Wt,Wt=Object.getPrototypeOf(Wt);for(var Qt=Object.getPrototypeOf(Wt);Qt.hasOwnProperty("$$iclass")&&!lt(Qt);)Qt=Object.getPrototypeOf(Qt);Ut=Kt,Vt=Qt}ke(Ut,Bt.first),ke(Bt.last,Vt),se.$$own_included_modules=function xt(D){for(var ue,se=[],ge=Object.getPrototypeOf(D.$$prototype);ge&&!ge.hasOwnProperty("$$class");)(ue=Et(ge))&&se.push(ue),ge=Object.getPrototypeOf(ge);return se}(se),R.const_cache_version++},R.prepend_features=function(D,se){var ue=R.ancestors(D),ge=[];if(-1!==ue.indexOf(se))throw R.ArgumentError.$new("cyclic prepend detected");for(var Le=0,Ue=ue.length;Le<Ue;Le++){var wt=pt(ue[Le]);ve(wt,"$$prepended",!0),ge.push(wt)}var Vt,Jt,Kt,Nt=Rt(ge),Bt=se.$$prototype,Ut=Object.getPrototypeOf(Bt);if(Bt.hasOwnProperty("$$dummy")?Vt=Bt.$$define_methods_on:(Vt=St(se),function ht(D){for(var se=D.$$prototype,ue=Object.getOwnPropertyNames(se),ge=0;ge<ue.length;ge++){var Le=ue[ge];R.is_method(Le)&&delete se[Le]}}(se),ve(Bt,"$$dummy",!0),ve(Bt,"$$define_methods_on",Vt),ke(Bt,Vt),ke(Vt,Ut)),-1!==R.ancestors(se).indexOf(D))throw R.RuntimeError.$new("Prepending a module multiple times is not supported");for(Jt=Bt,Kt=Object.getPrototypeOf(Bt);null!=Kt&&!Kt.hasOwnProperty("$$root")&&Kt!==Vt&&Kt.hasOwnProperty("$$iclass");)Kt=Object.getPrototypeOf(Kt);ke(Jt,Nt.first),ke(Nt.last,Kt),se.$$own_prepended_modules=function At(D){var ue,se=[],ge=Object.getPrototypeOf(D.$$prototype);if(D.$$prototype.hasOwnProperty("$$dummy"))for(;ge&&ge!==D.$$prototype.$$define_methods_on;)(ue=Et(ge))&&se.push(ue),ge=Object.getPrototypeOf(ge);return se}(se),R.const_cache_version++},R.bridge=function(D,se){if(D.hasOwnProperty("$$bridge"))throw R.ArgumentError.$new("already bridged");ve(D,"$$bridge",se),ke(D.prototype,(se.$$super||R.Object).$$prototype),ve(se,"$$prototype",D.prototype),ve(se.$$prototype,"$$class",se),ve(se,"$$constructor",D),ve(se,"$$bridge",!0)},R.ancestors=function(D){if(!D)return[];if(D.$$ancestors_cache_version===R.const_cache_version)return D.$$ancestors;var ue,ge,Le,se=[];for(ue=0,ge=function Ft(D){return D.$$own_prepended_modules.concat([D]).concat(D.$$own_included_modules)}(D),Le=ge.length;ue<Le;ue++)se.push(ge[ue]);if(D.$$super)for(ue=0,Le=(ge=R.ancestors(D.$$super)).length;ue<Le;ue++)se.push(ge[ue]);return D.$$ancestors_cache_version=R.const_cache_version,D.$$ancestors=se,se},R.included_modules=function(D){for(var se=[],ue=null,ge=Object.getPrototypeOf(D.$$prototype);ge&&Object.getPrototypeOf(ge);ge=Object.getPrototypeOf(ge))(ue=Et(ge))&&ue.$$is_module&&ge.$$iclass&&ge.$$included&&se.push(ue);return se},R.add_stubs=function(D){for(var se=R.BasicObject.$$prototype,ue=0,ge=D.length;ue<ge;ue++){var Le=D[ue],Ue=se[Le];(null==Ue||Ue.$$stub)&&R.add_stub_for(se,Le)}},R.add_stub_for=function(D,se){ve(D,se,R.stub_for(se))},R.stub_for=function(D){function se(){this.$method_missing.$$p=se.$$p,se.$$p=null;for(var ue=new Array(arguments.length),ge=0,Le=ue.length;ge<Le;ge++)ue[ge]=arguments[ge];return this.$method_missing.apply(this,[D.slice(1)].concat(ue))}return se.$$stub=!0,se},R.ac=function(D,se,ue,ge){var Le="";throw Le+=ue.$$is_a_module?ue.$$name+".":ue.$$class.$$name+"#",R.ArgumentError.$new("["+(Le+=ge)+"] wrong number of arguments("+D+" for "+se+")")},R.block_ac=function(D,se,ue){throw R.ArgumentError.$new("`block in "+ue+"': wrong number of arguments ("+D+" for "+se+")")},R.find_super_dispatcher=function(D,se,ue,ge,Le){for(var qe,wt,Ue="$"+se,Bt=(qe=D.hasOwnProperty("$$meta")?R.ancestors(D.$$meta):R.ancestors(D.$$class)).indexOf(ue.$$owner)+1;Bt<qe.length;Bt++){var Vt=qe[Bt].$$prototype;if(Vt.hasOwnProperty("$$dummy")&&(Vt=Vt.$$define_methods_on),Vt.hasOwnProperty(Ue)){var Jt=Vt[Ue];Jt.$$stub||(wt=Jt);break}}if(!ge&&null==wt&&R.Kernel.$method_missing===D.$method_missing)throw R.NoMethodError.$new("super: no superclass method `"+se+"' for "+D,se);return wt},R.find_iter_super_dispatcher=function(D,se,ue,ge,Le){var Ue=se;if(!ue)throw R.RuntimeError.$new("super called outside of method");if(Le&&ue.$$define_meth)throw R.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return ue.$$def&&(Ue=ue.$$jsid),R.find_super_dispatcher(D,Ue,ue,ge)},R.ret=function(D){throw R.returner.$v=D,R.returner},R.brk=function(D,se){throw se.$v=D,se},R.new_brk=function(){return new Error("unexpected break")},R.yield1=function(D,se){if("function"!=typeof D)throw R.LocalJumpError.$new("no block given");var ge=D.$$has_trailing_comma_in_args;return(D.length>1||(D.$$has_top_level_mlhs_arg||ge)&&1===D.length)&&(se=R.to_ary(se)),(D.length>1||ge&&1===D.length)&&se.$$is_array?D.apply(null,se):D(se)},R.yieldX=function(D,se){if("function"!=typeof D)throw R.LocalJumpError.$new("no block given");if(D.length>1&&1===se.length&&se[0].$$is_array)return D.apply(null,se[0]);if(!se.$$is_array){for(var ue=new Array(se.length),ge=0,Le=ue.length;ge<Le;ge++)ue[ge]=se[ge];return D.apply(null,ue)}return D.apply(null,se)},R.rescue=function(D,se){for(var ue=0;ue<se.length;ue++){var ge=se[ue];if(ge.$$is_array){var Le=R.rescue(D,ge);if(Le)return Le}else{if(ge===R.JS.Error)return ge;if(ge["$==="](D))return ge}}return null},R.is_a=function(D,se){if(null!=se&&D.$$meta===se||D.$$class===se||D.$$is_number&&se.$$is_number_class)return!0;var ue,ge,Le=R.ancestors(D.$$is_class?R.get_singleton_class(D):D.$$meta||D.$$class);for(ue=0,ge=Le.length;ue<ge;ue++)if(Le[ue]===se)return!0;return!1},R.to_hash=function(D){if(D.$$is_hash)return D;if(D["$respond_to?"]("to_hash",!0)){var se=D.$to_hash();if(se.$$is_hash)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Hash ("+D.$$class+"#to_hash gives "+se.$$class+")")}throw R.TypeError.$new("no implicit conversion of "+D.$$class+" into Hash")},R.to_ary=function(D){if(D.$$is_array)return D;if(D["$respond_to?"]("to_ary",!0)){var se=D.$to_ary();if(se===Ze)return[D];if(se.$$is_array)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Array ("+D.$$class+"#to_ary gives "+se.$$class+")")}return[D]},R.to_a=function(D){if(D.$$is_array)return D.slice();if(D["$respond_to?"]("to_a",!0)){var se=D.$to_a();if(se===Ze)return[D];if(se.$$is_array)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Array ("+D.$$class+"#to_a gives "+se.$$class+")")}return[D]},R.extract_kwargs=function(D){var se=D[D.length-1];return null!=se&&se["$respond_to?"]("to_hash",!0)?(Ge.call(D,D.length-1,1),se.$to_hash()):R.hash2([],{})},R.kwrestargs=function(D,se){var ue=[],ge={},Le=null,Ue=D.$$smap;for(Le in Ue)se[Le]||(ue.push(Le),ge[Le]=Ue[Le]);return R.hash2(ue,ge)},R.send=function(D,se,ue,ge){var Le="string"==typeof se?D["$"+se]:se;return null!=Le?("function"==typeof ge&&(Le.$$p=ge),Le.apply(D,ue)):D.$method_missing.apply(D,[se].concat(ue))},R.lambda=function(D){return D.$$is_lambda=!0,D},R.def=function(D,se,ue){D===R.top?R.defn(R.Object,se,ue):!D.$$eval&&D.$$is_a_module?R.defn(D,se,ue):R.defs(D,se,ue)},R.defn=function(D,se,ue){ue.displayName=se,ue.$$owner=D;var ge=D.$$prototype;if(ge.hasOwnProperty("$$dummy")&&(ge=ge.$$define_methods_on),ve(ge,se,ue),D.$$is_module){D.$$module_function&&R.defs(D,se,ue);for(var Le=0,Ue=D.$$iclasses,qe=Ue.length;Le<qe;Le++)ve(Ue[Le],se,ue)}var Nt=D.$$singleton_of;!D.$method_added||D.$method_added.$$stub||Nt?Nt&&Nt.$singleton_method_added&&!Nt.$singleton_method_added.$$stub&&Nt.$singleton_method_added(se.substr(1)):D.$method_added(se.substr(1))},R.defs=function(D,se,ue){if(D.$$is_string||D.$$is_number)throw R.TypeError.$new("can't define singleton");R.defn(R.get_singleton_class(D),se,ue)},R.rdef=function(D,se){if(!Gt.call(D.$$prototype,se))throw R.NameError.$new("method '"+se.substr(1)+"' not defined in "+D.$name());delete D.$$prototype[se],D.$$is_singleton?D.$$prototype.$singleton_method_removed&&!D.$$prototype.$singleton_method_removed.$$stub&&D.$$prototype.$singleton_method_removed(se.substr(1)):D.$method_removed&&!D.$method_removed.$$stub&&D.$method_removed(se.substr(1))},R.udef=function(D,se){if(!D.$$prototype[se]||D.$$prototype[se].$$stub)throw R.NameError.$new("method '"+se.substr(1)+"' not defined in "+D.$name());R.add_stub_for(D.$$prototype,se),D.$$is_singleton?D.$$prototype.$singleton_method_undefined&&!D.$$prototype.$singleton_method_undefined.$$stub&&D.$$prototype.$singleton_method_undefined(se.substr(1)):D.$method_undefined&&!D.$method_undefined.$$stub&&D.$method_undefined(se.substr(1))},R.alias=function(D,se,ue){var qe,ge="$"+se,Le="$"+ue,Ue=D.$$prototype["$"+ue];if(D.$$eval)return R.alias(R.get_singleton_class(D),se,ue);if(!qt(Ue)){for(var wt=D.$$super;"function"!=typeof Ue&&wt;)Ue=wt[Le],wt=wt.$$super;if(!qt(Ue)&&D.$$is_module&&(Ue=R.Object.$$prototype[Le]),!qt(Ue))throw R.NameError.$new("undefined method `"+ue+"' for class `"+D.$name()+"'")}return Ue.$$alias_of&&(Ue=Ue.$$alias_of),qe=function(){var Bt,Ut,Vt,Nt=qe.$$p;for(Bt=new Array(arguments.length),Ut=0,Vt=arguments.length;Ut<Vt;Ut++)Bt[Ut]=arguments[Ut];return null!=Nt&&(qe.$$p=null),R.send(this,Ue,Bt,Nt)},qe.displayName=se,qe.length=Ue.length,qe.$$arity=Ue.$$arity,qe.$$parameters=Ue.$$parameters,qe.$$source_location=Ue.$$source_location,qe.$$alias_of=Ue,qe.$$alias_name=se,R.defn(D,ge,qe),D},R.alias_native=function(D,se,ue){var ge="$"+se,Le=D.$$prototype[ue];if("function"!=typeof Le||Le.$$stub)throw R.NameError.$new("undefined native method `"+ue+"' for class `"+D.$name()+"'");return R.defn(D,ge,Le),D},R.hash_init=function(D){D.$$smap=Object.create(null),D.$$map=Object.create(null),D.$$keys=[]},R.hash_clone=function(D,se){se.$$none=D.$$none,se.$$proc=D.$$proc;for(var qe,wt,ue=0,ge=D.$$keys,Le=D.$$smap,Ue=ge.length;ue<Ue;ue++)(qe=ge[ue]).$$is_string?wt=Le[qe]:(wt=qe.value,qe=qe.key),R.hash_put(se,qe,wt)},R.hash_put=function(D,se,ue){if(se.$$is_string)return Gt.call(D.$$smap,se)||D.$$keys.push(se),void(D.$$smap[se]=ue);var ge,Le,Ue;if(ge=D.$$by_identity?R.id(se):se.$hash(),!Gt.call(D.$$map,ge))return D.$$keys.push(Le={key:se,key_hash:ge,value:ue}),void(D.$$map[ge]=Le);for(Le=D.$$map[ge];Le;){if(se===Le.key||se["$eql?"](Le.key)){Ue=r,Le.value=ue;break}Ue=Le,Le=Le.next}Ue&&(D.$$keys.push(Le={key:se,key_hash:ge,value:ue}),Ue.next=Le)},R.hash_get=function(D,se){if(se.$$is_string)return Gt.call(D.$$smap,se)?D.$$smap[se]:void 0;var ue,ge;if(ue=D.$$by_identity?R.id(se):se.$hash(),Gt.call(D.$$map,ue))for(ge=D.$$map[ue];ge;){if(se===ge.key||se["$eql?"](ge.key))return ge.value;ge=ge.next}},R.hash_delete=function(D,se){var ue,Ue,ge=D.$$keys,Le=ge.length;if(se.$$is_string){if(!Gt.call(D.$$smap,se))return;for(ue=0;ue<Le;ue++)if(ge[ue]===se){ge.splice(ue,1);break}return Ue=D.$$smap[se],delete D.$$smap[se],Ue}var qe=se.$hash();if(Gt.call(D.$$map,qe))for(var Nt,wt=D.$$map[qe];wt;){if(se===wt.key||se["$eql?"](wt.key)){for(Ue=wt.value,ue=0;ue<Le;ue++)if(ge[ue]===wt){ge.splice(ue,1);break}return Nt&&wt.next?Nt.next=wt.next:Nt?delete Nt.next:wt.next?D.$$map[qe]=wt.next:delete D.$$map[qe],Ue}Nt=wt,wt=wt.next}},R.hash_rehash=function(D){for(var ge,Le,Ue,se=0,ue=D.$$keys.length;se<ue;se++)if(!D.$$keys[se].$$is_string&&(ge=D.$$keys[se].key.$hash())!==D.$$keys[se].key_hash){for(Le=D.$$map[D.$$keys[se].key_hash],Ue=r;Le;){if(Le===D.$$keys[se]){Ue&&Le.next?Ue.next=Le.next:Ue?delete Ue.next:Le.next?D.$$map[D.$$keys[se].key_hash]=Le.next:delete D.$$map[D.$$keys[se].key_hash];break}Ue=Le,Le=Le.next}if(D.$$keys[se].key_hash=ge,!Gt.call(D.$$map,ge)){D.$$map[ge]=D.$$keys[se];continue}for(Le=D.$$map[ge],Ue=r;Le;){if(Le===D.$$keys[se]){Ue=r;break}Ue=Le,Le=Le.next}Ue&&(Ue.next=D.$$keys[se])}},R.hash=function(){var se,ue,ge,Le,Ue,D=arguments.length;if(1===D&&arguments[0].$$is_hash)return arguments[0];if(ue=new R.Hash,R.hash_init(ue),1===D&&arguments[0].$$is_array){for(Le=(se=arguments[0]).length,ge=0;ge<Le;ge++){if(2!==se[ge].length)throw R.ArgumentError.$new("value not of length 2: "+se[ge].$inspect());R.hash_put(ue,Ue=se[ge][0],se[ge][1])}return ue}if(1===D){for(Ue in se=arguments[0])Gt.call(se,Ue)&&R.hash_put(ue,Ue,se[Ue]);return ue}if(D%2!=0)throw R.ArgumentError.$new("odd number of arguments for Hash");for(ge=0;ge<D;ge+=2)R.hash_put(ue,Ue=arguments[ge],arguments[ge+1]);return ue},R.hash2=function(D,se){var ue=new R.Hash;return ue.$$smap=se,ue.$$map=Object.create(null),ue.$$keys=D,ue},R.range=function(D,se,ue){var ge=new R.Range;return ge.begin=D,ge.end=se,ge.excl=ue,ge},R.ivar=function(D){return"constructor"===D||"displayName"===D||"__count__"===D||"__noSuchMethod__"===D||"__parent__"===D||"__proto__"===D||"hasOwnProperty"===D||"valueOf"===D?D+"$":D},R.escape_regexp=function(D){return D.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},R.global_regexp=function(D){return D.global?D:(null==D.$$g?D.$$g=new RegExp(D.source,(D.multiline?"gm":"g")+(D.ignoreCase?"i":"")):D.$$g.lastIndex=null,D.$$g)},R.global_multiline_regexp=function(D){var se;if(D.multiline){if(D.global)return D;se=null!=D.$$g?D.$$g:D.$$g=new RegExp(D.source,"gm"+(D.ignoreCase?"i":""))}else se=null!=D.$$gm?D.$$gm:D.$$gm=new RegExp(D.source,"gm"+(D.ignoreCase?"i":""));return se.lastIndex=null,se},R.modules={},R.loaded_features=["corelib/runtime"],R.current_dir=".",R.require_table={"corelib/runtime":!0},R.normalize=function(D){var se,ue,ge=[];"."!==R.current_dir&&(D=R.current_dir.replace(/\/*$/,"/")+D);for(var Ue=0,qe=(se=(D=(D=D.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;Ue<qe;Ue++)""!==(ue=se[Ue])&&(".."===ue?ge.pop():ge.push(ue));return ge.join("/")},R.loaded=function(D){var se,ue,ge;for(se=0,ue=D.length;se<ue;se++)ge=R.normalize(D[se]),!R.require_table[ge]&&(R.loaded_features.push(ge),R.require_table[ge]=!0)},R.load=function(D){D=R.normalize(D),R.loaded([D]);var se=R.modules[D];if(se)se(R);else{var ue=R.config.missing_require_severity,ge="cannot load such file -- "+D;if("error"===ue)throw R.LoadError?R.LoadError.$new(ge):ge;"warning"===ue&&Je.warn("WARNING: LoadError: "+ge)}return!0},R.require=function(D){return D=R.normalize(D),!R.require_table[D]&&R.load(D)},R.encodings=Object.create(null),R.set_encoding=function(D,se){if("string"==typeof D)throw R.FrozenError.$new("can't modify frozen String");var ue=R.encodings[se];return ue===D.encoding||(D.encoding=ue),D},R.enc=function(D,se){var ue=new String(D);return R.set_encoding(ue,se),ue.internal_encoding=ue.encoding,ue},R.BasicObject=Be=R.allocate_class("BasicObject",null,function Ct(){}),R.Object=he=R.allocate_class("Object",R.BasicObject,function It(){}),R.Module=gt=R.allocate_class("Module",R.Object,function Pt(){}),R.Class=Re=R.allocate_class("Class",R.Module,function Mt(){}),ke(R.BasicObject,R.Class.$$prototype),ke(R.Object,R.Class.$$prototype),ke(R.Module,R.Class.$$prototype),ke(R.Class,R.Class.$$prototype),Be.$$const.BasicObject=Be,R.const_set(he,"BasicObject",Be),R.const_set(he,"Object",he),R.const_set(he,"Module",gt),R.const_set(he,"Class",Re),Be.$$class=Re,he.$$class=Re,gt.$$class=Re,Re.$$class=Re,ve(he.$$prototype,"toString",function(){var D=this.$to_s();return D.$$is_string&&"object"==typeof D?D.valueOf():D}),ve(he.$$prototype,"$require",R.require),R.$$=he.$$,R.top=new he,R.top.$to_s=R.top.$inspect=function(){return"main"},R.NilClass=R.allocate_class("NilClass",R.Object,function jt(){}),R.const_set(he,"NilClass",R.NilClass),(Ze=R.nil=new R.NilClass).$$id=4,Ze.call=Ze.apply=function(){throw R.LocalJumpError.$new("no block given")},R.breaker=new Error("unexpected break (old)"),R.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(r){var ke,zt,Oe,ve,J,G,Ve,ft,Ye,pe,De,Ce,lt,xt,At,st,Ge,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.module,Gt=r.truthy;return r.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),ke=Je,st=R(Je[0],"Opal"),Ge=[st].concat(ke),r.defs(st,"$bridge",zt=function(pt,St){return r.bridge(pt,St)},zt.$$arity=2),r.defs(st,"$type_error",Oe=function(pt,St,Rt,Et){var Ft;return null==Rt&&(Rt=Ze),null==Et&&(Et=Ze),Gt(Gt(Ft=Rt)?Et:Ft)?he(Ge,"TypeError").$new("can't convert "+pt.$class()+" into "+St+" ("+pt.$class()+"#"+Rt+" gives "+Et.$class()+")"):he(Ge,"TypeError").$new("no implicit conversion of "+pt.$class()+" into "+St)},Oe.$$arity=-3),r.defs(st,"$coerce_to",ve=function(pt,St,Rt){return Gt(St["$==="](pt))?pt:(Gt(pt["$respond_to?"](Rt))||this.$raise(this.$type_error(pt,St)),pt.$__send__(Rt))},ve.$$arity=3),r.defs(st,"$coerce_to!",J=function(ht,pt,St){var Et;return Et=this.$coerce_to(ht,pt,St),Gt(pt["$==="](Et))||this.$raise(this.$type_error(ht,pt,St,Et)),Et},J.$$arity=3),r.defs(st,"$coerce_to?",G=function(ht,pt,St){var Et=Ze;return!Gt(ht["$respond_to?"](St))||(Et=this.$coerce_to(ht,pt,St),Gt(Et["$nil?"]()))?Ze:(Gt(pt["$==="](Et))||this.$raise(this.$type_error(ht,pt,St,Et)),Et)},G.$$arity=3),r.defs(st,"$try_convert",Ve=function(pt,St,Rt){return Gt(St["$==="](pt))?pt:Gt(pt["$respond_to?"](Rt))?pt.$__send__(Rt):Ze},Ve.$$arity=3),r.defs(st,"$compare",ft=function(pt,St){var Et;return Et=pt["$<=>"](St),Gt(Et===Ze)&&this.$raise(he(Ge,"ArgumentError"),"comparison of "+pt.$class()+" with "+St.$class()+" failed"),Et},ft.$$arity=2),r.defs(st,"$destructure",Ye=function(pt){if(1==pt.length)return pt[0];if(pt.$$is_array)return pt;for(var Rt=new Array(pt.length),Et=0,Ft=Rt.length;Et<Ft;Et++)Rt[Et]=pt[Et];return Rt},Ye.$$arity=1),r.defs(st,"$respond_to?",pe=function(ht,pt,St){return null==St&&(St=!1),!(null==ht||!ht.$$class)&&ht["$respond_to?"](pt,St)},pe.$$arity=-3),r.defs(st,"$inspect_obj",De=function(pt){return r.inspect(pt)},De.$$arity=1),r.defs(st,"$instance_variable_name!",Ce=function(ht){return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ht))||this.$raise(he(Ge,"NameError").$new("'"+ht+"' is not allowed as an instance variable name",ht)),ht},Ce.$$arity=1),r.defs(st,"$class_variable_name!",lt=function(ht){return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(ht.length<3||"@@"!==ht.slice(0,2))&&this.$raise(he(Ge,"NameError").$new("`"+ht+"' is not allowed as a class variable name",ht)),ht},lt.$$arity=1),r.defs(st,"$const_name!",xt=function(ht){return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(ht["$[]"](0)["$!="](ht["$[]"](0).$upcase()))&&this.$raise(he(Ge,"NameError"),"wrong constant name "+ht),ht},xt.$$arity=1),void r.defs(st,"$pristine",At=function(pt,St){for(var Et,Ct,It=(Et=r.slice.call(arguments,1,arguments.length)).length-1;It>=0;It--)(Ct=pt.$$prototype["$"+Et[It]])&&!Ct.$$stub&&(Ct.$$pristine=!0);return Ze},At.$$arity=-2)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(r,Ne){return"number"==typeof r&&"number"==typeof Ne?r<Ne:r["$<"](Ne)}function $rb_gt(r,Ne){return"number"==typeof r&&"number"==typeof Ne?r>Ne:r["$>"](Ne)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr_reader$14,$Module_attr_writer$15,$Module_autoload$16,$Module_class_variables$17,$Module_class_variable_get$18,$Module_class_variable_set$19,$Module_class_variable_defined$ques$20,$Module_remove_class_variable$21,$Module_constants$22,$Module_constants$23,$Module_nesting$24,$Module_const_defined$ques$25,$Module_const_get$26,$Module_const_missing$28,$Module_const_set$29,$Module_public_constant$30,$Module_define_method$31,$Module_remove_method$33,$Module_singleton_class$ques$34,$Module_include$35,$Module_included_modules$36,$Module_include$ques$37,$Module_instance_method$38,$Module_instance_methods$39,$Module_included$40,$Module_extended$41,$Module_extend_object$42,$Module_method_added$43,$Module_method_removed$44,$Module_method_undefined$45,$Module_module_eval$46,$Module_module_exec$48,$Module_method_defined$ques$49,$Module_module_function$50,$Module_name$51,$Module_prepend$52,$Module_prepend_features$53,$Module_prepended$54,$Module_remove_const$55,$Module_to_s$56,$Module_undef_method$57,$Module_instance_variables$58,$Module_dup$59,$Module_copy_class_variables$60,$Module_copy_constants$61;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var Je=Opal.allocate_module(nil,function(){});return this!==Opal.Module&&Object.setPrototypeOf(Je,this.$$prototype),Je},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var Ne=$Module_initialize$2.$$p,Je=Ne||nil;return Ne&&($Module_initialize$2.$$p=null),Ne&&($Module_initialize$2.$$p=null),Je!==nil?$send(this,"module_eval",[],Je.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(r){return!$truthy(null==r)&&Opal.is_a(r,this)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(r){var Ze,Be,he;if($truthy($$($nesting,"Module")["$==="](r))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),this===r)return!1;for(Be=0,he=(Ze=Opal.ancestors(this)).length;Be<he;Be++)if(Ze[Be]===r)return!0;for(Be=0,he=(Ze=Opal.ancestors(r)).length;Be<he;Be++)if(Ze[Be]===this)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(r){var Ne;return $truthy(Ne=this["$equal?"](r))?Ne:$rb_lt(this,r)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(r){return $truthy($$($nesting,"Module")["$==="](r))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(r,this)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(r){var Ne;return $truthy(Ne=this["$equal?"](r))?Ne:$rb_gt(this,r)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(r){var Je=nil;return this===r?0:!$truthy($$($nesting,"Module")["$==="](r))||(Je=$rb_lt(this,r),$truthy(Je["$nil?"]()))?nil:$truthy(Je)?-1:1},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(Ne,Je){return Opal.alias(this,Ne,Je),this},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(Ne,Je){return null==Je&&(Je=Ne),Opal.alias_native(this,Ne,Je),this},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){return Opal.ancestors(this)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(Ne){return Opal.append_features(this,Ne),this},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function(Ne){var Je,Ze,Be=this;return Je=Opal.slice.call(arguments,0,arguments.length),$send(Be,"attr_reader",Opal.to_a(Ze=Je)),$send(Be,"attr_writer",Opal.to_a(Ze))},$Module_attr_accessor$13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",$Module_attr_reader$14=function(Ne){var Je,Ze,Be=this;Je=Opal.slice.call(arguments,0,arguments.length);for(var he=Be.$$prototype,gt=(Ze=Je).length-1;gt>=0;gt--){var Re=Ze[gt],R="$"+Re,Gt=Opal.ivar(Re),F=function(ke){return function(){return this[ke]??nil}}(Gt);Opal.defineProperty(he,Gt,nil),F.$$parameters=[],F.$$arity=0,Opal.defn(Be,R,F)}return nil},$Module_attr_reader$14.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$15=function(Ne){var Je,Ze,Be=this;Je=Opal.slice.call(arguments,0,arguments.length);for(var he=Be.$$prototype,gt=(Ze=Je).length-1;gt>=0;gt--){var Re=Ze[gt],R="$"+Re+"=",Gt=Opal.ivar(Re),F=function(ke){return function(st){return this[ke]=st}}(Gt);F.$$parameters=[["req"]],F.$$arity=1,Opal.defineProperty(he,Gt,nil),Opal.defn(Be,R,F)}return nil},$Module_attr_writer$15.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$16=function(Ne,Je){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[Ne]=Je,nil},$Module_autoload$16.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$17=function(){return Object.keys(Opal.class_variables(this))},$Module_class_variables$17.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$18=function(Ne){Ne=$$($nesting,"Opal")["$class_variable_name!"](Ne);var Ze=Opal.class_variables(this)[Ne];return null==Ze&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+Ne+" in "+this,Ne)),Ze},$Module_class_variable_get$18.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$19=function(Ne,Je){return Ne=$$($nesting,"Opal")["$class_variable_name!"](Ne),Opal.class_variable_set(this,Ne,Je)},$Module_class_variable_set$19.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$20=function(r){return r=$$($nesting,"Opal")["$class_variable_name!"](r),Opal.class_variables(this).hasOwnProperty(r)},$Module_class_variable_defined$ques$20.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$21=function(Ne){var Je=this;if(Ne=$$($nesting,"Opal")["$class_variable_name!"](Ne),Opal.hasOwnProperty.call(Je.$$cvars,Ne)){var Ze=Je.$$cvars[Ne];return delete Je.$$cvars[Ne],Ze}Je.$raise($$($nesting,"NameError"),"cannot remove "+Ne+" for "+Je)},$Module_remove_class_variable$21.$$arity=1),Opal.def(self,"$constants",$Module_constants$22=function(Ne){return null==Ne&&(Ne=!0),Opal.constants(this,Ne)},$Module_constants$22.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$23=function(Ne){if(null==Ne){var Be,gt,Re,Ze=(this.$$nesting||[]).concat(Opal.Object),he={};for(gt=0,Re=Ze.length;gt<Re;gt++)for(Be in Ze[gt].$$const)he[Be]=!0;return Object.keys(he)}return Opal.constants(this,Ne)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$24=function(){return this.$$nesting||[]},$Module_nesting$24.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$25=function(r,Ne){null==Ne&&(Ne=!0),r=$$($nesting,"Opal")["$const_name!"](r),$truthy(r["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+r,r));var gt,Re,Be=[this];for(Ne&&(Be=Be.concat(Opal.ancestors(this)),this.$$is_module&&(Be=Be.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),gt=0,Re=Be.length;gt<Re;gt++)if(null!=Be[gt].$$const[r])return!0;return!1},$Module_const_defined$ques$25.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$26=function(Ne,Je){var Ze,Be=this;return null==Je&&(Je=!0),0===(Ne=$$($nesting,"Opal")["$const_name!"](Ne)).indexOf("::")&&"::"!==Ne&&(Ne=Ne.slice(2)),$truthy(-1!=Ne.indexOf("::")&&"::"!=Ne)?$send(Ne.$split("::"),"inject",[Be],((Ze=function(he,gt){return null==he&&(he=nil),null==gt&&(gt=nil),he.$const_get(gt)}).$$s=Be,Ze.$$arity=2,Ze)):($truthy(Ne["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||Be.$raise($$($nesting,"NameError").$new("wrong constant name "+Ne,Ne)),Je?$$([Be],Ne):Opal.const_get_local(Be,Ne))},$Module_const_get$26.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$28=function(Ne){var Ze,Je=this;if(Je.$$autoload){var Be=Je.$$autoload[Ne];if(Be)return Je.$require(Be),Je.$const_get(Ne)}return Ze=Je["$=="]($$($nesting,"Object"))?Ne:Je+"::"+Ne,Je.$raise($$($nesting,"NameError").$new("uninitialized constant "+Ze,Ne))},$Module_const_missing$28.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$29=function(Ne,Je){var Ze;return Ne=$$($nesting,"Opal")["$const_name!"](Ne),$truthy($truthy(Ze=Ne["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?Ze:Ne["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+Ne,Ne)),Opal.const_set(this,Ne,Je),Je},$Module_const_set$29.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$30=function(Ne){return nil},$Module_public_constant$30.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$31=function(Ne,Je){var he,gt,Ze=$Module_define_method$31.$$p,Be=Ze||nil,R=nil;Ze&&($Module_define_method$31.$$p=null),Ze&&($Module_define_method$31.$$p=null),$truthy(void 0===Je&&Be===nil)&&this.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),Be=$truthy(he=Be)?he:(R=Je,$$($nesting,"Proc")["$==="](R)?Je:$$($nesting,"Method")["$==="](R)?Je.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](R)?$lambda((gt=function(F){var Ge,ke=gt.$$s||this,zt=nil;return Ge=Opal.slice.call(arguments,0,arguments.length),zt=Je.$bind(ke),$send(zt,"call",Opal.to_a(Ge))},gt.$$s=this,gt.$$arity=-1,gt)):this.$raise($$($nesting,"TypeError"),"wrong argument type "+Be.$class()+" (expected Proc/Method)"));var Gt="$"+Ne;return Be.$$jsid=Ne,Be.$$s=null,Be.$$def=Be,Be.$$define_meth=!0,Opal.defn(this,Gt,Be),Ne},$Module_define_method$31.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$33=function(Ne){for(var Ze,Be=this,he=0,gt=(Ze=Opal.slice.call(arguments,0,arguments.length)).length;he<gt;he++)Opal.rdef(Be,"$"+Ze[he]);return Be},$Module_remove_method$33.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$34=function(){return!!this.$$is_singleton},$Module_singleton_class$ques$34.$$arity=0),Opal.def(self,"$include",$Module_include$35=function(Ne){for(var Ze,Be=this,he=(Ze=Opal.slice.call(arguments,0,arguments.length)).length-1;he>=0;he--){var gt=Ze[he];gt.$$is_module||Be.$raise($$($nesting,"TypeError"),"wrong argument type "+gt.$class()+" (expected Module)"),gt.$append_features(Be),gt.$included(Be)}return Be},$Module_include$35.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$36=function(){return Opal.included_modules(this)},$Module_included_modules$36.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$37=function(r){r.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+r.$class()+" (expected Module)");var Je,Ze,Be,he=Opal.ancestors(this);for(Je=0,Ze=he.length;Je<Ze;Je++)if((Be=he[Je])===r&&Be!==this)return!0;return!1},$Module_include$ques$37.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$38=function(Ne){var Je=this,Ze=Je.$$prototype["$"+Ne];return(!Ze||Ze.$$stub)&&Je.$raise($$($nesting,"NameError").$new("undefined method `"+Ne+"' for class `"+Je.$name()+"'",Ne)),$$($nesting,"UnboundMethod").$new(Je,Ze.$$owner||Je,Ze,Ne)},$Module_instance_method$38.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$39=function(Ne){return null==Ne&&(Ne=!0),$truthy(Ne)?Opal.instance_methods(this):Opal.own_instance_methods(this)},$Module_instance_methods$39.$$arity=-1),Opal.def(self,"$included",$Module_included$40=function(Ne){return nil},$Module_included$40.$$arity=1),Opal.def(self,"$extended",$Module_extended$41=function(Ne){return nil},$Module_extended$41.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$42=function(Ne){return nil},$Module_extend_object$42.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$43=function(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_added$43.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$44=function(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_removed$44.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$45=function(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_undefined$45.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$46=function $$module_eval($a){var $iter=$Module_module_eval$46.$$p,block=$iter||nil,$post_args,args,$b,$$47,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$46.$$p=null),$iter&&($Module_module_eval$46.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=$b[0]??nil,file=$b[1]??nil,_lineno=$b[2]??nil,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],($$47=function(){var self=$$47.$$s||this;return function(self){return eval(compiled)}(self)},$$47.$$s=self,$$47.$$arity=0,$$47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$48=function r(Ne){var he,Je=$Module_module_exec$48.$$p,Ze=Je||nil,gt=this;Je&&($Module_module_exec$48.$$p=null),Je&&($Module_module_exec$48.$$p=null),he=Opal.slice.call(arguments,0,arguments.length),Ze===nil&&gt.$raise($$($nesting,"LocalJumpError"),"no block given");var R,Re=Ze.$$s;return Ze.$$s=null,R=Ze.apply(gt,he),Ze.$$s=Re,R},$Module_module_exec$48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$49=function(r){var Je=this.$$prototype["$"+r];return!!Je&&!Je.$$stub},$Module_method_defined$ques$49.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$50=function r(Ne){var Ze,Be=this;if(0===(Ze=Opal.slice.call(arguments,0,arguments.length)).length)Be.$$module_function=!0;else for(var he=0,gt=Ze.length;he<gt;he++){var Re=Ze[he],R="$"+Re,Gt=Be.$$prototype[R];Opal.defs(Be,R,Gt)}return Be},$Module_module_function$50.$$arity=-1),Opal.def(self,"$name",$Module_name$51=function r(){if(this.$$full_name)return this.$$full_name;for(var Je=[],Ze=this;Ze;){if(Ze.$$name===nil||null==Ze.$$name)return nil;if(Je.unshift(Ze.$$name),(Ze=Ze.$$base_module)===Opal.Object)break}return 0===Je.length?nil:this.$$full_name=Je.join("::")},$Module_name$51.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$52=function r(Ne){var Ze,Be=this;0===(Ze=Opal.slice.call(arguments,0,arguments.length)).length&&Be.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var he=Ze.length-1;he>=0;he--){var gt=Ze[he];gt.$$is_module||Be.$raise($$($nesting,"TypeError"),"wrong argument type "+gt.$class()+" (expected Module)"),gt.$prepend_features(Be),gt.$prepended(Be)}return Be},$Module_prepend$52.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$53=function r(Ne){var Je=this;return Je.$$is_module||Je.$raise($$($nesting,"TypeError"),"wrong argument type "+Je.$class()+" (expected Module)"),Opal.prepend_features(Je,Ne),Je},$Module_prepend_features$53.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$54=function r(Ne){return nil},$Module_prepended$54.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$55=function r(Ne){return Opal.const_remove(this,Ne)},$Module_remove_const$55.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$56=function r(){var Ne;return $truthy(Ne=Opal.Module.$name.call(this))?Ne:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},$Module_to_s$56.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$57=function r(Ne){for(var Ze,Be=this,he=0,gt=(Ze=Opal.slice.call(arguments,0,arguments.length)).length;he<gt;he++)Opal.udef(Be,"$"+Ze[he]);return Be},$Module_undef_method$57.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$58=function r(){var Je=nil;Opal.Module.$$nesting=$nesting,Je=this.$constants();var Ze=[];for(var Be in this)this.hasOwnProperty(Be)&&"$"!==Be.charAt(0)&&"constructor"!==Be&&!Je["$include?"](Be)&&Ze.push("@"+Be);return Ze},$Module_instance_variables$58.$$arity=0),Opal.def(self,"$dup",$Module_dup$59=function r(){var Ne=$Module_dup$59.$$p,Ze=this,Be=nil,he=nil,gt=nil,Re=nil;for(Ne&&($Module_dup$59.$$p=null),gt=0,Re=arguments.length,he=new Array(Re);gt<Re;gt++)he[gt]=arguments[gt];return(Be=$send(Ze,Opal.find_super_dispatcher(Ze,"dup",$Module_dup$59,!1),he,Ne)).$copy_class_variables(Ze),Be.$copy_constants(Ze),Be},$Module_dup$59.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$60=function r(Ne){for(var Ze in Ne.$$cvars)this.$$cvars[Ze]=Ne.$$cvars[Ze]},$Module_copy_class_variables$60.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$61=function r(Ne){var Ze,Be=Ne.$$const;for(Ze in Be)Opal.const_set(this,Ze,Be[Ze])},$Module_copy_constants$61.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(r){var st,Oe,ve,J,G,Ve,ft,Ye,Ge,zt,Ne=r.top,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.klass,Gt=r.send;return r.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),Ne.$require("corelib/module"),st=Je,Ge=R(Je[0],null,"Class"),zt=[Ge].concat(st),r.defs(Ge,"$new",Oe=function(pe){var De=Oe.$$p,Ce=De||Ze;if(De&&(Oe.$$p=null),De&&(Oe.$$p=null),null==pe&&(pe=he(zt,"Object")),!pe.$$is_class)throw r.TypeError.$new("superclass must be a Class");var xt=r.allocate_class(Ze,pe);return pe.$inherited(xt),Ce!==Ze&&Gt(xt,"class_eval",[],Ce.$to_proc()),xt},Oe.$$arity=-1),r.def(Ge,"$allocate",ve=function(){var Ce=new this.$$constructor;return Ce.$$id=r.uid(),Ce},ve.$$arity=0),r.def(Ge,"$inherited",J=function(De){return Ze},J.$$arity=1),r.def(Ge,"$initialize_dup",G=function(De){this.$initialize_copy(De),this.$$name=null,this.$$full_name=null},G.$$arity=1),r.def(Ge,"$new",Ve=function(pe){var xt,De=Ve.$$p,Ce=De||Ze,At=this;De&&(Ve.$$p=null),De&&(Ve.$$p=null),xt=r.slice.call(arguments,0,arguments.length);var ht=At.$allocate();return r.send(ht,ht.$initialize,xt,Ce),ht},Ve.$$arity=-1),r.def(Ge,"$superclass",ft=function(){return this.$$super||Ze},ft.$$arity=0),r.def(Ge,"$to_s",Ye=function(){Ye.$$p&&(Ye.$$p=null);var xt=this.$$singleton_of;return xt&&xt.$$is_a_module?"#<Class:"+xt.$name()+">":xt?"#<Class:#<"+xt.$$class.$name()+":0x"+r.id(xt).$to_s(16)+">>":Gt(this,r.find_super_dispatcher(this,"to_s",Ye,!1),[],null)},Ye.$$arity=0),Ze&&"to_s"},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_class$14,$BasicObject_method_missing$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(r){return this===r},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(r){return this["$=="](r)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){return null!=this.$$id||Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(Ne,Je){var gt,Ze=$BasicObject___send__$5.$$p,Be=Ze||nil,Re=this;Ze&&($BasicObject___send__$5.$$p=null),Ze&&($BasicObject___send__$5.$$p=null),gt=Opal.slice.call(arguments,1,arguments.length);var R=Re["$"+Ne];return R?(Be!==nil&&(R.$$p=Be),R.apply(Re,gt)):(Be!==nil&&(Re.$method_missing.$$p=Be),Re.$method_missing.apply(Re,[Ne].concat(gt)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(r){return this["$=="](r)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,$$9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=$b[0]??nil,file=$b[1]??nil,_lineno=$b[2]??nil,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],($$9=function(){var self=$$9.$$s||this;return function(self){return eval(compiled)}(self)},$$9.$$s=self,$$9.$$arity=0,$$9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function r(Ne){var he,Je=$BasicObject_instance_exec$10.$$p,Ze=Je||nil,gt=this;Je&&($BasicObject_instance_exec$10.$$p=null),Je&&($BasicObject_instance_exec$10.$$p=null),he=Opal.slice.call(arguments,0,arguments.length),$truthy(Ze)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var R,Re=Ze.$$s;if(Ze.$$s=null,gt.$$is_a_module){gt.$$eval=!0;try{R=Ze.apply(gt,he)}finally{gt.$$eval=!1}}else R=Ze.apply(gt,he);return Ze.$$s=Re,R},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function r(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function r(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function r(Ne){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$class",$BasicObject_class$14=function(){return this.$$class},$BasicObject_class$14.$$arity=0),Opal.def(self,"$method_missing",$BasicObject_method_missing$15=function r(Ne,Je){var Ze=$BasicObject_method_missing$15.$$p,Re=this,R=nil;return Ze&&($BasicObject_method_missing$15.$$p=null),Ze&&($BasicObject_method_missing$15.$$p=null),Opal.slice.call(arguments,1,arguments.length),R=$truthy(Re.$inspect&&!Re.$inspect.$$stub)?"undefined method `"+Ne+"' for "+Re.$inspect()+":"+Re.$$class:"undefined method `"+Ne+"' for "+Re.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(R,Ne))},$BasicObject_method_missing$15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(r){function Ne(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe<=ve:Oe["$<="](ve)}var ve,Ve,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,J,G,Ze=[],Be=r.nil,he=r.const_get_qualified,gt=r.const_get_relative,Gt=r.module,F=r.truthy,ke=r.gvars,st=r.hash2,Ge=r.send,zt=r.klass;return r.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),ve=Ze,J=Gt(Ze[0],"Kernel"),G=[J].concat(ve),r.def(J,"$method_missing",Ve=function(g,w){var x,C=Ve.$$p,f=this;return C&&(Ve.$$p=null),C&&(Ve.$$p=null),x=r.slice.call(arguments,1,arguments.length),f.$raise(gt(G,"NoMethodError").$new("undefined method `"+g+"' for "+f.$inspect(),g,x))},Ve.$$arity=-2),r.def(J,"$=~",ft=function(h){return!1},ft.$$arity=1),r.def(J,"$!~",Ye=function(h){return this["$=~"](h)["$!"]()},Ye.$$arity=1),r.def(J,"$===",pe=function(h){var g;return F(g=this.$object_id()["$=="](h.$object_id()))?g:this["$=="](h)},pe.$$arity=1),r.def(J,"$<=>",De=function(h){this.$$comparable=!0;var w=this["$=="](h);return w&&w!==Be?0:Be},De.$$arity=1),r.def(J,"$method",Ce=function(g){var w=this,C=w["$"+g];return(!C||C.$$stub)&&w.$raise(gt(G,"NameError").$new("undefined method `"+g+"' for class `"+w.$class()+"'",g)),gt(G,"Method").$new(w,C.$$owner||w.$class(),C,g)},Ce.$$arity=1),r.def(J,"$methods",lt=function(g){return null==g&&(g=!0),F(g)?r.methods(this):r.own_methods(this)},lt.$$arity=-1),r.def(J,"$public_methods",xt=function(g){return null==g&&(g=!0),F(g)?r.methods(this):r.receiver_methods(this)},xt.$$arity=-1),r.def(J,"$Array",At=function(g){var C;return g===Be?[]:g.$$is_array?g:(C=gt(G,"Opal")["$coerce_to?"](g,gt(G,"Array"),"to_ary"))!==Be||(C=gt(G,"Opal")["$coerce_to?"](g,gt(G,"Array"),"to_a"))!==Be?C:[g]},At.$$arity=1),r.def(J,"$at_exit",ht=function(){var C,g=ht.$$p,w=g||Be;return null==ke.__at_exit__&&(ke.__at_exit__=Be),g&&(ht.$$p=null),g&&(ht.$$p=null),ke.__at_exit__=F(C=ke.__at_exit__)?C:[],ke.__at_exit__["$<<"](w)},ht.$$arity=0),r.def(J,"$caller",pt=function(g){return r.slice.call(arguments,0,arguments.length),[]},pt.$$arity=-1),r.def(J,"$class",St=function(){return this.$$class},St.$$arity=0),r.def(J,"$copy_instance_variables",Rt=function(g){var B,N,x,C=Object.keys(g);for(B=0,N=C.length;B<N;B++)"$"!==(x=C[B]).charAt(0)&&g.hasOwnProperty(x)&&(this[x]=g[x])},Rt.$$arity=1),r.def(J,"$copy_singleton_methods",Et=function(g){var C,B,N,x;if(g.hasOwnProperty("$$meta")){var f=r.get_singleton_class(g),L=r.get_singleton_class(this);for(C=0,x=(N=Object.getOwnPropertyNames(f.$$prototype)).length;C<x;C++)r.is_method(B=N[C])&&(L.$$prototype[B]=f.$$prototype[B]);L.$$const=Object.assign({},f.$$const),Object.setPrototypeOf(L.$$prototype,Object.getPrototypeOf(f.$$prototype))}for(C=0,x=(N=Object.getOwnPropertyNames(g)).length;C<x;C++)"$"===(B=N[C]).charAt(0)&&"$"!==B.charAt(1)&&g.hasOwnProperty(B)&&(this[B]=g[B])},Et.$$arity=1),r.def(J,"$clone",Ft=function(g){var C=this,B=Be;if(null==g)g=st([],{});else if(!g.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return(B=C.$class().$allocate()).$copy_instance_variables(C),B.$copy_singleton_methods(C),B.$initialize_clone(C),B},Ft.$$arity=-1),r.def(J,"$initialize_clone",qt=function(g){return this.$initialize_copy(g)},qt.$$arity=1),r.def(J,"$define_singleton_method",Ct=function(g,w){var C=Ct.$$p,B=C||Be;return C&&(Ct.$$p=null),C&&(Ct.$$p=null),Ge(this.$singleton_class(),"define_method",[g,w],B.$to_proc())},Ct.$$arity=-2),r.def(J,"$dup",It=function(){var g=this,w=Be;return(w=g.$class().$allocate()).$copy_instance_variables(g),w.$initialize_dup(g),w},It.$$arity=0),r.def(J,"$initialize_dup",Pt=function(g){return this.$initialize_copy(g)},Pt.$$arity=1),r.def(J,"$enum_for",Mt=function(g,w){var N,x,f,C=Mt.$$p,B=C||Be,L=this;return C&&(Mt.$$p=null),C&&(Mt.$$p=null),(N=r.slice.call(arguments,0,arguments.length)).length>0&&(x=N[0],N.splice(0,1)),null==x&&(x="each"),f=N,Ge(gt(G,"Enumerator"),"for",[L,x].concat(r.to_a(f)),B.$to_proc())},Mt.$$arity=-1),r.alias(J,"to_enum","enum_for"),r.def(J,"$equal?",jt=function(h){return this===h},jt.$$arity=1),r.def(J,"$exit",D=function(g){var w;for(null==ke.__at_exit__&&(ke.__at_exit__=Be),null==g&&(g=!0),ke.__at_exit__=F(w=ke.__at_exit__)?w:[];!F(ke.__at_exit__["$empty?"]());)ke.__at_exit__.$pop().$call();return g=g.$$is_boolean?g?0:1:gt(G,"Opal").$coerce_to(g,gt(G,"Integer"),"to_int"),r.exit(g),Be},D.$$arity=-1),r.def(J,"$extend",se=function(g){var C,B=this;C=r.slice.call(arguments,0,arguments.length);for(var N=B.$singleton_class(),x=C.length-1;x>=0;x--){var f=C[x];f.$$is_module||B.$raise(gt(G,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)"),f.$append_features(N),f.$extend_object(B),f.$extended(B)}return B},se.$$arity=-1),r.def(J,"$hash",ue=function(){return this.$__id__()},ue.$$arity=0),r.def(J,"$initialize_copy",ge=function(g){return Be},ge.$$arity=1),r.def(J,"$inspect",Le=function(){return this.$to_s()},Le.$$arity=0),r.def(J,"$instance_of?",Ue=function(h){return!h.$$is_class&&!h.$$is_module&&this.$raise(gt(G,"TypeError"),"class or module required"),this.$$class===h},Ue.$$arity=1),r.def(J,"$instance_variable_defined?",qe=function(h){return h=gt(G,"Opal")["$instance_variable_name!"](h),r.hasOwnProperty.call(this,h.substr(1))},qe.$$arity=1),r.def(J,"$instance_variable_get",wt=function(g){return g=gt(G,"Opal")["$instance_variable_name!"](g),this[r.ivar(g.substr(1))]??Be},wt.$$arity=1),r.def(J,"$instance_variable_set",Nt=function(g,w){return g=gt(G,"Opal")["$instance_variable_name!"](g),this[r.ivar(g.substr(1))]=w},Nt.$$arity=2),r.def(J,"$remove_instance_variable",Bt=function(g){var w=this;g=gt(G,"Opal")["$instance_variable_name!"](g);var B,C=r.ivar(g.substr(1));return w.hasOwnProperty(C)?(B=w[C],delete w[C],B):w.$raise(gt(G,"NameError"),"instance variable "+g+" not defined")},Bt.$$arity=1),r.def(J,"$instance_variables",Ut=function(){var C,w=[];for(var B in this)this.hasOwnProperty(B)&&"$"!==B.charAt(0)&&(C="$"===B.substr(-1)?B.slice(0,B.length-1):B,w.push("@"+C));return w},Ut.$$arity=0),r.def(J,"$Integer",Vt=function(g,w){var B,N,x,C=this;return g.$$is_string?"0"===g?0:(void 0===w?w=0:(1===(w=gt(G,"Opal").$coerce_to(w,gt(G,"Integer"),"to_int"))||w<0||w>36)&&C.$raise(gt(G,"ArgumentError"),"invalid radix "+w),N=(N=(N=g.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,L,ae){switch(ae){case"0b":if(0===w||2===w)return w=2,L;case"0":case"0o":if(0===w||8===w)return w=8,L;case"0d":if(0===w||10===w)return w=10,L;case"0x":if(0===w||16===w)return w=16,L}C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"')}),x="0-"+((w=0===w?10:w)<=10?w-1:"9a-"+String.fromCharCode(w-11+97)),new RegExp("^\\s*[+-]?["+x+"]+\\s*$").test(N)||C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"'),B=parseInt(N,w),isNaN(B)&&C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"'),B):(void 0!==w&&C.$raise(gt(G,"ArgumentError"),"base specified for non string value"),g===Be&&C.$raise(gt(G,"TypeError"),"can't convert nil into Integer"),g.$$is_number?((g===1/0||g===-1/0||isNaN(g))&&C.$raise(gt(G,"FloatDomainError"),g),Math.floor(g)):g["$respond_to?"]("to_int")&&(B=g.$to_int())!==Be?B:gt(G,"Opal")["$coerce_to!"](g,gt(G,"Integer"),"to_i"))},Vt.$$arity=-2),r.def(J,"$Float",Jt=function(g){var C,w=this;return g===Be&&w.$raise(gt(G,"TypeError"),"can't convert nil into Float"),g.$$is_string?(C=(C=g.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(C)?w.$Integer(C):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(C)||w.$raise(gt(G,"ArgumentError"),'invalid value for Float(): "'+g+'"'),parseFloat(C))):gt(G,"Opal")["$coerce_to!"](g,gt(G,"Float"),"to_f")},Jt.$$arity=1),r.def(J,"$Hash",Kt=function(g){var w;return F(F(w=g["$nil?"]())?w:g["$=="]([]))?st([],{}):F(gt(G,"Hash")["$==="](g))?g:gt(G,"Opal")["$coerce_to!"](g,gt(G,"Hash"),"to_hash")},Kt.$$arity=1),r.def(J,"$is_a?",Wt=function(h){return!h.$$is_class&&!h.$$is_module&&this.$raise(gt(G,"TypeError"),"class or module required"),r.is_a(this,h)},Wt.$$arity=1),r.def(J,"$itself",Qt=function(){return this},Qt.$$arity=0),r.alias(J,"kind_of?","is_a?"),r.def(J,"$lambda",$r=function(){var g=$r.$$p,w=g||Be;return g&&($r.$$p=null),g&&($r.$$p=null),r.lambda(w)},$r.$$arity=0),r.def(J,"$load",Ot=function(g){return g=gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_str"),r.load(g)},Ot.$$arity=1),r.def(J,"$loop",Xt=function(){var g,C=Xt.$$p,B=C||Be,N=this,x=Be;if(C&&(Xt.$$p=null),B===Be)return Ge(N,"enum_for",["loop"],((g=function(){return he(gt(G,"Float"),"INFINITY")}).$$s=N,g.$$arity=0,g));for(;F(!0);)try{r.yieldX(B,[])}catch(f){if(!r.rescue(f,[gt(G,"StopIteration")]))throw f;x=f;try{return x.$result()}finally{r.pop_exception()}}return N},Xt.$$arity=0),r.def(J,"$nil?",Ht=function(){return!1},Ht.$$arity=0),r.alias(J,"object_id","__id__"),r.def(J,"$printf",er=function(g){var w,C,B=this;return w=r.slice.call(arguments,0,arguments.length),F((C=w)["$any?"]())&&B.$print(Ge(B,"format",r.to_a(C))),Be},er.$$arity=-1),r.def(J,"$proc",ar=function(){var g=ar.$$p,w=g||Be;return g&&(ar.$$p=null),g&&(ar.$$p=null),F(w)||this.$raise(gt(G,"ArgumentError"),"tried to create Proc object without a block"),w.$$is_lambda=!1,w},ar.$$arity=0),r.def(J,"$puts",or=function(g){var w;return null==ke.stdout&&(ke.stdout=Be),w=r.slice.call(arguments,0,arguments.length),Ge(ke.stdout,"puts",r.to_a(w))},or.$$arity=-1),r.def(J,"$p",cr=function(g){var w,C,B,N=this;return w=r.slice.call(arguments,0,arguments.length),Ge(C=w,"each",[],((B=function(x){return null==ke.stdout&&(ke.stdout=Be),null==x&&(x=Be),ke.stdout.$puts(x.$inspect())}).$$s=N,B.$$arity=1,B)),F(Ne(C.$length(),1))?C["$[]"](0):C},cr.$$arity=-1),r.def(J,"$print",e=function(g){var w;return null==ke.stdout&&(ke.stdout=Be),w=r.slice.call(arguments,0,arguments.length),Ge(ke.stdout,"print",r.to_a(w))},e.$$arity=-1),r.def(J,"$warn",l=function(g){var C,B;return null==ke.VERBOSE&&(ke.VERBOSE=Be),null==ke.stderr&&(ke.stderr=Be),C=r.slice.call(arguments,0,arguments.length),F(F(B=ke.VERBOSE["$nil?"]())?B:C["$empty?"]())?Be:Ge(ke.stderr,"puts",r.to_a(C))},l.$$arity=-1),r.def(J,"$raise",O=function(g,w,C){throw null==ke["!"]&&(ke["!"]=Be),null==w&&(w=Be),null==C&&(C=Be),null==g&&ke["!"]!==Be?ke["!"]:(null==g?g=gt(G,"RuntimeError").$new():g.$$is_string?g=gt(G,"RuntimeError").$new(g):g.$$is_class&&g["$respond_to?"]("exception")?g=g.$exception(w):g["$is_a?"](gt(G,"Exception"))||(g=gt(G,"TypeError").$new("exception class/object expected")),ke["!"]!==Be&&r.exceptions.push(ke["!"]),ke["!"]=g,g)},O.$$arity=-1),r.alias(J,"fail","raise"),r.def(J,"$rand",xe=function(g){return void 0===g?he(gt(G,"Random"),"DEFAULT").$rand():(g.$$is_number&&(g<0&&(g=Math.abs(g)),g%1!=0&&(g=g.$to_i()),0===g&&(g=void 0)),he(gt(G,"Random"),"DEFAULT").$rand(g))},xe.$$arity=-1),r.def(J,"$respond_to?",Xe=function(h,g){if(null==g&&(g=!1),F(this["$respond_to_missing?"](h,g)))return!0;var C=this["$"+h];return"function"==typeof C&&!C.$$stub},Xe.$$arity=-2),r.def(J,"$respond_to_missing?",ie=function(h,g){return null==g&&(g=!1),!1},ie.$$arity=-2),r.def(J,"$require",A=function(g){return g=gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_str"),r.require(g)},A.$$arity=1),r.def(J,"$require_relative",$e=function(g){return gt(G,"Opal")["$try_convert!"](g,gt(G,"String"),"to_str"),g=gt(G,"File").$expand_path(gt(G,"File").$join(r.current_file,"..",g)),r.require(g)},$e.$$arity=1),r.def(J,"$require_tree",$=function(g){var C=[];for(var B in g=gt(G,"File").$expand_path(g),"."===(g=r.normalize(g))&&(g=""),r.modules)B["$start_with?"](g)&&C.push([B,r.require(B)]);return C},$.$$arity=1),r.alias(J,"send","__send__"),r.alias(J,"public_send","__send__"),r.def(J,"$singleton_class",n=function(){return r.get_singleton_class(this)},n.$$arity=0),r.def(J,"$sleep",y=function(g){var w=this;null==g&&(g=Be),g===Be&&w.$raise(gt(G,"TypeError"),"can't convert NilClass into time interval"),g.$$is_number||w.$raise(gt(G,"TypeError"),"can't convert "+g.$class()+" into time interval"),g<0&&w.$raise(gt(G,"ArgumentError"),"time interval must be positive");for(var C=r.global.performance?function(){return performance.now()}:function(){return new Date},B=C();C()-B<=1e3*g;);return g},y.$$arity=-1),r.def(J,"$srand",W=function(g){return null==g&&(g=gt(G,"Random").$new_seed()),gt(G,"Random").$srand(g)},W.$$arity=-1),r.def(J,"$String",oe=function(g){var w;return F(w=gt(G,"Opal")["$coerce_to?"](g,gt(G,"String"),"to_str"))?w:gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_s")},oe.$$arity=1),r.def(J,"$tap",b=function(){var g=b.$$p,w=g||Be;return g&&(b.$$p=null),g&&(b.$$p=null),r.yield1(w,this),this},b.$$arity=0),r.def(J,"$to_proc",_=function(){return this},_.$$arity=0),r.def(J,"$to_s",c=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},c.$$arity=0),r.def(J,"$catch",t=function(h){var g=t.$$p,w=g||Be,B=Be;g&&(t.$$p=null);try{return r.yieldX(w,[])}catch(N){if(!r.rescue(N,[gt(G,"UncaughtThrowError")]))throw N;B=N;try{return B.$sym()["$=="](h)?B.$arg():this.$raise()}finally{r.pop_exception()}}},t.$$arity=1),r.def(J,"$throw",s=function(h){var w,C=this;return w=r.slice.call(arguments,0,arguments.length),C.$raise(gt(G,"UncaughtThrowError"),w)},s.$$arity=-1),r.def(J,"$open",i=function(g){var N,w=i.$$p,C=w||Be;return w&&(i.$$p=null),w&&(i.$$p=null),N=r.slice.call(arguments,0,arguments.length),Ge(gt(G,"File"),"open",r.to_a(N),C.$to_proc())},i.$$arity=-1),r.def(J,"$yield_self",j=function(){var g,w=j.$$p,C=w||Be,B=this;return w&&(j.$$p=null),C===Be?Ge(B,"enum_for",["yield_self"],((g=function(){return 1}).$$s=B,g.$$arity=0,g)):r.yield1(C,B)},j.$$arity=0),function(Oe,ve,J){var G=zt(Oe,null,"Object"),Ve=[G].concat(J);return G.$include(gt(Ve,"Kernel"))}(Ze[0],0,Ze)},Opal.modules["corelib/error"]=function(r){var ve,J,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,G,Ve,Be=[],he=r.nil,Re=r.const_get_relative,F=r.klass,ke=r.send,st=r.truthy,Ge=r.module,zt=r.hash2;return r.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),ve=Error,J=Be,G=F(Be[0],ve,"Exception"),Ve=[G].concat(J),G.$$prototype.message=he,r.defs(G,"$new",ft=function(St){var Et,Ft=this,qt=(Et=r.slice.call(arguments,0,arguments.length)).length>0?Et[0]:he,Ct=new Ft.$$constructor(qt);return Ct.name=Ft.$$name,Ct.message=qt,r.send(Ct,Ct.$initialize,Et),r.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(Ct,pt),Ct},ft.$$arity=-1),pt=G.$new,r.defs(G,"$exception",Ye=function(Rt){var Et,qt=this;return Et=r.slice.call(arguments,0,arguments.length),ke(qt,"new",r.to_a(Et))},Ye.$$arity=-1),r.def(G,"$initialize",pe=function(Rt){var Et,Ft,qt=this;return Et=r.slice.call(arguments,0,arguments.length),qt.message=(Ft=Et).length>0?Ft[0]:he},pe.$$arity=-1),r.def(G,"$backtrace",De=function(){if(this.backtrace)return this.backtrace;var Et=this.stack;return"string"==typeof Et?Et.split("\n").slice(0,15):Et?Et.slice(0,15):[]},De.$$arity=0),r.def(G,"$exception",Ce=function(Rt){if(null==Rt&&(Rt=he),Rt===he||this===Rt)return this;var Ft=this.$clone();return Ft.message=Rt,Ft},Ce.$$arity=-1),r.def(G,"$message",lt=function(){return this.$to_s()},lt.$$arity=0),r.def(G,"$inspect",xt=function(){var Et=he;return Et=this.$to_s(),st(Et["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},xt.$$arity=0),r.def(G,"$set_backtrace",At=function(Rt){var qt,Ct,Ft=!0;if(Rt===he)this.backtrace=he;else if(Rt.$$is_string)this.backtrace=[Rt];else{if(Rt.$$is_array){for(qt=0,Ct=Rt.length;qt<Ct;qt++)if(!Rt[qt].$$is_string){Ft=!1;break}}else Ft=!1;!1===Ft&&this.$raise(Re(Ve,"TypeError"),"backtrace must be Array of String"),this.backtrace=Rt}return Rt},At.$$arity=1),r.def(G,"$to_s",ht=function(){var Rt,Et;return st(Rt=st(Et=this.message)?this.message.$to_s():Et)?Rt:this.$class().$to_s()},ht.$$arity=0),function(Oe,ve,J){[F(Oe,ve,"ScriptError")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"SyntaxError")].concat(J)}(Be[0],Re(Be,"ScriptError"),Be),function(Oe,ve,J){[F(Oe,ve,"LoadError")].concat(J)}(Be[0],Re(Be,"ScriptError"),Be),function(Oe,ve,J){[F(Oe,ve,"NotImplementedError")].concat(J)}(Be[0],Re(Be,"ScriptError"),Be),function(Oe,ve,J){[F(Oe,ve,"SystemExit")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"NoMemoryError")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"SignalException")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"Interrupt")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"SecurityError")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"StandardError")].concat(J)}(Be[0],Re(Be,"Exception"),Be),function(Oe,ve,J){[F(Oe,ve,"EncodingError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"ZeroDivisionError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"NameError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"NoMethodError")].concat(J)}(Be[0],Re(Be,"NameError"),Be),function(Oe,ve,J){[F(Oe,ve,"RuntimeError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"FrozenError")].concat(J)}(Be[0],Re(Be,"RuntimeError"),Be),function(Oe,ve,J){[F(Oe,ve,"LocalJumpError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"TypeError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"ArgumentError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"IndexError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"StopIteration")].concat(J)}(Be[0],Re(Be,"IndexError"),Be),function(Oe,ve,J){[F(Oe,ve,"KeyError")].concat(J)}(Be[0],Re(Be,"IndexError"),Be),function(Oe,ve,J){[F(Oe,ve,"RangeError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"FloatDomainError")].concat(J)}(Be[0],Re(Be,"RangeError"),Be),function(Oe,ve,J){[F(Oe,ve,"IOError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve,J){[F(Oe,ve,"SystemCallError")].concat(J)}(Be[0],Re(Be,"StandardError"),Be),function(Oe,ve){var G=[Ge(Oe,"Errno")].concat(ve);!function(Ve,ft,Ye){var Ce,pe=F(Ve,ft,"EINVAL");[pe].concat(Ye),r.defs(pe,"$new",Ce=function(lt){var pt=he;return Ce.$$p&&(Ce.$$p=null),null==lt&&(lt=he),pt="Invalid argument",st(lt)&&(pt=function Ne(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe+ve:Oe["$+"](ve)}(pt," - "+lt)),ke(this,r.find_super_dispatcher(this,"new",Ce,!1,this.$$class.$$prototype),[pt],null)},Ce.$$arity=-1)}(G[0],Re(G,"SystemCallError"),G)}(Be[0],Be),function(Oe,ve,J){var ft,G=F(Oe,ve,"UncaughtThrowError");[G].concat(J),G.$$prototype.sym=he,G.$attr_reader("sym","arg"),r.def(G,"$initialize",ft=function(pe){var lt=this;return ft.$$p&&(ft.$$p=null),lt.sym=pe["$[]"](0),st(function Je(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe>ve:Oe["$>"](ve)}(pe.$length(),1))&&(lt.arg=pe["$[]"](1)),ke(lt,r.find_super_dispatcher(lt,"initialize",ft,!1),["uncaught throw "+lt.sym.$inspect()],null)},ft.$$arity=1)}(Be[0],Re(Be,"ArgumentError"),Be),function(Oe,ve,J){var ft,G=F(Oe,null,"NameError");[G].concat(J),G.$attr_reader("name"),r.def(G,"$initialize",ft=function(pe,De){return ft.$$p&&(ft.$$p=null),null==De&&(De=he),ke(this,r.find_super_dispatcher(this,"initialize",ft,!1),[pe],null),this.name=De},ft.$$arity=-2)}(Be[0],0,Be),function(Oe,ve,J){var ft,G=F(Oe,null,"NoMethodError");[G].concat(J),G.$attr_reader("args"),r.def(G,"$initialize",ft=function(pe,De,Ce){return ft.$$p&&(ft.$$p=null),null==De&&(De=he),null==Ce&&(Ce=[]),ke(this,r.find_super_dispatcher(this,"initialize",ft,!1),[pe,De],null),this.args=Ce},ft.$$arity=-2)}(Be[0],0,Be),function(Oe,ve,J){var G=F(Oe,null,"StopIteration");[G].concat(J),G.$attr_reader("result")}(Be[0],0,Be),function(Oe,ve,J){var ft,Ye,pe,G=F(Oe,null,"KeyError"),Ve=[G].concat(J);G.$$prototype.receiver=G.$$prototype.key=he,r.def(G,"$initialize",ft=function(Ce,lt){var xt,At;if(ft.$$p&&(ft.$$p=null),null==lt)lt=zt([],{});else if(!lt.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return null==(xt=lt.$$smap.receiver)&&(xt=he),null==(At=lt.$$smap.key)&&(At=he),ke(this,r.find_super_dispatcher(this,"initialize",ft,!1),[Ce],null),this.receiver=xt,this.key=At},ft.$$arity=-2),r.def(G,"$receiver",Ye=function(){var Ce;return st(Ce=this.receiver)?Ce:this.$raise(Re(Ve,"ArgumentError"),"no receiver is available")},Ye.$$arity=0),r.def(G,"$key",pe=function(){var Ce;return st(Ce=this.key)?Ce:this.$raise(Re(Ve,"ArgumentError"),"no key is available")},pe.$$arity=0)}(Be[0],0,Be),function(Oe,ve){var G=[Ge(Oe,"JS")].concat(ve);!function(Ve,ft,Ye){[F(Ve,null,"Error")].concat(Ye)}(G[0],0,G)}(Be[0],Be)},Opal.modules["corelib/constants"]=function(r){var Je=[],he=r.const_get_relative;return r.const_set(Je[0],"RUBY_PLATFORM","opal"),r.const_set(Je[0],"RUBY_ENGINE","opal"),r.const_set(Je[0],"RUBY_VERSION","2.5.1"),r.const_set(Je[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),r.const_set(Je[0],"RUBY_RELEASE_DATE","2018-12-25"),r.const_set(Je[0],"RUBY_PATCHLEVEL",0),r.const_set(Je[0],"RUBY_REVISION",0),r.const_set(Je[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),r.const_set(Je[0],"RUBY_DESCRIPTION","opal "+he(Je,"RUBY_ENGINE_VERSION")+" ("+he(Je,"RUBY_RELEASE_DATE")+" revision "+he(Je,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(r){var Ne=r.top;return r.add_stubs(["$require"]),Ne.$require("corelib/runtime"),Ne.$require("corelib/helpers"),Ne.$require("corelib/module"),Ne.$require("corelib/class"),Ne.$require("corelib/basic_object"),Ne.$require("corelib/kernel"),Ne.$require("corelib/error"),Ne.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(r){function Ne(st,Ge){return"number"==typeof st&&"number"==typeof Ge?st>Ge:st["$>"](Ge)}var zt,J,G,Ve,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,Mt,Pt,Oe,ve,Ze=[],Be=r.nil,gt=r.const_get_relative,Gt=r.klass,F=r.hash2,ke=r.truthy;return r.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),zt=Ze,Oe=Gt(Ze[0],null,"NilClass"),ve=[Oe].concat(zt),Oe.$$prototype.$$meta=Oe,Ct=r.get_singleton_class(Oe),Pt=[Ct].concat(ve),r.def(Ct,"$allocate",Mt=function(){return this.$raise(gt(Pt,"TypeError"),"allocator undefined for "+this.$name())},Mt.$$arity=0),r.udef(Ct,"$new"),r.def(Oe,"$!",J=function(){return!0},J.$$arity=0),r.def(Oe,"$&",G=function(Ct){return!1},G.$$arity=1),r.def(Oe,"$|",Ve=function(Ct){return!1!==Ct&&Ct!==Be},Ve.$$arity=1),r.def(Oe,"$^",ft=function(Ct){return!1!==Ct&&Ct!==Be},ft.$$arity=1),r.def(Oe,"$==",Ye=function(Ct){return Ct===Be},Ye.$$arity=1),r.def(Oe,"$dup",pe=function(){return Be},pe.$$arity=0),r.def(Oe,"$clone",De=function(It){if(null==It)It=F([],{});else if(!It.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return Be},De.$$arity=-1),r.def(Oe,"$inspect",Ce=function(){return"nil"},Ce.$$arity=0),r.def(Oe,"$nil?",lt=function(){return!0},lt.$$arity=0),r.def(Oe,"$singleton_class",xt=function(){return gt(ve,"NilClass")},xt.$$arity=0),r.def(Oe,"$to_a",At=function(){return[]},At.$$arity=0),r.def(Oe,"$to_h",ht=function(){return r.hash()},ht.$$arity=0),r.def(Oe,"$to_i",pt=function(){return 0},pt.$$arity=0),r.alias(Oe,"to_f","to_i"),r.def(Oe,"$to_s",St=function(){return""},St.$$arity=0),r.def(Oe,"$to_c",Rt=function(){return gt(ve,"Complex").$new(0,0)},Rt.$$arity=0),r.def(Oe,"$rationalize",Et=function(It){var Pt,jt=this;return Pt=r.slice.call(arguments,0,arguments.length),ke(Ne(Pt.$length(),1))&&jt.$raise(gt(ve,"ArgumentError")),jt.$Rational(0,1)},Et.$$arity=-1),r.def(Oe,"$to_r",Ft=function(){return this.$Rational(0,1)},Ft.$$arity=0),r.def(Oe,"$instance_variables",qt=function(){return[]},qt.$$arity=0),r.const_set(Ze[0],"NIL",Be)},Opal.modules["corelib/boolean"]=function(r){var ke,st,Oe,ve,J,G,Ve,ft,Ye,pe,De,Ce,lt,ht,At,Ge,zt,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.klass,Gt=r.hash2;return r.add_stubs(["$raise","$name"]),ke=Boolean,st=Je,Ge=R(Je[0],ke,"Boolean"),zt=[Ge].concat(st),r.defineProperty(Ge.$$prototype,"$$is_boolean",!0),r.defineProperty(Ge.$$prototype,"$$meta",Ge),lt=r.get_singleton_class(Ge),At=[lt].concat(zt),r.def(lt,"$allocate",ht=function(){return this.$raise(he(At,"TypeError"),"allocator undefined for "+this.$name())},ht.$$arity=0),r.udef(lt,"$new"),r.def(Ge,"$__id__",Oe=function(){return this.valueOf()?2:0},Oe.$$arity=0),r.alias(Ge,"object_id","__id__"),r.def(Ge,"$!",ve=function(){return 1!=this},ve.$$arity=0),r.def(Ge,"$&",J=function(lt){return 1==this&&!1!==lt&&lt!==Ze},J.$$arity=1),r.def(Ge,"$|",G=function(lt){return 1==this||!1!==lt&&lt!==Ze},G.$$arity=1),r.def(Ge,"$^",Ve=function(lt){return 1==this?!1===lt||lt===Ze:!1!==lt&&lt!==Ze},Ve.$$arity=1),r.def(Ge,"$==",ft=function(lt){return 1==this===lt.valueOf()},ft.$$arity=1),r.alias(Ge,"equal?","=="),r.alias(Ge,"eql?","=="),r.def(Ge,"$singleton_class",Ye=function(){return he(zt,"Boolean")},Ye.$$arity=0),r.def(Ge,"$to_s",pe=function(){return 1==this?"true":"false"},pe.$$arity=0),r.def(Ge,"$dup",De=function(){return this},De.$$arity=0),r.def(Ge,"$clone",Ce=function(xt){if(null==xt)xt=Gt([],{});else if(!xt.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return this},Ce.$$arity=-1),r.const_set(Je[0],"TrueClass",he(Je,"Boolean")),r.const_set(Je[0],"FalseClass",he(Je,"Boolean")),r.const_set(Je[0],"TRUE",!0),r.const_set(Je[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(r){function Ne(st,Ge){return"number"==typeof st&&"number"==typeof Ge?st>Ge:st["$>"](Ge)}function Je(st,Ge){return"number"==typeof st&&"number"==typeof Ge?st<Ge:st["$<"](Ge)}var Ge,ve,J,G,Ve,ft,Ye,pe,De,zt,Oe,Be=[],he=r.nil,Re=r.const_get_relative,F=r.module,ke=r.truthy;return r.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),Ge=Be,zt=F(Be[0],"Comparable"),Oe=[zt].concat(Ge),r.defs(zt,"$normalize",ve=function(lt){return ke(Re(Oe,"Integer")["$==="](lt))?lt:ke(Ne(lt,0))?1:ke(Je(lt,0))?-1:0},ve.$$arity=1),r.def(zt,"$==",J=function(Ce){var lt=this,xt=he;try{return!!ke(lt["$equal?"](Ce))||lt["$<=>"]!=r.Kernel["$<=>"]&&(lt.$$comparable?(delete lt.$$comparable,!1):!!ke(xt=lt["$<=>"](Ce))&&0==Re(Oe,"Comparable").$normalize(xt))}catch(At){if(!r.rescue(At,[Re(Oe,"StandardError")]))throw At;try{return!1}finally{r.pop_exception()}}},J.$$arity=1),r.def(zt,"$>",G=function(Ce){var xt;return ke(xt=this["$<=>"](Ce))||this.$raise(Re(Oe,"ArgumentError"),"comparison of "+this.$class()+" with "+Ce.$class()+" failed"),Re(Oe,"Comparable").$normalize(xt)>0},G.$$arity=1),r.def(zt,"$>=",Ve=function(Ce){var xt;return ke(xt=this["$<=>"](Ce))||this.$raise(Re(Oe,"ArgumentError"),"comparison of "+this.$class()+" with "+Ce.$class()+" failed"),Re(Oe,"Comparable").$normalize(xt)>=0},Ve.$$arity=1),r.def(zt,"$<",ft=function(Ce){var xt;return ke(xt=this["$<=>"](Ce))||this.$raise(Re(Oe,"ArgumentError"),"comparison of "+this.$class()+" with "+Ce.$class()+" failed"),Re(Oe,"Comparable").$normalize(xt)<0},ft.$$arity=1),r.def(zt,"$<=",Ye=function(Ce){var xt;return ke(xt=this["$<=>"](Ce))||this.$raise(Re(Oe,"ArgumentError"),"comparison of "+this.$class()+" with "+Ce.$class()+" failed"),Re(Oe,"Comparable").$normalize(xt)<=0},Ye.$$arity=1),r.def(zt,"$between?",pe=function(Ce,lt){return!(Je(this,Ce)||Ne(this,lt))},pe.$$arity=2),void r.def(zt,"$clamp",De=function(lt,xt){var ht,At=this;return ht=lt["$<=>"](xt),ke(ht)||At.$raise(Re(Oe,"ArgumentError"),"comparison of "+lt.$class()+" with "+xt.$class()+" failed"),ke(Ne(Re(Oe,"Comparable").$normalize(ht),0))&&At.$raise(Re(Oe,"ArgumentError"),"min argument must be smaller than max argument"),ke(Je(Re(Oe,"Comparable").$normalize(At["$<=>"](lt)),0))?lt:ke(Ne(Re(Oe,"Comparable").$normalize(At["$<=>"](xt)),0))?xt:At},De.$$arity=2)},Opal.modules["corelib/regexp"]=function(r){var Ge,zt,J,G,Ve,ft,Ye,pe,De,Ce,lt,xt,At,St,Rt,Et,Ft,qt,pt,Oe,ve,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.klass,Gt=r.send,F=r.truthy,ke=r.gvars;return r.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(st,Ge,zt){[R(st,Ge,"RegexpError")].concat(zt)}(Je[0],he(Je,"StandardError"),Je),Ge=RegExp,zt=Je,Oe=R(Je[0],Ge,"Regexp"),ve=[Oe].concat(zt),r.const_set(ve[0],"IGNORECASE",1),r.const_set(ve[0],"EXTENDED",2),r.const_set(ve[0],"MULTILINE",4),r.defineProperty(Oe.$$prototype,"$$is_regexp",!0),At=r.get_singleton_class(Oe),pt=[At].concat(ve),r.def(At,"$allocate",St=function(){var It=St.$$p,Mt=this,jt=Ze,D=Ze,se=Ze,ue=Ze;for(It&&(St.$$p=null),se=0,ue=arguments.length,D=new Array(ue);se<ue;se++)D[se]=arguments[se];return(jt=Gt(Mt,r.find_super_dispatcher(Mt,"allocate",St,!1),D,It)).uninitialized=!0,jt},St.$$arity=0),r.def(At,"$escape",Rt=function(It){return r.escape_regexp(It)},Rt.$$arity=1),r.def(At,"$last_match",Et=function(It){return null==ke["~"]&&(ke["~"]=Ze),null==It&&(It=Ze),F(It["$nil?"]())?ke["~"]:ke["~"]["$[]"](It)},Et.$$arity=-1),r.alias(At,"quote","escape"),r.def(At,"$union",Ft=function(It){var Mt,D,se,ue,ge,Le,jt=this;if(0==(Mt=r.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==Mt.length&&Mt[0].$$is_regexp)return Mt[0];D=Mt[0].$$is_array,Mt.length>1&&D&&jt.$raise(he(pt,"TypeError"),"no implicit conversion of Array into String"),D&&(Mt=Mt[0]),ge=void 0,se=[];for(var Ue=0;Ue<Mt.length;Ue++)(ue=Mt[Ue]).$$is_string?se.push(jt.$escape(ue)):ue.$$is_regexp?(Le=ue.$options(),null!=ge&&ge!=Le&&jt.$raise(he(pt,"TypeError"),"All expressions must use the same options"),ge=Le,se.push("("+ue.source+")")):se.push(jt.$escape(ue.$to_str()));return jt.$new(se.$join("|"),ge)},Ft.$$arity=-1),r.def(At,"$new",qt=function(Ct,It){if(Ct.$$is_regexp)return new RegExp(Ct);if("\\"===(Ct=he(pt,"Opal")["$coerce_to!"](Ct,he(pt,"String"),"to_str")).charAt(Ct.length-1)&&"\\"!==Ct.charAt(Ct.length-2)&&this.$raise(he(pt,"RegexpError"),"too short escape sequence: /"+Ct+"/"),void 0===It||It["$!"]())return new RegExp(Ct);if(It.$$is_number){var Mt="";he(pt,"IGNORECASE")&It&&(Mt+="i"),he(pt,"MULTILINE")&It&&(Mt+="m"),It=Mt}else It="i";return new RegExp(Ct,It)},qt.$$arity=-2),r.def(Oe,"$==",J=function(At){return At instanceof RegExp&&this.toString()===At.toString()},J.$$arity=1),r.def(Oe,"$===",G=function(At){return this.$match(he(ve,"Opal")["$coerce_to?"](At,he(ve,"String"),"to_str"))!==Ze},G.$$arity=1),r.def(Oe,"$=~",Ve=function(At){var ht;return null==ke["~"]&&(ke["~"]=Ze),F(ht=this.$match(At))?ke["~"].$begin(0):ht},Ve.$$arity=1),r.alias(Oe,"eql?","=="),r.def(Oe,"$inspect",ft=function(){var St=this.toString(),Rt=/^\/(.*)\/([^\/]*)$/.exec(St);if(Rt){for(var Ft=Rt[2],qt=Rt[1].split(""),Ct=qt.length,It=!1,Pt="",Mt=0;Mt<Ct;Mt++){var jt=qt[Mt];!It&&"/"==jt&&(Pt=Pt.concat("\\")),Pt=Pt.concat(jt),It="\\"==jt&&!It}return"/"+Pt+"/"+Ft}return St},ft.$$arity=0),r.def(Oe,"$match",Ye=function(ht,pt){var St=Ye.$$p,Rt=St||Ze,Et=this;if(null==ke["~"]&&(ke["~"]=Ze),St&&(Ye.$$p=null),St&&(Ye.$$p=null),Et.uninitialized&&Et.$raise(he(ve,"TypeError"),"uninitialized Regexp"),void 0===pt){if(ht===Ze)return ke["~"]=Ze;var Ft=Et.exec(he(ve,"Opal").$coerce_to(ht,he(ve,"String"),"to_str"));return Ft?(ke["~"]=he(ve,"MatchData").$new(Et,Ft),Rt===Ze?ke["~"]:r.yield1(Rt,ke["~"])):ke["~"]=Ze}if(pt=he(ve,"Opal").$coerce_to(pt,he(ve,"Integer"),"to_int"),ht===Ze||(ht=he(ve,"Opal").$coerce_to(ht,he(ve,"String"),"to_str"),pt<0&&(pt+=ht.length)<0))return ke["~"]=Ze;for(var qt,Ct=r.global_regexp(Et);;){if(null===(qt=Ct.exec(ht)))return ke["~"]=Ze;if(qt.index>=pt)return ke["~"]=he(ve,"MatchData").$new(Ct,qt),Rt===Ze?ke["~"]:r.yield1(Rt,ke["~"]);Ct.lastIndex=qt.index+1}},Ye.$$arity=-2),r.def(Oe,"$match?",pe=function(At,ht){var St;return this.uninitialized&&this.$raise(he(ve,"TypeError"),"uninitialized Regexp"),void 0===ht?At!==Ze&&this.test(he(ve,"Opal").$coerce_to(At,he(ve,"String"),"to_str")):(ht=he(ve,"Opal").$coerce_to(ht,he(ve,"Integer"),"to_int"),!(At===Ze||(At=he(ve,"Opal").$coerce_to(At,he(ve,"String"),"to_str"),ht<0&&(ht+=At.length)<0)||null===(St=r.global_regexp(this).exec(At))||St.index<ht))},pe.$$arity=-2),r.def(Oe,"$~",De=function(){return null==ke._&&(ke._=Ze),this["$=~"](ke._)},De.$$arity=0),r.def(Oe,"$source",Ce=function(){return this.source},Ce.$$arity=0),r.def(Oe,"$options",lt=function(){this.uninitialized&&this.$raise(he(ve,"TypeError"),"uninitialized Regexp");var pt=0;return this.multiline&&(pt|=he(ve,"MULTILINE")),this.ignoreCase&&(pt|=he(ve,"IGNORECASE")),pt},lt.$$arity=0),r.def(Oe,"$casefold?",xt=function(){return this.ignoreCase},xt.$$arity=0),r.alias(Oe,"to_s","source"),function(st,Ge,zt){var J,G,Ve,ft,Ye,pe,De,Ce,lt,xt,At,ht,Oe=R(st,null,"MatchData"),ve=[Oe].concat(zt);return Oe.$$prototype.matches=Ze,Oe.$attr_reader("post_match","pre_match","regexp","string"),r.def(Oe,"$initialize",J=function(St,Rt){var Et=this;ke["~"]=Et,Et.regexp=St,Et.begin=Rt.index,Et.string=Rt.input,Et.pre_match=Rt.input.slice(0,Rt.index),Et.post_match=Rt.input.slice(Rt.index+Rt[0].length),Et.matches=[];for(var Ft=0,qt=Rt.length;Ft<qt;Ft++){Et.matches.push(Rt[Ft]??Ze)}},J.$$arity=2),r.def(Oe,"$[]",G=function(pt){var St,Et=this;return St=r.slice.call(arguments,0,arguments.length),Gt(Et.matches,"[]",r.to_a(St))},G.$$arity=-1),r.def(Oe,"$offset",Ve=function(St){return 0!==St&&this.$raise(he(ve,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[St].length]},Ve.$$arity=1),r.def(Oe,"$==",ft=function(pt){var St,Rt,Et,Ft,qt=this;return!!F(he(ve,"MatchData")["$==="](pt))&&(F(St=F(Rt=F(Et=F(Ft=qt.string==pt.string)?qt.regexp.toString()==pt.regexp.toString():Ft)?qt.pre_match==pt.pre_match:Et)?qt.post_match==pt.post_match:Rt)?qt.begin==pt.begin:St)},ft.$$arity=1),r.alias(Oe,"eql?","=="),r.def(Oe,"$begin",Ye=function(St){return 0!==St&&this.$raise(he(ve,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},Ye.$$arity=1),r.def(Oe,"$end",pe=function(St){return 0!==St&&this.$raise(he(ve,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[St].length},pe.$$arity=1),r.def(Oe,"$captures",De=function(){return this.matches.slice(1)},De.$$arity=0),r.def(Oe,"$inspect",Ce=function(){for(var Rt="#<MatchData "+this.matches[0].$inspect(),Et=1,Ft=this.matches.length;Et<Ft;Et++)Rt+=" "+Et+":"+this.matches[Et].$inspect();return Rt+">"},Ce.$$arity=0),r.def(Oe,"$length",lt=function(){return this.matches.length},lt.$$arity=0),r.alias(Oe,"size","length"),r.def(Oe,"$to_a",xt=function(){return this.matches},xt.$$arity=0),r.def(Oe,"$to_s",At=function(){return this.matches[0]},At.$$arity=0),r.def(Oe,"$values_at",ht=function(St){var Et,Ft=this;Et=r.slice.call(arguments,0,arguments.length);var qt,Ct,It,Pt=[];for(qt=0;qt<Et.length;qt++)Et[qt].$$is_range&&((Ct=Et[qt].$to_a()).unshift(qt,1),Array.prototype.splice.apply(Et,Ct)),(It=he(ve,"Opal")["$coerce_to!"](Et[qt],he(ve,"Integer"),"to_int"))<0&&(It+=Ft.matches.length)<0?Pt.push(Ze):Pt.push(Ft.matches[It]);return Pt},ht.$$arity=-1),Ze&&"values_at"}(Je[0],0,Je)},Opal.modules["corelib/string"]=function(r){function Ne(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt/Oe:zt["$/"](Oe)}function Je(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt+Oe:zt["$+"](Oe)}var Ze=r.top,Be=[],he=r.nil,Re=r.const_get_relative,F=r.klass,ke=r.truthy,st=r.send,Ge=r.gvars;return r.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),Ze.$require("corelib/comparable"),Ze.$require("corelib/regexp"),function(zt,Oe,ve){var Ve,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,B,N,x,f,L,ae,Pe,J=F(zt,String,"String"),G=[J].concat(ve);function ze(le){function S(V){var Me,et,ct,it,Ie,Se,_e="",Te=V.length;for(Me=0;Me<Te;Me++)if("-"===(et=V.charAt(Me))&&Me>0&&Me<Te-1&&!ct){for((it=V.charCodeAt(Me-1))>(Ie=V.charCodeAt(Me+1))&&J.$raise(Re(G,"ArgumentError"),'invalid range "'+it+"-"+Ie+'" in string transliteration'),Se=it+1;Se<Ie+1;Se++)_e+=String.fromCharCode(Se);ct=!0,Me++}else ct="\\"===et,_e+=et;return _e}function d(V,_e){if(0===V.length)return _e;var Te,ct,Me="",et=V.length;for(Te=0;Te<et;Te++)ct=V.charAt(Te),-1!==_e.indexOf(ct)&&(Me+=ct);return Me}var m,p,z,Z,re,ye,q="",ee="";for(m=0,p=le.length;m<p;m++)Z="^"===(z=Re(G,"Opal").$coerce_to(le[m],Re(G,"String"),"to_str")).charAt(0)&&z.length>1,z=S(Z?z.slice(1):z),Z?ee=d(ee,z):q=d(q,z);if(q.length>0&&ee.length>0){for(ye="",m=0,p=q.length;m<p;m++)re=q.charAt(m),-1===ee.indexOf(re)&&(ye+=re);q=ye,ee=""}return q.length>0?"["+Re(G,"Regexp").$escape(q)+"]":ee.length>0?"[^"+Re(G,"Regexp").$escape(ee)+"]":null}J.$include(Re(G,"Comparable")),r.defineProperty(J.$$prototype,"$$is_string",!0),r.defineProperty(J.$$prototype,"$$cast",function(le){var S=this.$$class;return S.$$constructor===String?le:new S.$$constructor(le)}),r.def(J,"$__id__",Ve=function(){return this.toString()},Ve.$$arity=0),r.alias(J,"object_id","__id__"),r.defs(J,"$try_convert",ft=function(S){return Re(G,"Opal")["$coerce_to?"](S,Re(G,"String"),"to_str")},ft.$$arity=1),r.defs(J,"$new",Ye=function(le){return null==le&&(le=""),le=Re(G,"Opal").$coerce_to(le,Re(G,"String"),"to_str"),new this.$$constructor(le)},Ye.$$arity=-1),r.def(J,"$initialize",pe=function(S){return void 0===S?this:this.$raise(Re(G,"NotImplementedError"),"Mutable strings are not supported in Opal.")},pe.$$arity=-1),r.def(J,"$%",De=function(le){var S=this;return ke(Re(G,"Array")["$==="](le))?st(S,"format",[S].concat(r.to_a(le))):S.$format(S,le)},De.$$arity=1),r.def(J,"$*",Ce=function(le){var S=this;if((le=Re(G,"Opal").$coerce_to(le,Re(G,"Integer"),"to_int"))<0&&S.$raise(Re(G,"ArgumentError"),"negative argument"),0===le)return S.$$cast("");var d="",m=S.toString();for(m.length*le>=1<<28&&S.$raise(Re(G,"RangeError"),"multiply count must not overflow maximum string size");1==(1&le)&&(d+=m),0!=(le>>>=1);)m+=m;return S.$$cast(d)},Ce.$$arity=1),r.def(J,"$+",lt=function(le){return this+(le=Re(G,"Opal").$coerce_to(le,Re(G,"String"),"to_str")).$to_s()},lt.$$arity=1),r.def(J,"$<=>",xt=function(le){var S=this;if(ke(le["$respond_to?"]("to_str")))return S>(le=le.$to_str().$to_s())?1:S<le?-1:0;var d=le["$<=>"](S);return d===he?he:d>0?-1:d<0?1:0},xt.$$arity=1),r.def(J,"$==",At=function(le){return le.$$is_string?this.toString()===le.toString():!!Re(G,"Opal")["$respond_to?"](le,"to_str")&&le["$=="](this)},At.$$arity=1),r.alias(J,"eql?","=="),r.alias(J,"===","=="),r.def(J,"$=~",ht=function(le){return le.$$is_string&&this.$raise(Re(G,"TypeError"),"type mismatch: String given"),le["$=~"](this)},ht.$$arity=1),r.def(J,"$[]",pt=function(le,S){var p,d=this,m=d.length;if(le.$$is_range)return p=le.excl,S=Re(G,"Opal").$coerce_to(le.end,Re(G,"Integer"),"to_int"),le=Re(G,"Opal").$coerce_to(le.begin,Re(G,"Integer"),"to_int"),Math.abs(le)>m?he:(le<0&&(le+=m),S<0&&(S+=m),p||(S+=1),(S-=le)<0&&(S=0),d.$$cast(d.substr(le,S)));if(le.$$is_string)return null!=S&&d.$raise(Re(G,"TypeError")),-1!==d.indexOf(le)?d.$$cast(le):he;if(le.$$is_regexp){var z=d.match(le);return null===z?(Ge["~"]=he,he):(Ge["~"]=Re(G,"MatchData").$new(le,z),null==S?d.$$cast(z[0]):(S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int"))<0&&-S<z.length?d.$$cast(z[S+=z.length]):S>=0&&S<z.length?d.$$cast(z[S]):he)}return(le=Re(G,"Opal").$coerce_to(le,Re(G,"Integer"),"to_int"))<0&&(le+=m),null==S?le>=m||le<0?he:d.$$cast(d.substr(le,1)):(S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int"))<0||le>m||le<0?he:d.$$cast(d.substr(le,S))},pt.$$arity=-2),r.alias(J,"byteslice","[]"),r.def(J,"$b",St=function(){return this.$force_encoding("binary")},St.$$arity=0),r.def(J,"$capitalize",Rt=function(){var S=this;return S.$$cast(S.charAt(0).toUpperCase()+S.substr(1).toLowerCase())},Rt.$$arity=0),r.def(J,"$casecmp",Et=function(S){var d=this;if(!ke(S["$respond_to?"]("to_str")))return he;S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str").$to_s();var m=/^[\x00-\x7F]*$/;return m.test(d)&&m.test(S)&&(d=d.toLowerCase(),S=S.toLowerCase()),d["$<=>"](S)},Et.$$arity=1),r.def(J,"$casecmp?",Ft=function(le){var d=this.$casecmp(le);return d===he?he:0===d},Ft.$$arity=1),r.def(J,"$center",qt=function(S,d){var m=this;if(null==d&&(d=" "),S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int"),d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Re(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=m.$ljust(Ne(Je(S,m.length),2).$ceil(),d),z=m.$rjust(Ne(Je(S,m.length),2).$floor(),d);return m.$$cast(z+p.slice(m.length))},qt.$$arity=-2),r.def(J,"$chars",Ct=function(){var S=Ct.$$p,d=S||he;return S&&(Ct.$$p=null),S&&(Ct.$$p=null),ke(d)?st(this,"each_char",[],d.$to_proc()):this.$each_char().$to_a()},Ct.$$arity=0),r.def(J,"$chomp",It=function(S){var m,d=this;return null==Ge["/"]&&(Ge["/"]=he),null==S&&(S=Ge["/"]),ke(S===he||0===d.length)?d:("\n"===(S=Re(G,"Opal")["$coerce_to!"](S,Re(G,"String"),"to_str").$to_s())?m=d.replace(/\r?\n?$/,""):""===S?m=d.replace(/(\r?\n)+$/,""):d.length>=S.length&&d.substr(d.length-S.length,S.length)===S&&(m=d.substr(0,d.length-S.length)),null!=m?d.$$cast(m):d)},It.$$arity=-1),r.def(J,"$chop",Pt=function(){var m,S=this,d=S.length;return m=d<=1?"":"\n"===S.charAt(d-1)&&"\r"===S.charAt(d-2)?S.substr(0,d-2):S.substr(0,d-1),S.$$cast(m)},Pt.$$arity=0),r.def(J,"$chr",Mt=function(){return this.charAt(0)},Mt.$$arity=0),r.def(J,"$clone",jt=function(){var S=this,d=he;return(d=S.slice()).$copy_singleton_methods(S),d.$initialize_clone(S),d},jt.$$arity=0),r.def(J,"$dup",D=function(){var d=he;return(d=this.slice()).$initialize_dup(this),d},D.$$arity=0),r.def(J,"$count",se=function(S){var m,p=this;0===(m=r.slice.call(arguments,0,arguments.length)).length&&p.$raise(Re(G,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var z=ze(m);return null===z?0:p.length-p.replace(new RegExp(z,"g"),"").length},se.$$arity=-1),r.def(J,"$delete",ue=function(le){var d,m=this;0===(d=r.slice.call(arguments,0,arguments.length)).length&&m.$raise(Re(G,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var p=ze(d);return null===p?m:m.$$cast(m.replace(new RegExp(p,"g"),""))},ue.$$arity=-1),r.def(J,"$delete_prefix",ge=function(S){var d=this;return S.$$is_string||(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str")),d.slice(0,S.length)===S?d.$$cast(d.slice(S.length)):d},ge.$$arity=1),r.def(J,"$delete_suffix",Le=function(S){var d=this;return S.$$is_string||(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str")),d.slice(d.length-S.length)===S?d.$$cast(d.slice(0,d.length-S.length)):d},Le.$$arity=1),r.def(J,"$downcase",Ue=function(){return this.$$cast(this.toLowerCase())},Ue.$$arity=0),r.def(J,"$each_char",qe=function(){var m,S=qe.$$p,d=S||he,p=this;if(S&&(qe.$$p=null),S&&(qe.$$p=null),d===he)return st(p,"enum_for",["each_char"],((m=function(){return(m.$$s||this).$size()}).$$s=p,m.$$arity=0,m));for(var z=0,Z=p.length;z<Z;z++)r.yield1(d,p.charAt(z));return p},qe.$$arity=0),r.def(J,"$each_line",wt=function(S){var z,Z,re,ye,q,ee,V,d=wt.$$p,m=d||he,p=this;if(null==Ge["/"]&&(Ge["/"]=he),d&&(wt.$$p=null),d&&(wt.$$p=null),null==S&&(S=Ge["/"]),m===he)return p.$enum_for("each_line",S);if(S===he)return r.yield1(m,p),p;if(0===(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str")).length){for(Z=0,re=(z=p.split(/(\n{2,})/)).length;Z<re;Z+=2)(z[Z]||z[Z+1])&&r.yield1(m,p.$$cast((z[Z]||"")+(z[Z+1]||"")));return p}for(q=p.$chomp(S),ee=p.length!=q.length,Z=0,ye=(V=q.split(S)).length;Z<ye;Z++)r.yield1(m,p.$$cast(Z<ye-1||ee?V[Z]+S:V[Z]));return p},wt.$$arity=-1),r.def(J,"$empty?",Nt=function(){return 0===this.length},Nt.$$arity=0),r.def(J,"$end_with?",Bt=function(le){for(var d,m=this,p=0,z=(d=r.slice.call(arguments,0,arguments.length)).length;p<z;p++){var Z=Re(G,"Opal").$coerce_to(d[p],Re(G,"String"),"to_str").$to_s();if(m.length>=Z.length&&m.substr(m.length-Z.length,Z.length)==Z)return!0}return!1},Bt.$$arity=-1),r.alias(J,"equal?","==="),r.def(J,"$gsub",Ut=function(S,d){var m=Ut.$$p,p=m||he,z=this;if(m&&(Ut.$$p=null),m&&(Ut.$$p=null),void 0===d&&p===he)return z.$enum_for("gsub",S);var q,ee,V,Z="",re=he,ye=0;for(S.$$is_regexp?S=r.global_multiline_regexp(S):(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(q=S.exec(z))){Ge["~"]=he,Z+=z.slice(ye);break}re=Re(G,"MatchData").$new(S,q),void 0===d?(V=S.lastIndex,ee=p(q[0]),S.lastIndex=V):d.$$is_hash?ee=d["$[]"](q[0]).$to_s():(d.$$is_string||(d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str")),ee=d.replace(/([\\]+)([0-9+&`'])/g,function(_e,Me,Te){if(Me.length%2==0)return _e;switch(Te){case"+":for(var et=q.length-1;et>0;et--)if(void 0!==q[et])return Me.slice(1)+q[et];return"";case"&":return Me.slice(1)+q[0];case"`":return Me.slice(1)+z.slice(0,q.index);case"'":return Me.slice(1)+z.slice(q.index+q[0].length);default:return Me.slice(1)+(q[Te]||"")}}).replace(/\\\\/g,"\\")),S.lastIndex===q.index?(Z+=ee+z.slice(ye,q.index+1),S.lastIndex+=1):Z+=z.slice(ye,q.index)+ee,ye=S.lastIndex}return Ge["~"]=re,z.$$cast(Z)},Ut.$$arity=-2),r.def(J,"$hash",Vt=function(){return this.toString()},Vt.$$arity=0),r.def(J,"$hex",Jt=function(){return this.$to_i(16)},Jt.$$arity=0),r.def(J,"$include?",Kt=function(le){return le.$$is_string||(le=Re(G,"Opal").$coerce_to(le,Re(G,"String"),"to_str")),-1!==this.indexOf(le)},Kt.$$arity=1),r.def(J,"$index",Wt=function(S,d){var p,z,Z,m=this;if(void 0===d)d=0;else if((d=Re(G,"Opal").$coerce_to(d,Re(G,"Integer"),"to_int"))<0&&(d+=m.length)<0)return he;if(S.$$is_regexp)for(Z=r.global_multiline_regexp(S);;){if(null===(z=Z.exec(m))){Ge["~"]=he,p=-1;break}if(z.index>=d){Ge["~"]=Re(G,"MatchData").$new(Z,z),p=z.index;break}Z.lastIndex=z.index+1}else p=0===(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str")).length&&d>m.length?-1:m.indexOf(S,d);return-1===p?he:p},Wt.$$arity=-2),r.def(J,"$inspect",Qt=function(){var m={"\x07":"\\a","\x1b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(z){return m[z]||"\\u"+("0000"+z.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},Qt.$$arity=0),r.def(J,"$intern",$r=function(){return this.toString()},$r.$$arity=0),r.def(J,"$lines",Ot=function(S){var d=Ot.$$p,m=d||he,z=he;return null==Ge["/"]&&(Ge["/"]=he),d&&(Ot.$$p=null),d&&(Ot.$$p=null),null==S&&(S=Ge["/"]),z=st(this,"each_line",[S],m.$to_proc()),ke(m)?this:z.$to_a()},Ot.$$arity=-1),r.def(J,"$length",Xt=function(){return this.length},Xt.$$arity=0),r.def(J,"$ljust",Ht=function(S,d){var m=this;if(null==d&&(d=" "),S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int"),d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Re(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=-1,z="";for(S-=m.length;++p<S;)z+=d;return m.$$cast(m+z.slice(0,S))},Ht.$$arity=-2),r.def(J,"$lstrip",er=function(){return this.replace(/^\s*/,"")},er.$$arity=0),r.def(J,"$ascii_only?",ar=function(){return this.match(/[ -~\n]*/)[0]===this},ar.$$arity=0),r.def(J,"$match",or=function(S,d){var z,m=or.$$p,p=m||he;return m&&(or.$$p=null),m&&(or.$$p=null),ke(ke(z=Re(G,"String")["$==="](S))?z:S["$respond_to?"]("to_str"))&&(S=Re(G,"Regexp").$new(S.$to_str())),ke(Re(G,"Regexp")["$==="](S))||this.$raise(Re(G,"TypeError"),"wrong argument type "+S.$class()+" (expected Regexp)"),st(S,"match",[this,d],p.$to_proc())},or.$$arity=-2),r.def(J,"$match?",cr=function(le,S){var d;return ke(ke(d=Re(G,"String")["$==="](le))?d:le["$respond_to?"]("to_str"))&&(le=Re(G,"Regexp").$new(le.$to_str())),ke(Re(G,"Regexp")["$==="](le))||this.$raise(Re(G,"TypeError"),"wrong argument type "+le.$class()+" (expected Regexp)"),le["$match?"](this,S)},cr.$$arity=-2),r.def(J,"$next",e=function(){var S=this,d=S.length;if(0===d)return S.$$cast("");for(var Z,m=S,p=S.search(/[a-zA-Z0-9]/),z=!1;d--;){if((Z=S.charCodeAt(d))>=48&&Z<=57||Z>=65&&Z<=90||Z>=97&&Z<=122)switch(Z){case 57:z=!0,Z=48;break;case 90:z=!0,Z=65;break;case 122:z=!0,Z=97;break;default:z=!1,Z+=1}else-1===p?255===Z?(z=!0,Z=0):(z=!1,Z+=1):z=!0;if(m=m.slice(0,d)+String.fromCharCode(Z)+m.slice(d+1),z&&(0===d||d===p)){switch(Z){case 65:case 97:break;default:Z+=1}m=0===d?String.fromCharCode(Z)+m:m.slice(0,d)+String.fromCharCode(Z)+m.slice(d),z=!1}if(!z)break}return S.$$cast(m)},e.$$arity=0),r.def(J,"$oct",l=function(){var d,m=this,p=8;return/^\s*_/.test(m)?0:(m=m.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(z,Z,re,ye){switch(ye.charAt(0)){case"+":case"-":return z;case"0":if("x"===ye.charAt(1)&&"0x"===re)return z}switch(re){case"0b":p=2;break;case"0":case"0o":p=8;break;case"0d":p=10;break;case"0x":p=16}return Z+ye}),d=parseInt(m.replace(/_(?!_)/g,""),p),isNaN(d)?0:d)},l.$$arity=0),r.def(J,"$ord",O=function(){return this.charCodeAt(0)},O.$$arity=0),r.def(J,"$partition",xe=function(S){var m,p,d=this;return S.$$is_regexp?null===(p=S.exec(d))?m=-1:(Re(G,"MatchData").$new(S,p),S=p[0],m=p.index):(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),m=d.indexOf(S)),-1===m?[d,"",""]:[d.slice(0,m),d.slice(m,m+S.length),d.slice(m+S.length)]},xe.$$arity=1),r.def(J,"$reverse",Xe=function(){return this.split("").reverse().join("")},Xe.$$arity=0),r.def(J,"$rindex",ie=function(S,d){var p,z,Z,re,m=this;if(void 0===d)d=m.length;else if((d=Re(G,"Opal").$coerce_to(d,Re(G,"Integer"),"to_int"))<0&&(d+=m.length)<0)return he;if(S.$$is_regexp){for(z=null,Z=r.global_multiline_regexp(S);!(null===(re=Z.exec(m))||re.index>d);)Z.lastIndex=(z=re).index+1;null===z?(Ge["~"]=he,p=-1):(Re(G,"MatchData").$new(Z,z),p=z.index)}else S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),p=m.lastIndexOf(S,d);return-1===p?he:p},ie.$$arity=-2),r.def(J,"$rjust",A=function(S,d){var m=this;if(null==d&&(d=" "),S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int"),d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Re(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=Math.floor(S-m.length),z=Math.floor(p/d.length),Z=Array(z+1).join(d);return m.$$cast(Z+d.slice(0,p-Z.length)+m)},A.$$arity=-2),r.def(J,"$rpartition",$e=function(S){var m,p,z,Z,d=this;if(S.$$is_regexp){for(p=null,z=r.global_multiline_regexp(S);null!==(Z=z.exec(d));)z.lastIndex=(p=Z).index+1;null===p?m=-1:(Re(G,"MatchData").$new(z,p),S=p[0],m=p.index)}else S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),m=d.lastIndexOf(S);return-1===m?["","",d]:[d.slice(0,m),d.slice(m,m+S.length),d.slice(m+S.length)]},$e.$$arity=1),r.def(J,"$rstrip",$=function(){return this.replace(/[\s\u0000]*$/,"")},$.$$arity=0),r.def(J,"$scan",n=function(S){var d=n.$$p,m=d||he,p=this;d&&(n.$$p=null),d&&(n.$$p=null);var re,z=[],Z=he;for(S.$$is_regexp?S=r.global_multiline_regexp(S):(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(re=S.exec(p));)Z=Re(G,"MatchData").$new(S,re),m===he?z.push(1==re.length?re[0]:Z.$captures()):1==re.length?m(re[0]):m.call(p,Z.$captures()),S.lastIndex===re.index&&(S.lastIndex+=1);return Ge["~"]=Z,m!==he?p:z},n.$$arity=1),r.alias(J,"size","length"),r.alias(J,"slice","[]"),r.def(J,"$split",y=function(S,d){var m,p=this;if(null==Ge[";"]&&(Ge[";"]=he),0===p.length)return[];if(void 0===d)d=0;else if(1===(d=Re(G,"Opal")["$coerce_to!"](d,Re(G,"Integer"),"to_int")))return[p];(void 0===S||S===he)&&(S=ke(m=Ge[";"])?m:" ");var ye,q,ee,z=[],Z=p.toString(),re=0;if(S.$$is_regexp?S=r.global_multiline_regexp(S):" "===(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str").$to_s())?(S=/\s+/gm,Z=Z.replace(/^\s+/,"")):S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(z=Z.split(S)).length&&z[0]===Z)return[p.$$cast(z[0])];for(;-1!==(q=z.indexOf(void 0));)z.splice(q,1);function V(){for(q=0;q<z.length;q++)z[q]=p.$$cast(z[q])}if(0===d){for(;""===z[z.length-1];)z.length-=1;return V(),z}if(ye=S.exec(Z),d<0){if(null!==ye&&""===ye[0]&&-1===S.source.indexOf("(?="))for(q=0,ee=ye.length;q<ee;q++)z.push("");return V(),z}if(null!==ye&&""===ye[0])return z.splice(d-1,z.length-1,z.slice(d-1).join("")),V(),z;if(d>=z.length)return V(),z;for(q=0;null!==ye&&(q++,re=S.lastIndex,q+1!==d);)ye=S.exec(Z);return z.splice(d-1,z.length-1,Z.slice(re)),V(),z},y.$$arity=-1),r.def(J,"$squeeze",W=function(S){var m,p=this;if(0===(m=r.slice.call(arguments,0,arguments.length)).length)return p.$$cast(p.replace(/(.)\1+/g,"$1"));var z=ze(m);return null===z?p:p.$$cast(p.replace(new RegExp("("+z+")\\1+","g"),"$1"))},W.$$arity=-1),r.def(J,"$start_with?",oe=function(le){for(var d,m=this,p=0,z=(d=r.slice.call(arguments,0,arguments.length)).length;p<z;p++){var Z=Re(G,"Opal").$coerce_to(d[p],Re(G,"String"),"to_str").$to_s();if(0===m.indexOf(Z))return!0}return!1},oe.$$arity=-1),r.def(J,"$strip",b=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},b.$$arity=0),r.def(J,"$sub",_=function(S,d){var m=_.$$p,p=m||he,z=this;m&&(_.$$p=null),m&&(_.$$p=null),S.$$is_regexp||(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Z,re=S.exec(z);return null===re?(Ge["~"]=he,Z=z.toString()):(Re(G,"MatchData").$new(S,re),void 0===d?(p===he&&z.$raise(Re(G,"ArgumentError"),"wrong number of arguments (1 for 2)"),Z=z.slice(0,re.index)+p(re[0])+z.slice(re.index+re[0].length)):d.$$is_hash?Z=z.slice(0,re.index)+d["$[]"](re[0]).$to_s()+z.slice(re.index+re[0].length):(d=(d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(ye,q,ee){if(q.length%2==0)return ye;switch(ee){case"+":for(var V=re.length-1;V>0;V--)if(void 0!==re[V])return q.slice(1)+re[V];return"";case"&":return q.slice(1)+re[0];case"`":return q.slice(1)+z.slice(0,re.index);case"'":return q.slice(1)+z.slice(re.index+re[0].length);default:return q.slice(1)+(re[ee]||"")}}).replace(/\\\\/g,"\\"),Z=z.slice(0,re.index)+d+z.slice(re.index+re[0].length))),z.$$cast(Z)},_.$$arity=-2),r.alias(J,"succ","next"),r.def(J,"$sum",c=function(S){null==S&&(S=16),S=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int");for(var m=0,p=this.length,z=0;z<p;z++)m+=this.charCodeAt(z);return S<=0?m:m&Math.pow(2,S)-1},c.$$arity=-1),r.def(J,"$swapcase",t=function(){var S=this,d=S.replace(/([a-z]+)|([A-Z]+)/g,function(m,p,z){return p?m.toUpperCase():m.toLowerCase()});return S.constructor===String?d:S.$class().$new(d)},t.$$arity=0),r.def(J,"$to_f",s=function(){if("_"===this.charAt(0))return 0;var d=parseFloat(this.replace(/_/g,""));return isNaN(d)||d==1/0||d==-1/0?0:d},s.$$arity=0),r.def(J,"$to_i",i=function(S){null==S&&(S=10);var m,p=this.toLowerCase(),z=Re(G,"Opal").$coerce_to(S,Re(G,"Integer"),"to_int");return(1===z||z<0||z>36)&&this.$raise(Re(G,"ArgumentError"),"invalid radix "+z),/^\s*_/.test(p)?0:(p=p.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Z,re,ye,q){switch(q.charAt(0)){case"+":case"-":return Z;case"0":if("x"===q.charAt(1)&&"0x"===ye&&(0===z||16===z))return Z}switch(ye){case"0b":if(0===z||2===z)return z=2,re+q;break;case"0":case"0o":if(0===z||8===z)return z=8,re+q;break;case"0d":if(0===z||10===z)return z=10,re+q;break;case"0x":if(0===z||16===z)return z=16,re+q}return Z}),m=parseInt(p.replace(/_(?!_)/g,""),z),isNaN(m)?0:m)},i.$$arity=-1),r.def(J,"$to_proc",j=function(){var S,z,p=this;return j.$$p&&(j.$$p=null),z=Je("$",p.valueOf()),st(p,"proc",[],(S=function(Z){var V,re=S.$$s||this,ye=S.$$p,q=ye||he;ye&&(S.$$p=null),0===(V=r.slice.call(arguments,0,arguments.length)).length&&re.$raise(Re(G,"ArgumentError"),"no receiver given");var _e=V[0];null==_e&&(_e=he);var Me=_e[z];return Me?("function"==typeof q&&(Me.$$p=q),1===V.length?Me.call(_e):Me.apply(_e,V.slice(1))):_e.$method_missing.apply(_e,V)},S.$$s=p,S.$$arity=-1,S))},j.$$arity=0),r.def(J,"$to_s",h=function(){return this.toString()},h.$$arity=0),r.alias(J,"to_str","to_s"),r.alias(J,"to_sym","intern"),r.def(J,"$tr",g=function(S,d){var m=this;if(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str").$to_s(),d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str").$to_s(),0==S.length||S===d)return m;var p,z,Z,re,ye,q,ee,V={},_e=S.split(""),Me=_e.length,Te=d.split(""),et=Te.length,ct=!1,it=null;"^"===_e[0]&&_e.length>1&&(ct=!0,_e.shift(),it=Te[et-1],Me-=1);var Ie=[],Se=null;for(z=!1,p=0;p<Me;p++)if(re=_e[p],null==Se)Se=re,Ie.push(re);else if("-"===re)"-"===Se?(Ie.push("-"),Ie.push("-")):p==Me-1?Ie.push("-"):z=!0;else if(z){for((ye=Se.charCodeAt(0))>(q=re.charCodeAt(0))&&m.$raise(Re(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)Ie.push(String.fromCharCode(Z));Ie.push(re),z=null,Se=null}else Ie.push(re);if(Me=(_e=Ie).length,ct)for(p=0;p<Me;p++)V[_e[p]]=!0;else{if(et>0){var We=[],tt=null;for(z=!1,p=0;p<et;p++)if(re=Te[p],null==tt)tt=re,We.push(re);else if("-"===re)"-"===tt?(We.push("-"),We.push("-")):p==et-1?We.push("-"):z=!0;else if(z){for((ye=tt.charCodeAt(0))>(q=re.charCodeAt(0))&&m.$raise(Re(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)We.push(String.fromCharCode(Z));We.push(re),z=null,tt=null}else We.push(re);et=(Te=We).length}var Qe=Me-et;if(Qe>0){var nt=et>0?Te[et-1]:"";for(p=0;p<Qe;p++)Te.push(nt)}for(p=0;p<Me;p++)V[_e[p]]=Te[p]}var yt="";for(p=0,ee=m.length;p<ee;p++){var ut=V[re=m.charAt(p)];yt+=ct?null==ut?it:re:ut??re}return m.$$cast(yt)},g.$$arity=2),r.def(J,"$tr_s",w=function(S,d){var m=this;if(S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str").$to_s(),d=Re(G,"Opal").$coerce_to(d,Re(G,"String"),"to_str").$to_s(),0==S.length)return m;var p,z,Z,re,ye,q,ee,V={},_e=S.split(""),Me=_e.length,Te=d.split(""),et=Te.length,ct=!1,it=null;"^"===_e[0]&&_e.length>1&&(ct=!0,_e.shift(),it=Te[et-1],Me-=1);var Ie=[],Se=null;for(z=!1,p=0;p<Me;p++)if(re=_e[p],null==Se)Se=re,Ie.push(re);else if("-"===re)"-"===Se?(Ie.push("-"),Ie.push("-")):p==Me-1?Ie.push("-"):z=!0;else if(z){for((ye=Se.charCodeAt(0))>(q=re.charCodeAt(0))&&m.$raise(Re(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)Ie.push(String.fromCharCode(Z));Ie.push(re),z=null,Se=null}else Ie.push(re);if(Me=(_e=Ie).length,ct)for(p=0;p<Me;p++)V[_e[p]]=!0;else{if(et>0){var We=[];for(z=!1,p=0;p<et;p++)if(re=Te[p],null==Se)Se=re,We.push(re);else if("-"===re)p==et-1?We.push("-"):z=!0;else if(z){for((ye=Se.charCodeAt(0))>(q=re.charCodeAt(0))&&m.$raise(Re(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)We.push(String.fromCharCode(Z));We.push(re),z=null,Se=null}else We.push(re);et=(Te=We).length}var Qe=Me-et;if(Qe>0){var nt=et>0?Te[et-1]:"";for(p=0;p<Qe;p++)Te.push(nt)}for(p=0;p<Me;p++)V[_e[p]]=Te[p]}var yt="",ut=null;for(p=0,ee=m.length;p<ee;p++){var K=V[re=m.charAt(p)];ct?null==K?null==ut&&(yt+=it,ut=!0):(yt+=re,ut=null):null!=K?(null==ut||ut!==K)&&(yt+=K,ut=K):(yt+=re,ut=null)}return m.$$cast(yt)},w.$$arity=2),r.def(J,"$upcase",C=function(){return this.$$cast(this.toUpperCase())},C.$$arity=0),r.def(J,"$upto",B=function(S,d){var m=B.$$p,p=m||he,z=this;if(m&&(B.$$p=null),m&&(B.$$p=null),null==d&&(d=!1),p===he)return z.$enum_for("upto",S,d);S=Re(G,"Opal").$coerce_to(S,Re(G,"String"),"to_str");var Z,re,ye=z.toString();if(1===ye.length&&1===S.length)for(Z=ye.charCodeAt(0),re=S.charCodeAt(0);Z<=re&&(!d||Z!==re);)p(String.fromCharCode(Z)),Z+=1;else if(parseInt(ye,10).toString()===ye&&parseInt(S,10).toString()===S)for(Z=parseInt(ye,10),re=parseInt(S,10);Z<=re&&(!d||Z!==re);)p(Z.toString()),Z+=1;else for(;ye.length<=S.length&&ye<=S&&(!d||ye!==S);)p(ye),ye=ye.$succ();return z},B.$$arity=-2),r.def(J,"$instance_variables",N=function(){return[]},N.$$arity=0),r.defs(J,"$_load",x=function(S){var d,p=this;return d=r.slice.call(arguments,0,arguments.length),st(p,"new",r.to_a(d))},x.$$arity=-1),r.def(J,"$unicode_normalize",f=function(S){return this.toString()},f.$$arity=-1),r.def(J,"$unicode_normalized?",L=function(le){return!0},L.$$arity=-1),r.def(J,"$unpack",ae=function(S){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},ae.$$arity=1),r.def(J,"$unpack1",Pe=function(S){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Pe.$$arity=1)}(Be[0],0,Be),r.const_set(Be[0],"Symbol",Re(Be,"String"))},Opal.modules["corelib/enumerable"]=function(r){function Ne(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye>pe:Ye["$>"](pe)}function Ze(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye<pe:Ye["$<"](pe)}function Be(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye+pe:Ye["$+"](pe)}function he(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye-pe:Ye["$-"](pe)}function Re(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye<=pe:Ye["$<="](pe)}var Gt=[],F=r.nil,ke=r.const_get_qualified,st=r.const_get_relative,Oe=r.module,ve=r.truthy,J=r.send,G=r.falsy,Ve=r.hash2,ft=r.lambda;return r.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(Ye,pe){var lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,De=Oe(Ye,"Enumerable"),Ce=[De].concat(pe);function n(y){return 0===y.length&&(y=[F]),y.length>1&&(y=[y]),y}r.def(De,"$all?",lt=function(y){try{var b,_,c,W=lt.$$p,oe=W||F,t=this;return W&&(lt.$$p=null),W&&(lt.$$p=null),ve(void 0!==y)?J(t,"each",[],(b=function(s){var g=F;if(g=n(r.slice.call(arguments,0,arguments.length)),ve(J(y,"public_send",["==="].concat(r.to_a(g)))))return F;r.ret(!1)},b.$$s=t,b.$$arity=-1,b)):J(t,"each",[],oe!==F?(_=function(s){var j;if(j=r.slice.call(arguments,0,arguments.length),ve(r.yieldX(oe,r.to_a(j))))return F;r.ret(!1)},_.$$s=t,_.$$arity=-1,_):(c=function(s){var h;if(h=r.slice.call(arguments,0,arguments.length),ve(st(Ce,"Opal").$destructure(h)))return F;r.ret(!1)},c.$$s=t,c.$$arity=-1,c)),!0}catch(s){if(s===r.returner)return s.$v;throw s}},lt.$$arity=-1),r.def(De,"$any?",xt=function(y){try{var b,_,c,W=xt.$$p,oe=W||F,t=this;return W&&(xt.$$p=null),W&&(xt.$$p=null),ve(void 0!==y)?J(t,"each",[],(b=function(s){var g=F;if(g=n(r.slice.call(arguments,0,arguments.length)),!ve(J(y,"public_send",["==="].concat(r.to_a(g)))))return F;r.ret(!0)},b.$$s=t,b.$$arity=-1,b)):J(t,"each",[],oe!==F?(_=function(s){var j;if(j=r.slice.call(arguments,0,arguments.length),!ve(r.yieldX(oe,r.to_a(j))))return F;r.ret(!0)},_.$$s=t,_.$$arity=-1,_):(c=function(s){var h;if(h=r.slice.call(arguments,0,arguments.length),!ve(st(Ce,"Opal").$destructure(h)))return F;r.ret(!0)},c.$$s=t,c.$$arity=-1,c)),!1}catch(s){if(s===r.returner)return s.$v;throw s}},xt.$$arity=-1),r.def(De,"$chunk",At=function(){var b,_,W=At.$$p,oe=W||F,c=this;return W&&(At.$$p=null),W&&(At.$$p=null),oe===F?J(c,"to_enum",["chunk"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=c,b.$$arity=0,b)):J(ke("::","Enumerator"),"new",[],((_=function(t){var s=_.$$s||this;null==t&&(t=F);var i=F,j=[];function h(){j.length>0&&t.$yield(i,j)}s.$each.$$p=function(g){var w=r.yield1(oe,g);w===F?(h(),j=[],i=F):(i===F||i===w?j.push(g):(h(),j=[g]),i=w)},s.$each(),h()}).$$s=c,_.$$arity=1,_))},At.$$arity=0),r.def(De,"$chunk_while",ht=function(){var b,W=ht.$$p,oe=W||F,_=this;return W&&(ht.$$p=null),W&&(ht.$$p=null),oe!==F||_.$raise(st(Ce,"ArgumentError"),"no block given"),J(_,"slice_when",[],((b=function(c,t){return null==c&&(c=F),null==t&&(t=F),r.yieldX(oe,[c,t])["$!"]()}).$$s=_,b.$$arity=2,b))},ht.$$arity=0),r.def(De,"$collect",pt=function(){var b,W=pt.$$p,oe=W||F,_=this;if(W&&(pt.$$p=null),W&&(pt.$$p=null),oe===F)return J(_,"enum_for",["collect"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=r.yieldX(oe,arguments);c.push(t)},_.$each(),c},pt.$$arity=0),r.def(De,"$collect_concat",St=function(){var b,_,W=St.$$p,oe=W||F,c=this;return W&&(St.$$p=null),W&&(St.$$p=null),oe===F?J(c,"enum_for",["collect_concat"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=c,b.$$arity=0,b)):J(c,"map",[],(_=function(t){return null==t&&(t=F),r.yield1(oe,t)},_.$$s=c,_.$$arity=1,_)).$flatten(1)},St.$$arity=0),r.def(De,"$count",Rt=function(W){var _,c,t,oe=Rt.$$p,b=oe||F,s=this,i=F;return oe&&(Rt.$$p=null),oe&&(Rt.$$p=null),i=0,null!=W&&b!==F&&s.$warn("warning: given block not used"),ve(null!=W)?b=J(s,"proc",[],(_=function(j){var w;return w=r.slice.call(arguments,0,arguments.length),st(Ce,"Opal").$destructure(w)["$=="](W)},_.$$s=s,_.$$arity=-1,_)):ve(b["$nil?"]())&&(b=J(s,"proc",[],((c=function(){return!0}).$$s=s,c.$$arity=0,c))),J(s,"each",[],(t=function(j){var g;return g=r.slice.call(arguments,0,arguments.length),ve(r.yieldX(b,g))?i++:F},t.$$s=s,t.$$arity=-1,t)),i},Rt.$$arity=-1),r.def(De,"$cycle",Et=function(W){var _,oe=Et.$$p,b=oe||F,c=this;if(oe&&(Et.$$p=null),oe&&(Et.$$p=null),null==W&&(W=F),b===F)return J(c,"enum_for",["cycle",W],(_=function(){var g=_.$$s||this;return ve(W["$nil?"]())?ve(g["$respond_to?"]("size"))?ke(st(Ce,"Float"),"INFINITY"):F:(W=st(Ce,"Opal")["$coerce_to!"](W,st(Ce,"Integer"),"to_int"),ve(Ne(W,0))?function Je(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye*pe:Ye["$*"](pe)}(g.$enumerator_size(),W):0)},_.$$s=c,_.$$arity=0,_));if(!ve(W["$nil?"]())&&(W=st(Ce,"Opal")["$coerce_to!"](W,st(Ce,"Integer"),"to_int"),ve(W<=0)))return F;var i,j,s=[];if(c.$each.$$p=function(){var g=st(Ce,"Opal").$destructure(arguments);r.yield1(b,g),s.push(g)},c.$each(),0===s.length)return F;if(W===F)for(;;)for(i=0,j=s.length;i<j;i++)r.yield1(b,s[i]);else for(;W>1;){for(i=0,j=s.length;i<j;i++)r.yield1(b,s[i]);W--}},Et.$$arity=-1),r.def(De,"$detect",Ft=function(W){try{var _,oe=Ft.$$p,b=oe||F,c=this;return oe&&(Ft.$$p=null),oe&&(Ft.$$p=null),b===F?c.$enum_for("detect",W):(J(c,"each",[],(_=function(t){var j,h=F;if(j=r.slice.call(arguments,0,arguments.length),h=st(Ce,"Opal").$destructure(j),!ve(r.yield1(b,h)))return F;r.ret(h)},_.$$s=c,_.$$arity=-1,_)),void 0!==W?"function"==typeof W?W():W:F)}catch(t){if(t===r.returner)return t.$v;throw t}},Ft.$$arity=-1),r.def(De,"$drop",qt=function(W){W=st(Ce,"Opal").$coerce_to(W,st(Ce,"Integer"),"to_int"),ve(W<0)&&this.$raise(st(Ce,"ArgumentError"),"attempt to drop negative size");var b=[],_=0;return this.$each.$$p=function(){W<=_&&b.push(st(Ce,"Opal").$destructure(arguments)),_++},this.$each(),b},qt.$$arity=1),r.def(De,"$drop_while",Ct=function(){var W=Ct.$$p,oe=W||F,b=this;if(W&&(Ct.$$p=null),W&&(Ct.$$p=null),oe===F)return b.$enum_for("drop_while");var _=[],c=!0;return b.$each.$$p=function(){var t=st(Ce,"Opal").$destructure(arguments);if(c){var s=r.yield1(oe,t);G(s)&&(c=!1,_.push(t))}else _.push(t)},b.$each(),_},Ct.$$arity=0),r.def(De,"$each_cons",It=function(W){var _,oe=It.$$p,b=oe||F,c=this;if(oe&&(It.$$p=null),oe&&(It.$$p=null),ve(1!=arguments.length)&&c.$raise(st(Ce,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),W=st(Ce,"Opal").$try_convert(W,st(Ce,"Integer"),"to_int"),ve(W<=0)&&c.$raise(st(Ce,"ArgumentError"),"invalid size"),b===F)return J(c,"enum_for",["each_cons",W],((_=function(){var j,h=F;return h=(_.$$s||this).$enumerator_size(),ve(h["$nil?"]())?F:ve(ve(j=h["$=="](0))?j:Ze(h,W))?0:Be(he(h,W),1)}).$$s=c,_.$$arity=0,_));var t=[],s=F;return c.$each.$$p=function(){var i=st(Ce,"Opal").$destructure(arguments);t.push(i),t.length>W&&t.shift(),t.length==W&&r.yield1(b,t.slice(0,W))},c.$each(),s},It.$$arity=1),r.def(De,"$each_entry",Pt=function(W){var c,t,oe=Pt.$$p,b=oe||F,s=this;return oe&&(Pt.$$p=null),oe&&(Pt.$$p=null),c=r.slice.call(arguments,0,arguments.length),b===F?J(s,"to_enum",["each_entry"].concat(r.to_a(c)),((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=s,t.$$arity=0,t)):(s.$each.$$p=function(){var i=st(Ce,"Opal").$destructure(arguments);r.yield1(b,i)},s.$each.apply(s,c),s)},Pt.$$arity=-1),r.def(De,"$each_slice",Mt=function(W){var _,oe=Mt.$$p,b=oe||F,c=this;if(oe&&(Mt.$$p=null),oe&&(Mt.$$p=null),W=st(Ce,"Opal").$coerce_to(W,st(Ce,"Integer"),"to_int"),ve(W<=0)&&c.$raise(st(Ce,"ArgumentError"),"invalid slice size"),b===F)return J(c,"enum_for",["each_slice",W],(_=function(){var i=_.$$s||this;return ve(i["$respond_to?"]("size"))?function gt(Ye,pe){return"number"==typeof Ye&&"number"==typeof pe?Ye/pe:Ye["$/"](pe)}(i.$size(),W).$ceil():F},_.$$s=c,_.$$arity=0,_));var s=[];return c.$each.$$p=function(){var i=st(Ce,"Opal").$destructure(arguments);s.push(i),s.length===W&&(r.yield1(b,s),s=[])},c.$each(),s.length>0&&r.yield1(b,s),F},Mt.$$arity=1),r.def(De,"$each_with_index",jt=function(W){var c,t,oe=jt.$$p,b=oe||F,s=this;if(oe&&(jt.$$p=null),oe&&(jt.$$p=null),c=r.slice.call(arguments,0,arguments.length),b===F)return J(s,"enum_for",["each_with_index"].concat(r.to_a(c)),((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=s,t.$$arity=0,t));var i,j=0;return s.$each.$$p=function(){var h=st(Ce,"Opal").$destructure(arguments);b(h,j),j++},s.$each.apply(s,c),void 0!==i?i:s},jt.$$arity=-1),r.def(De,"$each_with_object",D=function(W){var _,oe=D.$$p,b=oe||F,c=this;return oe&&(D.$$p=null),oe&&(D.$$p=null),b===F?J(c,"enum_for",["each_with_object",W],((_=function(){return(_.$$s||this).$enumerator_size()}).$$s=c,_.$$arity=0,_)):(c.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments);b(s,W)},c.$each(),W)},D.$$arity=1),r.def(De,"$entries",se=function(W){var b,_=this;b=r.slice.call(arguments,0,arguments.length);var c=[];return _.$each.$$p=function(){c.push(st(Ce,"Opal").$destructure(arguments))},_.$each.apply(_,b),c},se.$$arity=-1),r.alias(De,"find","detect"),r.def(De,"$find_all",ue=function(){var b,W=ue.$$p,oe=W||F,_=this;if(W&&(ue.$$p=null),W&&(ue.$$p=null),oe===F)return J(_,"enum_for",["find_all"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=st(Ce,"Opal").$destructure(arguments),s=r.yield1(oe,t);ve(s)&&c.push(t)},_.$each(),c},ue.$$arity=0),r.def(De,"$find_index",ge=function(W){try{var _,c,oe=ge.$$p,b=oe||F,t=this,s=F;return oe&&(ge.$$p=null),oe&&(ge.$$p=null),ve(void 0===W&&b===F)?t.$enum_for("find_index"):(null!=W&&b!==F&&t.$warn("warning: given block not used"),s=0,ve(null!=W)?J(t,"each",[],(_=function(i){var g;return g=r.slice.call(arguments,0,arguments.length),st(Ce,"Opal").$destructure(g)["$=="](W)&&r.ret(s),s+=1},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(i){var h;return h=r.slice.call(arguments,0,arguments.length),ve(r.yieldX(b,r.to_a(h)))&&r.ret(s),s+=1},c.$$s=t,c.$$arity=-1,c)),F)}catch(i){if(i===r.returner)return i.$v;throw i}},ge.$$arity=-1),r.def(De,"$first",Le=function(W){try{var oe,b,_=this,c=F,t=F;return ve(void 0===W)?J(_,"each",[],((oe=function(s){null==s&&(s=F),r.ret(s)}).$$s=_,oe.$$arity=1,oe)):(c=[],W=st(Ce,"Opal").$coerce_to(W,st(Ce,"Integer"),"to_int"),ve(W<0)&&_.$raise(st(Ce,"ArgumentError"),"attempt to take negative size"),ve(0==W)?[]:(t=0,J(_,"each",[],(b=function(s){var h;if(h=r.slice.call(arguments,0,arguments.length),c.push(st(Ce,"Opal").$destructure(h)),!ve(W<=++t))return F;r.ret(c)},b.$$s=_,b.$$arity=-1,b)),c))}catch(s){if(s===r.returner)return s.$v;throw s}},Le.$$arity=-1),r.alias(De,"flat_map","collect_concat"),r.def(De,"$grep",Ue=function(W){var _,oe=Ue.$$p,b=oe||F,t=F;return oe&&(Ue.$$p=null),oe&&(Ue.$$p=null),t=[],J(this,"each",[],(_=function(s){var h,g=F;return g=n(h=r.slice.call(arguments,0,arguments.length)),ve(J(W,"__send__",["==="].concat(r.to_a(g))))?(b!==F?(ve(Ne(h.$length(),1))&&(h=[h]),h=r.yieldX(b,r.to_a(h))):ve(Re(h.$length(),1))&&(h=h["$[]"](0)),t.$push(h)):F},_.$$s=this,_.$$arity=-1,_)),t},Ue.$$arity=1),r.def(De,"$grep_v",qe=function(W){var _,oe=qe.$$p,b=oe||F,t=F;return oe&&(qe.$$p=null),oe&&(qe.$$p=null),t=[],J(this,"each",[],(_=function(s){var h,g=F;return g=n(h=r.slice.call(arguments,0,arguments.length)),ve(J(W,"__send__",["==="].concat(r.to_a(g))))?F:(b!==F?(ve(Ne(h.$length(),1))&&(h=[h]),h=r.yieldX(b,r.to_a(h))):ve(Re(h.$length(),1))&&(h=h["$[]"](0)),t.$push(h))},_.$$s=this,_.$$arity=-1,_)),t},qe.$$arity=1),r.def(De,"$group_by",wt=function(){var b,_,W=wt.$$p,oe=W||F,c=this,t=F,s=F;return W&&(wt.$$p=null),W&&(wt.$$p=null),oe===F?J(c,"enum_for",["group_by"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=c,b.$$arity=0,b)):(t=Ve([],{}),c.$each.$$p=function(){var j=st(Ce,"Opal").$destructure(arguments),h=r.yield1(oe,j);(ve(_=t["$[]"](h))?_:(s=[h,[]],J(t,"[]=",r.to_a(s)),s[he(s.length,1)]))["$<<"](j)},c.$each(),t)},wt.$$arity=0),r.def(De,"$include?",Nt=function(y){try{var W;return J(this,"each",[],(W=function(b){var t;if(t=r.slice.call(arguments,0,arguments.length),!st(Ce,"Opal").$destructure(t)["$=="](y))return F;r.ret(!0)},W.$$s=this,W.$$arity=-1,W)),!1}catch(b){if(b===r.returner)return b.$v;throw b}},Nt.$$arity=1),r.def(De,"$inject",Bt=function(W,oe){var b=Bt.$$p,_=b||F,c=this;b&&(Bt.$$p=null),b&&(Bt.$$p=null);var t=W;return _!==F&&void 0===oe?c.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments);void 0!==t?(s=r.yieldX(_,[t,s]),t=s):t=s}:(void 0===oe&&(st(Ce,"Symbol")["$==="](W)||c.$raise(st(Ce,"TypeError"),W.$inspect()+" is not a Symbol"),oe=W,t=void 0),c.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments);t=void 0!==t?t.$__send__(oe,s):s}),c.$each(),t??F},Bt.$$arity=-1),r.def(De,"$lazy",Ut=function(){var W;return J(ke(st(Ce,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(W=function(b,_){var t;return null==b&&(b=F),t=r.slice.call(arguments,1,arguments.length),J(b,"yield",r.to_a(t))},W.$$s=this,W.$$arity=-2,W))},Ut.$$arity=0),r.def(De,"$enumerator_size",Vt=function(){return ve(this["$respond_to?"]("size"))?this.$size():F},Vt.$$arity=0),r.alias(De,"map","collect"),r.def(De,"$max",Jt=function(W){var c,t,oe=Jt.$$p,b=oe||F,_=this;return oe&&(Jt.$$p=null),oe&&(Jt.$$p=null),void 0===W||W===F?(_.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments);void 0!==c?((t=b!==F?r.yieldX(b,[s,c]):s["$<=>"](c))===F&&_.$raise(st(Ce,"ArgumentError"),"comparison failed"),t>0&&(c=s)):c=s},_.$each(),void 0===c?F:c):(W=st(Ce,"Opal").$coerce_to(W,st(Ce,"Integer"),"to_int"),J(_,"sort",[],b.$to_proc()).$reverse().$first(W))},Jt.$$arity=-1),r.def(De,"$max_by",Kt=function(){var b,c,t,W=Kt.$$p,oe=W||F,_=this;return W&&(Kt.$$p=null),W&&(Kt.$$p=null),ve(oe)?(_.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments),i=r.yield1(oe,s);if(void 0===c)return c=s,void(t=i);i["$<=>"](t)>0&&(c=s,t=i)},_.$each(),void 0===c?F:c):J(_,"enum_for",["max_by"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b))},Kt.$$arity=0),r.alias(De,"member?","include?"),r.def(De,"$min",Wt=function(){var _,W=Wt.$$p,oe=W||F,b=this;return W&&(Wt.$$p=null),W&&(Wt.$$p=null),b.$each.$$p=oe!==F?function(){var c=st(Ce,"Opal").$destructure(arguments);if(void 0!==_){var t=oe(c,_);t===F&&b.$raise(st(Ce,"ArgumentError"),"comparison failed"),t<0&&(_=c)}else _=c}:function(){var c=st(Ce,"Opal").$destructure(arguments);void 0!==_?st(Ce,"Opal").$compare(c,_)<0&&(_=c):_=c},b.$each(),void 0===_?F:_},Wt.$$arity=0),r.def(De,"$min_by",Qt=function(){var b,c,t,W=Qt.$$p,oe=W||F,_=this;return W&&(Qt.$$p=null),W&&(Qt.$$p=null),ve(oe)?(_.$each.$$p=function(){var s=st(Ce,"Opal").$destructure(arguments),i=r.yield1(oe,s);if(void 0===c)return c=s,void(t=i);i["$<=>"](t)<0&&(c=s,t=i)},_.$each(),void 0===c?F:c):J(_,"enum_for",["min_by"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b))},Qt.$$arity=0),r.def(De,"$minmax",$r=function(){var b,_,W=$r.$$p,oe=W||F,c=this;W&&($r.$$p=null),W&&($r.$$p=null),oe=ve(b=oe)?b:J(c,"proc",[],((_=function(j,h){return null==j&&(j=F),null==h&&(h=F),j["$<=>"](h)}).$$s=c,_.$$arity=2,_));var t=F,s=F,i=!0;return c.$each.$$p=function(){var j=st(Ce,"Opal").$destructure(arguments);if(i)t=s=j,i=!1;else{var h=oe.$call(t,j);h===F?c.$raise(st(Ce,"ArgumentError"),"comparison failed"):h>0&&(t=j);var g=oe.$call(s,j);g===F?c.$raise(st(Ce,"ArgumentError"),"comparison failed"):g<0&&(s=j)}},c.$each(),[t,s]},$r.$$arity=0),r.def(De,"$minmax_by",Ot=function(){var W=Ot.$$p;return W&&(Ot.$$p=null),W&&(Ot.$$p=null),this.$raise(st(Ce,"NotImplementedError"))},Ot.$$arity=0),r.def(De,"$none?",Xt=function(y){try{var b,_,c,W=Xt.$$p,oe=W||F,t=this;return W&&(Xt.$$p=null),W&&(Xt.$$p=null),ve(void 0!==y)?J(t,"each",[],(b=function(s){var g=F;if(g=n(r.slice.call(arguments,0,arguments.length)),!ve(J(y,"public_send",["==="].concat(r.to_a(g)))))return F;r.ret(!1)},b.$$s=t,b.$$arity=-1,b)):J(t,"each",[],oe!==F?(_=function(s){var j;if(j=r.slice.call(arguments,0,arguments.length),!ve(r.yieldX(oe,r.to_a(j))))return F;r.ret(!1)},_.$$s=t,_.$$arity=-1,_):(c=function(s){var h,g=F;if(h=r.slice.call(arguments,0,arguments.length),g=st(Ce,"Opal").$destructure(h),!ve(g))return F;r.ret(!1)},c.$$s=t,c.$$arity=-1,c)),!0}catch(s){if(s===r.returner)return s.$v;throw s}},Xt.$$arity=-1),r.def(De,"$one?",Ht=function(y){try{var b,_,c,W=Ht.$$p,oe=W||F,t=this,s=F;return W&&(Ht.$$p=null),W&&(Ht.$$p=null),s=0,ve(void 0!==y)?J(t,"each",[],(b=function(i){var w=F;return w=n(r.slice.call(arguments,0,arguments.length)),ve(J(y,"public_send",["==="].concat(r.to_a(w))))?(s=Be(s,1),ve(Ne(s,1))?void r.ret(!1):F):F},b.$$s=t,b.$$arity=-1,b)):J(t,"each",[],oe!==F?(_=function(i){var h;return h=r.slice.call(arguments,0,arguments.length),ve(r.yieldX(oe,r.to_a(h)))?(s=Be(s,1),ve(Ne(s,1))?void r.ret(!1):F):F},_.$$s=t,_.$$arity=-1,_):(c=function(i){var g;return g=r.slice.call(arguments,0,arguments.length),ve(st(Ce,"Opal").$destructure(g))?(s=Be(s,1),ve(Ne(s,1))?void r.ret(!1):F):F},c.$$s=t,c.$$arity=-1,c)),s["$=="](1)}catch(i){if(i===r.returner)return i.$v;throw i}},Ht.$$arity=-1),r.def(De,"$partition",er=function(){var b,W=er.$$p,oe=W||F,_=this;if(W&&(er.$$p=null),W&&(er.$$p=null),oe===F)return J(_,"enum_for",["partition"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b));var c=[],t=[];return _.$each.$$p=function(){var i=st(Ce,"Opal").$destructure(arguments),j=r.yield1(oe,i);ve(j)?c.push(i):t.push(i)},_.$each(),[c,t]},er.$$arity=0),r.alias(De,"reduce","inject"),r.def(De,"$reject",ar=function(){var b,W=ar.$$p,oe=W||F,_=this;if(W&&(ar.$$p=null),W&&(ar.$$p=null),oe===F)return J(_,"enum_for",["reject"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=st(Ce,"Opal").$destructure(arguments),s=r.yield1(oe,t);G(s)&&c.push(t)},_.$each(),c},ar.$$arity=0),r.def(De,"$reverse_each",or=function(){var b,W=or.$$p,oe=W||F,_=this;if(W&&(or.$$p=null),W&&(or.$$p=null),oe===F)return J(_,"enum_for",["reverse_each"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=_,b.$$arity=0,b));var c=[];_.$each.$$p=function(){c.push(arguments)},_.$each();for(var t=c.length-1;t>=0;t--)r.yieldX(oe,c[t]);return c},or.$$arity=0),r.alias(De,"select","find_all"),r.def(De,"$slice_before",cr=function(W){var _,oe=cr.$$p,b=oe||F,c=this;return oe&&(cr.$$p=null),oe&&(cr.$$p=null),ve(void 0===W&&b===F)&&c.$raise(st(Ce,"ArgumentError"),"both pattern and block are given"),ve(void 0!==W&&b!==F||arguments.length>1)&&c.$raise(st(Ce,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),J(st(Ce,"Enumerator"),"new",[],(_=function(t){var s=_.$$s||this;null==t&&(t=F);var i=[];s.$each.$$p=b!==F?void 0===W?function(){var j=st(Ce,"Opal").$destructure(arguments),h=r.yield1(b,j);ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)}:function(){var j=st(Ce,"Opal").$destructure(arguments),h=b(j,W.$dup());ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)}:function(){var j=st(Ce,"Opal").$destructure(arguments),h=W["$==="](j);ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)},s.$each(),i.length>0&&t["$<<"](i)},_.$$s=c,_.$$arity=1,_))},cr.$$arity=-1),r.def(De,"$slice_after",e=function(W){var _,c,oe=e.$$p,b=oe||F,t=this;return oe&&(e.$$p=null),oe&&(e.$$p=null),ve(void 0===W&&b===F)&&t.$raise(st(Ce,"ArgumentError"),"both pattern and block are given"),ve(void 0!==W&&b!==F||arguments.length>1)&&t.$raise(st(Ce,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ve(void 0!==W)&&(b=J(t,"proc",[],((_=function(s){return null==s&&(s=F),W["$==="](s)}).$$s=t,_.$$arity=1,_))),J(st(Ce,"Enumerator"),"new",[],(c=function(s){var j,i=c.$$s||this;null==s&&(s=F),i.$each.$$p=function(){var h=st(Ce,"Opal").$destructure(arguments),g=r.yield1(b,h);null==j&&(j=[]),ve(g)?(j.push(h),s.$yield(j),j=null):j.push(h)},i.$each(),null!=j&&s.$yield(j)},c.$$s=t,c.$$arity=1,c))},e.$$arity=-1),r.def(De,"$slice_when",l=function(){var b,W=l.$$p,oe=W||F;return W&&(l.$$p=null),W&&(l.$$p=null),oe!==F||this.$raise(st(Ce,"ArgumentError"),"wrong number of arguments (0 for 1)"),J(st(Ce,"Enumerator"),"new",[],(b=function(c){var t=b.$$s||this;null==c&&(c=F);var s=F,i=F;t.$each_cons.$$p=function(){var j=st(Ce,"Opal").$destructure(arguments),h=j[0],g=j[1],w=r.yieldX(oe,[h,g]);i=g,s===F&&(s=[]),ve(w)?(s.push(h),c.$yield(s),s=[]):s.push(h)},t.$each_cons(2),s!==F&&(s.push(i),c.$yield(s))},b.$$s=this,b.$$arity=1,b))},l.$$arity=0),r.def(De,"$sort",O=function(){var b,c,W=O.$$p,oe=W||F;return W&&(O.$$p=null),W&&(O.$$p=null),c=this.$to_a(),oe!==F||(oe=ft(((b=function(t,s){return null==t&&(t=F),null==s&&(s=F),t["$<=>"](s)}).$$s=this,b.$$arity=2,b))),J(c,"sort",[],oe.$to_proc())},O.$$arity=0),r.def(De,"$sort_by",xe=function(){var b,_,c,t,W=xe.$$p,oe=W||F,s=this,i=F;return W&&(xe.$$p=null),W&&(xe.$$p=null),oe===F?J(s,"enum_for",["sort_by"],((b=function(){return(b.$$s||this).$enumerator_size()}).$$s=s,b.$$arity=0,b)):(i=J(s,"map",[],(_=function(){var h=F;return h=st(Ce,"Opal").$destructure(arguments),[r.yield1(oe,h),h]},_.$$s=s,_.$$arity=0,_)),J(i,"sort!",[],((c=function(j,h){return null==j&&(j=F),null==h&&(h=F),j[0]["$<=>"](h[0])}).$$s=s,c.$$arity=2,c)),J(i,"map!",[],((t=function(j){return null==j&&(j=F),j[1]}).$$s=s,t.$$arity=1,t)))},xe.$$arity=0),r.def(De,"$sum",Xe=function(W){var oe,b=Xe.$$p,_=b||F,t=F;return b&&(Xe.$$p=null),null==W&&(W=0),t=W,J(this,"each",[],(oe=function(s){var h,g=F;return h=r.slice.call(arguments,0,arguments.length),g=_!==F?r.yieldX(_,r.to_a(h)):st(Ce,"Opal").$destructure(h),t=Be(t,g)},oe.$$s=this,oe.$$arity=-1,oe)),t},Xe.$$arity=-1),r.def(De,"$take",ie=function(W){return this.$first(W)},ie.$$arity=1),r.def(De,"$take_while",A=function(){try{var b,W=A.$$p,oe=W||F,_=this,c=F;return W&&(A.$$p=null),W&&(A.$$p=null),ve(oe)?(c=[],J(_,"each",[],(b=function(t){var j,h=F;return j=r.slice.call(arguments,0,arguments.length),h=st(Ce,"Opal").$destructure(j),ve(r.yield1(oe,h))||r.ret(c),c.push(h)},b.$$s=_,b.$$arity=-1,b))):_.$enum_for("take_while")}catch(t){if(t===r.returner)return t.$v;throw t}},A.$$arity=0),r.def(De,"$uniq",$e=function(){var b,W=$e.$$p,oe=W||F,c=F;return W&&($e.$$p=null),W&&($e.$$p=null),c=Ve([],{}),J(this,"each",[],(b=function(t){var j,h=F,g=F,w=F;return j=r.slice.call(arguments,0,arguments.length),h=st(Ce,"Opal").$destructure(j),g=oe!==F?r.yield1(oe,h):h,ve(c["$key?"](g))?F:(J(c,"[]=",r.to_a(w=[g,h])),w[he(w.length,1)])},b.$$s=this,b.$$arity=-1,b)),c.$values()},$e.$$arity=0),r.alias(De,"to_a","entries"),r.def(De,"$zip",$=function(W){var c,oe=$.$$p,t=this;return oe&&($.$$p=null),oe&&($.$$p=null),c=r.slice.call(arguments,0,arguments.length),J(t.$to_a(),"zip",r.to_a(c))},$.$$arity=-1)}(Gt[0],Gt)},Opal.modules["corelib/enumerator"]=function(r){function Ne(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt+Oe:zt["$+"](Oe)}function Je(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt<Oe:zt["$<"](Oe)}var ve,Ve,ft,Ye,pe,De,Ce,At,St,Rt,ht,pt,J,G,Ze=r.top,Be=[],he=r.nil,Re=r.const_get_relative,R=r.breaker,Gt=r.slice,F=r.klass,ke=r.truthy,st=r.send,Ge=r.falsy;return r.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),Ze.$require("corelib/enumerable"),ve=Be,J=F(Be[0],null,"Enumerator"),G=[J].concat(ve),J.$$prototype.size=J.$$prototype.args=J.$$prototype.object=J.$$prototype.method=he,J.$include(Re(G,"Enumerable")),J.$$prototype.$$is_enumerator=!0,r.defs(J,"$for",Ve=function(lt,xt,At){var St,Rt,Et,ht=Ve.$$p,pt=ht||he,Ft=this;ht&&(Ve.$$p=null),ht&&(Ve.$$p=null),(St=r.slice.call(arguments,1,arguments.length)).length>0&&(Rt=St[0],St.splice(0,1)),null==Rt&&(Rt="each"),Et=St;var qt=Ft.$allocate();return qt.object=lt,qt.size=pt,qt.method=Rt,qt.args=Et,qt},Ve.$$arity=-2),r.def(J,"$initialize",ft=function(xt){var At=ft.$$p,ht=At||he,St=this;return At&&(ft.$$p=null),At&&(ft.$$p=null),r.slice.call(arguments,0,arguments.length),ke(ht)?(St.object=st(Re(G,"Generator"),"new",[],ht.$to_proc()),St.method="each",St.args=[],St.size=arguments[0]||he,ke(St.size)?St.size=Re(G,"Opal").$coerce_to(St.size,Re(G,"Integer"),"to_int"):he):(St.object=arguments[0],St.method=arguments[1]||"each",St.args=Gt.call(arguments,2),St.size=he)},ft.$$arity=-1),r.def(J,"$each",Ye=function(xt){var St,Rt,At=Ye.$$p,ht=At||he,Et=this;return At&&(Ye.$$p=null),At&&(Ye.$$p=null),St=r.slice.call(arguments,0,arguments.length),ke(ke(Rt=ht["$nil?"]())?St["$empty?"]():Rt)?Et:(St=Ne(Et.args,St),ke(ht["$nil?"]())?st(Et.$class(),"new",[Et.object,Et.method].concat(r.to_a(St))):st(Et.object,"__send__",[Et.method].concat(r.to_a(St)),ht.$to_proc()))},Ye.$$arity=-1),r.def(J,"$size",pe=function(){return ke(Re(G,"Proc")["$==="](this.size))?st(this.size,"call",r.to_a(this.args)):this.size},pe.$$arity=0),r.def(J,"$with_index",De=function(xt){var pt,At=De.$$p,ht=At||he;if(At&&(De.$$p=null),At&&(De.$$p=null),null==xt&&(xt=0),xt=ke(xt)?Re(G,"Opal").$coerce_to(xt,Re(G,"Integer"),"to_int"):0,!ke(ht))return st(this,"enum_for",["with_index",xt],((pt=function(){return(pt.$$s||this).$size()}).$$s=this,pt.$$arity=0,pt));var Et=xt;return this.$each.$$p=function(){var Ft=Re(G,"Opal").$destructure(arguments),qt=ht(Ft,Et);return Et++,qt},this.$each()},De.$$arity=-1),r.alias(J,"with_object","each_with_object"),r.def(J,"$inspect",Ce=function(){var xt=this,At=he;return At="#<"+xt.$class()+": "+xt.object.$inspect()+":"+xt.method,ke(xt.args["$any?"]())&&(At=Ne(At,"("+xt.args.$inspect()["$[]"](Re(G,"Range").$new(1,-2))+")")),Ne(At,">")},Ce.$$arity=0),At=G,ht=F(G[0],null,"Generator"),pt=[ht].concat(At),ht.$$prototype.block=he,ht.$include(Re(pt,"Enumerable")),r.def(ht,"$initialize",St=function(){var Ft=St.$$p,qt=Ft||he;return Ft&&(St.$$p=null),Ft&&(St.$$p=null),ke(qt)||this.$raise(Re(pt,"LocalJumpError"),"no block given"),this.block=qt},St.$$arity=0),r.def(ht,"$each",Rt=function(Ft){var Pt,qt=Rt.$$p,Ct=qt||he,Mt=this,jt=he;qt&&(Rt.$$p=null),qt&&(Rt.$$p=null),Pt=r.slice.call(arguments,0,arguments.length),jt=st(Re(pt,"Yielder"),"new",[],Ct.$to_proc());try{Pt.unshift(jt),r.yieldX(Mt.block,Pt)}catch(D){if(D===R)return R.$v;throw D}return Mt},Rt.$$arity=-1),function(lt,xt,At){var St,Rt,Et,ht=F(lt,null,"Yielder");[ht].concat(At),ht.$$prototype.block=he,r.def(ht,"$initialize",St=function(){var qt=St.$$p,Ct=qt||he;return qt&&(St.$$p=null),qt&&(St.$$p=null),this.block=Ct},St.$$arity=0),r.def(ht,"$yield",Rt=function(Ft){var qt,It=this;qt=r.slice.call(arguments,0,arguments.length);var Pt=r.yieldX(It.block,qt);if(Pt===R)throw R;return Pt},Rt.$$arity=-1),r.def(ht,"$<<",Et=function(Ft){var qt,It=this;return qt=r.slice.call(arguments,0,arguments.length),st(It,"yield",r.to_a(qt)),It},Et.$$arity=-1)}(G[0],0,G),function(lt,xt,At){var St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,ht=F(lt,xt,"Lazy"),pt=[ht].concat(At);return ht.$$prototype.enumerator=he,ge=pt[0],Le=Re(pt,"Exception"),Ue=pt,[F(ge,Le,"StopLazyError")].concat(Ue),r.def(ht,"$initialize",St=function(Le,Ue){var Nt,qe=St.$$p,wt=qe||he,Bt=this;return qe&&(St.$$p=null),qe&&(St.$$p=null),null==Ue&&(Ue=he),wt!==he||Bt.$raise(Re(pt,"ArgumentError"),"tried to call lazy new without a block"),Bt.enumerator=Le,st(Bt,r.find_super_dispatcher(Bt,"initialize",St,!1),[Ue],(Nt=function(Ut,Vt){var Wt,Qt,Jt=Nt.$$s||this;null==Ut&&(Ut=he),Wt=r.slice.call(arguments,1,arguments.length);try{return st(Le,"each",r.to_a(Wt),(Qt=function($r){var Ht;(Ht=r.slice.call(arguments,0,arguments.length)).unshift(Ut),r.yieldX(wt,Ht)},Qt.$$s=Jt,Qt.$$arity=-1,Qt))}catch($r){if(!r.rescue($r,[Re(pt,"Exception")]))throw $r;try{return he}finally{r.pop_exception()}}},Nt.$$s=Bt,Nt.$$arity=-2,Nt))},St.$$arity=-2),r.alias(ht,"force","to_a"),r.def(ht,"$lazy",Rt=function(){return this},Rt.$$arity=0),r.def(ht,"$collect",Et=function(){var qe,Le=Et.$$p,Ue=Le||he;return Le&&(Et.$$p=null),Le&&(Et.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy map without a block"),st(Re(pt,"Lazy"),"new",[this,this.$enumerator_size()],(qe=function(Nt,Bt){var Vt;null==Nt&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length);var Kt=r.yieldX(Ue,Vt);Nt.$yield(Kt)},qe.$$s=this,qe.$$arity=-2,qe))},Et.$$arity=0),r.def(ht,"$collect_concat",Ft=function(){var qe,Le=Ft.$$p,Ue=Le||he;return Le&&(Ft.$$p=null),Le&&(Ft.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy map without a block"),st(Re(pt,"Lazy"),"new",[this,he],(qe=function(Nt,Bt){var Vt,Kt,Wt,Ut=qe.$$s||this;null==Nt&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length);var Qt=r.yieldX(Ue,Vt);if(Qt["$respond_to?"]("force")&&Qt["$respond_to?"]("each"))st(Qt,"each",[],((Kt=function(Ot){return null==Ot&&(Ot=he),Nt.$yield(Ot)}).$$s=Ut,Kt.$$arity=1,Kt));else{var $r=Re(pt,"Opal").$try_convert(Qt,Re(pt,"Array"),"to_ary");$r===he?Nt.$yield(Qt):st(Qt,"each",[],((Wt=function(Ot){return null==Ot&&(Ot=he),Nt.$yield(Ot)}).$$s=Ut,Wt.$$arity=1,Wt))}},qe.$$s=this,qe.$$arity=-2,qe))},Ft.$$arity=0),r.def(ht,"$drop",qt=function(Le){var Ue,wt,Nt,Bt=he;return Le=Re(pt,"Opal").$coerce_to(Le,Re(pt,"Integer"),"to_int"),ke(Je(Le,0))&&this.$raise(Re(pt,"ArgumentError"),"attempt to drop negative size"),wt=this.$enumerator_size(),Nt=ke(Re(pt,"Integer")["$==="](wt))&&ke(Je(Le,wt))?Le:wt,Bt=0,st(Re(pt,"Lazy"),"new",[this,Nt],(Ue=function(Ut,Vt){var Wt;return null==Ut&&(Ut=he),Wt=r.slice.call(arguments,1,arguments.length),ke(Je(Bt,Le))?Bt=Ne(Bt,1):st(Ut,"yield",r.to_a(Wt))},Ue.$$s=this,Ue.$$arity=-2,Ue))},qt.$$arity=1),r.def(ht,"$drop_while",Ct=function(){var qe,Le=Ct.$$p,Ue=Le||he,Nt=he;return Le&&(Ct.$$p=null),Le&&(Ct.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy drop_while without a block"),Nt=!0,st(Re(pt,"Lazy"),"new",[this,he],(qe=function(Bt,Ut){var Kt;if(null==Bt&&(Bt=he),Kt=r.slice.call(arguments,1,arguments.length),!ke(Nt))return st(Bt,"yield",r.to_a(Kt));var Wt=r.yieldX(Ue,Kt);Ge(Wt)&&(Nt=!1,st(Bt,"yield",r.to_a(Kt)))},qe.$$s=this,qe.$$arity=-2,qe))},Ct.$$arity=0),r.def(ht,"$enum_for",It=function(Le,Ue){var Nt,Bt,Ut,qe=It.$$p,wt=qe||he,Vt=this;return qe&&(It.$$p=null),qe&&(It.$$p=null),(Nt=r.slice.call(arguments,0,arguments.length)).length>0&&(Bt=Nt[0],Nt.splice(0,1)),null==Bt&&(Bt="each"),Ut=Nt,st(Vt.$class(),"for",[Vt,Bt].concat(r.to_a(Ut)),wt.$to_proc())},It.$$arity=-1),r.def(ht,"$find_all",Pt=function(){var qe,Le=Pt.$$p,Ue=Le||he;return Le&&(Pt.$$p=null),Le&&(Pt.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy select without a block"),st(Re(pt,"Lazy"),"new",[this,he],(qe=function(Nt,Bt){var Vt,Jt;null==Nt&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length);var Kt=r.yieldX(Ue,Jt=Vt);ke(Kt)&&st(Nt,"yield",r.to_a(Jt))},qe.$$s=this,qe.$$arity=-2,qe))},Pt.$$arity=0),r.alias(ht,"flat_map","collect_concat"),r.def(ht,"$grep",Mt=function(Le){var wt,Nt,Ue=Mt.$$p,qe=Ue||he;return Ue&&(Mt.$$p=null),Ue&&(Mt.$$p=null),ke(qe)?st(Re(pt,"Lazy"),"new",[this,he],(wt=function(Ut,Vt){var Wt;null==Ut&&(Ut=he),Wt=r.slice.call(arguments,1,arguments.length);var Qt=Re(pt,"Opal").$destructure(Wt),$r=Le["$==="](Qt);ke($r)&&($r=r.yield1(qe,Qt),Ut.$yield(r.yield1(qe,Qt)))},wt.$$s=this,wt.$$arity=-2,wt)):st(Re(pt,"Lazy"),"new",[this,he],(Nt=function(Ut,Vt){var Wt;null==Ut&&(Ut=he),Wt=r.slice.call(arguments,1,arguments.length);var Qt=Re(pt,"Opal").$destructure(Wt),$r=Le["$==="](Qt);ke($r)&&Ut.$yield(Qt)},Nt.$$s=this,Nt.$$arity=-2,Nt))},Mt.$$arity=1),r.alias(ht,"map","collect"),r.alias(ht,"select","find_all"),r.def(ht,"$reject",jt=function(){var qe,Le=jt.$$p,Ue=Le||he;return Le&&(jt.$$p=null),Le&&(jt.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy reject without a block"),st(Re(pt,"Lazy"),"new",[this,he],(qe=function(Nt,Bt){var Vt,Jt;null==Nt&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length);var Kt=r.yieldX(Ue,Jt=Vt);Ge(Kt)&&st(Nt,"yield",r.to_a(Jt))},qe.$$s=this,qe.$$arity=-2,qe))},jt.$$arity=0),r.def(ht,"$take",D=function(Le){var Ue,wt,Nt,Bt=he;return Le=Re(pt,"Opal").$coerce_to(Le,Re(pt,"Integer"),"to_int"),ke(Je(Le,0))&&this.$raise(Re(pt,"ArgumentError"),"attempt to take negative size"),wt=this.$enumerator_size(),Nt=ke(Re(pt,"Integer")["$==="](wt))&&ke(Je(Le,wt))?Le:wt,Bt=0,st(Re(pt,"Lazy"),"new",[this,Nt],(Ue=function(Ut,Vt){var Wt,Jt=Ue.$$s||this;return null==Ut&&(Ut=he),Wt=r.slice.call(arguments,1,arguments.length),ke(Je(Bt,Le))?(st(Ut,"yield",r.to_a(Wt)),Bt=Ne(Bt,1)):Jt.$raise(Re(pt,"StopLazyError"))},Ue.$$s=this,Ue.$$arity=-2,Ue))},D.$$arity=1),r.def(ht,"$take_while",se=function(){var qe,Le=se.$$p,Ue=Le||he;return Le&&(se.$$p=null),Le&&(se.$$p=null),ke(Ue)||this.$raise(Re(pt,"ArgumentError"),"tried to call lazy take_while without a block"),st(Re(pt,"Lazy"),"new",[this,he],(qe=function(Nt,Bt){var Vt,Jt,Ut=qe.$$s||this;null==Nt&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length);var Kt=r.yieldX(Ue,Jt=Vt);ke(Kt)?st(Nt,"yield",r.to_a(Jt)):Ut.$raise(Re(pt,"StopLazyError"))},qe.$$s=this,qe.$$arity=-2,qe))},se.$$arity=0),r.alias(ht,"to_enum","enum_for"),r.def(ht,"$inspect",ue=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},ue.$$arity=0),he&&"inspect"}(G[0],J,G)},Opal.modules["corelib/numeric"]=function(r){function Ne(ve,J){return"number"==typeof ve&&"number"==typeof J?ve-J:ve["$-"](J)}function Je(ve,J){return"number"==typeof ve&&"number"==typeof J?ve*J:ve["$*"](J)}function Ze(ve,J){return"number"==typeof ve&&"number"==typeof J?ve<J:ve["$<"](J)}function Be(ve,J){return"number"==typeof ve&&"number"==typeof J?ve/J:ve["$/"](J)}var G,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Ve,ft,gt=r.top,Re=[],R=r.nil,Gt=r.const_get_qualified,F=r.const_get_relative,Ge=r.klass,zt=r.truthy,Oe=r.hash2;return r.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),gt.$require("corelib/comparable"),G=Re,Ve=Ge(Re[0],null,"Numeric"),ft=[Ve].concat(G),Ve.$include(F(ft,"Comparable")),r.def(Ve,"$coerce",Ye=function(Ht){var er=this;return zt(Ht["$instance_of?"](er.$class()))?[Ht,er]:[er.$Float(Ht),er.$Float(er)]},Ye.$$arity=1),r.def(Ve,"$__coerced__",pe=function(Ht,er){var ar,or,O=R;return zt(er["$respond_to?"]("coerce"))?(or=er.$coerce(this),((ar=r.to_ary(or))[0]??R).$__send__(Ht,ar[1]??R)):"+"["$==="](O=Ht)||"-"["$==="](O)||"*"["$==="](O)||"/"["$==="](O)||"%"["$==="](O)||"&"["$==="](O)||"|"["$==="](O)||"^"["$==="](O)||"**"["$==="](O)?this.$raise(F(ft,"TypeError"),er.$class()+" can't be coerced into Numeric"):">"["$==="](O)||">="["$==="](O)||"<"["$==="](O)||"<="["$==="](O)||"<=>"["$==="](O)?this.$raise(F(ft,"ArgumentError"),"comparison of "+this.$class()+" with "+er.$class()+" failed"):R},pe.$$arity=2),r.def(Ve,"$<=>",De=function(Xt){return zt(this["$equal?"](Xt))?0:R},De.$$arity=1),r.def(Ve,"$+@",Ce=function(){return this},Ce.$$arity=0),r.def(Ve,"$-@",lt=function(){return Ne(0,this)},lt.$$arity=0),r.def(Ve,"$%",xt=function(Xt){return Ne(this,Je(Xt,this.$div(Xt)))},xt.$$arity=1),r.def(Ve,"$abs",At=function(){return Ze(this,0)?this["$-@"]():this},At.$$arity=0),r.def(Ve,"$abs2",ht=function(){return Je(this,this)},ht.$$arity=0),r.def(Ve,"$angle",pt=function(){return Ze(this,0)?Gt(F(ft,"Math"),"PI"):0},pt.$$arity=0),r.alias(Ve,"arg","angle"),r.def(Ve,"$ceil",St=function(Ht){return null==Ht&&(Ht=0),this.$to_f().$ceil(Ht)},St.$$arity=-1),r.def(Ve,"$conj",Rt=function(){return this},Rt.$$arity=0),r.alias(Ve,"conjugate","conj"),r.def(Ve,"$denominator",Et=function(){return this.$to_r().$denominator()},Et.$$arity=0),r.def(Ve,"$div",Ft=function(Ht){return Ht["$=="](0)&&this.$raise(F(ft,"ZeroDivisionError"),"divided by o"),Be(this,Ht).$floor()},Ft.$$arity=1),r.def(Ve,"$divmod",qt=function(Ht){return[this.$div(Ht),this["$%"](Ht)]},qt.$$arity=1),r.def(Ve,"$fdiv",Ct=function(Ht){return Be(this.$to_f(),Ht)},Ct.$$arity=1),r.def(Ve,"$floor",It=function(Ht){return null==Ht&&(Ht=0),this.$to_f().$floor(Ht)},It.$$arity=-1),r.def(Ve,"$i",Pt=function(){return this.$Complex(0,this)},Pt.$$arity=0),r.def(Ve,"$imag",Mt=function(){return 0},Mt.$$arity=0),r.alias(Ve,"imaginary","imag"),r.def(Ve,"$integer?",jt=function(){return!1},jt.$$arity=0),r.alias(Ve,"magnitude","abs"),r.alias(Ve,"modulo","%"),r.def(Ve,"$nonzero?",D=function(){return zt(this["$zero?"]())?R:this},D.$$arity=0),r.def(Ve,"$numerator",se=function(){return this.$to_r().$numerator()},se.$$arity=0),r.alias(Ve,"phase","arg"),r.def(Ve,"$polar",ue=function(){return[this.$abs(),this.$arg()]},ue.$$arity=0),r.def(Ve,"$quo",ge=function(Ht){return Be(F(ft,"Opal")["$coerce_to!"](this,F(ft,"Rational"),"to_r"),Ht)},ge.$$arity=1),r.def(Ve,"$real",Le=function(){return this},Le.$$arity=0),r.def(Ve,"$real?",Ue=function(){return!0},Ue.$$arity=0),r.def(Ve,"$rect",qe=function(){return[this,0]},qe.$$arity=0),r.alias(Ve,"rectangular","rect"),r.def(Ve,"$round",wt=function(Ht){return this.$to_f().$round(Ht)},wt.$$arity=-1),r.def(Ve,"$to_c",Nt=function(){return this.$Complex(this,0)},Nt.$$arity=0),r.def(Ve,"$to_int",Bt=function(){return this.$to_i()},Bt.$$arity=0),r.def(Ve,"$truncate",Ut=function(Ht){return null==Ht&&(Ht=0),this.$to_f().$truncate(Ht)},Ut.$$arity=-1),r.def(Ve,"$zero?",Vt=function(){return this["$=="](0)},Vt.$$arity=0),r.def(Ve,"$positive?",Jt=function(){return function he(ve,J){return"number"==typeof ve&&"number"==typeof J?ve>J:ve["$>"](J)}(this,0)},Jt.$$arity=0),r.def(Ve,"$negative?",Kt=function(){return Ze(this,0)},Kt.$$arity=0),r.def(Ve,"$dup",Wt=function(){return this},Wt.$$arity=0),r.def(Ve,"$clone",Qt=function(Ht){if(null==Ht)Ht=Oe([],{});else if(!Ht.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return this},Qt.$$arity=-1),r.def(Ve,"$finite?",$r=function(){return!0},$r.$$arity=0),r.def(Ve,"$infinite?",Ot=function(){return R},Ot.$$arity=0),R&&"infinite?"},Opal.modules["corelib/array"]=function(r){function Ne(G,Ve){return"number"==typeof G&&"number"==typeof Ve?G>Ve:G["$>"](Ve)}var gt=r.top,Re=[],R=r.nil,Gt=r.const_get_qualified,F=r.const_get_relative,Ge=r.klass,zt=r.truthy,Oe=r.hash2,ve=r.send,J=r.gvars;return r.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),gt.$require("corelib/enumerable"),gt.$require("corelib/numeric"),function(G,Ve,ft){var De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,v,P,de,I,U,Ye=Ge(G,Array,"Array"),pe=[Ye].concat(ft);function tt(K,u){return u.$$name===r.Array?K:u.$allocate().$replace(K.$to_a())}function yt(K,u){return K===u||0===u?1:u>0&&K>u?yt(K-1,u-1)+yt(K-1,u):0}return Ye.$include(F(pe,"Enumerable")),r.defineProperty(Ye.$$prototype,"$$is_array",!0),r.defs(Ye,"$[]",De=function(K){var I=this;return tt(r.slice.call(arguments,0,arguments.length),I)},De.$$arity=-1),r.def(Ye,"$initialize",Ce=function(u,v){var de,be,I=Ce.$$p,U=I||R,P=this;if(I&&(Ce.$$p=null),I&&(Ce.$$p=null),null==u&&(u=R),null==v&&(v=R),v!==R&&U!==R&&P.$warn("warning: block supersedes default value argument"),u>Gt(F(pe,"Integer"),"MAX")&&P.$raise(F(pe,"ArgumentError"),"array size too big"),arguments.length>2&&P.$raise(F(pe,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return P.splice(0,P.length),P;if(1===arguments.length){if(u.$$is_array)return P.$replace(u.$to_a()),P;if(u["$respond_to?"]("to_ary"))return P.$replace(u.$to_ary()),P}if((u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&P.$raise(F(pe,"ArgumentError"),"negative array size"),P.splice(0,P.length),U===R)for(de=0;de<u;de++)P.push(v);else for(de=0;de<u;de++)be=U(de),P[de]=be;return P},Ce.$$arity=-1),r.defs(Ye,"$try_convert",lt=function(u){return F(pe,"Opal")["$coerce_to?"](u,F(pe,"Array"),"to_ary")},lt.$$arity=1),r.def(Ye,"$&",xt=function(K){K=zt(F(pe,"Array")["$==="](K))?K.$to_a():F(pe,"Opal").$coerce_to(K,F(pe,"Array"),"to_ary").$to_a();var U,P,de,v=[],I=Oe([],{});for(U=0,P=K.length;U<P;U++)r.hash_put(I,K[U],!0);for(U=0,P=this.length;U<P;U++)void 0!==r.hash_delete(I,de=this[U])&&v.push(de);return v},xt.$$arity=1),r.def(Ye,"$|",At=function(K){K=zt(F(pe,"Array")["$==="](K))?K.$to_a():F(pe,"Opal").$coerce_to(K,F(pe,"Array"),"to_ary").$to_a();var I,U,v=Oe([],{});for(I=0,U=this.length;I<U;I++)r.hash_put(v,this[I],!0);for(I=0,U=K.length;I<U;I++)r.hash_put(v,K[I],!0);return v.$keys()},At.$$arity=1),r.def(Ye,"$*",ht=function(K){var u=this;if(zt(K["$respond_to?"]("to_str")))return u.$join(K.$to_str());K=F(pe,"Opal").$coerce_to(K,F(pe,"Integer"),"to_int"),zt(K<0)&&u.$raise(F(pe,"ArgumentError"),"negative argument");for(var v=[],I=u.$to_a(),U=0;U<K;U++)v=v.concat(I);return tt(v,u.$class())},ht.$$arity=1),r.def(Ye,"$+",pt=function(K){return K=zt(F(pe,"Array")["$==="](K))?K.$to_a():F(pe,"Opal").$coerce_to(K,F(pe,"Array"),"to_ary").$to_a(),this.concat(K)},pt.$$arity=1),r.def(Ye,"$-",St=function(K){var u=this;if(K=zt(F(pe,"Array")["$==="](K))?K.$to_a():F(pe,"Opal").$coerce_to(K,F(pe,"Array"),"to_ary").$to_a(),zt(0===u.length))return[];if(zt(0===K.length))return u.slice();var U,P,de,v=[],I=Oe([],{});for(U=0,P=K.length;U<P;U++)r.hash_put(I,K[U],!0);for(U=0,P=u.length;U<P;U++)void 0===r.hash_get(I,de=u[U])&&v.push(de);return v},St.$$arity=1),r.def(Ye,"$<<",Rt=function(K){return this.push(K),this},Rt.$$arity=1),r.def(Ye,"$<=>",Et=function(K){var u=this;if(zt(F(pe,"Array")["$==="](K)))K=K.$to_a();else{if(!zt(K["$respond_to?"]("to_ary")))return R;K=K.$to_ary().$to_a()}if(u.$hash()===K.$hash())return 0;for(var v=Math.min(u.length,K.length),I=0;I<v;I++){var U=u[I]["$<=>"](K[I]);if(0!==U)return U}return u.length["$<=>"](K.length)},Et.$$arity=1),r.def(Ye,"$==",Ft=function(K){var v={};return function I(U,P){var de,be,je,Fe;if(U===P)return!0;if(!P.$$is_array)return!!F(pe,"Opal")["$respond_to?"](P,"to_ary")&&P["$=="](U);if(U.$$constructor!==Array&&(U=U.$to_a()),P.$$constructor!==Array&&(P=P.$to_a()),U.length!==P.length)return!1;for(v[U.$object_id()]=!0,de=0,be=U.length;de<be;de++)if(Fe=P[de],(je=U[de]).$$is_array){if(Fe.$$is_array&&Fe.length!==je.length||!v.hasOwnProperty(je.$object_id())&&!I(je,Fe))return!1}else if(!je["$=="](Fe))return!1;return!0}(this,K)},Ft.$$arity=1),r.def(Ye,"$[]",qt=function(K,u){return K.$$is_range?function Qe(K,u){var I,U,P,v=K.length;return I=u.excl,U=r.Opal.$coerce_to(u.begin,r.Integer,"to_int"),P=r.Opal.$coerce_to(u.end,r.Integer,"to_int"),U<0&&(U+=v)<0||U>v?R:P<0&&(P+=v)<0?[]:(I||(P+=1),tt(K.slice(U,P),K.$class()))}(this,K):function nt(K,u,v){var I=K.length;return(u=r.Opal.$coerce_to(u,r.Integer,"to_int"))<0&&(u+=I)<0?R:void 0===v?u>=I||u<0?R:K[u]:(v=r.Opal.$coerce_to(v,r.Integer,"to_int"))<0||u>I||u<0?R:tt(K.slice(u,u+v),K.$class())}(this,K,u)},qt.$$arity=-2),r.def(Ye,"$[]=",Ct=function(K,u,v){var de,we,I=this,U=R,P=R,be=I.length;if(zt(F(pe,"Range")["$==="](K))){U=zt(F(pe,"Array")["$==="](u))?u.$to_a():zt(u["$respond_to?"]("to_ary"))?u.$to_ary().$to_a():[u];var je=K.excl,Fe=F(pe,"Opal").$coerce_to(K.begin,F(pe,"Integer"),"to_int"),Ke=F(pe,"Opal").$coerce_to(K.end,F(pe,"Integer"),"to_int");if(Fe<0&&(Fe+=be)<0&&I.$raise(F(pe,"RangeError"),K.$inspect()+" out of range"),Ke<0&&(Ke+=be),je||(Ke+=1),Fe>be)for(de=be;de<Fe;de++)I[de]=R;return I.splice.apply(I,Ke<0?[Fe,0].concat(U):[Fe,Ke-Fe].concat(U)),u}if(zt(void 0===v)?P=1:(P=u,u=v,U=zt(F(pe,"Array")["$==="](u))?u.$to_a():zt(u["$respond_to?"]("to_ary"))?u.$to_ary().$to_a():[u]),K=F(pe,"Opal").$coerce_to(K,F(pe,"Integer"),"to_int"),P=F(pe,"Opal").$coerce_to(P,F(pe,"Integer"),"to_int"),K<0&&(we=K,(K+=be)<0&&I.$raise(F(pe,"IndexError"),"index "+we+" too small for array; minimum "+-I.length)),P<0&&I.$raise(F(pe,"IndexError"),"negative length ("+P+")"),K>be)for(de=be;de<K;de++)I[de]=R;return void 0===v?I[K]=u:I.splice.apply(I,[K,P].concat(U)),u},Ct.$$arity=-3),r.def(Ye,"$any?",It=function(K){var u=It.$$p,I=this,U=R,P=R,de=R;for(u&&(It.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return u&&(It.$$p=null),0!==I.length&&ve(I,r.find_super_dispatcher(I,"any?",It,!1),U,u)},It.$$arity=-1),r.def(Ye,"$assoc",Pt=function(u){for(var P,I=0,U=this.length;I<U;I++)if((P=this[I]).length&&P[0]["$=="](u))return P;return R},Pt.$$arity=1),r.def(Ye,"$at",Mt=function(u){var v=this;return(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&(u+=v.length),u<0||u>=v.length?R:v[u]},Mt.$$arity=1),r.def(Ye,"$bsearch_index",jt=function(){var u=jt.$$p,v=u||R,I=this;if(u&&(jt.$$p=null),u&&(jt.$$p=null),v===R)return I.$enum_for("bsearch_index");for(var de,je,U=0,P=I.length,Fe=!1,Ke=R;U<P;){if(de=U+Math.floor((P-U)/2),!0===(je=r.yield1(v,I[de])))Ke=de,Fe=!0;else if(!1===je||je===R)Fe=!1;else if(je.$$is_number){if(0===je)return de;Fe=je<0}else I.$raise(F(pe,"TypeError"),"wrong argument type "+je.$class()+" (must be numeric, true, false or nil)");Fe?P=de:U=de+1}return Ke},jt.$$arity=0),r.def(Ye,"$bsearch",D=function(){var u=D.$$p,v=u||R,I=this,U=R;return u&&(D.$$p=null),u&&(D.$$p=null),v===R?I.$enum_for("bsearch"):null!=(U=ve(I,"bsearch_index",[],v.$to_proc()))&&U.$$is_number?I[U]:U},D.$$arity=0),r.def(Ye,"$cycle",se=function(u){var U,P,be,je,v=se.$$p,I=v||R,de=this;if(v&&(se.$$p=null),v&&(se.$$p=null),null==u&&(u=R),I===R)return ve(de,"enum_for",["cycle",u],(U=function(){var Ke=U.$$s||this;return zt(u["$nil?"]())?Gt(F(pe,"Float"),"INFINITY"):(u=F(pe,"Opal")["$coerce_to!"](u,F(pe,"Integer"),"to_int"),zt(Ne(u,0))?function Je(G,Ve){return"number"==typeof G&&"number"==typeof Ve?G*Ve:G["$*"](Ve)}(Ke.$enumerator_size(),u):0)},U.$$s=de,U.$$arity=0,U));if(zt(zt(P=de["$empty?"]())?P:u["$=="](0)))return R;if(u===R)for(;;)for(be=0,je=de.length;be<je;be++)r.yield1(I,de[be]);else{if((u=F(pe,"Opal")["$coerce_to!"](u,F(pe,"Integer"),"to_int"))<=0)return de;for(;u>0;){for(be=0,je=de.length;be<je;be++)r.yield1(I,de[be]);u--}}return de},se.$$arity=-1),r.def(Ye,"$clear",ue=function(){var u=this;return u.splice(0,u.length),u},ue.$$arity=0),r.def(Ye,"$count",ge=function(u){var U,v=ge.$$p,I=v||R,P=this,de=R,be=R,je=R;for(v&&(ge.$$p=null),be=0,je=arguments.length,de=new Array(je);be<je;be++)de[be]=arguments[be];return v&&(ge.$$p=null),null==u&&(u=R),zt(zt(U=u)?U:I)?ve(P,r.find_super_dispatcher(P,"count",ge,!1),de,v):P.$size()},ge.$$arity=-1),r.def(Ye,"$initialize_copy",Le=function(u){return this.$replace(u)},Le.$$arity=1),r.def(Ye,"$collect",Ue=function(){var I,u=Ue.$$p,v=u||R,U=this;if(u&&(Ue.$$p=null),u&&(Ue.$$p=null),v===R)return ve(U,"enum_for",["collect"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var P=[],de=0,be=U.length;de<be;de++){var je=r.yield1(v,U[de]);P.push(je)}return P},Ue.$$arity=0),r.def(Ye,"$collect!",qe=function(){var v,K=qe.$$p,u=K||R,I=this;if(K&&(qe.$$p=null),K&&(qe.$$p=null),u===R)return ve(I,"enum_for",["collect!"],((v=function(){return(v.$$s||this).$size()}).$$s=I,v.$$arity=0,v));for(var U=0,P=I.length;U<P;U++){var de=r.yield1(u,I[U]);I[U]=de}return I},qe.$$arity=0),r.def(Ye,"$combination",wt=function(u){var v,de,be,je,Fe,Ke,we,ot,at,I=wt.$$p,U=I||R,P=this;if(I&&(wt.$$p=null),de=F(pe,"Opal")["$coerce_to!"](u,F(pe,"Integer"),"to_int"),U===R)return ve(P,"enum_for",["combination",de],((v=function(){return yt((v.$$s||this).length,de)}).$$s=P,v.$$arity=0,v));if(0===de)r.yield1(U,[]);else if(1===de)for(be=0,je=P.length;be<je;be++)r.yield1(U,[P[be]]);else if(de===P.length)r.yield1(U,P.slice());else if(de>=0&&de<P.length){for(Fe=[],be=0;be<=de+1;be++)Fe.push(0);for(Ke=[],we=0,ot=!1,Fe[0]=-1;!ot;){for(Ke[we]=P[Fe[we+1]];we<de-1;)at=Fe[1+ ++we]=Fe[we]+1,Ke[we]=P[at];r.yield1(U,Ke.slice()),we++;do{ot=0===we,Fe[we]++,we--}while(Fe[we+1]+de===P.length+we+1)}}return P},wt.$$arity=1),r.def(Ye,"$repeated_combination",Nt=function(u){var v,de,I=Nt.$$p,U=I||R,P=this;return I&&(Nt.$$p=null),de=F(pe,"Opal")["$coerce_to!"](u,F(pe,"Integer"),"to_int"),U===R?ve(P,"enum_for",["repeated_combination",de],((v=function(){return yt((v.$$s||this).length+de-1,de)}).$$s=P,v.$$arity=0,v)):(de>=0&&function be(je,Fe,Ke,we){if(Ke.length!=je)for(var at=Fe;at<we.length;at++)Ke.push(we[at]),be(je,at,Ke,we),Ke.pop();else{var ot=Ke.slice();r.yield1(U,ot)}}(de,0,[],P),P)},Nt.$$arity=1),r.def(Ye,"$compact",Bt=function(){for(var P,v=[],I=0,U=this.length;I<U;I++)(P=this[I])!==R&&v.push(P);return v},Bt.$$arity=0),r.def(Ye,"$compact!",Ut=function(){for(var K=this,u=K.length,v=0,I=K.length;v<I;v++)K[v]===R&&(K.splice(v,1),I--,v--);return K.length===u?R:K},Ut.$$arity=0),r.def(Ye,"$concat",Vt=function(u){var v,I,U,P,de=this;return v=r.slice.call(arguments,0,arguments.length),I=ve(I=v,"map",[],((U=function(be){var je=U.$$s||this;return null==be&&(be=R),be=zt(F(pe,"Array")["$==="](be))?be.$to_a():F(pe,"Opal").$coerce_to(be,F(pe,"Array"),"to_ary").$to_a(),zt(be["$equal?"](je))&&(be=be.$dup()),be}).$$s=de,U.$$arity=1,U)),ve(I,"each",[],((P=function(be){var je=P.$$s||this;null==be&&(be=R);for(var Fe=0,Ke=be.length;Fe<Ke;Fe++)je.push(be[Fe])}).$$s=de,P.$$arity=1,P)),de},Vt.$$arity=-1),r.def(Ye,"$delete",Jt=function(K){var u=Jt.$$p,v=u||R,I=this;u&&(Jt.$$p=null);for(var U=I.length,P=0,de=U;P<de;P++)I[P]["$=="](K)&&(I.splice(P,1),de--,P--);return I.length===U?v!==R?r.yieldX(v,[]):R:K},Jt.$$arity=1),r.def(Ye,"$delete_at",Kt=function(u){var v=this;if((u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&(u+=v.length),u<0||u>=v.length)return R;var I=v[u];return v.splice(u,1),I},Kt.$$arity=1),r.def(Ye,"$delete_if",Wt=function(){var I,u=Wt.$$p,v=u||R,U=this;if(u&&(Wt.$$p=null),u&&(Wt.$$p=null),v===R)return ve(U,"enum_for",["delete_if"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var be,P=0,de=U.length;P<de;P++)!1!==(be=v(U[P]))&&be!==R&&(U.splice(P,1),de--,P--);return U},Wt.$$arity=0),r.def(Ye,"$dig",Qt=function(u,v){var U,P=this,de=R;return U=r.slice.call(arguments,1,arguments.length),(de=P["$[]"](u))===R||0===U.length?de:(zt(de["$respond_to?"]("dig"))||P.$raise(F(pe,"TypeError"),de.$class()+" does not have #dig method"),ve(de,"dig",r.to_a(U)))},Qt.$$arity=-2),r.def(Ye,"$drop",$r=function(u){return u<0&&this.$raise(F(pe,"ArgumentError")),this.slice(u)},$r.$$arity=1),r.def(Ye,"$dup",Ot=function(){var u=Ot.$$p,I=this,U=R,P=R,de=R;for(u&&(Ot.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return I.$$class===r.Array&&I.$$class.$allocate.$$pristine&&I.$copy_instance_variables.$$pristine&&I.$initialize_dup.$$pristine?I.slice(0):ve(I,r.find_super_dispatcher(I,"dup",Ot,!1),U,u)},Ot.$$arity=0),r.def(Ye,"$each",Xt=function(){var I,u=Xt.$$p,v=u||R,U=this;if(u&&(Xt.$$p=null),u&&(Xt.$$p=null),v===R)return ve(U,"enum_for",["each"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var P=0,de=U.length;P<de;P++)r.yield1(v,U[P]);return U},Xt.$$arity=0),r.def(Ye,"$each_index",Ht=function(){var I,u=Ht.$$p,v=u||R,U=this;if(u&&(Ht.$$p=null),u&&(Ht.$$p=null),v===R)return ve(U,"enum_for",["each_index"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var P=0,de=U.length;P<de;P++)r.yield1(v,P);return U},Ht.$$arity=0),r.def(Ye,"$empty?",er=function(){return 0===this.length},er.$$arity=0),r.def(Ye,"$eql?",ar=function(K){var v={};return function I(U,P){var de,be,je,Fe;if(!P.$$is_array||(P=P.$to_a(),U.length!==P.length))return!1;for(v[U.$object_id()]=!0,de=0,be=U.length;de<be;de++)if(Fe=P[de],(je=U[de]).$$is_array){if(Fe.$$is_array&&Fe.length!==je.length||!v.hasOwnProperty(je.$object_id())&&!I(je,Fe))return!1}else if(!je["$eql?"](Fe))return!1;return!0}(this,K)},ar.$$arity=1),r.def(Ye,"$fetch",or=function(u,v){var I=or.$$p,U=I||R,P=this;I&&(or.$$p=null),I&&(or.$$p=null);var de=u;return(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&(u+=P.length),u>=0&&u<P.length?P[u]:(U!==R&&null!=v&&P.$warn("warning: block supersedes default value argument"),U!==R?U(de):null!=v?v:void P.$raise(F(pe,"IndexError"),0===P.length?"index "+de+" outside of array bounds: 0...0":"index "+de+" outside of array bounds: -"+P.length+"..."+P.length))},or.$$arity=-2),r.def(Ye,"$fill",cr=function(u){var P,de,vt,bt,v=cr.$$p,I=v||R,je=this,Fe=R,Ke=R,we=R,ot=R,at=R;if(v&&(cr.$$p=null),v&&(cr.$$p=null),P=r.slice.call(arguments,0,arguments.length),zt(I)?(zt(P.length>2)&&je.$raise(F(pe,"ArgumentError"),"wrong number of arguments ("+P.$length()+" for 0..2)"),Fe=(de=r.to_ary(P))[0]??R,Ke=de[1]??R):(zt(0==P.length)?je.$raise(F(pe,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):zt(P.length>3)&&je.$raise(F(pe,"ArgumentError"),"wrong number of arguments ("+P.$length()+" for 1..3)"),we=(de=r.to_ary(P))[0]??R,Fe=de[1]??R,Ke=de[2]??R),zt(F(pe,"Range")["$==="](Fe))){if(zt(Ke)&&je.$raise(F(pe,"TypeError"),"length invalid with range"),ot=F(pe,"Opal").$coerce_to(Fe.$begin(),F(pe,"Integer"),"to_int"),zt(ot<0)&&(ot+=this.length),zt(ot<0)&&je.$raise(F(pe,"RangeError"),Fe.$inspect()+" out of range"),at=F(pe,"Opal").$coerce_to(Fe.$end(),F(pe,"Integer"),"to_int"),zt(at<0)&&(at+=this.length),zt(Fe["$exclude_end?"]())||(at+=1),zt(at<=ot))return je}else if(zt(Fe))if(ot=F(pe,"Opal").$coerce_to(Fe,F(pe,"Integer"),"to_int"),zt(ot<0)&&(ot+=this.length),zt(ot<0)&&(ot=0),zt(Ke)){if(at=F(pe,"Opal").$coerce_to(Ke,F(pe,"Integer"),"to_int"),zt(0==at))return je;at+=ot}else at=this.length;else ot=0,at=this.length;if(zt(ot>this.length))for(vt=this.length;vt<at;vt++)je[vt]=R;if(zt(at>this.length)&&(this.length=at),zt(I))for(;ot<at;ot++)bt=I(ot),je[ot]=bt;else for(;ot<at;ot++)je[ot]=we;return je},cr.$$arity=-1),r.def(Ye,"$first",e=function(u){var v=this;return null==u?0===v.length?R:v[0]:((u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&v.$raise(F(pe,"ArgumentError"),"negative array size"),v.slice(0,u))},e.$$arity=-1),r.def(Ye,"$flatten",l=function(u){var v=this;return void 0!==u&&(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int")),tt(function I(U,P){var be,je,Fe,Ke,de=[];for(be=0,je=(U=U.$to_a()).length;be<je;be++)if(Fe=U[be],F(pe,"Opal")["$respond_to?"](Fe,"to_ary",!0))if((Ke=Fe.$to_ary())!==R)switch(Ke.$$is_array||v.$raise(F(pe,"TypeError")),Ke===v&&v.$raise(F(pe,"ArgumentError")),P){case void 0:de=de.concat(I(Ke));break;case 0:de.push(Ke);break;default:de.push.apply(de,I(Ke,P-1))}else de.push(Fe);else de.push(Fe);return de}(v,u),v.$class())},l.$$arity=-1),r.def(Ye,"$flatten!",O=function(K){var u=this,v=u.$flatten(K);if(u.length==v.length){for(var I=0,U=u.length;I<U&&u[I]===v[I];I++);if(I==U)return R}return u.$replace(v),u},O.$$arity=-1),r.def(Ye,"$hash",xe=function(){var de,be,u=this,v=void 0===r.hash_ids,I=["A"],U=u.$object_id();try{if(v&&(r.hash_ids=Object.create(null)),r.hash_ids[U])return"self";for(be in r.hash_ids)if(u["$eql?"](r.hash_ids[be]))return"self";for(r.hash_ids[U]=u,de=0;de<u.length;de++)I.push(u[de].$hash());return I.join(",")}finally{v&&(r.hash_ids=void 0)}},xe.$$arity=0),r.def(Ye,"$include?",Xe=function(K){for(var v=0,I=this.length;v<I;v++)if(this[v]["$=="](K))return!0;return!1},Xe.$$arity=1),r.def(Ye,"$index",ie=function(u){var P,de,be,v=ie.$$p,I=v||R,U=this;if(v&&(ie.$$p=null),v&&(ie.$$p=null),null!=u&&I!==R&&U.$warn("warning: given block not used"),null!=u){for(P=0,de=U.length;P<de;P++)if(U[P]["$=="](u))return P}else{if(I===R)return U.$enum_for("index");for(P=0,de=U.length;P<de;P++)if(!1!==(be=I(U[P]))&&be!==R)return P}return R},ie.$$arity=-1),r.def(Ye,"$insert",A=function(u,v){var U,P=this;if(U=r.slice.call(arguments,1,arguments.length),u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"),U.length>0){if(u<0&&(u+=P.length+1)<0&&P.$raise(F(pe,"IndexError"),u+" is out of bounds"),u>P.length)for(var de=P.length;de<u;de++)P.push(R);P.splice.apply(P,[u,0].concat(U))}return P},A.$$arity=-2),r.def(Ye,"$inspect",$e=function(){for(var u=this,v=[],I=u.$__id__(),U=0,P=u.length;U<P;U++){var de=u["$[]"](U);de.$__id__()===I?v.push("[...]"):v.push(de.$inspect())}return"["+v.join(", ")+"]"},$e.$$arity=0),r.def(Ye,"$join",$=function(u){var v=this;if(null==J[","]&&(J[","]=R),null==u&&(u=R),zt(0===v.length))return"";zt(u===R)&&(u=J[","]);var U,P,de,be,I=[];for(U=0,P=v.length;U<P;U++)de=v[U],F(pe,"Opal")["$respond_to?"](de,"to_str")&&(be=de.$to_str())!==R?I.push(be.$to_s()):F(pe,"Opal")["$respond_to?"](de,"to_ary")&&((be=de.$to_ary())===v&&v.$raise(F(pe,"ArgumentError")),be!==R)?I.push(be.$join(u)):F(pe,"Opal")["$respond_to?"](de,"to_s")&&(be=de.$to_s())!==R?I.push(be):v.$raise(F(pe,"NoMethodError").$new(r.inspect(de)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return I.join(u===R?"":F(pe,"Opal")["$coerce_to!"](u,F(pe,"String"),"to_str").$to_s())},$.$$arity=-1),r.def(Ye,"$keep_if",n=function(){var I,u=n.$$p,v=u||R,U=this;if(u&&(n.$$p=null),u&&(n.$$p=null),v===R)return ve(U,"enum_for",["keep_if"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var be,P=0,de=U.length;P<de;P++)(!1===(be=v(U[P]))||be===R)&&(U.splice(P,1),de--,P--);return U},n.$$arity=0),r.def(Ye,"$last",y=function(u){var v=this;return null==u?0===v.length?R:v[v.length-1]:((u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0&&v.$raise(F(pe,"ArgumentError"),"negative array size"),u>v.length&&(u=v.length),v.slice(v.length-u,v.length))},y.$$arity=-1),r.def(Ye,"$length",W=function(){return this.length},W.$$arity=0),r.alias(Ye,"map","collect"),r.alias(Ye,"map!","collect!"),r.def(Ye,"$max",oe=function(u){var v=oe.$$p,I=v||R;return v&&(oe.$$p=null),v&&(oe.$$p=null),ve(this.$each(),"max",[u],I.$to_proc())},oe.$$arity=-1),r.def(Ye,"$min",b=function(){var u=b.$$p,v=u||R;return u&&(b.$$p=null),u&&(b.$$p=null),ve(this.$each(),"min",[],v.$to_proc())},b.$$arity=0),r.def(Ye,"$permutation",_=function(u){var U,je,Fe,Ke,v=_.$$p,I=v||R,P=this,de=R,be=R;if(v&&(_.$$p=null),v&&(_.$$p=null),I===R)return ve(P,"enum_for",["permutation",u],(U=function(){var ot=U.$$s||this;return function ut(K,u){for(var v=u>=0?1:0;u;)v*=K,K--,u--;return v}(ot.length,void 0===u?ot.length:u)},U.$$s=P,U.$$arity=0,U));if(!((u=void 0===u?P.length:F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0||P.length<u))if(0===u)r.yield1(I,[]);else if(1===u)for(var we=0;we<P.length;we++)r.yield1(I,[P[we]]);else de=F(pe,"Array").$new(u),be=F(pe,"Array").$new(P.length,!1),je=function(ot,at,vt,Dt,bt){P=this;for(var ce=0;ce<P.length;ce++)if(Dt["$[]"](ce)["$!"]())if(at[vt]=ce,vt<ot-1)Dt[ce]=!0,je.call(P,ot,at,vt+1,Dt,bt),Dt[ce]=!1;else{Ke=[];for(var Ee=0;Ee<at.length;Ee++)Ke.push(P[at[Ee]]);r.yield1(bt,Ke)}},I!==R?(Fe=P.slice(),je.call(Fe,u,de,0,be,I)):je.call(P,u,de,0,be,I);return P},_.$$arity=-1),r.def(Ye,"$repeated_permutation",c=function(u){var v,de,I=c.$$p,U=I||R,P=this;return I&&(c.$$p=null),de=F(pe,"Opal")["$coerce_to!"](u,F(pe,"Integer"),"to_int"),U===R?ve(P,"enum_for",["repeated_permutation",de],(v=function(){var je=v.$$s||this;return zt(function Ze(G,Ve){return"number"==typeof G&&"number"==typeof Ve?G>=Ve:G["$>="](Ve)}(de,0))?je.$size()["$**"](de):0},v.$$s=P,v.$$arity=0,v)):(function be(je,Fe,Ke){if(Fe.length!=je)for(var ot=0;ot<Ke.length;ot++)Fe.push(Ke[ot]),be(je,Fe,Ke),Fe.pop();else{var we=Fe.slice();r.yield1(U,we)}}(de,[],P.slice()),P)},c.$$arity=1),r.def(Ye,"$pop",t=function(u){var v=this;return zt(void 0===u)?zt(0===v.length)?R:v.pop():(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"),zt(u<0)&&v.$raise(F(pe,"ArgumentError"),"negative array size"),zt(0===v.length)?[]:zt(u>v.length)?v.splice(0,v.length):v.splice(v.length-u,v.length))},t.$$arity=-1),r.def(Ye,"$product",s=function(u){var U,P,v=s.$$p,I=v||R,de=this;v&&(s.$$p=null),v&&(s.$$p=null),U=r.slice.call(arguments,0,arguments.length);var ot,at,vt,Dt,be=I!==R?null:[],je=(P=U).length+1,Fe=new Array(je),Ke=new Array(je),we=new Array(je),bt=1;for(we[0]=de,ot=1;ot<je;ot++)we[ot]=F(pe,"Opal").$coerce_to(P[ot-1],F(pe,"Array"),"to_ary");for(ot=0;ot<je;ot++){if(0===(Dt=we[ot].length))return be||de;(bt*=Dt)>2147483647&&de.$raise(F(pe,"RangeError"),"too big to product"),Ke[ot]=Dt,Fe[ot]=0}e:for(;;){for(vt=[],ot=0;ot<je;ot++)vt.push(we[ot][Fe[ot]]);for(be?be.push(vt):r.yield1(I,vt),Fe[at=je-1]++;Fe[at]===Ke[at];){if(Fe[at]=0,--at<0)break e;Fe[at]++}}return be||de},s.$$arity=-1),r.def(Ye,"$push",i=function(u){for(var I,U=this,P=0,de=(I=r.slice.call(arguments,0,arguments.length)).length;P<de;P++)U.push(I[P]);return U},i.$$arity=-1),r.alias(Ye,"append","push"),r.def(Ye,"$rassoc",j=function(u){for(var P,I=0,U=this.length;I<U;I++)if((P=this[I]).length&&void 0!==P[1]&&P[1]["$=="](u))return P;return R},j.$$arity=1),r.def(Ye,"$reject",h=function(){var I,u=h.$$p,v=u||R,U=this;if(u&&(h.$$p=null),u&&(h.$$p=null),v===R)return ve(U,"enum_for",["reject"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var je,P=[],de=0,be=U.length;de<be;de++)(!1===(je=v(U[de]))||je===R)&&P.push(U[de]);return P},h.$$arity=0),r.def(Ye,"$reject!",g=function(){var v,K=g.$$p,u=K||R,I=this,U=R;return K&&(g.$$p=null),K&&(g.$$p=null),u===R?ve(I,"enum_for",["reject!"],((v=function(){return(v.$$s||this).$size()}).$$s=I,v.$$arity=0,v)):(U=I.$length(),ve(I,"delete_if",[],u.$to_proc()),I.$length()["$=="](U)?R:I)},g.$$arity=0),r.def(Ye,"$replace",w=function(u){var v=this;return u=zt(F(pe,"Array")["$==="](u))?u.$to_a():F(pe,"Opal").$coerce_to(u,F(pe,"Array"),"to_ary").$to_a(),v.splice(0,v.length),v.push.apply(v,u),v},w.$$arity=1),r.def(Ye,"$reverse",C=function(){return this.slice(0).reverse()},C.$$arity=0),r.def(Ye,"$reverse!",B=function(){return this.reverse()},B.$$arity=0),r.def(Ye,"$reverse_each",N=function(){var I,u=N.$$p,v=u||R,U=this;return u&&(N.$$p=null),u&&(N.$$p=null),v===R?ve(U,"enum_for",["reverse_each"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I)):(ve(U.$reverse(),"each",[],v.$to_proc()),U)},N.$$arity=0),r.def(Ye,"$rindex",x=function(u){var P,de,v=x.$$p,I=v||R,U=this;if(v&&(x.$$p=null),v&&(x.$$p=null),null!=u&&I!==R&&U.$warn("warning: given block not used"),null!=u){for(P=U.length-1;P>=0&&!(P>=U.length);P--)if(U[P]["$=="](u))return P}else if(I!==R){for(P=U.length-1;P>=0&&!(P>=U.length);P--)if(!1!==(de=I(U[P]))&&de!==R)return P}else if(null==u)return U.$enum_for("rindex");return R},x.$$arity=-1),r.def(Ye,"$rotate",f=function(u){var I,U,P,de,v=this;return null==u&&(u=1),u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"),1===v.length?v.slice():0===v.length?[]:(P=(I=v.slice()).slice(U=u%I.length),de=I.slice(0,U),P.concat(de))},f.$$arity=-1),r.def(Ye,"$rotate!",L=function(K){var u=this,v=R;return null==K&&(K=1),0===u.length||1===u.length?u:(K=F(pe,"Opal").$coerce_to(K,F(pe,"Integer"),"to_int"),v=u.$rotate(K),u.$replace(v))},L.$$arity=-1),v=pe,I=Ge(pe[0],null,"SampleRandom"),U=[I].concat(v),I.$$prototype.rng=R,r.def(I,"$initialize",P=function(je){return this.rng=je},P.$$arity=1),r.def(I,"$rand",de=function(je){var Ke;return Ke=F(U,"Opal").$coerce_to(this.rng.$rand(je),F(U,"Integer"),"to_int"),zt(Ke<0)&&this.$raise(F(U,"RangeError"),"random value must be >= 0"),zt(Ke<je)||this.$raise(F(U,"RangeError"),"random value must be less than Array size"),Ke},de.$$arity=1),r.def(Ye,"$sample",ae=function(u,v){var I,be,je,Fe,Ke,we,ot,at,vt,U=this,P=R,de=R;if(zt(void 0===u))return U.$at(F(pe,"Kernel").$rand(U.length));if(zt(void 0===v)?zt(P=F(pe,"Opal")["$coerce_to?"](u,F(pe,"Hash"),"to_hash"))?(v=P,u=R):(v=R,u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int")):(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"),v=F(pe,"Opal").$coerce_to(v,F(pe,"Hash"),"to_hash")),zt(zt(I=u)?u<0:I)&&U.$raise(F(pe,"ArgumentError"),"count must be greater than 0"),zt(v)&&(de=v["$[]"]("random")),de=zt(zt(I=de)?de["$respond_to?"]("rand"):I)?F(pe,"SampleRandom").$new(de):F(pe,"Kernel"),!zt(u))return U[de.$rand(U.length)];switch(u>U.length&&(u=U.length),u){case 0:return[];case 1:return[U[de.$rand(U.length)]];case 2:return(Ke=de.$rand(U.length))===(we=de.$rand(U.length))&&(we=0===Ke?Ke+1:Ke-1),[U[Ke],U[we]];default:if(U.length/u>3){for(be=!1,je=0,Ke=1,(Fe=F(pe,"Array").$new(u))[0]=de.$rand(U.length);Ke<u;){for(ot=de.$rand(U.length),we=0;we<Ke;){for(;ot===Fe[we];){if(++je>100){be=!0;break}ot=de.$rand(U.length)}if(be)break;we++}if(be)break;Fe[Ke]=ot,Ke++}if(!be){for(Ke=0;Ke<u;)Fe[Ke]=U[Fe[Ke]],Ke++;return Fe}}Fe=U.slice();for(var Dt=0;Dt<u;Dt++)at=de.$rand(U.length),vt=Fe[Dt],Fe[Dt]=Fe[at],Fe[at]=vt;return u===U.length?Fe:Fe["$[]"](0,u)}},ae.$$arity=-1),r.def(Ye,"$select",Pe=function(){var I,u=Pe.$$p,v=u||R,U=this;if(u&&(Pe.$$p=null),u&&(Pe.$$p=null),v===R)return ve(U,"enum_for",["select"],((I=function(){return(I.$$s||this).$size()}).$$s=U,I.$$arity=0,I));for(var je,Fe,P=[],de=0,be=U.length;de<be;de++)Fe=r.yield1(v,je=U[de]),r.truthy(Fe)&&P.push(je);return P},Pe.$$arity=0),r.def(Ye,"$select!",ze=function(){var v,K=ze.$$p,u=K||R,I=this;if(K&&(ze.$$p=null),K&&(ze.$$p=null),u===R)return ve(I,"enum_for",["select!"],((v=function(){return(v.$$s||this).$size()}).$$s=I,v.$$arity=0,v));var U=I.length;return ve(I,"keep_if",[],u.$to_proc()),I.length===U?R:I},ze.$$arity=0),r.def(Ye,"$shift",le=function(u){var v=this;return zt(void 0===u)?zt(0===v.length)?R:function We(K){for(var u=K[0],v=1,I=K.length;v<I;v++)K[v-1]=K[v];return K.pop(),u}(v):(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"),zt(u<0)&&v.$raise(F(pe,"ArgumentError"),"negative array size"),zt(0===v.length)?[]:v.splice(0,u))},le.$$arity=-1),r.alias(Ye,"size","length"),r.def(Ye,"$shuffle",S=function(u){return this.$dup().$to_a()["$shuffle!"](u)},S.$$arity=-1),r.def(Ye,"$shuffle!",d=function(K){var v,U,P,u=this,I=u.length;for(void 0!==K&&(K=F(pe,"Opal")["$coerce_to?"](K,F(pe,"Hash"),"to_hash"))!==R&&(K=K["$[]"]("random"))!==R&&K["$respond_to?"]("rand")&&(v=K);I;)v?((U=v.$rand(I).$to_int())<0&&u.$raise(F(pe,"RangeError"),"random number too small "+U),U>=I&&u.$raise(F(pe,"RangeError"),"random number too big "+U)):U=u.$rand(I),P=u[--I],u[I]=u[U],u[U]=P;return u},d.$$arity=-1),r.alias(Ye,"slice","[]"),r.def(Ye,"$slice!",m=function(K,u){var v=this,I=R,U=R,P=R,de=R,be=R;if(I=R,zt(void 0===u))if(zt(F(pe,"Range")["$==="](K))){I=v["$[]"](U=K),P=F(pe,"Opal").$coerce_to(U.$begin(),F(pe,"Integer"),"to_int"),de=F(pe,"Opal").$coerce_to(U.$end(),F(pe,"Integer"),"to_int"),P<0&&(P+=v.length),de<0?de+=v.length:de>=v.length&&(de=v.length-1,U.excl&&(de+=1));var je=de-P;U.excl?de-=1:je+=1,P<v.length&&P>=0&&de<v.length&&de>=0&&je>0&&v.splice(P,je)}else{if((be=F(pe,"Opal").$coerce_to(K,F(pe,"Integer"),"to_int"))<0&&(be+=v.length),be<0||be>=v.length)return R;I=v[be],0===be?v.shift():v.splice(be,1)}else{if(be=F(pe,"Opal").$coerce_to(K,F(pe,"Integer"),"to_int"),(u=F(pe,"Opal").$coerce_to(u,F(pe,"Integer"),"to_int"))<0)return R;I=v["$[]"](be,u),be<0&&(be+=v.length),be+u>v.length&&(u=v.length-be),be<v.length&&be>=0&&v.splice(be,u)}return I},m.$$arity=-2),r.def(Ye,"$sort",p=function(){var u=p.$$p,v=u||R,I=this;return u&&(p.$$p=null),u&&(p.$$p=null),zt(I.length>1)?(v===R&&(v=function(U,P){return U["$<=>"](P)}),I.slice().sort(function(U,P){var de=v(U,P);return de===R&&I.$raise(F(pe,"ArgumentError"),"comparison of "+U.$inspect()+" with "+P.$inspect()+" failed"),Ne(de,0)?1:function Be(G,Ve){return"number"==typeof G&&"number"==typeof Ve?G<Ve:G["$<"](Ve)}(de,0)?-1:0})):I},p.$$arity=0),r.def(Ye,"$sort!",z=function(){var I,K=z.$$p,u=K||R,v=this;K&&(z.$$p=null),K&&(z.$$p=null),I=u!==R?ve(v.slice(),"sort",[],u.$to_proc()):v.slice().$sort(),v.length=0;for(var U=0,P=I.length;U<P;U++)v.push(I[U]);return v},z.$$arity=0),r.def(Ye,"$sort_by!",Z=function(){var v,K=Z.$$p,u=K||R,I=this;return K&&(Z.$$p=null),K&&(Z.$$p=null),u===R?ve(I,"enum_for",["sort_by!"],((v=function(){return(v.$$s||this).$size()}).$$s=I,v.$$arity=0,v)):I.$replace(ve(I,"sort_by",[],u.$to_proc()))},Z.$$arity=0),r.def(Ye,"$take",re=function(u){return u<0&&this.$raise(F(pe,"ArgumentError")),this.slice(0,u)},re.$$arity=1),r.def(Ye,"$take_while",ye=function(){var u=ye.$$p,v=u||R;u&&(ye.$$p=null),u&&(ye.$$p=null);for(var be,je,U=[],P=0,de=this.length;P<de;P++){if(!1===(je=v(be=this[P]))||je===R)return U;U.push(be)}return U},ye.$$arity=0),r.def(Ye,"$to_a",q=function(){return this},q.$$arity=0),r.alias(Ye,"to_ary","to_a"),r.def(Ye,"$to_h",ee=function(){var v,U,u=this,I=u.length,be=Oe([],{});for(v=0;v<I;v++)(U=F(pe,"Opal")["$coerce_to?"](u[v],F(pe,"Array"),"to_ary")).$$is_array||u.$raise(F(pe,"TypeError"),"wrong element type "+U.$class()+" at "+v+" (expected array)"),2!==U.length&&u.$raise(F(pe,"ArgumentError"),"wrong array length at "+v+" (expected 2, was "+U.$length()+")"),r.hash_put(be,U[0],U[1]);return be},ee.$$arity=0),r.alias(Ye,"to_s","inspect"),r.def(Ye,"$transpose",V=function(){var u,v=this,I=R,U=R;return zt(v["$empty?"]())?[]:(I=[],U=R,ve(v,"each",[],(u=function(P){var be,je,de=u.$$s||this;return null==P&&(P=R),P=zt(F(pe,"Array")["$==="](P))?P.$to_a():F(pe,"Opal").$coerce_to(P,F(pe,"Array"),"to_ary").$to_a(),U=zt(be=U)?be:P.length,zt(P.length["$!="](U))&&de.$raise(F(pe,"IndexError"),"element size differs ("+P.length+" should be "+U+")"),ve(P.length,"times",[],(je=function(Fe){var we,ot=R,at=R;return null==Fe&&(Fe=R),ot=zt(we=I["$[]"](Fe))?we:(ve(I,"[]=",r.to_a(at=[Fe,[]])),at[function he(G,Ve){return"number"==typeof G&&"number"==typeof Ve?G-Ve:G["$-"](Ve)}(at.length,1)]),ot["$<<"](P.$at(Fe))},je.$$s=de,je.$$arity=1,je))},u.$$s=v,u.$$arity=1,u)),I)},V.$$arity=0),r.def(Ye,"$uniq",_e=function(){var u=_e.$$p,v=u||R,I=this;u&&(_e.$$p=null),u&&(_e.$$p=null);var P,de,be,je,U=Oe([],{});if(v===R)for(P=0,de=I.length;P<de;P++)void 0===r.hash_get(U,be=I[P])&&r.hash_put(U,be,be);else for(P=0,de=I.length;P<de;P++)je=r.yield1(v,be=I[P]),void 0===r.hash_get(U,je)&&r.hash_put(U,je,be);return tt(U.$values(),I.$class())},_e.$$arity=0),r.def(Ye,"$uniq!",Me=function(){var K=Me.$$p,u=K||R,v=this;K&&(Me.$$p=null),K&&(Me.$$p=null);var P,de,be,je,I=v.length,U=Oe([],{});for(P=0,de=I;P<de;P++)be=v[P],je=u===R?be:r.yield1(u,be),void 0!==r.hash_get(U,je)?(v.splice(P,1),de--,P--):r.hash_put(U,je,be);return v.length===I?R:v},Me.$$arity=0),r.def(Ye,"$unshift",Te=function(u){for(var I,U=this,P=(I=r.slice.call(arguments,0,arguments.length)).length-1;P>=0;P--)U.unshift(I[P]);return U},Te.$$arity=-1),r.alias(Ye,"prepend","unshift"),r.def(Ye,"$values_at",et=function(u){var v,U,P=this,de=R;return v=r.slice.call(arguments,0,arguments.length),de=[],ve(v,"each",[],((U=function(be){var Fe,je=U.$$s||this,Ke=R,we=R,ot=R;return null==be&&(be=R),zt(be["$is_a?"](F(pe,"Range")))?(Ke=F(pe,"Opal").$coerce_to(be.$last(),F(pe,"Integer"),"to_int"),(we=F(pe,"Opal").$coerce_to(be.$first(),F(pe,"Integer"),"to_int"))<0?(we+=je.length,R):(Ke<0&&(Ke+=je.length),be["$exclude_end?"]()&&Ke--,Ke<we?R:ve(we,"upto",[Ke],((Fe=function(at){return null==at&&(at=R),de["$<<"]((Fe.$$s||this).$at(at))}).$$s=je,Fe.$$arity=1,Fe)))):(ot=F(pe,"Opal").$coerce_to(be,F(pe,"Integer"),"to_int"),de["$<<"](je.$at(ot)))}).$$s=P,U.$$arity=1,U)),de},et.$$arity=-1),r.def(Ye,"$zip",ct=function(u){var U,P,de,v=ct.$$p,I=v||R,be=this;v&&(ct.$$p=null),v&&(ct.$$p=null),U=r.slice.call(arguments,0,arguments.length);var Ke,we,ot,at,vt,je=[],Fe=be.length;for(at=0,vt=(P=U).length;at<vt;at++)if(!(we=P[at]).$$is_array){if(we.$$is_enumerator){P[at]=we.$size()===1/0?we.$take(Fe):we.$to_a();continue}P[at]=(zt(de=F(pe,"Opal")["$coerce_to?"](we,F(pe,"Array"),"to_ary"))?de:F(pe,"Opal")["$coerce_to!"](we,F(pe,"Enumerator"),"each")).$to_a()}for(ot=0;ot<Fe;ot++){for(Ke=[be[ot]],at=0,vt=P.length;at<vt;at++)null==(we=P[at][ot])&&(we=R),Ke[at+1]=we;je[ot]=Ke}if(I!==R){for(ot=0;ot<Fe;ot++)I(je[ot]);return R}return je},ct.$$arity=-1),r.defs(Ye,"$inherited",it=function(u){u.$$prototype.$to_a=function(){return this.slice(0,this.length)}},it.$$arity=1),r.def(Ye,"$instance_variables",Ie=function(){var u,v=Ie.$$p,U=this,P=R,de=R,be=R;for(v&&(Ie.$$p=null),de=0,be=arguments.length,P=new Array(be);de<be;de++)P[de]=arguments[de];return ve(ve(U,r.find_super_dispatcher(U,"instance_variables",Ie,!1),P,v),"reject",[],((u=function(je){var Ke;return null==je&&(je=R),zt(Ke=/^@\d+$/.test(je))?Ke:je["$=="]("@length")}).$$s=U,u.$$arity=1,u))},Ie.$$arity=0),F(pe,"Opal").$pristine(Ye.$singleton_class(),"allocate"),F(pe,"Opal").$pristine(Ye,"copy_instance_variables","initialize_dup"),r.def(Ye,"$pack",Se=function(u){var U=this;return r.slice.call(arguments,0,arguments.length),U.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Se.$$arity=-1),R&&"pack"}(Re[0],0,Re)},Opal.modules["corelib/hash"]=function(r){function Ne(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe>=ve:Oe["$>="](ve)}function Ze(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe-ve:Oe["$-"](ve)}var J,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,G,Ve,Be=r.top,he=[],gt=r.nil,R=r.const_get_relative,ke=r.klass,st=r.send,Ge=r.hash2,zt=r.truthy;return r.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),Be.$require("corelib/enumerable"),J=he,G=ke(he[0],null,"Hash"),Ve=[G].concat(J),G.$include(R(Ve,"Enumerable")),G.$$prototype.$$is_hash=!0,r.defs(G,"$[]",ft=function(j){var g,C,N,w=this,B=(g=r.slice.call(arguments,0,arguments.length)).length;if(1===B){if((C=R(Ve,"Opal")["$coerce_to?"](g["$[]"](0),R(Ve,"Hash"),"to_hash"))!==gt)return w.$allocate()["$merge!"](C);for((g=R(Ve,"Opal")["$coerce_to?"](g["$[]"](0),R(Ve,"Array"),"to_ary"))===gt&&w.$raise(R(Ve,"ArgumentError"),"odd number of arguments for Hash"),B=g.length,C=w.$allocate(),N=0;N<B;N++)if(g[N].$$is_array)switch(g[N].length){case 1:C.$store(g[N][0],gt);break;case 2:C.$store(g[N][0],g[N][1]);break;default:w.$raise(R(Ve,"ArgumentError"),"invalid number of elements ("+g[N].length+" for 1..2)")}return C}for(B%2!=0&&w.$raise(R(Ve,"ArgumentError"),"odd number of arguments for Hash"),C=w.$allocate(),N=0;N<B;N+=2)C.$store(g[N],g[N+1]);return C},ft.$$arity=-1),r.defs(G,"$allocate",Ye=function(){var g=new this.$$constructor;return r.hash_init(g),g.$$none=gt,g.$$proc=gt,g},Ye.$$arity=0),r.defs(G,"$try_convert",pe=function(h){return R(Ve,"Opal")["$coerce_to?"](h,R(Ve,"Hash"),"to_hash")},pe.$$arity=1),r.def(G,"$initialize",De=function(h){var g=De.$$p,w=g||gt,C=this;return g&&(De.$$p=null),g&&(De.$$p=null),void 0!==h&&w!==gt&&C.$raise(R(Ve,"ArgumentError"),"wrong number of arguments (1 for 0)"),C.$$none=void 0===h?gt:h,C.$$proc=w,C},De.$$arity=-1),r.def(G,"$==",Ce=function(j){var h=this;if(h===j)return!0;if(!j.$$is_hash||h.$$keys.length!==j.$$keys.length)return!1;for(var B,N,x,g=0,w=h.$$keys,C=w.length;g<C;g++)if((B=w[g]).$$is_string?(N=h.$$smap[B],x=j.$$smap[B]):(N=B.value,x=r.hash_get(j,B.key)),void 0===x||!N["$eql?"](x))return!1;return!0},Ce.$$arity=1),r.def(G,"$>=",lt=function(j){var h,w=gt;return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),!(this.$$keys.length<j.$$keys.length)&&(w=!0,st(j,"each",[],((h=function(C,B){var x;null==C&&(C=gt),null==B&&(B=gt),null!=(x=(h.$$s||this).$fetch(C,null))&&x===B||(w=!1)}).$$s=this,h.$$arity=2,h)),w)},lt.$$arity=1),r.def(G,"$>",xt=function(j){return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),!(this.$$keys.length<=j.$$keys.length)&&Ne(this,j)},xt.$$arity=1),r.def(G,"$<",At=function(j){return function Je(Oe,ve){return"number"==typeof Oe&&"number"==typeof ve?Oe>ve:Oe["$>"](ve)}(j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),this)},At.$$arity=1),r.def(G,"$<=",ht=function(j){return Ne(j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),this)},ht.$$arity=1),r.def(G,"$[]",pt=function(j){var g=r.hash_get(this,j);return void 0!==g?g:this.$default(j)},pt.$$arity=1),r.def(G,"$[]=",St=function(j,h){return r.hash_put(this,j,h),h},St.$$arity=2),r.def(G,"$assoc",Rt=function(h){for(var N,w=0,C=this.$$keys,B=C.length;w<B;w++)if((N=C[w]).$$is_string){if(N["$=="](h))return[N,this.$$smap[N]]}else if(N.key["$=="](h))return[N.key,N.value];return gt},Rt.$$arity=1),r.def(G,"$clear",Et=function(){return r.hash_init(this),this},Et.$$arity=0),r.def(G,"$clone",Ft=function(){var g=new this.$$class;return r.hash_init(g),r.hash_clone(this,g),g},Ft.$$arity=0),r.def(G,"$compact",qt=function(){for(var N,x,g=r.hash(),w=0,C=this.$$keys,B=C.length;w<B;w++)(N=C[w]).$$is_string?x=this.$$smap[N]:(x=N.value,N=N.key),x!==gt&&r.hash_put(g,N,x);return g},qt.$$arity=0),r.def(G,"$compact!",Ct=function(){for(var B,N,j=this,h=!1,g=0,w=j.$$keys,C=w.length;g<C;g++)(B=w[g]).$$is_string?N=j.$$smap[B]:(N=B.value,B=B.key),N===gt&&void 0!==r.hash_delete(j,B)&&(h=!0,C--,g--);return h?j:gt},Ct.$$arity=0),r.def(G,"$compare_by_identity",It=function(){var g,w,C,N,h=this,B=h.$$keys;if(h.$$by_identity)return h;if(0===h.$$keys.length)return h.$$by_identity=!0,h;for(N=Ge([],{}).$compare_by_identity(),g=0,w=B.length;g<w;g++)(C=B[g]).$$is_string||(C=C.key),r.hash_put(N,C,r.hash_get(h,C));return h.$$by_identity=!0,h.$$map=N.$$map,h.$$smap=N.$$smap,h},It.$$arity=0),r.def(G,"$compare_by_identity?",Pt=function(){return!0===this.$$by_identity},Pt.$$arity=0),r.def(G,"$default",Mt=function(j){var h=this;return void 0!==j&&h.$$proc!==gt&&void 0!==h.$$proc?h.$$proc.$call(h,j):void 0===h.$$none?gt:h.$$none},Mt.$$arity=-1),r.def(G,"$default=",jt=function(j){return this.$$proc=gt,this.$$none=j,j},jt.$$arity=1),r.def(G,"$default_proc",D=function(){return void 0!==this.$$proc?this.$$proc:gt},D.$$arity=0),r.def(G,"$default_proc=",se=function(j){var h=this,g=j;return g!==gt&&(g=R(Ve,"Opal")["$coerce_to!"](g,R(Ve,"Proc"),"to_proc"))["$lambda?"]()&&2!==g.$arity().$abs()&&h.$raise(R(Ve,"TypeError"),"default_proc takes two arguments"),h.$$none=gt,h.$$proc=g,j},se.$$arity=1),r.def(G,"$delete",ue=function(j){var h=ue.$$p,g=h||gt;h&&(ue.$$p=null),h&&(ue.$$p=null);var C=r.hash_delete(this,j);return void 0!==C?C:g!==gt?r.yield1(g,j):gt},ue.$$arity=1),r.def(G,"$delete_if",ge=function(){var w,h=ge.$$p,g=h||gt,C=this;if(h&&(ge.$$p=null),h&&(ge.$$p=null),!zt(g))return st(C,"enum_for",["delete_if"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var f,L,ae,B=0,N=C.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),!1!==(ae=g(f,L))&&ae!==gt&&void 0!==r.hash_delete(C,f)&&(x--,B--);return C},ge.$$arity=0),r.alias(G,"dup","clone"),r.def(G,"$dig",Le=function(h,g){var C,B=this,N=gt;return C=r.slice.call(arguments,1,arguments.length),(N=B["$[]"](h))===gt||0===C.length?N:(zt(N["$respond_to?"]("dig"))||B.$raise(R(Ve,"TypeError"),N.$class()+" does not have #dig method"),st(N,"dig",r.to_a(C)))},Le.$$arity=-2),r.def(G,"$each",Ue=function(){var w,h=Ue.$$p,g=h||gt,C=this;if(h&&(Ue.$$p=null),h&&(Ue.$$p=null),!zt(g))return st(C,"enum_for",["each"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var f,L,B=0,N=C.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),r.yield1(g,[f,L]);return C},Ue.$$arity=0),r.def(G,"$each_key",qe=function(){var w,h=qe.$$p,g=h||gt,C=this;if(h&&(qe.$$p=null),h&&(qe.$$p=null),!zt(g))return st(C,"enum_for",["each_key"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var f,B=0,N=C.$$keys,x=N.length;B<x;B++)g((f=N[B]).$$is_string?f:f.key);return C},qe.$$arity=0),r.alias(G,"each_pair","each"),r.def(G,"$each_value",wt=function(){var w,h=wt.$$p,g=h||gt,C=this;if(h&&(wt.$$p=null),h&&(wt.$$p=null),!zt(g))return st(C,"enum_for",["each_value"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var f,B=0,N=C.$$keys,x=N.length;B<x;B++)g((f=N[B]).$$is_string?C.$$smap[f]:f.value);return C},wt.$$arity=0),r.def(G,"$empty?",Nt=function(){return 0===this.$$keys.length},Nt.$$arity=0),r.alias(G,"eql?","=="),r.def(G,"$fetch",Bt=function(h,g){var w=Bt.$$p,C=w||gt,B=this;w&&(Bt.$$p=null),w&&(Bt.$$p=null);var N=r.hash_get(B,h);return void 0!==N?N:C!==gt?C(h):void 0!==g?g:B.$raise(R(Ve,"KeyError").$new("key not found: "+h.$inspect(),Ge(["key","receiver"],{key:h,receiver:B})))},Bt.$$arity=-2),r.def(G,"$fetch_values",Ut=function(h){var C,N,g=Ut.$$p,w=g||gt,x=this;return g&&(Ut.$$p=null),g&&(Ut.$$p=null),C=r.slice.call(arguments,0,arguments.length),st(C,"map",[],((N=function(f){return null==f&&(f=gt),st(N.$$s||this,"fetch",[f],w.$to_proc())}).$$s=x,N.$$arity=1,N))},Ut.$$arity=-1),r.def(G,"$flatten",Vt=function(h){null==h&&(h=1),h=R(Ve,"Opal")["$coerce_to!"](h,R(Ve,"Integer"),"to_int");for(var x,f,w=[],C=0,B=this.$$keys,N=B.length;C<N;C++)if((x=B[C]).$$is_string?f=this.$$smap[x]:(f=x.value,x=x.key),w.push(x),f.$$is_array){if(1===h){w.push(f);continue}w=w.concat(f.$flatten(h-2))}else w.push(f);return w},Vt.$$arity=-1),r.def(G,"$has_key?",Jt=function(j){return void 0!==r.hash_get(this,j)},Jt.$$arity=1),r.def(G,"$has_value?",Kt=function(j){for(var B,g=0,w=this.$$keys,C=w.length;g<C;g++)if(((B=w[g]).$$is_string?this.$$smap[B]:B.value)["$=="](j))return!0;return!1},Kt.$$arity=1),r.def(G,"$hash",Wt=function(){var B,h=this,g=void 0===r.hash_ids,w=h.$object_id(),C=["Hash"];try{if(g&&(r.hash_ids=Object.create(null)),r[w])return"self";for(B in r.hash_ids)if(h["$eql?"](r.hash_ids[B]))return"self";r.hash_ids[w]=h;for(var x=0,f=h.$$keys,L=f.length;x<L;x++)C.push((B=f[x]).$$is_string?[B,h.$$smap[B].$hash()]:[B.key_hash,B.value.$hash()]);return C.sort().join()}finally{g&&(r.hash_ids=void 0)}},Wt.$$arity=0),r.alias(G,"include?","has_key?"),r.def(G,"$index",Qt=function(h){for(var N,x,w=0,C=this.$$keys,B=C.length;w<B;w++)if((N=C[w]).$$is_string?x=this.$$smap[N]:(x=N.value,N=N.key),x["$=="](h))return N;return gt},Qt.$$arity=1),r.def(G,"$indexes",$r=function(h){for(var w,L,C=this,B=[],N=0,x=(w=r.slice.call(arguments,0,arguments.length)).length;N<x;N++)void 0!==(L=r.hash_get(C,w[N]))?B.push(L):B.push(C.$default());return B},$r.$$arity=-1),r.alias(G,"indices","indexes"),r.def(G,"$inspect",Ot=function(){var h=this,g=void 0===i,w=h.$object_id(),C=[];try{if(g&&(i={}),i.hasOwnProperty(w))return"{...}";i[w]=!0;for(var f,L,B=0,N=h.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=h.$$smap[f]:(L=f.value,f=f.key),C.push(f.$inspect()+"=>"+L.$inspect());return"{"+C.join(", ")+"}"}finally{g&&(i=void 0)}},Ot.$$arity=0),r.def(G,"$invert",Xt=function(){for(var N,x,g=r.hash(),w=0,C=this.$$keys,B=C.length;w<B;w++)(N=C[w]).$$is_string?x=this.$$smap[N]:(x=N.value,N=N.key),r.hash_put(g,x,N);return g},Xt.$$arity=0),r.def(G,"$keep_if",Ht=function(){var w,h=Ht.$$p,g=h||gt,C=this;if(h&&(Ht.$$p=null),h&&(Ht.$$p=null),!zt(g))return st(C,"enum_for",["keep_if"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var f,L,ae,B=0,N=C.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),(!1===(ae=g(f,L))||ae===gt)&&void 0!==r.hash_delete(C,f)&&(x--,B--);return C},Ht.$$arity=0),r.alias(G,"key","index"),r.alias(G,"key?","has_key?"),r.def(G,"$keys",er=function(){for(var N,g=[],w=0,C=this.$$keys,B=C.length;w<B;w++)g.push((N=C[w]).$$is_string?N:N.key);return g},er.$$arity=0),r.def(G,"$length",ar=function(){return this.$$keys.length},ar.$$arity=0),r.alias(G,"member?","has_key?"),r.def(G,"$merge",or=function(h){var g=or.$$p,w=g||gt;return g&&(or.$$p=null),g&&(or.$$p=null),st(this.$dup(),"merge!",[h],w.$to_proc())},or.$$arity=1),r.def(G,"$merge!",cr=function(j){var h=cr.$$p,g=h||gt,w=this;h&&(cr.$$p=null),h&&(cr.$$p=null),j.$$is_hash||(j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"));var C,x,f,L,B=j.$$keys,N=B.length;if(g===gt){for(C=0;C<N;C++)(x=B[C]).$$is_string?L=j.$$smap[x]:(L=x.value,x=x.key),r.hash_put(w,x,L);return w}for(C=0;C<N;C++)(x=B[C]).$$is_string?L=j.$$smap[x]:(L=x.value,x=x.key),void 0!==(f=r.hash_get(w,x))?r.hash_put(w,x,g(x,f,L)):r.hash_put(w,x,L);return w},cr.$$arity=1),r.def(G,"$rassoc",e=function(h){for(var N,x,w=0,C=this.$$keys,B=C.length;w<B;w++)if((N=C[w]).$$is_string?x=this.$$smap[N]:(x=N.value,N=N.key),x["$=="](h))return[N,x];return gt},e.$$arity=1),r.def(G,"$rehash",l=function(){return r.hash_rehash(this),this},l.$$arity=0),r.def(G,"$reject",O=function(){var w,h=O.$$p,g=h||gt,C=this;if(h&&(O.$$p=null),h&&(O.$$p=null),!zt(g))return st(C,"enum_for",["reject"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var L,ae,Pe,B=r.hash(),N=0,x=C.$$keys,f=x.length;N<f;N++)(L=x[N]).$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),(!1===(Pe=g(L,ae))||Pe===gt)&&r.hash_put(B,L,ae);return B},O.$$arity=0),r.def(G,"$reject!",xe=function(){var g,j=xe.$$p,h=j||gt,w=this;if(j&&(xe.$$p=null),j&&(xe.$$p=null),!zt(h))return st(w,"enum_for",["reject!"],((g=function(){return(g.$$s||this).$size()}).$$s=w,g.$$arity=0,g));for(var f,L,ae,C=!1,B=0,N=w.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=w.$$smap[f]:(L=f.value,f=f.key),!1!==(ae=h(f,L))&&ae!==gt&&void 0!==r.hash_delete(w,f)&&(C=!0,x--,B--);return C?w:gt},xe.$$arity=0),r.def(G,"$replace",Xe=function(h){var g=this,w=gt;h=R(Ve,"Opal")["$coerce_to!"](h,R(Ve,"Hash"),"to_hash"),r.hash_init(g);for(var x,L,C=0,B=h.$$keys,N=B.length;C<N;C++)(x=B[C]).$$is_string?L=h.$$smap[x]:(L=x.value,x=x.key),r.hash_put(g,x,L);return zt(h.$default_proc())?(w=[h.$default_proc()],st(g,"default_proc=",r.to_a(w)),Ze(w.length,1)):(w=[h.$default()],st(g,"default=",r.to_a(w)),Ze(w.length,1)),g},Xe.$$arity=1),r.def(G,"$select",ie=function(){var w,h=ie.$$p,g=h||gt,C=this;if(h&&(ie.$$p=null),h&&(ie.$$p=null),!zt(g))return st(C,"enum_for",["select"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var L,ae,Pe,B=r.hash(),N=0,x=C.$$keys,f=x.length;N<f;N++)(L=x[N]).$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),!1!==(Pe=g(L,ae))&&Pe!==gt&&r.hash_put(B,L,ae);return B},ie.$$arity=0),r.def(G,"$select!",A=function(){var g,j=A.$$p,h=j||gt,w=this;if(j&&(A.$$p=null),j&&(A.$$p=null),!zt(h))return st(w,"enum_for",["select!"],((g=function(){return(g.$$s||this).$size()}).$$s=w,g.$$arity=0,g));for(var f,L,ae,C=gt,B=0,N=w.$$keys,x=N.length;B<x;B++)(f=N[B]).$$is_string?L=w.$$smap[f]:(L=f.value,f=f.key),(!1===(ae=h(f,L))||ae===gt)&&(void 0!==r.hash_delete(w,f)&&(x--,B--),C=w);return C},A.$$arity=0),r.def(G,"$shift",$e=function(){var w,h=this,g=h.$$keys;return g.length>0?[w=(w=g[0]).$$is_string?w:w.key,r.hash_delete(h,w)]:h.$default(gt)},$e.$$arity=0),r.alias(G,"size","length"),r.def(G,"$slice",$=function(h){var w,C=this;w=r.slice.call(arguments,0,arguments.length);for(var B=r.hash(),N=0,x=w.length;N<x;N++){var f=w[N],L=r.hash_get(C,f);void 0!==L&&r.hash_put(B,f,L)}return B},$.$$arity=-1),r.alias(G,"store","[]="),r.def(G,"$to_a",n=function(){for(var N,x,g=[],w=0,C=this.$$keys,B=C.length;w<B;w++)(N=C[w]).$$is_string?x=this.$$smap[N]:(x=N.value,N=N.key),g.push([N,x]);return g},n.$$arity=0),r.def(G,"$to_h",y=function(){var h=this;if(h.$$class===r.Hash)return h;var g=new r.Hash;return r.hash_init(g),r.hash_clone(h,g),g},y.$$arity=0),r.def(G,"$to_hash",W=function(){return this},W.$$arity=0),r.def(G,"$to_proc",oe=function(){var h;return st(this,"proc",[],((h=function(w){var C=h.$$s||this;return null==w&&C.$raise(R(Ve,"ArgumentError"),"no key given"),C["$[]"](w)}).$$s=this,h.$$arity=-1,h))},oe.$$arity=0),r.alias(G,"to_s","inspect"),r.def(G,"$transform_keys",b=function(){var w,h=b.$$p,g=h||gt,C=this;if(h&&(b.$$p=null),h&&(b.$$p=null),!zt(g))return st(C,"enum_for",["transform_keys"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var L,ae,B=r.hash(),N=0,x=C.$$keys,f=x.length;N<f;N++)(L=x[N]).$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),L=r.yield1(g,L),r.hash_put(B,L,ae);return B},b.$$arity=0),r.def(G,"$transform_keys!",_=function(){var g,j=_.$$p,h=j||gt,w=this;if(j&&(_.$$p=null),j&&(_.$$p=null),!zt(h))return st(w,"enum_for",["transform_keys!"],((g=function(){return(g.$$s||this).$size()}).$$s=w,g.$$arity=0,g));var B,x,f,L,C=r.slice.call(w.$$keys),N=C.length;for(B=0;B<N;B++)(x=C[B]).$$is_string?f=w.$$smap[x]:(f=x.value,x=x.key),L=r.yield1(h,x),r.hash_delete(w,x),r.hash_put(w,L,f);return w},_.$$arity=0),r.def(G,"$transform_values",c=function(){var w,h=c.$$p,g=h||gt,C=this;if(h&&(c.$$p=null),h&&(c.$$p=null),!zt(g))return st(C,"enum_for",["transform_values"],((w=function(){return(w.$$s||this).$size()}).$$s=C,w.$$arity=0,w));for(var L,ae,B=r.hash(),N=0,x=C.$$keys,f=x.length;N<f;N++)(L=x[N]).$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),ae=r.yield1(g,ae),r.hash_put(B,L,ae);return B},c.$$arity=0),r.def(G,"$transform_values!",t=function(){var g,j=t.$$p,h=j||gt,w=this;if(j&&(t.$$p=null),j&&(t.$$p=null),!zt(h))return st(w,"enum_for",["transform_values!"],((g=function(){return(g.$$s||this).$size()}).$$s=w,g.$$arity=0,g));for(var x,f,C=0,B=w.$$keys,N=B.length;C<N;C++)(x=B[C]).$$is_string?f=w.$$smap[x]:(f=x.value,x=x.key),f=r.yield1(h,f),r.hash_put(w,x,f);return w},t.$$arity=0),r.alias(G,"update","merge!"),r.alias(G,"value?","has_value?"),r.alias(G,"values_at","indexes"),r.def(G,"$values",s=function(){for(var N,g=[],w=0,C=this.$$keys,B=C.length;w<B;w++)g.push((N=C[w]).$$is_string?this.$$smap[N]:N.value);return g},s.$$arity=0),gt&&"values"},Opal.modules["corelib/number"]=function(r){function Ne(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft>Ye:ft["$>"](Ye)}function Je(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft<Ye:ft["$<"](Ye)}function Ze(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft+Ye:ft["$+"](Ye)}function Be(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft-Ye:ft["$-"](Ye)}function he(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft/Ye:ft["$/"](Ye)}function gt(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft*Ye:ft["$*"](Ye)}var ft,Ye,pe,lt,ht,pt,St,At,De,Ce,Gt=r.top,F=[],ke=r.nil,st=r.const_get_qualified,Ge=r.const_get_relative,ve=r.klass,J=r.truthy,G=r.send,Ve=r.hash2;return r.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),Gt.$require("corelib/numeric"),function(ft,Ye,pe){var lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,ge,Le,Ue,qe,wt,Nt,Bt,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,l,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,B,N,x,f,L,ae,Pe,ze,le,d,z,p,De=ve(ft,Ye,"Number"),Ce=[De].concat(pe);Ge(Ce,"Opal").$bridge(Number,De),r.defineProperty(De.$$prototype,"$$is_number",!0),De.$$is_number_class=!0,d=r.get_singleton_class(De),p=[d].concat(Ce),r.def(d,"$allocate",z=function(){return this.$raise(Ge(p,"TypeError"),"allocator undefined for "+this.$name())},z.$$arity=0),r.udef(d,"$new"),r.def(De,"$coerce",lt=function(m){var p=this;if(m===ke)p.$raise(Ge(Ce,"TypeError"),"can't convert "+m.$class()+" into Float");else{if(m.$$is_string)return[p.$Float(m),p];if(m["$respond_to?"]("to_f"))return[Ge(Ce,"Opal")["$coerce_to!"](m,Ge(Ce,"Float"),"to_f"),p];if(m.$$is_number)return[m,p];p.$raise(Ge(Ce,"TypeError"),"can't convert "+m.$class()+" into Float")}},lt.$$arity=1),r.def(De,"$__id__",xt=function(){return 2*this+1},xt.$$arity=0),r.alias(De,"object_id","__id__"),r.def(De,"$+",At=function(d){return d.$$is_number?this+d:this.$__coerced__("+",d)},At.$$arity=1),r.def(De,"$-",ht=function(d){return d.$$is_number?this-d:this.$__coerced__("-",d)},ht.$$arity=1),r.def(De,"$*",pt=function(d){return d.$$is_number?this*d:this.$__coerced__("*",d)},pt.$$arity=1),r.def(De,"$/",St=function(d){return d.$$is_number?this/d:this.$__coerced__("/",d)},St.$$arity=1),r.alias(De,"fdiv","/"),r.def(De,"$%",Rt=function(d){var m=this;return d.$$is_number?d==-1/0?d:0!=d?d<0||m<0?(m%d+d)%d:m%d:void m.$raise(Ge(Ce,"ZeroDivisionError"),"divided by 0"):m.$__coerced__("%",d)},Rt.$$arity=1),r.def(De,"$&",Et=function(d){return d.$$is_number?this&d:this.$__coerced__("&",d)},Et.$$arity=1),r.def(De,"$|",Ft=function(d){return d.$$is_number?this|d:this.$__coerced__("|",d)},Ft.$$arity=1),r.def(De,"$^",qt=function(d){return d.$$is_number?this^d:this.$__coerced__("^",d)},qt.$$arity=1),r.def(De,"$<",Ct=function(d){return d.$$is_number?this<d:this.$__coerced__("<",d)},Ct.$$arity=1),r.def(De,"$<=",It=function(d){return d.$$is_number?this<=d:this.$__coerced__("<=",d)},It.$$arity=1),r.def(De,"$>",Pt=function(d){return d.$$is_number?this>d:this.$__coerced__(">",d)},Pt.$$arity=1),r.def(De,"$>=",Mt=function(d){return d.$$is_number?this>=d:this.$__coerced__(">=",d)},Mt.$$arity=1),r.def(De,"$<=>",jt=function(d){try{return function(d,m){return m.$$is_number?isNaN(d)||isNaN(m)?ke:d>m?1:d<m?-1:0:d.$__coerced__("<=>",m)}(this,d)}catch(p){if(!r.rescue(p,[Ge(Ce,"ArgumentError")]))throw p;try{return ke}finally{r.pop_exception()}}},jt.$$arity=1),r.def(De,"$<<",D=function(d){return(d=Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int"))>0?this<<d:this>>-d},D.$$arity=1),r.def(De,"$>>",se=function(d){return(d=Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int"))>0?this>>d:this<<-d},se.$$arity=1),r.def(De,"$[]",ue=function(d){return(d=Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int"))<0?0:d>=32?this<0?1:0:this>>d&1},ue.$$arity=1),r.def(De,"$+@",ge=function(){return+this},ge.$$arity=0),r.def(De,"$-@",Le=function(){return-this},Le.$$arity=0),r.def(De,"$~",Ue=function(){return~this},Ue.$$arity=0),r.def(De,"$**",qe=function(d){var m,p,z=this;return J(Ge(Ce,"Integer")["$==="](d))?J(J(m=Ge(Ce,"Integer")["$==="](z)["$!"]())?m:Ne(d,0))?Math.pow(z,d):Ge(Ce,"Rational").$new(z,1)["$**"](d):J((m=Je(z,0))?J(p=Ge(Ce,"Float")["$==="](d))?p:Ge(Ce,"Rational")["$==="](d):Je(z,0))?Ge(Ce,"Complex").$new(z,0)["$**"](d.$to_f()):J(null!=d.$$is_number)?Math.pow(z,d):z.$__coerced__("**",d)},qe.$$arity=1),r.def(De,"$===",wt=function(d){return d.$$is_number?this.valueOf()===d.valueOf():!!d["$respond_to?"]("==")&&d["$=="](this)},wt.$$arity=1),r.def(De,"$==",Nt=function(d){return d.$$is_number?this.valueOf()===d.valueOf():!!d["$respond_to?"]("==")&&d["$=="](this)},Nt.$$arity=1),r.def(De,"$abs",Bt=function(){return Math.abs(this)},Bt.$$arity=0),r.def(De,"$abs2",Ut=function(){return Math.abs(this*this)},Ut.$$arity=0),r.def(De,"$allbits?",Vt=function(d){return(this&(d=Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int")))==d},Vt.$$arity=1),r.def(De,"$anybits?",Jt=function(d){return 0!=(this&Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int"))},Jt.$$arity=1),r.def(De,"$angle",Kt=function(){var m=this;return J(m["$nan?"]())?m:0==m?1/m>0?0:Math.PI:m<0?Math.PI:0},Kt.$$arity=0),r.alias(De,"arg","angle"),r.alias(De,"phase","angle"),r.def(De,"$bit_length",Wt=function(){var m=this;if(J(Ge(Ce,"Integer")["$==="](m))||m.$raise(Ge(Ce,"NoMethodError").$new("undefined method `bit_length` for "+m+":Float","bit_length")),0===m||-1===m)return 0;for(var p=0,z=m<0?~m:m;0!=z;)p+=1,z>>>=1;return p},Wt.$$arity=0),r.def(De,"$ceil",Qt=function(m){null==m&&(m=0);var z=this.$to_f();if(z%1==0&&m>=0)return z;var Z=Math.pow(10,m),re=Math.ceil(z*Z)/Z;return z%1==0&&(re=Math.round(re)),re},Qt.$$arity=-1),r.def(De,"$chr",$r=function(m){return String.fromCharCode(this)},$r.$$arity=-1),r.def(De,"$denominator",Ot=function(){var m,p=Ot.$$p,Z=this,re=ke,ye=ke,q=ke;for(p&&(Ot.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(J(m=Z["$nan?"]())?m:Z["$infinite?"]())?1:G(Z,r.find_super_dispatcher(Z,"denominator",Ot,!1),re,p)},Ot.$$arity=0),r.def(De,"$downto",Xt=function(m){var Z,p=Xt.$$p,z=p||ke,re=this;if(p&&(Xt.$$p=null),p&&(Xt.$$p=null),z===ke)return G(re,"enum_for",["downto",m],((Z=function(){var q=Z.$$s||this;return J(Ge(Ce,"Numeric")["$==="](m))||q.$raise(Ge(Ce,"ArgumentError"),"comparison of "+q.$class()+" with "+m.$class()+" failed"),J(Ne(m,q))?0:Ze(Be(q,m),1)}).$$s=re,Z.$$arity=0,Z));m.$$is_number||re.$raise(Ge(Ce,"ArgumentError"),"comparison of "+re.$class()+" with "+m.$class()+" failed");for(var ye=re;ye>=m;ye--)z(ye);return re},Xt.$$arity=1),r.alias(De,"eql?","=="),r.def(De,"$equal?",Ht=function(d){var m;return J(m=this["$=="](d))?m:isNaN(this)&&isNaN(d)},Ht.$$arity=1),r.def(De,"$even?",er=function(){return this%2==0},er.$$arity=0),r.def(De,"$floor",ar=function(m){null==m&&(m=0);var z=this.$to_f();if(z%1==0&&m>=0)return z;var Z=Math.pow(10,m),re=Math.floor(z*Z)/Z;return z%1==0&&(re=Math.round(re)),re},ar.$$arity=-1),r.def(De,"$gcd",or=function(m){J(Ge(Ce,"Integer")["$==="](m))||this.$raise(Ge(Ce,"TypeError"),"not an integer");for(var z=Math.abs(this),Z=Math.abs(m);z>0;){var re=z;z=Z%z,Z=re}return Z},or.$$arity=1),r.def(De,"$gcdlcm",cr=function(m){return[this.$gcd(),this.$lcm()]},cr.$$arity=1),r.def(De,"$integer?",e=function(){return this%1==0},e.$$arity=0),r.def(De,"$is_a?",l=function(d){var p=l.$$p,Z=this,re=ke,ye=ke,q=ke;for(p&&(l.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return!!(J(d["$=="](Ge(Ce,"Integer"))?Ge(Ce,"Integer")["$==="](Z):d["$=="](Ge(Ce,"Integer")))||J(d["$=="](Ge(Ce,"Integer"))?Ge(Ce,"Integer")["$==="](Z):d["$=="](Ge(Ce,"Integer")))||J(d["$=="](Ge(Ce,"Float"))?Ge(Ce,"Float")["$==="](Z):d["$=="](Ge(Ce,"Float"))))||G(Z,r.find_super_dispatcher(Z,"is_a?",l,!1),re,p)},l.$$arity=1),r.alias(De,"kind_of?","is_a?"),r.def(De,"$instance_of?",O=function(d){var p=O.$$p,Z=this,re=ke,ye=ke,q=ke;for(p&&(O.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return!!(J(d["$=="](Ge(Ce,"Integer"))?Ge(Ce,"Integer")["$==="](Z):d["$=="](Ge(Ce,"Integer")))||J(d["$=="](Ge(Ce,"Integer"))?Ge(Ce,"Integer")["$==="](Z):d["$=="](Ge(Ce,"Integer")))||J(d["$=="](Ge(Ce,"Float"))?Ge(Ce,"Float")["$==="](Z):d["$=="](Ge(Ce,"Float"))))||G(Z,r.find_super_dispatcher(Z,"instance_of?",O,!1),re,p)},O.$$arity=1),r.def(De,"$lcm",xe=function(m){var p=this;return J(Ge(Ce,"Integer")["$==="](m))||p.$raise(Ge(Ce,"TypeError"),"not an integer"),0==p||0==m?0:Math.abs(p*m/p.$gcd(m))},xe.$$arity=1),r.alias(De,"magnitude","abs"),r.alias(De,"modulo","%"),r.def(De,"$next",Xe=function(){return this+1},Xe.$$arity=0),r.def(De,"$nobits?",ie=function(d){return 0==(this&Ge(Ce,"Opal")["$coerce_to!"](d,Ge(Ce,"Integer"),"to_int"))},ie.$$arity=1),r.def(De,"$nonzero?",A=function(){return 0==this?ke:this},A.$$arity=0),r.def(De,"$numerator",$e=function(){var m,p=$e.$$p,Z=this,re=ke,ye=ke,q=ke;for(p&&($e.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(J(m=Z["$nan?"]())?m:Z["$infinite?"]())?Z:G(Z,r.find_super_dispatcher(Z,"numerator",$e,!1),re,p)},$e.$$arity=0),r.def(De,"$odd?",$=function(){return this%2!=0},$.$$arity=0),r.def(De,"$ord",n=function(){return this},n.$$arity=0),r.def(De,"$pow",y=function(m,p){var z=this;return 0==z&&z.$raise(Ge(Ce,"ZeroDivisionError"),"divided by 0"),void 0===p?z["$**"](m):(Ge(Ce,"Integer")["$==="](m)||z.$raise(Ge(Ce,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),m<0&&z.$raise(Ge(Ce,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),Ge(Ce,"Integer")["$==="](p)||z.$raise(Ge(Ce,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===p&&z.$raise(Ge(Ce,"ZeroDivisionError"),"divided by 0"),z["$**"](m)["$%"](p))},y.$$arity=-2),r.def(De,"$pred",W=function(){return this-1},W.$$arity=0),r.def(De,"$quo",oe=function(m){var p=oe.$$p,Z=this,re=ke,ye=ke,q=ke;for(p&&(oe.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(Ge(Ce,"Integer")["$==="](Z))?G(Z,r.find_super_dispatcher(Z,"quo",oe,!1),re,p):he(Z,m)},oe.$$arity=1),r.def(De,"$rationalize",b=function(m){var p,z,Z=this,re=ke,ye=ke;return arguments.length>1&&Z.$raise(Ge(Ce,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),J(Ge(Ce,"Integer")["$==="](Z))?Ge(Ce,"Rational").$new(Z,1):J(Z["$infinite?"]())?Z.$raise(Ge(Ce,"FloatDomainError"),"Infinity"):J(Z["$nan?"]())?Z.$raise(Ge(Ce,"FloatDomainError"),"NaN"):J(null==m)?(z=Ge(Ce,"Math").$frexp(Z),re=(p=r.to_ary(z))[0]??ke,ye=p[1]??ke,re=Ge(Ce,"Math").$ldexp(re,st(Ge(Ce,"Float"),"MANT_DIG")).$to_i(),ye=Be(ye,st(Ge(Ce,"Float"),"MANT_DIG")),Ge(Ce,"Rational").$new(gt(2,re),1["$<<"](Be(1,ye))).$rationalize(Ge(Ce,"Rational").$new(1,1["$<<"](Be(1,ye))))):Z.$to_r().$rationalize(m)},b.$$arity=-1),r.def(De,"$remainder",_=function(m){return Be(this,gt(m,he(this,m).$truncate()))},_.$$arity=1),r.def(De,"$round",c=function(m){var p,z,ye,Z=this;if(J(Ge(Ce,"Integer")["$==="](Z))){if(J(null==m)||(J(J(p=Ge(Ce,"Float")["$==="](m))?m["$infinite?"]():p)&&Z.$raise(Ge(Ce,"RangeError"),"Infinity"),m=Ge(Ce,"Opal")["$coerce_to!"](m,Ge(Ce,"Integer"),"to_int"),J(Je(m,st(Ge(Ce,"Integer"),"MIN")))&&Z.$raise(Ge(Ce,"RangeError"),"out of bounds"),J(m>=0)))return Z;if(.415241*(m=m["$-@"]())-.125>Z.$size())return 0;var q=Math.pow(10,m),ee=Math.floor((Math.abs(ee)+q/2)/q)*q;return Z<0?-ee:ee}if(J(J(p=Z["$nan?"]())?null==m:p)&&Z.$raise(Ge(Ce,"FloatDomainError"),"NaN"),m=Ge(Ce,"Opal")["$coerce_to!"](m||0,Ge(Ce,"Integer"),"to_int"),J(function Re(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft<=Ye:ft["$<="](Ye)}(m,0)))J(Z["$nan?"]())?Z.$raise(Ge(Ce,"RangeError"),"NaN"):J(Z["$infinite?"]())&&Z.$raise(Ge(Ce,"FloatDomainError"),"Infinity");else{if(m["$=="](0))return Math.round(Z);if(J(J(p=Z["$nan?"]())?p:Z["$infinite?"]()))return Z}return z=Ge(Ce,"Math").$frexp(Z),ye=(p=r.to_ary(z))[1]??ke,J(function R(ft,Ye){return"number"==typeof ft&&"number"==typeof Ye?ft>=Ye:ft["$>="](Ye)}(m,Be(Ze(st(Ge(Ce,"Float"),"DIG"),2),J(Ne(ye,0))?he(ye,4):Be(he(ye,3),1))))?Z:J(Je(m,(J(Ne(ye,0))?Ze(he(ye,3),1):he(ye,4))["$-@"]()))?0:Math.round(Z*Math.pow(10,m))/Math.pow(10,m)},c.$$arity=-1),r.def(De,"$step",t=function(m,p,z){var ye,q,ee,V,_e,Me,Te,Z=t.$$p,re=Z||ke,et=this,ct=ke,it=ke;if(Z&&(t.$$p=null),Z&&(t.$$p=null),ye=r.slice.call(arguments,0,arguments.length),null==(q=r.extract_kwargs(ye)))q=Ve([],{});else if(!q.$$is_hash)throw r.ArgumentError.$new("expected kwargs");function Ie(){void 0!==_e&&(ee=_e),void 0===ee&&(ee=ke),V===ke&&et.$raise(Ge(Ce,"TypeError"),"step must be numeric"),0===V&&et.$raise(Ge(Ce,"ArgumentError"),"step can't be 0"),void 0!==Me&&(V=Me),(V===ke||null==V)&&(V=1);var ut=V["$<=>"](0);ut===ke&&et.$raise(Ge(Ce,"ArgumentError"),"0 can't be coerced into "+V.$class()),(ee===ke||null==ee)&&(ee=ut>0?st(Ge(Ce,"Float"),"INFINITY"):st(Ge(Ce,"Float"),"INFINITY")["$-@"]()),Ge(Ce,"Opal").$compare(et,ee)}function Se(){if(V>0&&et>ee||V<0&&et<ee)return 0;if(V===1/0||V===-1/0)return 1;var ut=Math.abs,K=Math.floor,u=(ut(et)+ut(ee)+ut(ee-et))/ut(V)*st(Ge(Ce,"Float"),"EPSILON");return u===1/0||u===-1/0?0:(u>.5&&(u=.5),K((ee-et)/V+u)+1)}function We(){if(Ie(),0===V)return 1/0;if(V%1!=0)return Se();if(V>0&&et>ee||V<0&&et<ee)return 0;var ut=Math.ceil,K=Math.abs;return ut((K(et-ee)+1)/K(V))}if(ye.length>0&&(ee=ye[0],ye.splice(0,1)),ye.length>0&&(V=ye[0],ye.splice(0,1)),_e=q.$$smap.to,Me=q.$$smap.by,void 0!==ee&&void 0!==_e&&et.$raise(Ge(Ce,"ArgumentError"),"to is given twice"),void 0!==V&&void 0!==Me&&et.$raise(Ge(Ce,"ArgumentError"),"step is given twice"),re===ke)return ct=[],it=Ve([],{}),void 0!==ee&&ct.push(ee),void 0!==V&&ct.push(V),void 0!==_e&&r.hash_put(it,"to",_e),void 0!==Me&&r.hash_put(it,"by",Me),it["$any?"]()&&ct.push(it),G(et,"enum_for",["step"].concat(r.to_a(ct)),((Te=function(){return We()}).$$s=et,Te.$$arity=0,Te));if(Ie(),0===V)for(;;)re(et);if(et%1!=0||ee%1!=0||V%1!=0){var tt=Se();if(tt>0)if(V===1/0||V===-1/0)re(et);else{var nt,Qe=0;if(V>0)for(;Qe<tt;)ee<(nt=Qe*V+et)&&(nt=ee),re(nt),Qe+=1;else for(;Qe<tt;)ee>(nt=Qe*V+et)&&(nt=ee),re(nt),Qe+=1}}else{var yt=et;if(V>0)for(;yt<=ee;)re(yt),yt+=V;else for(;yt>=ee;)re(yt),yt+=V}return et},t.$$arity=-1),r.alias(De,"succ","next"),r.def(De,"$times",s=function(){var z,m=s.$$p,p=m||ke,Z=this;if(m&&(s.$$p=null),m&&(s.$$p=null),!J(p))return G(Z,"enum_for",["times"],((z=function(){return z.$$s||this}).$$s=Z,z.$$arity=0,z));for(var re=0;re<Z;re++)p(re);return Z},s.$$arity=0),r.def(De,"$to_f",i=function(){return this},i.$$arity=0),r.def(De,"$to_i",j=function(){return parseInt(this,10)},j.$$arity=0),r.alias(De,"to_int","to_i"),r.def(De,"$to_r",h=function(){var m,p,z=this,Z=ke,re=ke;return J(Ge(Ce,"Integer")["$==="](z))?Ge(Ce,"Rational").$new(z,1):(p=Ge(Ce,"Math").$frexp(z),Z=(m=r.to_ary(p))[0]??ke,re=m[1]??ke,Z=Ge(Ce,"Math").$ldexp(Z,st(Ge(Ce,"Float"),"MANT_DIG")).$to_i(),re=Be(re,st(Ge(Ce,"Float"),"MANT_DIG")),gt(Z,st(Ge(Ce,"Float"),"RADIX")["$**"](re)).$to_r())},h.$$arity=0),r.def(De,"$to_s",g=function(m){var p;return null==m&&(m=10),m=Ge(Ce,"Opal")["$coerce_to!"](m,Ge(Ce,"Integer"),"to_int"),J(J(p=Je(m,2))?p:Ne(m,36))&&this.$raise(Ge(Ce,"ArgumentError"),"invalid radix "+m),this.toString(m)},g.$$arity=-1),r.def(De,"$truncate",w=function(m){null==m&&(m=0);var z=this.$to_f();if(z%1==0&&m>=0)return z;var Z=Math.pow(10,m),re=parseInt(z*Z,10)/Z;return z%1==0&&(re=Math.round(re)),re},w.$$arity=-1),r.alias(De,"inspect","to_s"),r.def(De,"$digits",C=function(m){var p=this;null==m&&(m=10),Je(p,0)&&p.$raise(st(Ge(Ce,"Math"),"DomainError"),"out of domain"),m=Ge(Ce,"Opal")["$coerce_to!"](m,Ge(Ce,"Integer"),"to_int"),J(Je(m,2))&&p.$raise(Ge(Ce,"ArgumentError"),"invalid radix "+m);for(var z=p,Z=[];0!==z;)Z.push(z%m),z=parseInt(z/m,10);return Z},C.$$arity=-1),r.def(De,"$divmod",B=function(m){var p,z=B.$$p,re=this,ye=ke,q=ke,ee=ke;for(z&&(B.$$p=null),q=0,ee=arguments.length,ye=new Array(ee);q<ee;q++)ye[q]=arguments[q];return J(J(p=re["$nan?"]())?p:m["$nan?"]())?re.$raise(Ge(Ce,"FloatDomainError"),"NaN"):J(re["$infinite?"]())?re.$raise(Ge(Ce,"FloatDomainError"),"Infinity"):G(re,r.find_super_dispatcher(re,"divmod",B,!1),ye,z)},B.$$arity=1),r.def(De,"$upto",N=function(m){var Z,p=N.$$p,z=p||ke,re=this;if(p&&(N.$$p=null),p&&(N.$$p=null),z===ke)return G(re,"enum_for",["upto",m],((Z=function(){var q=Z.$$s||this;return J(Ge(Ce,"Numeric")["$==="](m))||q.$raise(Ge(Ce,"ArgumentError"),"comparison of "+q.$class()+" with "+m.$class()+" failed"),J(Je(m,q))?0:Ze(Be(m,q),1)}).$$s=re,Z.$$arity=0,Z));m.$$is_number||re.$raise(Ge(Ce,"ArgumentError"),"comparison of "+re.$class()+" with "+m.$class()+" failed");for(var ye=re;ye<=m;ye++)z(ye);return re},N.$$arity=1),r.def(De,"$zero?",x=function(){return 0==this},x.$$arity=0),r.def(De,"$size",f=function(){return 4},f.$$arity=0),r.def(De,"$nan?",L=function(){return isNaN(this)},L.$$arity=0),r.def(De,"$finite?",ae=function(){var d=this;return d!=1/0&&d!=-1/0&&!isNaN(d)},ae.$$arity=0),r.def(De,"$infinite?",Pe=function(){return this==1/0?1:this==-1/0?-1:ke},Pe.$$arity=0),r.def(De,"$positive?",ze=function(){var d=this;return 0!=d&&(d==1/0||1/d>0)},ze.$$arity=0),r.def(De,"$negative?",le=function(){return this==-1/0||1/this<0},le.$$arity=0)}(F[0],Ge(F,"Numeric"),F),r.const_set(F[0],"Fixnum",Ge(F,"Number")),ft=F[0],Ye=Ge(F,"Numeric"),pe=F,Ce=[De=ve(ft,Ye,"Integer")].concat(pe),De.$$is_number_class=!0,lt=r.get_singleton_class(De),At=[lt].concat(Ce),r.def(lt,"$allocate",ht=function(){return this.$raise(Ge(At,"TypeError"),"allocator undefined for "+this.$name())},ht.$$arity=0),r.udef(lt,"$new"),r.def(lt,"$===",pt=function(Rt){return!!Rt.$$is_number&&Rt%1==0},pt.$$arity=1),r.def(lt,"$sqrt",St=function(Et){return(Et=Ge(At,"Opal")["$coerce_to!"](Et,Ge(At,"Integer"),"to_int"))<0&&this.$raise(st(Ge(At,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(Et),10)},St.$$arity=1),r.const_set(Ce[0],"MAX",Math.pow(2,30)-1),r.const_set(Ce[0],"MIN",-Math.pow(2,30)),function(ft,Ye,pe){var De=ve(ft,Ye,"Float"),Ce=[De].concat(pe);return De.$$is_number_class=!0,function(lt,xt){var ht,pt,At=[lt].concat(xt);r.def(lt,"$allocate",ht=function(){return this.$raise(Ge(At,"TypeError"),"allocator undefined for "+this.$name())},ht.$$arity=0),r.udef(lt,"$new"),r.def(lt,"$===",pt=function(St){return!!St.$$is_number},pt.$$arity=1)}(r.get_singleton_class(De),Ce),r.const_set(Ce[0],"INFINITY",1/0),r.const_set(Ce[0],"MAX",Number.MAX_VALUE),r.const_set(Ce[0],"MIN",Number.MIN_VALUE),r.const_set(Ce[0],"NAN",NaN),r.const_set(Ce[0],"DIG",15),r.const_set(Ce[0],"MANT_DIG",53),r.const_set(Ce[0],"RADIX",2),r.const_set(Ce[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}(F[0],Ge(F,"Numeric"),F)},Opal.modules["corelib/range"]=function(r){function Ne(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve<=ft:Ve["$<="](ft)}function Je(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve<ft:Ve["$<"](ft)}function Ze(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve>ft:Ve["$>"](ft)}function gt(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve+ft:Ve["$+"](ft)}var Ye,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,pe,De,Gt=r.top,F=[],ke=r.nil,st=r.const_get_qualified,Ge=r.const_get_relative,ve=r.klass,J=r.truthy,G=r.send;return r.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),Gt.$require("corelib/enumerable"),Ye=F,pe=ve(F[0],null,"Range"),De=[pe].concat(Ye),pe.$$prototype.begin=pe.$$prototype.end=pe.$$prototype.excl=ke,pe.$include(Ge(De,"Enumerable")),pe.$$prototype.$$is_range=!0,pe.$attr_reader("begin","end"),r.def(pe,"$initialize",Ce=function(ge,Le,Ue){var qe=this;return null==Ue&&(Ue=!1),J(qe.begin)&&qe.$raise(Ge(De,"NameError"),"'initialize' called twice"),J(ge["$<=>"](Le))||qe.$raise(Ge(De,"ArgumentError"),"bad value for range"),qe.begin=ge,qe.end=Le,qe.excl=Ue},Ce.$$arity=-3),r.def(pe,"$==",lt=function(ue){return!!ue.$$is_range&&this.excl===ue.excl&&this.begin==ue.begin&&this.end==ue.end},lt.$$arity=1),r.def(pe,"$===",xt=function(ue){return this["$include?"](ue)},xt.$$arity=1),r.def(pe,"$cover?",At=function(ue){var ge,Ue,qe=ke;return Ue=this.begin["$<=>"](ue),!!J(J(ge=Ue)?Ne(Ue,0):ge)&&(qe=ue["$<=>"](this.end),J(this.excl)?J(ge=qe)?Je(qe,0):ge:J(ge=qe)?Ne(qe,0):ge)},At.$$arity=1),r.def(pe,"$each",ht=function(){var Ue,Nt,Bt,Ut,ge=ht.$$p,Le=ge||ke,qe=this,wt=ke;if(ge&&(ht.$$p=null),ge&&(ht.$$p=null),Le===ke)return qe.$enum_for("each");if(qe.begin.$$is_number&&qe.end.$$is_number){for((qe.begin%1!=0||qe.end%1!=0)&&qe.$raise(Ge(De,"TypeError"),"can't iterate from Float"),Bt=qe.begin,Ut=qe.end+(J(qe.excl)?0:1);Bt<Ut;Bt++)Le(Bt);return qe}if(qe.begin.$$is_string&&qe.end.$$is_string)return G(qe.begin,"upto",[qe.end,qe.excl],Le.$to_proc()),qe;for(Nt=qe.end,J((wt=qe.begin)["$respond_to?"]("succ"))||qe.$raise(Ge(De,"TypeError"),"can't iterate from "+wt.$class());J(Je(wt["$<=>"](Nt),0));)r.yield1(Le,wt),wt=wt.$succ();return J(J(Ue=qe.excl["$!"]())?wt["$=="](Nt):Ue)&&r.yield1(Le,wt),qe},ht.$$arity=0),r.def(pe,"$eql?",pt=function(ue){var ge,Le;return!!J(Ge(De,"Range")["$==="](ue))&&(J(ge=J(Le=this.excl["$==="](ue["$exclude_end?"]()))?this.begin["$eql?"](ue.$begin()):Le)?this.end["$eql?"](ue.$end()):ge)},pt.$$arity=1),r.def(pe,"$exclude_end?",St=function(){return this.excl},St.$$arity=0),r.def(pe,"$first",Rt=function(ge){var Le=Rt.$$p,qe=this,wt=ke,Nt=ke,Bt=ke;for(Le&&(Rt.$$p=null),Nt=0,Bt=arguments.length,wt=new Array(Bt);Nt<Bt;Nt++)wt[Nt]=arguments[Nt];return J(null==ge)?qe.begin:G(qe,r.find_super_dispatcher(qe,"first",Rt,!1),wt,Le)},Rt.$$arity=-1),r.alias(pe,"include?","cover?"),r.def(pe,"$last",Et=function(ge){return J(null==ge)?this.end:this.$to_a().$last(ge)},Et.$$arity=-1),r.def(pe,"$max",Ft=function(){var ge,Le=Ft.$$p,Ue=Le||ke,qe=this,wt=ke,Nt=ke,Bt=ke;for(Le&&(Ft.$$p=null),Nt=0,Bt=arguments.length,wt=new Array(Bt);Nt<Bt;Nt++)wt[Nt]=arguments[Nt];return Ue!==ke?G(qe,r.find_super_dispatcher(qe,"max",Ft,!1),wt,Le):J(Ze(qe.begin,qe.end))||J(J(ge=qe.excl)?qe.begin["$=="](qe.end):ge)?ke:qe.excl?qe.end-1:qe.end},Ft.$$arity=0),r.alias(pe,"member?","cover?"),r.def(pe,"$min",qt=function(){var ge,Le=qt.$$p,Ue=Le||ke,qe=this,wt=ke,Nt=ke,Bt=ke;for(Le&&(qt.$$p=null),Nt=0,Bt=arguments.length,wt=new Array(Bt);Nt<Bt;Nt++)wt[Nt]=arguments[Nt];return Ue!==ke?G(qe,r.find_super_dispatcher(qe,"min",qt,!1),wt,Le):J(Ze(qe.begin,qe.end))||J(J(ge=qe.excl)?qe.begin["$=="](qe.end):ge)?ke:qe.begin},qt.$$arity=0),r.def(pe,"$size",Ct=function(){var ge,Ue=ke,qe=ke,wt=ke;return Ue=this.begin,qe=this.end,J(this.excl)&&(qe=function Be(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve-ft:Ve["$-"](ft)}(qe,1)),J(J(ge=Ge(De,"Numeric")["$==="](Ue))?Ge(De,"Numeric")["$==="](qe):ge)?J(Je(qe,Ue))?0:(wt=st(Ge(De,"Float"),"INFINITY"),J([Ue.$abs(),qe.$abs()]["$include?"](wt))?wt:(Math.abs(qe-Ue)+1).$to_i()):ke},Ct.$$arity=0),r.def(pe,"$step",It=function(ge){var Le,Ue,qe,wt=It.$$p,Nt=wt||ke,Bt=this,Ut=ke;function Vt(){ge.$$is_number||(ge=Ge(De,"Opal")["$coerce_to!"](ge,Ge(De,"Integer"),"to_int")),ge<0?Bt.$raise(Ge(De,"ArgumentError"),"step can't be negative"):0===ge&&Bt.$raise(Ge(De,"ArgumentError"),"step can't be 0")}return wt&&(It.$$p=null),null==ge&&(ge=1),Nt===ke?G(Bt,"enum_for",["step",ge],((Le=function(){return Vt(),function Jt(){if(!Bt.begin["$respond_to?"]("succ")||Bt.begin.$$is_string&&Bt.end.$$is_string)return ke;if(ge%1==0)return function he(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve/ft:Ve["$/"](ft)}(Bt.$size(),ge).$ceil();var Xt,Kt=Bt.begin,Wt=Bt.end,Qt=Math.abs,$r=Math.floor,Ot=(Qt(Kt)+Qt(Wt)+Qt(Wt-Kt))/Qt(ge)*st(Ge(De,"Float"),"EPSILON");return Ot>.5&&(Ot=.5),Bt.excl?(Xt=$r((Wt-Kt)/ge-Ot))*ge+Kt<Wt&&Xt++:Xt=$r((Wt-Kt)/ge+Ot)+1,Xt}()}).$$s=Bt,Le.$$arity=0,Le)):(Vt(),J(Bt.begin.$$is_number&&Bt.end.$$is_number)?(Ut=0,function(){var Kt=r.new_brk();try{G(Bt,"loop",[],((Ue=function(){var Qt,Wt=Ue.$$s||this;return null==Wt.begin&&(Wt.begin=ke),null==Wt.excl&&(Wt.excl=ke),null==Wt.end&&(Wt.end=ke),Qt=gt(Wt.begin,function Re(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve*ft:Ve["$*"](ft)}(Ut,ge)),J(Wt.excl)?J(function R(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve>=ft:Ve["$>="](ft)}(Qt,Wt.end))&&r.brk(ke,Kt):J(Ze(Qt,Wt.end))&&r.brk(ke,Kt),r.yield1(Nt,Qt),Ut=gt(Ut,1)}).$$s=Bt,Ue.$$brk=Kt,Ue.$$arity=0,Ue))}catch(Wt){if(Wt===Kt)return Wt.$v;throw Wt}}()):(Bt.begin.$$is_string&&Bt.end.$$is_string&&ge%1!=0&&Bt.$raise(Ge(De,"TypeError"),"no implicit conversion to float from string"),G(Bt,"each_with_index",[],((qe=function(Kt,Wt){return null==Kt&&(Kt=ke),null==Wt&&(Wt=ke),Wt["$%"](ge)["$=="](0)?r.yield1(Nt,Kt):ke}).$$s=Bt,qe.$$arity=2,qe))),Bt)},It.$$arity=-1),r.def(pe,"$bsearch",Pt=function(){var ge=Pt.$$p,Le=ge||ke,Ue=this;return ge&&(Pt.$$p=null),ge&&(Pt.$$p=null),Le===ke?Ue.$enum_for("bsearch"):(J(Ue.begin.$$is_number&&Ue.end.$$is_number)||Ue.$raise(Ge(De,"TypeError"),"can't do binary search for "+Ue.begin.$class()),G(Ue.$to_a(),"bsearch",[],Le.$to_proc()))},Pt.$$arity=0),r.def(pe,"$to_s",Mt=function(){return this.begin+(J(this.excl)?"...":"..")+this.end},Mt.$$arity=0),r.def(pe,"$inspect",jt=function(){return this.begin.$inspect()+(J(this.excl)?"...":"..")+this.end.$inspect()},jt.$$arity=0),r.def(pe,"$marshal_load",D=function(ge){return this.begin=ge["$[]"]("begin"),this.end=ge["$[]"]("end"),this.excl=ge["$[]"]("excl")},D.$$arity=1),r.def(pe,"$hash",se=function(){return[this.begin,this.end,this.excl].$hash()},se.$$arity=0),ke&&"hash"},Opal.modules["corelib/proc"]=function(r){var st,Oe,ve,J,G,Ve,ft,Ye,pe,De,Ce,Ge,zt,Je=[],Ze=r.nil,he=r.const_get_relative,Re=r.slice,R=r.klass,Gt=r.truthy;return r.add_stubs(["$raise","$coerce_to!"]),st=Je,Ge=R(Je[0],Function,"Proc"),zt=[Ge].concat(st),r.defineProperty(Ge.$$prototype,"$$is_proc",!0),r.defineProperty(Ge.$$prototype,"$$is_lambda",!1),r.defs(Ge,"$new",Oe=function(){var lt=Oe.$$p,xt=lt||Ze;return lt&&(Oe.$$p=null),lt&&(Oe.$$p=null),Gt(xt)||this.$raise(he(zt,"ArgumentError"),"tried to create a Proc object without a block"),xt},Oe.$$arity=0),r.def(Ge,"$call",ve=function(xt){var St,At=ve.$$p,ht=At||Ze,Rt=this;At&&(ve.$$p=null),At&&(ve.$$p=null),St=r.slice.call(arguments,0,arguments.length),ht!==Ze&&(Rt.$$p=ht);var Et,Ft=Rt.$$brk;if(Ft)try{Et=Rt.$$is_lambda?Rt.apply(null,St):r.yieldX(Rt,St)}catch(qt){if(qt===Ft)return Ft.$v;throw qt}else Et=Rt.$$is_lambda?Rt.apply(null,St):r.yieldX(Rt,St);return Et},ve.$$arity=-1),r.alias(Ge,"[]","call"),r.alias(Ge,"===","call"),r.alias(Ge,"yield","call"),r.def(Ge,"$to_proc",J=function(){return this},J.$$arity=0),r.def(Ge,"$lambda?",G=function(){return!!this.$$is_lambda},G.$$arity=0),r.def(Ge,"$arity",Ve=function(){return this.$$is_curried?-1:this.$$arity},Ve.$$arity=0),r.def(Ge,"$source_location",ft=function(){return Ze},ft.$$arity=0),r.def(Ge,"$binding",Ye=function(){return this.$$is_curried&&this.$raise(he(zt,"ArgumentError"),"Can't create Binding"),Ze},Ye.$$arity=0),r.def(Ge,"$parameters",pe=function(){var xt=this;if(xt.$$is_curried)return[["rest"]];if(xt.$$parameters){if(xt.$$is_lambda)return xt.$$parameters;var ht,pt,At=[];for(ht=0,pt=xt.$$parameters.length;ht<pt;ht++){var St=xt.$$parameters[ht];"req"===St[0]&&(St=["opt",St[1]]),At.push(St)}return At}return[]},pe.$$arity=0),r.def(Ge,"$curry",De=function(xt){var At=this;function ht(){var Rt,pt=Re.call(arguments),St=pt.length;return St>xt&&At.$$is_lambda&&!At.$$is_curried&&At.$raise(he(zt,"ArgumentError"),"wrong number of arguments ("+St+" for "+xt+")"),St>=xt?At.$call.apply(At,pt):(Rt=function(){return ht.apply(null,pt.concat(Re.call(arguments)))},Rt.$$is_lambda=At.$$is_lambda,Rt.$$is_curried=!0,Rt)}return void 0===xt?xt=At.length:(xt=he(zt,"Opal")["$coerce_to!"](xt,he(zt,"Integer"),"to_int"),At.$$is_lambda&&xt!==At.length&&At.$raise(he(zt,"ArgumentError"),"wrong number of arguments ("+xt+" for "+At.length+")")),ht.$$is_lambda=At.$$is_lambda,ht.$$is_curried=!0,ht},De.$$arity=-1),r.def(Ge,"$dup",Ce=function(){var xt=this,At=xt.$$original_proc||xt,ht=function(){return At.apply(this,arguments)};for(var pt in xt)xt.hasOwnProperty(pt)&&(ht[pt]=xt[pt]);return ht},Ce.$$arity=0),r.alias(Ge,"clone","dup")},Opal.modules["corelib/method"]=function(r){var st,Oe,ve,J,G,Ve,ft,Ye,pe,De,Ge,zt,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.klass,Gt=r.truthy;return r.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),st=Je,Ge=R(Je[0],null,"Method"),zt=[Ge].concat(st),Ge.$$prototype.method=Ge.$$prototype.receiver=Ge.$$prototype.owner=Ge.$$prototype.name=Ze,Ge.$attr_reader("owner","receiver","name"),r.def(Ge,"$initialize",Oe=function(lt,xt,At,ht){return this.receiver=lt,this.owner=xt,this.name=ht,this.method=At},Oe.$$arity=4),r.def(Ge,"$arity",ve=function(){return this.method.$arity()},ve.$$arity=0),r.def(Ge,"$parameters",J=function(){return this.method.$$parameters},J.$$arity=0),r.def(Ge,"$source_location",G=function(){var lt;return Gt(lt=this.method.$$source_location)?lt:["(eval)",0]},G.$$arity=0),r.def(Ge,"$comments",Ve=function(){var lt;return Gt(lt=this.method.$$comments)?lt:[]},Ve.$$arity=0),r.def(Ge,"$call",ft=function(lt){var pt,xt=ft.$$p,At=xt||Ze,St=this;return xt&&(ft.$$p=null),xt&&(ft.$$p=null),pt=r.slice.call(arguments,0,arguments.length),St.method.$$p=At,St.method.apply(St.receiver,pt)},ft.$$arity=-1),r.alias(Ge,"[]","call"),r.def(Ge,"$unbind",Ye=function(){return he(zt,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},Ye.$$arity=0),r.def(Ge,"$to_proc",pe=function(){var lt=this,xt=lt.$call.bind(lt);return xt.$$unbound=lt.method,xt.$$is_lambda=!0,xt.$$arity=lt.method.$$arity,xt.$$parameters=lt.method.$$parameters,xt},pe.$$arity=0),r.def(Ge,"$inspect",De=function(){var lt=this;return"#<"+lt.$class()+": "+lt.receiver.$class()+"#"+lt.name+" (defined in "+lt.owner+" in "+lt.$source_location().$join(":")+")>"},De.$$arity=0),function(F,ke,st){var Oe,ve,J,G,Ve,ft,Ye,Ge=R(F,null,"UnboundMethod"),zt=[Ge].concat(st);return Ge.$$prototype.method=Ge.$$prototype.owner=Ge.$$prototype.name=Ge.$$prototype.source=Ze,Ge.$attr_reader("source","owner","name"),r.def(Ge,"$initialize",Oe=function(De,Ce,lt,xt){return this.source=De,this.owner=Ce,this.method=lt,this.name=xt},Oe.$$arity=4),r.def(Ge,"$arity",ve=function(){return this.method.$arity()},ve.$$arity=0),r.def(Ge,"$parameters",J=function(){return this.method.$$parameters},J.$$arity=0),r.def(Ge,"$source_location",G=function(){var De;return Gt(De=this.method.$$source_location)?De:["(eval)",0]},G.$$arity=0),r.def(Ge,"$comments",Ve=function(){var De;return Gt(De=this.method.$$comments)?De:[]},Ve.$$arity=0),r.def(Ge,"$bind",ft=function(De){var Ce=this;if(Ce.owner.$$is_module||r.is_a(De,Ce.owner))return he(zt,"Method").$new(De,Ce.owner,Ce.method,Ce.name);Ce.$raise(he(zt,"TypeError"),"can't bind singleton method to a different class (expected "+De+".kind_of?("+Ce.owner+" to be true)")},ft.$$arity=1),r.def(Ge,"$inspect",Ye=function(){var De=this;return"#<"+De.$class()+": "+De.source+"#"+De.name+" (defined in "+De.owner+" in "+De.$source_location().$join(":")+")>"},Ye.$$arity=0),Ze&&"inspect"}(Je[0],0,Je)},Opal.modules["corelib/variables"]=function(r){var Je=[],Ze=r.nil,he=r.const_get_relative,R=r.gvars,Gt=r.hash2;return r.add_stubs(["$new"]),R["&"]=R["~"]=R["`"]=R["'"]=Ze,R.LOADED_FEATURES=R['"']=r.loaded_features,R.LOAD_PATH=R[":"]=[],R["/"]="\n",R[","]=Ze,r.const_set(Je[0],"ARGV",[]),r.const_set(Je[0],"ARGF",he(Je,"Object").$new()),r.const_set(Je[0],"ENV",Gt([],{})),R.VERBOSE=!1,R.DEBUG=!1,R.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(r){var F,st,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.module;return r.add_stubs(["$==","$new"]),F=Je,st=[R(Je[0],"Opal")].concat(F),r.const_set(st[0],"REGEXP_START",he(st,"RUBY_ENGINE")["$=="]("opal")?"^":Ze),r.const_set(st[0],"REGEXP_END",he(st,"RUBY_ENGINE")["$=="]("opal")?"$":Ze),r.const_set(st[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r.const_set(st[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r.const_set(st[0],"INLINE_IDENTIFIER_REGEXP",he(st,"Regexp").$new("[^"+he(st,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+he(st,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),r.const_set(st[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),void r.const_set(st[0],"CONST_NAME_REGEXP",he(st,"Regexp").$new(he(st,"REGEXP_START")+"(::)?[A-Z][^"+he(st,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+he(st,"REGEXP_END")))},Opal.modules["opal/mini"]=function(r){var Ne=r.top;return r.add_stubs(["$require"]),Ne.$require("opal/base"),Ne.$require("corelib/nil"),Ne.$require("corelib/boolean"),Ne.$require("corelib/string"),Ne.$require("corelib/comparable"),Ne.$require("corelib/enumerable"),Ne.$require("corelib/enumerator"),Ne.$require("corelib/array"),Ne.$require("corelib/hash"),Ne.$require("corelib/number"),Ne.$require("corelib/range"),Ne.$require("corelib/proc"),Ne.$require("corelib/method"),Ne.$require("corelib/regexp"),Ne.$require("corelib/variables"),Ne.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(r){var Ze,Be,he,gt,Re,Ft,Ye,Ce,lt,xt,At,ht,pt,St,Rt,Et,pe,De,R=r.top,Gt=[],F=r.nil,ke=r.const_get_qualified,st=r.const_get_relative,Oe=r.klass,ve=r.hash2,J=r.truthy,G=r.send;return r.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$dup","$bytesize","$enum_for","$coerce_to!","$find","$<"]),R.$require("corelib/string"),Ye=Gt,pe=Oe(Gt[0],null,"Encoding"),De=[pe].concat(Ye),pe.$$prototype.ascii=pe.$$prototype.dummy=pe.$$prototype.name=F,r.defineProperty(pe,"$$register",{}),r.defs(pe,"$register",Ce=function(qt,Ct){var Mt,jt,se,ue,It=Ce.$$p,Pt=It||F,D=this,ge=F;return It&&(Ce.$$p=null),It&&(Ce.$$p=null),null==Ct&&(Ct=ve([],{})),se=function Ne(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve+ft:Ve["$+"](ft)}([qt],J(Mt=Ct["$[]"]("aliases"))?Mt:[]),ue=G(st(De,"Class"),"new",[D],Pt.$to_proc()).$new(qt,se,!!J(Mt=Ct["$[]"]("ascii"))&&Mt,!!J(Mt=Ct["$[]"]("dummy"))&&Mt),ge=D.$$register,G(se,"each",[],((jt=function(Le){return null==Le&&(Le=F),(jt.$$s||this).$const_set(Le.$sub("-","_"),ue),ge["$$"+Le]=ue}).$$s=D,jt.$$arity=1,jt))},Ce.$$arity=-2),r.defs(pe,"$find",lt=function(qt){var Ct,Pt=F,Mt=F;return qt["$=="]("default_external")?this.$default_external():(Mt=J(Ct=(Pt=this.$$register)["$$"+qt])?Ct:Pt["$$"+qt.$upcase()],J(Mt)||this.$raise(st(De,"ArgumentError"),"unknown encoding name - "+qt),Mt)},lt.$$arity=1),[Ft=r.get_singleton_class(pe)].concat(De),Ft.$attr_accessor("default_external"),pe.$attr_reader("name","names"),r.def(pe,"$initialize",xt=function(qt,Ct,It,Pt){return this.name=qt,this.names=Ct,this.ascii=It,this.dummy=Pt},xt.$$arity=4),r.def(pe,"$ascii_compatible?",At=function(){return this.ascii},At.$$arity=0),r.def(pe,"$dummy?",ht=function(){return this.dummy},ht.$$arity=0),r.def(pe,"$to_s",pt=function(){return this.name},pt.$$arity=0),r.def(pe,"$inspect",St=function(){return"#<Encoding:"+this.name+(J(this.dummy)?" (dummy)":F)+">"},St.$$arity=0),r.def(pe,"$each_byte",Rt=function(qt){var It=this;return r.slice.call(arguments,0,arguments.length),It.$raise(st(De,"NotImplementedError"))},Rt.$$arity=-1),r.def(pe,"$bytesize",Et=function(qt){var It=this;return r.slice.call(arguments,0,arguments.length),It.$raise(st(De,"NotImplementedError"))},Et.$$arity=-1),function(Ft,qt,Ct){[Oe(Ft,qt,"EncodingError")].concat(Ct)}(De[0],st(De,"StandardError"),De),function(Ft,qt,Ct){[Oe(Ft,qt,"CompatibilityError")].concat(Ct)}(De[0],st(De,"EncodingError"),De),G(st(Gt,"Encoding"),"register",["UTF-8",ve(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(Ze=function(){var ft,Ye,Ve=Ze.$$s||this;return r.def(Ve,"$each_byte",ft=function(De){var Ce=ft.$$p,lt=Ce||F;Ce&&(ft.$$p=null),Ce&&(ft.$$p=null);for(var ht,At=1/0,pt=De.length,St=null,Rt=0;Rt<pt;++Rt){if((ht=De.charCodeAt(Rt))>55295&&ht<57344){if(!St){if(ht>56319){(At-=3)>-1&&(r.yield1(lt,239),r.yield1(lt,191),r.yield1(lt,189));continue}if(Rt+1===pt){(At-=3)>-1&&(r.yield1(lt,239),r.yield1(lt,191),r.yield1(lt,189));continue}St=ht;continue}if(ht<56320){(At-=3)>-1&&(r.yield1(lt,239),r.yield1(lt,191),r.yield1(lt,189)),St=ht;continue}ht=65536+(St-55296<<10|ht-56320)}else St&&(At-=3)>-1&&(r.yield1(lt,239),r.yield1(lt,191),r.yield1(lt,189));if(St=null,ht<128){if((At-=1)<0)break;r.yield1(lt,ht)}else if(ht<2048){if((At-=2)<0)break;r.yield1(lt,ht>>6|192),r.yield1(lt,63&ht|128)}else if(ht<65536){if((At-=3)<0)break;r.yield1(lt,ht>>12|224),r.yield1(lt,ht>>6&63|128),r.yield1(lt,63&ht|128)}else if(ht<1114112){if((At-=4)<0)break;r.yield1(lt,ht>>18|240),r.yield1(lt,ht>>12&63|128),r.yield1(lt,ht>>6&63|128),r.yield1(lt,63&ht|128)}}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){return De.$bytes().$length()},Ye.$$arity=1),F&&"bytesize"},Ze.$$s=R,Ze.$$arity=0,Ze)),G(st(Gt,"Encoding"),"register",["UTF-16LE"],(Be=function(){var ft,Ye,Ve=Be.$$s||this;return r.def(Ve,"$each_byte",ft=function(De){var Ce=ft.$$p,lt=Ce||F;Ce&&(ft.$$p=null),Ce&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(lt,255&pt),r.yield1(lt,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){return De.$bytes().$length()},Ye.$$arity=1),F&&"bytesize"},Be.$$s=R,Be.$$arity=0,Be)),G(st(Gt,"Encoding"),"register",["UTF-16BE"],(he=function(){var ft,Ye,Ve=he.$$s||this;return r.def(Ve,"$each_byte",ft=function(De){var Ce=ft.$$p,lt=Ce||F;Ce&&(ft.$$p=null),Ce&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(lt,pt>>8),r.yield1(lt,255&pt)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){return De.$bytes().$length()},Ye.$$arity=1),F&&"bytesize"},he.$$s=R,he.$$arity=0,he)),G(st(Gt,"Encoding"),"register",["UTF-32LE"],(gt=function(){var ft,Ye,Ve=gt.$$s||this;return r.def(Ve,"$each_byte",ft=function(De){var Ce=ft.$$p,lt=Ce||F;Ce&&(ft.$$p=null),Ce&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(lt,255&pt),r.yield1(lt,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){return De.$bytes().$length()},Ye.$$arity=1),F&&"bytesize"},gt.$$s=R,gt.$$arity=0,gt)),G(st(Gt,"Encoding"),"register",["ASCII-8BIT",ve(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(Re=function(){var ft,Ye,Ve=Re.$$s||this;return r.def(Ve,"$each_byte",ft=function(De){var Ce=ft.$$p,lt=Ce||F;Ce&&(ft.$$p=null),Ce&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(lt,255&pt),r.yield1(lt,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){return De.$bytes().$length()},Ye.$$arity=1),F&&"bytesize"},Re.$$s=R,Re.$$arity=0,Re)),function(Ve,ft,Ye){var Ce,lt,xt,At,ht,pt,St,pe=Oe(Ve,null,"String"),De=[pe].concat(Ye);return pe.$$prototype.bytes=pe.$$prototype.internal_encoding=F,pe.$attr_reader("encoding"),pe.$attr_reader("internal_encoding"),r.defineProperty(String.prototype,"bytes",F),r.defineProperty(String.prototype,"encoding",ke(st(De,"Encoding"),"UTF_8")),r.defineProperty(String.prototype,"internal_encoding",ke(st(De,"Encoding"),"UTF_8")),r.def(pe,"$bytes",Ce=function(){var Et;return this.bytes=J(Et=this.bytes)?Et:this.$each_byte().$to_a(),this.bytes.$dup()},Ce.$$arity=0),r.def(pe,"$bytesize",lt=function(){return this.internal_encoding.$bytesize(this)},lt.$$arity=0),r.def(pe,"$each_byte",xt=function(){var Et=xt.$$p,Ft=Et||F;return Et&&(xt.$$p=null),Et&&(xt.$$p=null),Ft===F?this.$enum_for("each_byte"):(G(this.internal_encoding,"each_byte",[this],Ft.$to_proc()),this)},xt.$$arity=0),r.def(pe,"$encode",At=function(Et){return r.enc(this,Et)},At.$$arity=1),r.def(pe,"$force_encoding",ht=function(Et){return Et===this.encoding||(Et=st(De,"Opal")["$coerce_to!"](Et,st(De,"String"),"to_s"),(Et=st(De,"Encoding").$find(Et))===this.encoding)||(this.encoding=Et),this},ht.$$arity=1),r.def(pe,"$getbyte",pt=function(Et){var qt=F;return qt=this.$bytes(),Et=st(De,"Opal")["$coerce_to!"](Et,st(De,"Integer"),"to_int"),J(function Je(Ve,ft){return"number"==typeof Ve&&"number"==typeof ft?Ve<ft:Ve["$<"](ft)}(qt.$length(),Et))?F:qt["$[]"](Et)},pt.$$arity=1),r.def(pe,"$valid_encoding?",St=function(){return!0},St.$$arity=0),F&&"valid_encoding?"}(Gt[0],0,Gt)},Opal.modules["corelib/struct"]=function(r){function Ne(J,G){return"number"==typeof J&&"number"==typeof G?J>G:J["$>"](G)}function Je(J,G){return"number"==typeof J&&"number"==typeof G?J-G:J["$-"](G)}function Ze(J,G){return"number"==typeof J&&"number"==typeof G?J<G:J["$<"](G)}function Be(J,G){return"number"==typeof J&&"number"==typeof G?J>=G:J["$>="](G)}function he(J,G){return"number"==typeof J&&"number"==typeof G?J+G:J["$+"](G)}var Ve,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,ft,Ye,gt=r.top,Re=[],R=r.nil,F=r.const_get_relative,Ge=r.klass,zt=r.hash2,Oe=r.truthy,ve=r.send;return r.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),gt.$require("corelib/enumerable"),Ve=Re,ft=Ge(Re[0],null,"Struct"),Ye=[ft].concat(Ve),ft.$include(F(Ye,"Enumerable")),r.defs(ft,"$new",pe=function(se,ue,ge){var qe,wt,Nt,Bt,Ut,Vt,Le=pe.$$p,Ue=Le||R,Jt=this,Kt=R;if(Le&&(pe.$$p=null),Le&&(pe.$$p=null),qe=r.slice.call(arguments,1,arguments.length),null==(wt=r.extract_kwargs(qe)))wt=zt([],{});else if(!wt.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(Nt=qe,null==(Bt=wt.$$smap.keyword_init)&&(Bt=!1),Oe(se))try{se=F(Ye,"Opal")["$const_name!"](se)}catch(Wt){if(!r.rescue(Wt,[F(Ye,"TypeError"),F(Ye,"NameError")]))throw Wt;try{Nt.$unshift(se),se=R}finally{r.pop_exception()}}return ve(Nt,"map",[],((Ut=function(Wt){return null==Wt&&(Wt=R),F(Ye,"Opal")["$coerce_to!"](Wt,F(Ye,"String"),"to_str")}).$$s=Jt,Ut.$$arity=1,Ut)),Kt=ve(F(Ye,"Class"),"new",[Jt],(Vt=function(){var Qt,$r,Ht,Wt=Vt.$$s||this;return ve(Nt,"each",[],((Qt=function($r){return null==$r&&($r=R),(Qt.$$s||this).$define_struct_attribute($r)}).$$s=Wt,Qt.$$arity=1,Qt)),[$r=r.get_singleton_class(Wt)].concat(Ye),r.def($r,"$new",Ht=function(er){var or,cr=this,e=R;return or=r.slice.call(arguments,0,arguments.length),(e=cr.$allocate()).$$data={},ve(e,"initialize",r.to_a(or)),e},Ht.$$arity=-1),$r.$alias_method("[]","new")},Vt.$$s=Jt,Vt.$$arity=0,Vt)),Oe(Ue)&&ve(Kt,"module_eval",[],Ue.$to_proc()),Kt.$$keyword_init=Bt,Oe(se)&&F(Ye,"Struct").$const_set(se,Kt),Kt},pe.$$arity=-2),r.defs(ft,"$define_struct_attribute",De=function(ue){var ge,Le,Ue=this;return Ue["$=="](F(Ye,"Struct"))&&Ue.$raise(F(Ye,"ArgumentError"),"you cannot define attributes to the Struct class"),Ue.$members()["$<<"](ue),ve(Ue,"define_method",[ue],((ge=function(){return(ge.$$s||this).$$data[ue]}).$$s=Ue,ge.$$arity=0,ge)),ve(Ue,"define_method",[ue+"="],((Le=function(qe){return null==qe&&(qe=R),(Le.$$s||this).$$data[ue]=qe}).$$s=Ue,Le.$$arity=1,Le))},De.$$arity=1),r.defs(ft,"$members",Ce=function(){var ue,ge=this;return null==ge.members&&(ge.members=R),ge["$=="](F(Ye,"Struct"))&&ge.$raise(F(Ye,"ArgumentError"),"the Struct class has no members"),ge.members=Oe(ue=ge.members)?ue:[]},Ce.$$arity=0),r.defs(ft,"$inherited",lt=function(ue){var ge,Ue;return null==this.members&&(this.members=R),Ue=this.members,ve(ue,"instance_eval",[],((ge=function(){return(ge.$$s||this).members=Ue}).$$s=this,ge.$$arity=0,ge))},lt.$$arity=1),r.def(ft,"$initialize",xt=function(ue){var ge,Le,Ue,qe,wt,Nt=this,Bt=R,Ut=R;return ge=r.slice.call(arguments,0,arguments.length),Le=ge,Oe(Nt.$class().$$keyword_init)?(Bt=Oe(Ue=Le.$last())?Ue:zt([],{}),Oe(Oe(Ue=Ne(Le.$length(),1))?Ue:1===Le.length&&!Bt.$$is_hash)&&Nt.$raise(F(Ye,"ArgumentError"),"wrong number of arguments (given "+Le.$length()+", expected 0)"),Ut=Je(Bt.$keys(),Nt.$class().$members()),Oe(Ut["$any?"]())&&Nt.$raise(F(Ye,"ArgumentError"),"unknown keywords: "+Ut.$join(", ")),ve(Nt.$class().$members(),"each",[],((qe=function(Vt){var Kt,Jt=qe.$$s||this;return null==Vt&&(Vt=R),Kt=[Vt,Bt["$[]"](Vt)],ve(Jt,"[]=",r.to_a(Kt)),Kt[Je(Kt.length,1)]}).$$s=Nt,qe.$$arity=1,qe))):(Oe(Ne(Le.$length(),Nt.$class().$members().$length()))&&Nt.$raise(F(Ye,"ArgumentError"),"struct size differs"),ve(Nt.$class().$members(),"each_with_index",[],((wt=function(Vt,Jt){var Wt,Kt=wt.$$s||this;return null==Vt&&(Vt=R),null==Jt&&(Jt=R),Wt=[Vt,Le["$[]"](Jt)],ve(Kt,"[]=",r.to_a(Wt)),Wt[Je(Wt.length,1)]}).$$s=Nt,wt.$$arity=2,wt)))},xt.$$arity=-1),r.def(ft,"$members",At=function(){return this.$class().$members()},At.$$arity=0),r.def(ft,"$hash",ht=function(){return F(Ye,"Hash").$new(this.$$data).$hash()},ht.$$arity=0),r.def(ft,"$[]",pt=function(se){var ue=this;return Oe(F(Ye,"Integer")["$==="](se))?(Oe(Ze(se,ue.$class().$members().$size()["$-@"]()))&&ue.$raise(F(Ye,"IndexError"),"offset "+se+" too small for struct(size:"+ue.$class().$members().$size()+")"),Oe(Be(se,ue.$class().$members().$size()))&&ue.$raise(F(Ye,"IndexError"),"offset "+se+" too large for struct(size:"+ue.$class().$members().$size()+")"),se=ue.$class().$members()["$[]"](se)):Oe(F(Ye,"String")["$==="](se))?ue.$$data.hasOwnProperty(se)||ue.$raise(F(Ye,"NameError").$new("no member '"+se+"' in struct",se)):ue.$raise(F(Ye,"TypeError"),"no implicit conversion of "+se.$class()+" into Integer"),se=F(Ye,"Opal")["$coerce_to!"](se,F(Ye,"String"),"to_str"),ue.$$data[se]},pt.$$arity=1),r.def(ft,"$[]=",St=function(se,ue){var ge=this;return Oe(F(Ye,"Integer")["$==="](se))?(Oe(Ze(se,ge.$class().$members().$size()["$-@"]()))&&ge.$raise(F(Ye,"IndexError"),"offset "+se+" too small for struct(size:"+ge.$class().$members().$size()+")"),Oe(Be(se,ge.$class().$members().$size()))&&ge.$raise(F(Ye,"IndexError"),"offset "+se+" too large for struct(size:"+ge.$class().$members().$size()+")"),se=ge.$class().$members()["$[]"](se)):Oe(F(Ye,"String")["$==="](se))?Oe(ge.$class().$members()["$include?"](se.$to_sym()))||ge.$raise(F(Ye,"NameError").$new("no member '"+se+"' in struct",se)):ge.$raise(F(Ye,"TypeError"),"no implicit conversion of "+se.$class()+" into Integer"),se=F(Ye,"Opal")["$coerce_to!"](se,F(Ye,"String"),"to_str"),ge.$$data[se]=ue},St.$$arity=2),r.def(ft,"$==",Rt=function(se){if(!Oe(se["$instance_of?"](this.$class())))return!1;var ge={},Le={};return function Ue(qe,wt){var Nt,Bt,Ut;for(Nt in ge[qe.$__id__()]=!0,Le[wt.$__id__()]=!0,qe.$$data)if(Bt=qe.$$data[Nt],Ut=wt.$$data[Nt],F(Ye,"Struct")["$==="](Bt)){if(!(ge.hasOwnProperty(Bt.$__id__())&&Le.hasOwnProperty(Ut.$__id__())||Ue(Bt,Ut)))return!1}else if(!Bt["$=="](Ut))return!1;return!0}(this,se)},Rt.$$arity=1),r.def(ft,"$eql?",Et=function(se){if(!Oe(se["$instance_of?"](this.$class())))return!1;var ge={},Le={};return function Ue(qe,wt){var Nt,Bt,Ut;for(Nt in ge[qe.$__id__()]=!0,Le[wt.$__id__()]=!0,qe.$$data)if(Bt=qe.$$data[Nt],Ut=wt.$$data[Nt],F(Ye,"Struct")["$==="](Bt)){if(!(ge.hasOwnProperty(Bt.$__id__())&&Le.hasOwnProperty(Ut.$__id__())||Ue(Bt,Ut)))return!1}else if(!Bt["$eql?"](Ut))return!1;return!0}(this,se)},Et.$$arity=1),r.def(ft,"$each",Ft=function(){var ue,ge,Le=Ft.$$p,Ue=Le||R,qe=this;return Le&&(Ft.$$p=null),Ue===R?ve(qe,"enum_for",["each"],((ue=function(){return(ue.$$s||this).$size()}).$$s=qe,ue.$$arity=0,ue)):(ve(qe.$class().$members(),"each",[],((ge=function(wt){return null==wt&&(wt=R),r.yield1(Ue,(ge.$$s||this)["$[]"](wt))}).$$s=qe,ge.$$arity=1,ge)),qe)},Ft.$$arity=0),r.def(ft,"$each_pair",qt=function(){var ue,ge,Le=qt.$$p,Ue=Le||R,qe=this;return Le&&(qt.$$p=null),Ue===R?ve(qe,"enum_for",["each_pair"],((ue=function(){return(ue.$$s||this).$size()}).$$s=qe,ue.$$arity=0,ue)):(ve(qe.$class().$members(),"each",[],((ge=function(wt){return null==wt&&(wt=R),r.yield1(Ue,[wt,(ge.$$s||this)["$[]"](wt)])}).$$s=qe,ge.$$arity=1,ge)),qe)},qt.$$arity=0),r.def(ft,"$length",Ct=function(){return this.$class().$members().$length()},Ct.$$arity=0),r.alias(ft,"size","length"),r.def(ft,"$to_a",It=function(){var ue;return ve(this.$class().$members(),"map",[],((ue=function(Le){return null==Le&&(Le=R),(ue.$$s||this)["$[]"](Le)}).$$s=this,ue.$$arity=1,ue))},It.$$arity=0),r.alias(ft,"values","to_a"),r.def(ft,"$inspect",Pt=function(){var ue,ge,Le=this,Ue=R;return Ue="#<struct ",Oe(Oe(ue=F(Ye,"Struct")["$==="](Le))?Le.$class().$name():ue)&&(Ue=he(Ue,Le.$class()+" ")),Ue=he(Ue,ve(Le.$each_pair(),"map",[],(ge=function(qe,wt){return null==qe&&(qe=R),null==wt&&(wt=R),qe+"="+wt.$inspect()},ge.$$s=Le,ge.$$arity=2,ge)).$join(", ")),he(Ue,">")},Pt.$$arity=0),r.alias(ft,"to_s","inspect"),r.def(ft,"$to_h",Mt=function(){var ue;return ve(this.$class().$members(),"each_with_object",[zt([],{})],((ue=function(Le,Ue){var wt;return null==Le&&(Le=R),null==Ue&&(Ue=R),wt=[Le,(ue.$$s||this)["$[]"](Le)],ve(Ue,"[]=",r.to_a(wt)),wt[Je(wt.length,1)]}).$$s=this,ue.$$arity=2,ue))},Mt.$$arity=0),r.def(ft,"$values_at",jt=function(ue){var ge,Le,Ue,qe=this;ge=r.slice.call(arguments,0,arguments.length);for(var wt=[],Nt=0,Bt=(Le=ve(Le=ge,"map",[],(Ue=function(Ut){return null==Ut&&(Ut=R),Ut.$$is_range?Ut.$to_a():Ut},Ue.$$s=qe,Ue.$$arity=1,Ue)).$flatten()).length;Nt<Bt;Nt++)Le[Nt].$$is_number||qe.$raise(F(Ye,"TypeError"),"no implicit conversion of "+Le[Nt].$class()+" into Integer"),wt.push(qe["$[]"](Le[Nt]));return wt},jt.$$arity=-1),r.def(ft,"$dig",D=function(ue,ge){var Ue,qe=this,wt=R;return Ue=r.slice.call(arguments,1,arguments.length),(wt=Oe(ue.$$is_string&&qe.$$data.hasOwnProperty(ue))&&qe.$$data[ue]||R)===R||0===Ue.length?wt:(Oe(wt["$respond_to?"]("dig"))||qe.$raise(F(Ye,"TypeError"),wt.$class()+" does not have #dig method"),ve(wt,"dig",r.to_a(Ue)))},D.$$arity=-2),R&&"dig"},Opal.modules["corelib/io"]=function(r){function Ne(ve,J){return"number"==typeof ve&&"number"==typeof J?ve-J:ve["$-"](J)}var G,Ye,pe,De,Ce,xt,pt,St,Rt,Et,At,ht,Ve,ft,Ze=[],Be=r.nil,he=r.const_get_qualified,gt=r.const_get_relative,Gt=r.klass,F=r.module,ke=r.send,st=r.gvars,Ge=r.truthy,zt=Be;r.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),G=Ze,ft=[Ve=Gt(Ze[0],null,"IO")].concat(G),Ve.$$prototype.tty=Ve.$$prototype.closed=Be,r.const_set(ft[0],"SEEK_SET",0),r.const_set(ft[0],"SEEK_CUR",1),r.const_set(ft[0],"SEEK_END",2),r.def(Ve,"$tty?",Ye=function(){return this.tty},Ye.$$arity=0),r.def(Ve,"$closed?",pe=function(){return this.closed},pe.$$arity=0),Ve.$attr_accessor("write_proc"),r.def(Ve,"$write",De=function(xt){return this.write_proc(xt),xt.$size()},De.$$arity=1),Ve.$attr_accessor("sync","tty"),r.def(Ve,"$flush",Ce=function(){return Be},Ce.$$arity=0),function(lt,xt){var pt,St,Rt,At=F(lt,"Writable");[At].concat(xt),r.def(At,"$<<",pt=function(Et){return this.$write(Et),this},pt.$$arity=1),r.def(At,"$print",St=function(Ft){var qt,It,Pt=this;return null==st[","]&&(st[","]=Be),qt=r.slice.call(arguments,0,arguments.length),Pt.$write(ke(qt,"map",[],(It=function(Mt){return null==Mt&&(Mt=Be),(It.$$s||this).$String(Mt)},It.$$s=Pt,It.$$arity=1,It)).$join(st[","])),Be},St.$$arity=-1),r.def(At,"$puts",Rt=function(Ft){var qt,Ct,It,Pt=this,Mt=Be;return null==st["/"]&&(st["/"]=Be),qt=r.slice.call(arguments,0,arguments.length),Mt=st["/"],Ge((Ct=qt)["$empty?"]())?Pt.$write(st["/"]):Pt.$write(ke(Ct,"map",[],(It=function(jt){return null==jt&&(jt=Be),(It.$$s||this).$String(jt).$chomp()},It.$$s=Pt,It.$$arity=1,It)).$concat([Be]).$join(Mt)),Be},Rt.$$arity=-1)}(ft[0],ft),xt=ft,At=F(ft[0],"Readable"),ht=[At].concat(xt),r.def(At,"$readbyte",pt=function(){return this.$getbyte()},pt.$$arity=0),r.def(At,"$readchar",St=function(){return this.$getc()},St.$$arity=0),r.def(At,"$readline",Rt=function(qt){return null==st["/"]&&(st["/"]=Be),null==qt&&(qt=st["/"]),this.$raise(gt(ht,"NotImplementedError"))},Rt.$$arity=-1),r.def(At,"$readpartial",Et=function(qt,Ct){return null==Ct&&(Ct=Be),this.$raise(gt(ht,"NotImplementedError"))},Et.$$arity=-2),r.const_set(Ze[0],"STDERR",st.stderr=gt(Ze,"IO").$new()),r.const_set(Ze[0],"STDIN",st.stdin=gt(Ze,"IO").$new()),r.const_set(Ze[0],"STDOUT",st.stdout=gt(Ze,"IO").$new());var Oe=r.global.console;return zt=["object"==typeof process&&"object"==typeof process.stdout?function(ve){process.stdout.write(ve)}:function(ve){Oe.log(ve)}],ke(gt(Ze,"STDOUT"),"write_proc=",r.to_a(zt)),Ne(zt.length,1),zt=["object"==typeof process&&"object"==typeof process.stderr?function(ve){process.stderr.write(ve)}:function(ve){Oe.warn(ve)}],ke(gt(Ze,"STDERR"),"write_proc=",r.to_a(zt)),Ne(zt.length,1),gt(Ze,"STDOUT").$extend(he(gt(Ze,"IO"),"Writable")),gt(Ze,"STDERR").$extend(he(gt(Ze,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(r){var Ne,Je,Ze=r.top,Be=[],he=r.nil,Re=r.const_get_relative;return r.add_stubs(["$include"]),r.defs(Ze,"$to_s",Ne=function(){return"main"},Ne.$$arity=0),r.defs(Ze,"$include",Je=function(ke){return Re(Be,"Object").$include(ke)},Je.$$arity=1),he&&"include"},Opal.modules["corelib/dir"]=function(r){var st,Oe,G,Ve,ft,J,Ge,zt,Je=[],Ze=r.nil,he=r.const_get_relative,R=r.klass,Gt=r.truthy;return r.add_stubs(["$[]"]),st=Je,zt=[Ge=R(Je[0],null,"Dir")].concat(st),Oe=r.get_singleton_class(Ge),J=[Oe].concat(zt),r.def(Oe,"$chdir",G=function(pe){var De=G.$$p,Ce=De||Ze,xt=Ze;return De&&(G.$$p=null),function(){try{return xt=r.current_dir,r.current_dir=pe,r.yieldX(Ce,[])}finally{r.current_dir=xt}}()},G.$$arity=1),r.def(Oe,"$pwd",Ve=function(){return r.current_dir||"."},Ve.$$arity=0),r.alias(Oe,"getwd","pwd"),r.def(Oe,"$home",ft=function(){var pe;return Gt(pe=he(J,"ENV")["$[]"]("HOME"))?pe:"."},ft.$$arity=0),Ze&&"home"},Opal.modules["corelib/file"]=function(r){function Ne(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt+Oe:zt["$+"](Oe)}var ve,J,G,Ve,Be=[],he=r.nil,Re=r.const_get_relative,F=r.klass,ke=r.truthy,st=r.range,Ge=r.send;return r.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),ve=Be,G=[J=F(Be[0],Re(Be,"IO"),"File")].concat(ve),Ve=he,r.const_set(G[0],"Separator",r.const_set(G[0],"SEPARATOR","/")),r.const_set(G[0],"ALT_SEPARATOR",he),r.const_set(G[0],"PATH_SEPARATOR",":"),r.const_set(G[0],"FNM_SYSCASE",0),Ve=/^[a-zA-Z]:(?:\\|\/)/,function(ft,Ye){var De,Ce,lt,xt,At,ht,pt,St,Rt,pe=[ft].concat(Ye);function Et(qt){return ke(qt["$respond_to?"]("to_path"))&&(qt=qt.$to_path()),Re(pe,"Opal")["$coerce_to!"](qt,Re(pe,"String"),"to_str")}function Ft(){return Re(pe,"ALT_SEPARATOR")===he?r.escape_regexp(Re(pe,"SEPARATOR")):r.escape_regexp(Ne(Re(pe,"SEPARATOR"),Re(pe,"ALT_SEPARATOR")))}return r.def(ft,"$absolute_path",De=function(Ct,It){var Pt,jt,D,ue,ge,se=he,Le=he,Ue=he,qe=he,wt=he;null==It&&(It=he),jt=Re(pe,"SEPARATOR"),D=Ft(),se=[],Ct=ke(Ct["$respond_to?"]("to_path"))?Ct.$to_path():Ct,It=ke(Pt=It)?Pt:Re(pe,"Dir").$pwd(),ue=Ct.substr(0,jt.length)===jt||Ve.test(Ct),ge=It.substr(0,jt.length)===jt||Ve.test(It),ke(ue)?(Le=Ct.$split(new RegExp("["+D+"]")),Ue=Ve.test(Ct)?"":Ct.$sub(new RegExp("^(["+D+"]+).*$"),"\\1"),qe=!0):(Le=Ne(It.$split(new RegExp("["+D+"]")),Ct.$split(new RegExp("["+D+"]"))),Ue=Ve.test(It)?"":It.$sub(new RegExp("^(["+D+"]+).*$"),"\\1"),qe=ge);for(var Nt,Bt=0,Ut=Le.length;Bt<Ut;Bt++)(Nt=Le[Bt])!==he&&(""!==Nt||0!==se.length&&!qe)&&("."!==Nt||0!==se.length&&!qe)&&(".."===Nt?se.pop():se.push(Nt));return!qe&&"."!==Le[0]&&se.$unshift("."),wt=se.$join(jt),ke(qe)&&(wt=Ne(Ue,wt)),wt},De.$$arity=-2),r.def(ft,"$expand_path",Ce=function(Ct,It){var Mt,jt,D=he,se=he,ue=he;return null==It&&(It=he),Mt=Re(pe,"SEPARATOR"),jt=Ft(),ke("~"===Ct[0]||It&&"~"===It[0])&&(D=Re(pe,"Dir").$home(),ke(D)||this.$raise(Re(pe,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),se=Ve.test(D)?"":D.$sub(new RegExp("^(["+jt+"]+).*$"),"\\1"),ke(D["$start_with?"](se))||this.$raise(Re(pe,"ArgumentError"),"non-absolute home"),D=Ne(D,Mt),ue=new RegExp("^\\~(?:"+Mt+"|$)"),Ct=Ct.$sub(ue,D),ke(It)&&(It=It.$sub(ue,D))),this.$absolute_path(Ct,It)},Ce.$$arity=-2),r.alias(ft,"realpath","expand_path"),r.def(ft,"$dirname",lt=function(Ct){var Pt;Pt=Ft();var Mt=(Ct=Et(Ct)).match(new RegExp("^["+Pt+"]"));return""===(Ct=(Ct=(Ct=Ct.replace(new RegExp("["+Pt+"]+$"),"")).replace(new RegExp("[^"+Pt+"]+$"),"")).replace(new RegExp("["+Pt+"]+$"),""))?Mt?"/":".":Ct},lt.$$arity=1),r.def(ft,"$basename",xt=function(Ct,It){var Mt;return null==It&&(It=he),Mt=Ft(),0==(Ct=Et(Ct)).length||(It=It!==he?Re(pe,"Opal")["$coerce_to!"](It,Re(pe,"String"),"to_str"):null,Ct=(Ct=Ct.replace(new RegExp("(.)["+Mt+"]*$"),"$1")).replace(new RegExp("^(?:.*["+Mt+"])?([^"+Mt+"]+)$"),"$1"),".*"===It?Ct=Ct.replace(/\.[^\.]+$/,""):null!==It&&(It=r.escape_regexp(It),Ct=Ct.replace(new RegExp(It+"$"),""))),Ct},xt.$$arity=-2),r.def(ft,"$extname",At=function(Ct){var It,Mt=he,jt=he;return Ct=Et(Ct),Mt=this.$basename(Ct),ke(Mt["$empty?"]())||(jt=Mt["$[]"](st(1,-1,!1)).$rindex("."),ke(ke(It=jt["$nil?"]())?It:Ne(jt,1)["$=="](function Je(zt,Oe){return"number"==typeof zt&&"number"==typeof Oe?zt-Oe:zt["$-"](Oe)}(Mt.$length(),1))))?"":Mt["$[]"](r.Range.$new(Ne(jt,1),-1,!1))},At.$$arity=1),r.def(ft,"$exist?",ht=function(qt){return null!=r.modules[qt]},ht.$$arity=1),r.alias(ft,"exists?","exist?"),r.def(ft,"$directory?",pt=function(qt){var Ct,Pt=he;for(var jt in Pt=[],r.modules)Pt.push(jt);return qt=qt.$gsub(new RegExp("(^."+Re(pe,"SEPARATOR")+"+|"+Re(pe,"SEPARATOR")+"+$)")),Ge(Pt,"find",[],((Ct=function(D){return null==D&&(D=he),D["$=~"](new RegExp("^"+qt))}).$$s=this,Ct.$$arity=1,Ct))},pt.$$arity=1),r.def(ft,"$join",St=function(Ct){var It,Pt,Mt,jt,D=this,se=he;return It=r.slice.call(arguments,0,arguments.length),ke((Pt=It)["$empty?"]())?"":(se="",Pt=Ge(Pt.$flatten().$each_with_index(),"map",[],((Mt=function(ue,ge){return null==ue&&(ue=he),null==ge&&(ge=he),ke(ge["$=="](0)?ue["$empty?"]():ge["$=="](0))||ke(Pt.$length()["$=="](Ne(ge,1))?ue["$empty?"]():Pt.$length()["$=="](Ne(ge,1)))?Re(pe,"SEPARATOR"):ue}).$$s=D,Mt.$$arity=2,Mt)),Pt=Ge(Pt,"reject",[],"empty?".$to_proc()),Ge(Pt,"each_with_index",[],((jt=function(ue,ge){var Ue,qe=he;return null==ue&&(ue=he),null==ge&&(ge=he),qe=Pt["$[]"](Ne(ge,1)),ke(qe["$nil?"]())?se=""+se+ue:(ke(ke(Ue=ue["$end_with?"](Re(pe,"SEPARATOR")))?qe["$start_with?"](Re(pe,"SEPARATOR")):Ue)&&(ue=ue.$sub(new RegExp(Re(pe,"SEPARATOR")+"+$"),"")),se=ke(ke(Ue=ue["$end_with?"](Re(pe,"SEPARATOR")))?Ue:qe["$start_with?"](Re(pe,"SEPARATOR")))?""+se+ue:""+se+ue+Re(pe,"SEPARATOR"))}).$$s=D,jt.$$arity=2,jt)),se)},St.$$arity=-1),r.def(ft,"$split",Rt=function(Ct){return Ct.$split(Re(pe,"SEPARATOR"))},Rt.$$arity=1),he&&"split"}(r.get_singleton_class(J),G)},Opal.modules["corelib/process"]=function(r){var st,Oe,Ge,Je=[],Ze=r.nil,Be=r.const_get_qualified,he=r.const_get_relative,R=r.klass,Gt=r.truthy;return r.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(F,ke,st){var Oe,ve,J,G,Ge=R(F,null,"Process"),zt=[Ge].concat(st),Ve=Ze;if(Ge.__clocks__=[],r.defs(Ge,"$__register_clock__",Oe=function(pe,De){var Ce=this;return null==Ce.__clocks__&&(Ce.__clocks__=Ze),Ce.$const_set(pe,Ce.__clocks__.$size()),Ce.__clocks__["$<<"](De)},Oe.$$arity=2),Ge.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Ve=!1,r.global.performance)Ve=function(){return performance.now()};else if(r.global.process&&process.hrtime){var ft=process.hrtime();Ve=function(){var Ye=process.hrtime(ft);return 1e3*Ye[0]+(Ye[1]/1e3|0)/1e3}}Gt(Ve)&&Ge.$__register_clock__("CLOCK_MONOTONIC",Ve),r.defs(Ge,"$pid",ve=function(){return 0},ve.$$arity=0),r.defs(Ge,"$times",J=function(){var De;return De=he(zt,"Time").$now().$to_f(),Be(he(zt,"Benchmark"),"Tms").$new(De,De,De,De,De)},J.$$arity=0),r.defs(Ge,"$clock_gettime",G=function(pe,De){var lt=this,xt=Ze;null==lt.__clocks__&&(lt.__clocks__=Ze),null==De&&(De="float_second"),Gt(xt=lt.__clocks__["$[]"](pe))||lt.$raise(Be(he(zt,"Errno"),"EINVAL"),"clock_gettime("+pe+") "+lt.__clocks__["$[]"](pe));var At=xt();switch(De){case"float_second":return At/1e3;case"float_millisecond":return At/1;case"float_microsecond":return 1e3*At;case"second":return At/1e3|0;case"millisecond":return At/1|0;case"microsecond":return 1e3*At|0;case"nanosecond":return 1e6*At|0;default:lt.$raise(he(zt,"ArgumentError"),"unexpected unit: "+De)}},G.$$arity=-2)}(Je[0],0,Je),st=Je,[Ge=R(Je[0],null,"Signal")].concat(st),r.defs(Ge,"$trap",Oe=function(J){return r.slice.call(arguments,0,arguments.length),Ze},Oe.$$arity=-1),function(F,ke,st){var Oe,Ge=R(F,null,"GC");return[Ge].concat(st),r.defs(Ge,"$start",Oe=function(){return Ze},Oe.$$arity=0),Ze&&"start"}(Je[0],0,Je)},Opal.modules["corelib/unsupported"]=function(r){var Ne,Je,Ze=r.top,Be=[],he=r.nil,Re=r.const_get_relative,F=r.klass,ke=r.module;r.add_stubs(["$raise","$warn","$%"]);var J,ft,Ye,pe,De,Ce,lt,xt,At,ht,pt,St,Rt,Et,Ft,qt,Ct,It,Pt,Mt,jt,D,se,ue,G,Ve,ge,st={};function Ge(Oe){switch(r.config.unsupported_features_severity){case"error":Re(Be,"Kernel").$raise(Re(Be,"NotImplementedError"),Oe);break;case"warning":!function zt(Oe){st[Oe]||(st[Oe]=!0,Ze.$warn(Oe))}(Oe)}}return J=Be,G=F(Be[0],null,"String"),Ve=[G].concat(J),ge="String#%s not supported. Mutable String methods are not supported in Opal.",r.def(G,"$<<",ft=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("<<"))},ft.$$arity=-1),r.def(G,"$capitalize!",Ye=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("capitalize!"))},Ye.$$arity=-1),r.def(G,"$chomp!",pe=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("chomp!"))},pe.$$arity=-1),r.def(G,"$chop!",De=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("chop!"))},De.$$arity=-1),r.def(G,"$downcase!",Ce=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("downcase!"))},Ce.$$arity=-1),r.def(G,"$gsub!",lt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("gsub!"))},lt.$$arity=-1),r.def(G,"$lstrip!",xt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("lstrip!"))},xt.$$arity=-1),r.def(G,"$next!",At=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("next!"))},At.$$arity=-1),r.def(G,"$reverse!",ht=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("reverse!"))},ht.$$arity=-1),r.def(G,"$slice!",pt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("slice!"))},pt.$$arity=-1),r.def(G,"$squeeze!",St=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("squeeze!"))},St.$$arity=-1),r.def(G,"$strip!",Rt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("strip!"))},Rt.$$arity=-1),r.def(G,"$sub!",Et=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("sub!"))},Et.$$arity=-1),r.def(G,"$succ!",Ft=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("succ!"))},Ft.$$arity=-1),r.def(G,"$swapcase!",qt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("swapcase!"))},qt.$$arity=-1),r.def(G,"$tr!",Ct=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("tr!"))},Ct.$$arity=-1),r.def(G,"$tr_s!",It=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("tr_s!"))},It.$$arity=-1),r.def(G,"$upcase!",Pt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("upcase!"))},Pt.$$arity=-1),r.def(G,"$prepend",Mt=function(Ue){var wt=this;return r.slice.call(arguments,0,arguments.length),wt.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("prepend"))},Mt.$$arity=-1),r.def(G,"$[]=",jt=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("[]="))},jt.$$arity=-1),r.def(G,"$clear",D=function(Ue){var wt=this;return r.slice.call(arguments,0,arguments.length),wt.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("clear"))},D.$$arity=-1),r.def(G,"$encode!",se=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("encode!"))},se.$$arity=-1),r.def(G,"$unicode_normalize!",ue=function(Le){var qe=this;return r.slice.call(arguments,0,arguments.length),qe.$raise(Re(Ve,"NotImplementedError"),ge["$%"]("unicode_normalize!"))},ue.$$arity=-1),function(Oe,ve){var Ve,ft,J=ke(Oe,"Kernel"),Ye=([J].concat(ve),"Object freezing is not supported by Opal");r.def(J,"$freeze",Ve=function(){return Ge(Ye),this},Ve.$$arity=0),r.def(J,"$frozen?",ft=function(){return Ge(Ye),!1},ft.$$arity=0)}(Be[0],Be),function(Oe,ve){var Ve,ft,Ye,J=ke(Oe,"Kernel"),pe=([J].concat(ve),"Object tainting is not supported by Opal");r.def(J,"$taint",Ve=function(){return Ge(pe),this},Ve.$$arity=0),r.def(J,"$untaint",ft=function(){return Ge(pe),this},ft.$$arity=0),r.def(J,"$tainted?",Ye=function(){return Ge(pe),!1},Ye.$$arity=0)}(Be[0],Be),function(Oe,ve,J){var ft,Ye,pe,De,G=F(Oe,null,"Module");[G].concat(J),r.def(G,"$public",ft=function(Ce){var At=this;return 0===r.slice.call(arguments,0,arguments.length).length&&(At.$$module_function=!1),he},ft.$$arity=-1),r.alias(G,"private","public"),r.alias(G,"protected","public"),r.alias(G,"nesting","public"),r.def(G,"$private_class_method",Ye=function(lt){var At=this;return r.slice.call(arguments,0,arguments.length),At},Ye.$$arity=-1),r.alias(G,"public_class_method","private_class_method"),r.def(G,"$private_method_defined?",pe=function(Ce){return!1},pe.$$arity=1),r.def(G,"$private_constant",De=function(lt){return r.slice.call(arguments,0,arguments.length),he},De.$$arity=-1),r.alias(G,"protected_method_defined?","private_method_defined?"),r.alias(G,"public_instance_methods","instance_methods"),r.alias(G,"public_instance_method","instance_method"),r.alias(G,"public_method_defined?","method_defined?")}(Be[0],0,Be),function(Oe,ve){var Ve,J=ke(Oe,"Kernel");[J].concat(ve),r.def(J,"$private_methods",Ve=function(Ye){return r.slice.call(arguments,0,arguments.length),[]},Ve.$$arity=-1),r.alias(J,"private_instance_methods","private_methods")}(Be[0],Be),function(Oe,ve){var Ve,J=ke(Oe,"Kernel"),G=[J].concat(ve);r.def(J,"$eval",Ve=function(ft){var pe=this;return r.slice.call(arguments,0,arguments.length),pe.$raise(Re(G,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+Re(G,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},Ve.$$arity=-1)}(Be[0],Be),r.defs(Ze,"$public",Ne=function(Oe){return r.slice.call(arguments,0,arguments.length),he},Ne.$$arity=-1),r.defs(Ze,"$private",Je=function(Oe){return r.slice.call(arguments,0,arguments.length),he},Je.$$arity=-1),he&&"private"},r=Opal,Ne=r.top,r.add_stubs(["$require"]),Ne.$require("opal/base"),Ne.$require("opal/mini"),Ne.$require("corelib/string/encoding"),Ne.$require("corelib/struct"),Ne.$require("corelib/io"),Ne.$require("corelib/main"),Ne.$require("corelib/dir"),Ne.$require("corelib/file"),Ne.$require("corelib/process"),Ne.$require("corelib/unsupported"),function(r,Ne){module.exports?module.exports=Ne:void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(Je){return Ne(Je.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[module]))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(r){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var W,_,oe,b,O=[],xe=e.nil,ie=e.const_get_relative,$=e.klass;return e.add_stubs(["$new"]),W=O,oe=$(O[0],null,"File"),b=[oe].concat(W),e.defs(oe,"$read",_=function(t){var i="",j=-1;try{var h=new XMLHttpRequest;h.open("GET",t,!1),h.addEventListener("load",function(){(0===(j=this.status)||200===j)&&(i=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(g){throw ie(b,"IOError").$new("Error reading file or directory: "+t+"; reason: "+g.message)}if(404===j||0===j&&!i)throw ie(b,"IOError").$new("No such file or directory: "+t);return i},_.$$arity=1),xe&&"read"},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var $,n,y,W,l=e.top,O=[];if(e.add_stubs(["$require"]),"object"==typeof r&&"object"==typeof r.runtime){var oe=r.runtime;$=oe.platform,n=oe.engine,y=oe.framework,W=oe.ioModule}return $=$||"browser",n=n||"",y=y||"",e.const_set(O[0],"JAVASCRIPT_IO_MODULE",W=W||"xmlhttprequest"),e.const_set(O[0],"JAVASCRIPT_PLATFORM",$),e.const_set(O[0],"JAVASCRIPT_ENGINE",n),e.const_set(O[0],"JAVASCRIPT_FRAMEWORK",y),l.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var b,i,g,w,j,h,c,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,$=e.module,n=e.klass,y=e.hash2,W=e.truthy;return e.add_stubs(["$uriish?","$[]","$web_path","$path_resolver","$descends_from?","$base_dir","$start_with?","$attr?","$join","$prepare_source_string","$read","$fetch","$warn","$logger","$normalize_system_path","$read_asset"]),b=O,i=c=[$(O[0],"Asciidoctor")].concat(b),j=n(c[0],null,"AbstractNode"),h=[j].concat(i),j.$$prototype.document=xe,e.def(j,"$read_contents",g=function(B,N){var x,f,L,ae=this,Pe=xe,ze=xe;if(null==N&&(N=y([],{})),Pe=ae.document,!W(W(x=ie(h,"Helpers")["$uriish?"](B))?x:W(f=W(L=ze=N["$[]"]("start"))?ie(h,"Helpers")["$uriish?"](ze):L)?B=Pe.$path_resolver().$web_path(B,ze):f))return B=ae.$normalize_system_path(B,N["$[]"]("start"),xe,y(["target_name"],{target_name:W(x=N["$[]"]("label"))?x:"asset"})),ae.$read_asset(B,y(["normalize","warn_on_failure","label"],{normalize:N["$[]"]("normalize"),warn_on_failure:N.$fetch("warn_on_failure",!0),label:N["$[]"]("label")}));if(!W(W(x=W(f=Pe.$path_resolver()["$descends_from?"](B,Pe.$base_dir()))?f:B["$start_with?"]("chrome://"))?x:Pe["$attr?"]("allow-uri-read")))return W(N.$fetch("warn_on_failure",!0))&&ae.$logger().$warn("cannot retrieve contents of "+(W(x=N["$[]"]("label"))?x:"asset")+" at URI: "+B+" (allow-uri-read attribute not enabled)"),xe;try{return W(N["$[]"]("normalize"))?ie(h,"Helpers").$prepare_source_string(Xe("::","File").$read(B)).$join(ie(h,"LF")):Xe("::","File").$read(B)}catch(le){if(!e.rescue(le,[ie(h,"StandardError")]))throw le;try{return W(N.$fetch("warn_on_failure",!0))&&ae.$logger().$warn("could not retrieve contents of "+(W(x=N["$[]"]("label"))?x:"asset")+" at URI: "+B),xe}finally{e.pop_exception()}}},g.$$arity=-2),void e.def(j,"$generate_data_uri_from_uri",w=function(B,N){null==N&&(N=!1);var f="",L="",ae=-1;try{var Pe=new XMLHttpRequest;Pe.open("GET",B,!1),Pe.overrideMimeType("text/plain; charset=x-user-defined"),Pe.addEventListener("load",function(){if(0===(ae=this.status)||200===ae){for(var ze="",le=this.responseText,S=0,d=le.length;S<d;++S){var m=le.charCodeAt(S);ze+=String.fromCharCode(255&m)}L=btoa(ze),f=this.getResponseHeader("content-type")}}),Pe.send(null),f||(B.endsWith(".jpeg")||B.endsWith(".jpg")||B.endsWith(".jpe")?f="image/jpg":B.endsWith(".png")?f="image/png":B.endsWith(".svg")?f="image/svg+xml":B.endsWith(".bmp")?f="image/bmp":(B.endsWith(".tif")||B.endsWith(".tiff"))&&(f="image/tiff"))}catch{ae=0}return 404!==ae&&(0!==ae||L&&f)?"data:"+f+";base64,"+L:(this.$logger().$warn("could not retrieve image data from URI: "+B),B)},w.$$arity=-2)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var W,_,b,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.send;return e.add_stubs(["$new","$path"]),W=O,b=[$(O[0],"OpenURI")].concat(W),void e.defs(ie(b,"OpenURI"),"$open_uri",_=function(t,s){var j,h=_.$$p,g=h||xe,w=this,C=xe;return h&&(_.$$p=null),j=e.slice.call(arguments,1,arguments.length),C=n(ie(b,"File"),"new",[w.$path()].concat(e.to_a(j))),g!==xe?e.yield1(g,C):C},_.$$arity=-2)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var s,h,i,oe,_,O=[],$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$absolute_path?","$start_with?"]),oe=O,s=_=[$(O[0],"Asciidoctor")].concat(oe),[i=n(_[0],null,"PathResolver")].concat(s),void e.def(i,"$root?",h=function(g){var w;return y(w=this["$absolute_path?"](g))?w:g["$start_with?"]("file://","http://","https://","chrome://")},h.$$arity=1)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var oe,s,h,i,j,_,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),oe=O,s=_=[$(O[0],"Asciidoctor")].concat(oe),i=n(_[0],ie(_,"Reader"),"PreprocessorReader"),j=[i].concat(s),i.$$prototype.path_resolver=i.$$prototype.document=i.$$prototype.include_stack=i.$$prototype.dir=xe,void e.def(i,"$resolve_include_path",h=function(w,C,B){var N,x=this,f=xe,ae=xe,Pe=xe,ze=xe,le=xe,S=xe,d=xe;if(f=(x.path_resolver=y(N=x.path_resolver)?N:ie(j,"PathResolver").$new("\\")).$posixify(w),ae=(N=["file",x.document.$base_dir()])[1],y(f["$start_with?"]("file://")))Pe=ze=f;else if(y(ie(j,"Helpers")["$uriish?"](f))){if(!y(y(N=x.path_resolver["$descends_from?"](f,ae))?N:x.document.$attributes()["$key?"]("allow-uri-read")))return x.$replace_next_line("link:"+w+"["+C+"]");Pe=ze=f}else if(y(x.path_resolver["$absolute_path?"](f)))Pe=ze="file://"+(y(f["$start_with?"]("/"))?"":"/")+f;else if((le=y(S=x.include_stack["$empty?"]())?ae:x.dir)["$=="]("."))Pe=ze=f;else if(y(y(N=le["$start_with?"]("file://"))?N:ie(j,"Helpers")["$uriish?"](le)["$!"]()))Pe=le+"/"+f,ze=y(S)?f:y(y(N=ae["$=="]("."))?N:(d=x.path_resolver["$descends_from?"](Pe,ae))["$!"]())?Pe:Pe.$slice(d,Pe.$length());else if(y(S))Pe=le+"/"+(ze=f);else{if(!y(y(N=d=x.path_resolver["$descends_from?"](le,ae))?N:x.document.$attributes()["$key?"]("allow-uri-read")))return x.$replace_next_line("link:"+w+"["+C+"]");Pe=le+"/"+f,ze=y(d)?Pe.$slice(d,Pe.$length()):f}return[Pe,"file",ze]},h.$$arity=3)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var l=e.top,xe=e.nil,ie=e.const_get_relative;return e.add_stubs(["$==","$require"]),ie([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(l.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),l.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),l.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),l.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):xe},Opal.modules.set=function(e){function l(t,s){return"number"==typeof t&&"number"==typeof s?t-s:t["$-"](s)}function O(t,s){return"number"==typeof t&&"number"==typeof s?t<s:t["$<"](s)}function xe(t,s){return"number"==typeof t&&"number"==typeof s?t<=s:t["$<="](s)}var i,g,w,C,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,j,h,ie=[],A=e.nil,$=e.const_get_relative,W=e.klass,oe=e.hash2,b=e.truthy,_=e.send,c=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),i=ie,j=W(ie[0],null,"Set"),h=[j].concat(i),j.$$prototype.hash=A,j.$include($(h,"Enumerable")),e.defs(j,"$[]",g=function(it){var Ie,We=this;return Ie=e.slice.call(arguments,0,arguments.length),We.$new(Ie)},g.$$arity=-1),e.def(j,"$initialize",w=function(Ie){var tt,Se=w.$$p,We=Se||A;return Se&&(w.$$p=null),Se&&(w.$$p=null),null==Ie&&(Ie=A),this.hash=oe([],{}),b(Ie["$nil?"]())?A:(b($(h,"Enumerable")["$==="](Ie))||this.$raise($(h,"ArgumentError"),"value must be enumerable"),b(We)?_(Ie,"each",[],((tt=function(nt){return null==nt&&(nt=A),(tt.$$s||this).$add(e.yield1(We,nt))}).$$s=this,tt.$$arity=1,tt)):this.$merge(Ie))},w.$$arity=-1),e.def(j,"$dup",C=function(){return this.$class().$new().$merge(this)},C.$$arity=0),e.def(j,"$-",B=function(it){return b(it["$respond_to?"]("each"))||this.$raise($(h,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(it)},B.$$arity=1),e.alias(j,"difference","-"),e.def(j,"$inspect",N=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},N.$$arity=0),e.def(j,"$==",x=function(it){var Ie,Se,We=this;return!!b(We["$equal?"](it))||(b(it["$instance_of?"](We.$class()))?We.hash["$=="](it.$instance_variable_get("@hash")):!!b(b(Ie=it["$is_a?"]($(h,"Set")))?We.$size()["$=="](it.$size()):Ie)&&_(it,"all?",[],((Se=function(tt){var Qe=Se.$$s||this;return null==Qe.hash&&(Qe.hash=A),null==tt&&(tt=A),Qe.hash["$include?"](tt)}).$$s=We,Se.$$arity=1,Se)))},x.$$arity=1),e.def(j,"$add",f=function(Ie){var We;return _(this.hash,"[]=",e.to_a(We=[Ie,!0])),l(We.length,1),this},f.$$arity=1),e.alias(j,"<<","add"),e.def(j,"$classify",L=function(){var We,tt,Ie=L.$$p,Se=Ie||A,nt=A;return Ie&&(L.$$p=null),Ie&&(L.$$p=null),Se===A?this.$enum_for("classify"):(nt=_($(h,"Hash"),"new",[],((We=function(yt,ut){var u;return null==yt&&(yt=A),null==ut&&(ut=A),u=[ut,(We.$$s||this).$class().$new()],_(yt,"[]=",e.to_a(u)),u[l(u.length,1)]}).$$s=this,We.$$arity=2,We)),_(this,"each",[],((tt=function(yt){return null==yt&&(yt=A),nt["$[]"](e.yield1(Se,yt)).$add(yt)}).$$s=this,tt.$$arity=1,tt)),nt)},L.$$arity=0),e.def(j,"$collect!",ae=function(){var Se,it=ae.$$p,Ie=it||A,We=this,tt=A;return it&&(ae.$$p=null),it&&(ae.$$p=null),Ie===A?We.$enum_for("collect!"):(tt=We.$class().$new(),_(We,"each",[],((Se=function(Qe){return null==Qe&&(Qe=A),tt["$<<"](e.yield1(Ie,Qe))}).$$s=We,Se.$$arity=1,Se)),We.$replace(tt))},ae.$$arity=0),e.alias(j,"map!","collect!"),e.def(j,"$delete",Pe=function(it){return this.hash.$delete(it),this},Pe.$$arity=1),e.def(j,"$delete?",ze=function(it){return b(this["$include?"](it))?(this.$delete(it),this):A},ze.$$arity=1),e.def(j,"$delete_if",le=function(){var Ie,Se,We=le.$$p,tt=We||A,Qe=this;return We&&(le.$$p=null),tt===A?Qe.$enum_for("delete_if"):(_(_(Qe,"select",[],((Ie=function(nt){return null==nt&&(nt=A),e.yield1(tt,nt)}).$$s=Qe,Ie.$$arity=1,Ie)),"each",[],((Se=function(nt){var yt=Se.$$s||this;return null==yt.hash&&(yt.hash=A),null==nt&&(nt=A),yt.hash.$delete(nt)}).$$s=Qe,Se.$$arity=1,Se)),Qe)},le.$$arity=0),e.def(j,"$add?",S=function(it){return b(this["$include?"](it))?A:this.$add(it)},S.$$arity=1),e.def(j,"$each",d=function(){var Ie=d.$$p,Se=Ie||A;return Ie&&(d.$$p=null),Ie&&(d.$$p=null),Se===A?this.$enum_for("each"):(_(this.hash,"each_key",[],Se.$to_proc()),this)},d.$$arity=0),e.def(j,"$empty?",m=function(){return this.hash["$empty?"]()},m.$$arity=0),e.def(j,"$eql?",p=function(it){var Ie;return this.hash["$eql?"](_(it,"instance_eval",[],((Ie=function(){var We=Ie.$$s||this;return null==We.hash&&(We.hash=A),We.hash}).$$s=this,Ie.$$arity=0,Ie)))},p.$$arity=1),e.def(j,"$clear",z=function(){return this.hash.$clear(),this},z.$$arity=0),e.def(j,"$include?",Z=function(it){return this.hash["$include?"](it)},Z.$$arity=1),e.alias(j,"member?","include?"),e.def(j,"$merge",re=function(Ie){var Se;return _(Ie,"each",[],((Se=function(tt){return null==tt&&(tt=A),(Se.$$s||this).$add(tt)}).$$s=this,Se.$$arity=1,Se)),this},re.$$arity=1),e.def(j,"$replace",ye=function(Ie){return this.$clear(),this.$merge(Ie),this},ye.$$arity=1),e.def(j,"$size",q=function(){return this.hash.$size()},q.$$arity=0),e.alias(j,"length","size"),e.def(j,"$subtract",ee=function(Ie){var Se;return _(Ie,"each",[],((Se=function(tt){return null==tt&&(tt=A),(Se.$$s||this).$delete(tt)}).$$s=this,Se.$$arity=1,Se)),this},ee.$$arity=1),e.def(j,"$|",V=function(it){return b(it["$respond_to?"]("each"))||this.$raise($(h,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(it)},V.$$arity=1),e.def(j,"$superset?",_e=function(it){var Se;return b(it["$is_a?"]($(h,"Set")))||this.$raise($(h,"ArgumentError"),"value must be a set"),!b(O(this.$size(),it.$size()))&&_(it,"all?",[],((Se=function(tt){return null==tt&&(tt=A),(Se.$$s||this)["$include?"](tt)}).$$s=this,Se.$$arity=1,Se))},_e.$$arity=1),e.alias(j,">=","superset?"),e.def(j,"$proper_superset?",Me=function(it){var Se;return b(it["$is_a?"]($(h,"Set")))||this.$raise($(h,"ArgumentError"),"value must be a set"),!b(xe(this.$size(),it.$size()))&&_(it,"all?",[],((Se=function(tt){return null==tt&&(tt=A),(Se.$$s||this)["$include?"](tt)}).$$s=this,Se.$$arity=1,Se))},Me.$$arity=1),e.alias(j,">","proper_superset?"),e.def(j,"$subset?",Te=function(it){var Se;return b(it["$is_a?"]($(h,"Set")))||this.$raise($(h,"ArgumentError"),"value must be a set"),!b(O(it.$size(),this.$size()))&&_(this,"all?",[],((Se=function(tt){return null==tt&&(tt=A),it["$include?"](tt)}).$$s=this,Se.$$arity=1,Se))},Te.$$arity=1),e.alias(j,"<=","subset?"),e.def(j,"$proper_subset?",et=function(it){var Se;return b(it["$is_a?"]($(h,"Set")))||this.$raise($(h,"ArgumentError"),"value must be a set"),!b(xe(it.$size(),this.$size()))&&_(this,"all?",[],((Se=function(tt){return null==tt&&(tt=A),it["$include?"](tt)}).$$s=this,Se.$$arity=1,Se))},et.$$arity=1),e.alias(j,"<","proper_subset?"),e.alias(j,"+","|"),e.alias(j,"union","|"),e.def(j,"$to_a",ct=function(){return this.hash.$keys()},ct.$$arity=0),function(t,s){var h,i=c(t,"Enumerable"),j=[i].concat(s);e.def(i,"$to_set",h=function(w,C){var x,f,B=h.$$p,N=B||A,ae=this;return B&&(h.$$p=null),B&&(h.$$p=null),(x=e.slice.call(arguments,0,arguments.length)).length>0&&(f=x[0],x.splice(0,1)),null==f&&(f=$(j,"Set")),_(f,"new",[ae].concat(e.to_a(x)),N.$to_proc())},h.$$arity=-1)}(ie[0],ie)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var W,_,c,oe,b,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.send;return e.add_stubs(["$new"]),W=O,oe=$(O[0],"Kernel"),b=[oe].concat(W),e.def(oe,"$open",_=function(s,i){var h,g=_.$$p,w=g||xe,B=xe;return g&&(_.$$p=null),h=e.slice.call(arguments,1,arguments.length),B=n(ie(b,"File"),"new",[s].concat(e.to_a(h))),w!==xe?e.yield1(w,B):B},_.$$arity=-2),void e.def(oe,"$__dir__",c=function(){return""},c.$$arity=0)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var b,t,s,i,j,h,C,B,N,x,w,_,c,O=[],xe=e.nil,ie=e.const_get_relative,$=e.klass,n=e.truthy,y=e.gvars;return e.add_stubs(["$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),b=O,_=$(O[0],null,"File"),c=[_].concat(b),_.$$prototype.eof=_.$$prototype.path=xe,_.$attr_reader("eof"),_.$attr_reader("lineno"),_.$attr_reader("path"),e.def(_,"$initialize",t=function(g,w){var C=this;return null==w&&(w="r"),C.path=g,C.contents=xe,C.eof=!1,C.lineno=0,w=(w=w.$delete("b")).$gsub(/:(.*)/,""),C.flags=w},t.$$arity=-2),e.def(_,"$read",s=function(){var g=this,w=xe;return n(g.eof)?"":(w=ie(c,"File").$read(g.path),g.eof=!0,g.lineno=w.$size(),w)},s.$$arity=0),e.def(_,"$each_line",i=function(g){var w=i.$$p,C=w||xe,B=this,N=xe;if(null==y["/"]&&(y["/"]=xe),w&&(i.$$p=null),w&&(i.$$p=null),null==g&&(g=y["/"]),n(B.eof))return C!==xe?B:[].$to_enum();if(C!==xe){N=ie(c,"File").$read(B.path),B.eof=!1,B.lineno=0;for(var x=N.$chomp(),f=N.length!=x.length,L=x.split(g),ae=0,Pe=L.length;ae<Pe;ae++)B.lineno+=1,e.yield1(C,ae<Pe-1||f?L[ae]+g:L[ae]);return B.eof=!0,B}return B.$read().$each_line()},i.$$arity=-1),e.def(_,"$readlines",j=function(){return ie(c,"File").$readlines(this.path)},j.$$arity=0),h=e.get_singleton_class(_),w=[h].concat(c),e.def(h,"$readlines",C=function(L,ae){return null==y["/"]&&(y["/"]=xe),null==ae&&(ae=y["/"]),ie(w,"File").$read(L).$split(ae)},C.$$arity=-2),e.def(h,"$file?",B=function(f){return!0},B.$$arity=1),e.def(h,"$readable?",N=function(f){return!0},N.$$arity=1),e.def(h,"$read",x=function(L){return""},x.$$arity=1),function(W,oe,b){var t,_=$(W,null,"IO"),c=[_].concat(b);return e.defs(_,"$read",t=function(i){return ie(c,"File").$read(i)},t.$$arity=1),xe&&"read"}(O[0],0,O)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){var b,t,_,xe=[],Xe=e.nil,n=e.klass,y=e.send;return e.add_stubs(["$[]=","$-"]),b=xe,[_=n(xe[0],null,"MatchData")].concat(b),_.$$prototype.matches=Xe,e.def(_,"$[]=",t=function(s,i){var h;return y(this.matches,"[]=",e.to_a(h=[s,i])),h[function l(W,oe){return"number"==typeof W&&"number"==typeof oe?W-oe:W["$-"](oe)}(h.length,1)]},t.$$arity=2),Xe&&"[]="},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){var c,i,j,h,t,ie=[],A=e.nil,W=e.klass,oe=e.truthy;return e.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$>=","$-","$_original_byteslice","$_original_unpack"]),c=ie,[t=W(ie[0],null,"String")].concat(c),oe(t["$method_defined?"]("limit_bytesize"))||e.def(t,"$limit_bytesize",i=function(w){var C=this;return oe(function l(b,_){return"number"==typeof b&&"number"==typeof _?b<_:b["$<"](_)}(w,C.$bytes().$length()))?C.$byteslice(0,w).$to_s():C.$to_s()},i.$$arity=1),oe(t["$method_defined?"]("limit"))||e.alias(t,"limit","limit_bytesize"),e.alias(t,"_original_byteslice","byteslice"),e.def(t,"$byteslice",j=function(w,C){var B,x=this;return null==C&&(C=1),oe(oe(B=w["$=="](3)?function O(b,_){return"number"==typeof b&&"number"==typeof _?b>=_:b["$>="](_)}(C,w):w["$=="](3))?65279===x.charCodeAt():B)?x.substr(1).$byteslice(0,function xe(b,_){return"number"==typeof b&&"number"==typeof _?b-_:b["$-"](_)}(C,3)):x.$_original_byteslice(w,C)},j.$$arity=-2),e.alias(t,"_original_unpack","unpack"),e.def(t,"$unpack",h=function(w){var C=this;if(w["$=="]("C3")){if(oe(65279===C.charCodeAt()))return[239,187,191];for(var B=[],N=0;N<3;N++)B.push(N<C.length?C.charCodeAt(N):A);return B}return C.$_original_unpack(w)},h.$$arity=1),A&&"unpack"},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var y,b,_,W,oe,O=[],ie=e.const_get_relative,$=e.module;return e.add_stubs(["$extend"]),y=O,W=$(O[0],"URI"),oe=[W].concat(y),e.defs(W,"$parse",b=function(t){return t.$extend(ie(oe,"URI"))},b.$$arity=1),void e.def(W,"$path",_=function(){return this},_.$$arity=0)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var oe,c,t,s,i,j,h,g,w,b,O=[],xe=e.nil,$=e.module,n=e.hash2,y=e.truthy;return e.add_stubs(["$delete"]),oe=O,[b=$(O[0],"Base64")].concat(oe),g=e.global.btoa||function(C){return(C instanceof Buffer?C:Buffer.from(C.toString(),"binary")).toString("base64")},w=e.global.atob||function(C){return Buffer.from(C,"base64").toString("binary")},e.defs(b,"$decode64",c=function(B){return w(B.replace(/\r?\n/g,""))},c.$$arity=1),e.defs(b,"$encode64",t=function(B){return g(B).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},t.$$arity=1),e.defs(b,"$strict_decode64",s=function(B){return w(B)},s.$$arity=1),e.defs(b,"$strict_encode64",i=function(B){return g(B)},i.$$arity=1),e.defs(b,"$urlsafe_decode64",j=function(B){return w(B.replace(/\-/g,"+").replace(/_/g,"/"))},j.$$arity=1),void e.defs(b,"$urlsafe_encode64",h=function(B,N){var x,L=xe;if(null==N)N=n([],{});else if(!N.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(x=N.$$smap.padding)&&(x=!0),L=g(B).replace(/\+/g,"-").replace(/\//g,"_"),y(x)||(L=L.$delete("=")),L},h.$$arity=-2)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){var b,t,_,c,xe=[],Xe=e.nil,A=e.const_get_relative,n=e.klass,y=e.truthy;return e.add_stubs(["$coerce_to!","$>"]),b=xe,_=n(xe[0],A(xe,"Numeric"),"Number"),c=[_].concat(b),e.def(_,"$round",t=function(i){return i=A(c,"Opal")["$coerce_to!"](i,A(c,"Integer"),"to_int"),y(function l(W,oe){return"number"==typeof W&&"number"==typeof oe?W>oe:W["$>"](oe)}(i,0))?Number(this.toFixed(i)):Math.round(this)},t.$$arity=-1),Xe&&"round"},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var l=e.top;e.add_stubs(["$require"]),l.$require("asciidoctor/js/opal_ext/kernel"),l.$require("asciidoctor/js/opal_ext/file"),l.$require("asciidoctor/js/opal_ext/match_data"),l.$require("asciidoctor/js/opal_ext/string"),l.$require("asciidoctor/js/opal_ext/uri"),l.$require("asciidoctor/js/opal_ext/base64"),l.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",l.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){function l(b,_){return"number"==typeof b&&"number"==typeof _?b+_:b["$+"](_)}var _,s,c,t,xe=[],Xe=e.nil,A=e.const_get_relative,n=e.module,y=e.send,W=e.gvars,oe=e.truthy;return e.add_stubs(["$gsub","$+","$unpack_hex_range"]),_=xe,c=n(xe[0],"Asciidoctor"),t=[c].concat(_),e.const_set(t[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),e.defs(c,"$unpack_hex_range",s=function(j){var h;return y(j,"gsub",[A(t,"HEX_RANGE_RX")],((h=function(){var C,B;return"\\u"+((C=W["~"])===Xe?Xe:C["$[]"](1))+(oe(C=(B=W["~"])===Xe?Xe:B["$[]"](2))?"-\\u"+((B=W["~"])===Xe?Xe:B["$[]"](2)):C)}).$$s=this,h.$$arity=0,h))},s.$$arity=1),e.const_set(t[0],"P_L",l("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),e.const_set(t[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),e.const_set(t[0],"P_Nd",l("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),e.const_set(t[0],"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),e.const_set(t[0],"CC_ALPHA",""+A(t,"P_L")+A(t,"P_Nl")),e.const_set(t[0],"CG_ALPHA","["+A(t,"CC_ALPHA")+"]"),e.const_set(t[0],"CC_ALNUM",""+A(t,"CC_ALPHA")+A(t,"P_Nd")),e.const_set(t[0],"CG_ALNUM","["+A(t,"CC_ALNUM")+"]"),e.const_set(t[0],"CC_WORD",""+A(t,"CC_ALNUM")+A(t,"P_Pc")),e.const_set(t[0],"CG_WORD","["+A(t,"CC_WORD")+"]"),e.const_set(t[0],"CG_BLANK","[ \\t]"),e.const_set(t[0],"CC_EOL","(?=\\n|$)"),e.const_set(t[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),e.const_set(t[0],"CC_ALL","[\\s\\S]"),void e.const_set(t[0],"CC_ANY","[^\\n]")},Opal.modules.strscan=function(e){var b,t,s,i,j,h,g,w,C,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,_,xe=[],Xe=e.nil,n=e.klass,y=e.send;return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),b=xe,[_=n(xe[0],null,"StringScanner")].concat(b),_.$$prototype.pos=_.$$prototype.string=_.$$prototype.working=_.$$prototype.matched=_.$$prototype.prev_pos=_.$$prototype.match=Xe,_.$attr_reader("pos"),_.$attr_reader("matched"),e.def(_,"$initialize",t=function(ee){var V=this;return V.string=ee,V.pos=0,V.matched=Xe,V.working=ee,V.match=[]},t.$$arity=1),_.$attr_reader("string"),e.def(_,"$beginning_of_line?",s=function(){var q=this;return 0===q.pos||"\n"===q.string.charAt(q.pos-1)},s.$$arity=0),e.alias(_,"bol?","beginning_of_line?"),e.def(_,"$scan",i=function(ee){var V=this,_e=(ee=V.$anchor(ee)).exec(V.working);return null==_e?V.matched=Xe:"object"==typeof _e?(V.prev_pos=V.pos,V.pos+=_e[0].length,V.working=V.working.substring(_e[0].length),V.matched=_e[0],V.match=_e,_e[0]):"string"==typeof _e?(V.pos+=_e.length,V.working=V.working.substring(_e.length),_e):Xe},i.$$arity=1),e.def(_,"$scan_until",j=function(ee){var V=this;ee=V.$anchor(ee);for(var Te,_e=V.pos,Me=V.working;;){if(Te=ee.exec(Me),_e+=1,Me=Me.substr(1),null!=Te)return V.matched=V.string.substr(V.pos,_e-V.pos-1+Te[0].length),V.prev_pos=_e-1,V.pos=_e,V.working=Me.substr(Te[0].length),V.matched;if(0===Me.length)return V.matched=Xe}},j.$$arity=1),e.def(_,"$[]",h=function(q){var V=this.match;return q<0&&(q+=V.length),q<0||q>=V.length||null==V[q]?Xe:V[q]},h.$$arity=1),e.def(_,"$check",g=function(ee){var V=this,_e=(ee=V.$anchor(ee)).exec(V.working);return V.matched=null==_e?Xe:_e[0]},g.$$arity=1),e.def(_,"$check_until",w=function(ee){var V=this,_e=V.prev_pos,Me=V.pos,Te=V.$scan_until(ee);return Te!==Xe&&(V.matched=Te.substr(-1),V.working=V.string.substr(Me)),V.prev_pos=_e,V.pos=Me,Te},w.$$arity=1),e.def(_,"$peek",C=function(ee){return this.working.substring(0,ee)},C.$$arity=1),e.def(_,"$eos?",B=function(){return 0===this.working.length},B.$$arity=0),e.def(_,"$exist?",N=function(q){var V=q.exec(this.working);return null==V?Xe:0==V.index?0:V.index+1},N.$$arity=1),e.def(_,"$skip",x=function(ee){var V=this,_e=(ee=V.$anchor(ee)).exec(V.working);if(null==_e)return V.matched=Xe;var Me=_e[0],Te=Me.length;return V.matched=Me,V.prev_pos=V.pos,V.pos+=Te,V.working=V.working.substring(Te),Te},x.$$arity=1),e.def(_,"$skip_until",f=function(ee){var _e=this.$scan_until(ee);return _e===Xe?Xe:(this.matched=_e.substr(-1),_e.length)},f.$$arity=1),e.def(_,"$get_byte",L=function(){var ee=this,V=Xe;return ee.pos<ee.string.length?(ee.prev_pos=ee.pos,ee.pos+=1,V=ee.matched=ee.working.substring(0,1),ee.working=ee.working.substring(1)):ee.matched=Xe,V},L.$$arity=0),e.alias(_,"getch","get_byte"),e.def(_,"$match?",ae=function(q){var V=(q=this.$anchor(q)).exec(this.working);return null==V?Xe:(this.prev_pos=this.pos,V[0].length)},ae.$$arity=1),e.def(_,"$pos=",Pe=function(q){return q<0&&(q+=this.string.$length()),this.pos=q,this.working=this.string.slice(q)},Pe.$$arity=1),e.def(_,"$matched_size",ze=function(){return this.matched===Xe?Xe:this.matched.length},ze.$$arity=0),e.def(_,"$post_match",le=function(){return this.matched===Xe?Xe:this.string.substr(this.pos)},le.$$arity=0),e.def(_,"$pre_match",S=function(){return this.matched===Xe?Xe:this.string.substr(0,this.prev_pos)},S.$$arity=0),e.def(_,"$reset",d=function(){return this.working=this.string,this.matched=Xe,this.pos=0},d.$$arity=0),e.def(_,"$rest",m=function(){return this.working},m.$$arity=0),e.def(_,"$rest?",p=function(){return 0!==this.working.length},p.$$arity=0),e.def(_,"$rest_size",z=function(){return this.$rest().$size()},z.$$arity=0),e.def(_,"$terminate",Z=function(){var V;return this.match=Xe,V=[this.string.$length()],y(this,"pos=",e.to_a(V)),V[function l(W,oe){return"number"==typeof W&&"number"==typeof oe?W-oe:W["$-"](oe)}(V.length,1)]},Z.$$arity=0),e.def(_,"$unscan",re=function(){var ee=this;return ee.pos=ee.prev_pos,ee.prev_pos=Xe,ee.match=Xe,ee},re.$$arity=0),_.$private(),e.def(_,"$anchor",ye=function(ee){var _e=ee.toString().match(/\/([^\/]+)$/);return _e=_e?_e[1]:void 0,new RegExp("^(?:"+ee.source+")",_e)},ye.$$arity=1),Xe&&"anchor"},Opal.modules["asciidoctor/js"]=function(e){var l=e.top;return e.add_stubs(["$require"]),l.$require("asciidoctor/js/opal_ext"),l.$require("asciidoctor/js/rx"),l.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var oe,b,O=[],xe=e.nil,$=e.klass,n=e.truthy;return e.add_stubs(["$method_defined?"]),oe=O,[b=$(O[0],null,"NilClass")].concat(oe),n(b["$method_defined?"]("nil_or_empty?"))||e.alias(b,"nil_or_empty?","nil?"),function(y,W,oe){var b=$(y,null,"String");[b].concat(oe),n(b["$method_defined?"]("nil_or_empty?"))||e.alias(b,"nil_or_empty?","empty?")}(O[0],0,O),function(y,W,oe){var b=$(y,null,"Array");[b].concat(oe),n(b["$method_defined?"]("nil_or_empty?"))||e.alias(b,"nil_or_empty?","empty?")}(O[0],0,O),function(y,W,oe){var b=$(y,null,"Hash");[b].concat(oe),n(b["$method_defined?"]("nil_or_empty?"))||e.alias(b,"nil_or_empty?","empty?")}(O[0],0,O),function(y,W,oe){var b=$(y,null,"Numeric");return[b].concat(oe),n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","nil?")}(O[0],0,O)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){function l(b,_){return"number"==typeof b&&"number"==typeof _?b<_:b["$<"](_)}function O(b,_){return"number"==typeof b&&"number"==typeof _?b>_:b["$>"](_)}var xe,Xe=e.top,ie=[],A=e.nil,$=e.const_get_relative,W=e.send,oe=e.truthy;return e.add_stubs(["$==","$arity","$instance_method","$send","$new","$<","$length","$dup","$>","$inject","$merge","$[]"]),$(ie,"Hash").$instance_method("merge").$arity()["$=="](1)?$(ie,"Hash").$send("prepend",W($(ie,"Module"),"new",[],(xe=function(){var _;return e.def(xe.$$s||this,"$merge",_=function(t){var s,i,j,h=_.$$p,w=this,C=A;return h&&(_.$$p=null),s=e.slice.call(arguments,0,arguments.length),oe(l(C=(i=s).$length(),1))?w.$dup():oe(O(C,1))?W(i,"inject",[w],((j=function(B,N){return null==B&&(B=A),null==N&&(N=A),B.$merge(N)}).$$s=w,j.$$arity=2,j)):W(w,e.find_super_dispatcher(w,"merge",_,!1),[i["$[]"](0)],null)},_.$$arity=-1),A&&"merge"},xe.$$s=Xe,xe.$$arity=0,xe))):A},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var oe,c,b,O=[],xe=e.nil,ie=e.const_get_relative,$=e.truthy,n=e.klass;return e.add_stubs(["$method_defined?"]),$(ie(O,"MatchData")["$method_defined?"]("names"))?xe:(oe=O,[b=n(O[0],null,"MatchData")].concat(oe),e.def(b,"$names",c=function(){return[]},c.$$arity=0),xe&&"names")},Opal.modules["asciidoctor/core_ext"]=function(e){var l=e.top,xe=e.nil,ie=e.const_get_relative;return e.add_stubs(["$=="]),l.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),l.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),ie([],"RUBY_ENGINE")["$=="]("opal")?l.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):xe},Opal.modules["asciidoctor/helpers"]=function(e){function l(t,s){return"number"==typeof t&&"number"==typeof s?t-s:t["$-"](s)}function xe(t,s){return"number"==typeof t&&"number"==typeof s?t+s:t["$+"](s)}var s,g,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,w,C,j,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.module,oe=e.truthy,b=e.gvars,_=e.send,c=e.hash2;return e.add_stubs(["$module_function","$require","$include?","$include","$==","$===","$path","$message","$raise","$warn","$logger","$chomp","$empty?","$slice","$unpack","$[]","$byteslice","$bytesize","$[]=","$-","$map","$rstrip","$encode","$encoding","$nil_or_empty?","$!=","$tap","$each_line","$<<","$match?","$gsub","$rindex","$index","$basename","$extname","$!","$length","$directory?","$dirname","$mkdir_p","$mkdir","$private_constant","$join","$divmod","$*","$+","$to_s","$to_i","$succ","$class_for_name","$const_get"]),s=ie,g=j=[W(ie[0],"Asciidoctor")].concat(s),w=W(j[0],"Helpers"),C=[w].concat(g),w.$module_function(),e.def(w,"$require_library",B=function(q,ee,V){var _e=this,Me=A,Te=A;null==b["!"]&&(b["!"]=A),null==ee&&(ee=!0),null==V&&(V="abort");try{return _e.$require(q)}catch(et){if(!e.rescue(et,[$e("::","LoadError")]))throw et;try{return oe(_e["$include?"]($(C,"Logging")))||_e.$include($(C,"Logging")),oe(ee)?(ee["$=="](!0)&&(ee=q),"abort"["$==="](Me=V)?(Te=b["!"].$path()["$=="](ee)?"":" (reason: "+(oe(b["!"].$path())?"cannot load '"+b["!"].$path()+"'":b["!"].$message())+")",_e.$raise($e("::","LoadError"),"asciidoctor: FAILED: required gem '"+ee+"' is not available"+Te+". Processing aborted.")):"warn"["$==="](Me)&&(Te=b["!"].$path()["$=="](ee)?"":" (reason: "+(oe(b["!"].$path())?"cannot load '"+b["!"].$path()+"'":b["!"].$message())+")",_e.$logger().$warn("optional gem '"+ee+"' is not available"+Te+". Functionality disabled."))):"abort"["$==="](Me=V)?_e.$raise($e("::","LoadError"),"asciidoctor: FAILED: "+b["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](Me)&&_e.$logger().$warn(b["!"].$message().$chomp(".")+". Functionality disabled."),A}finally{e.pop_exception()}}},B.$$arity=-2),e.def(w,"$prepare_source_array",N=function(q,ee){var V,_e,Me,Te,et,ct,it,Ie,Se=this,We=A,tt=A,Qe=A,nt=A;return null==ee&&(ee=!0),oe(q["$empty?"]())?[]:(We=(tt=(Qe=q["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="]($(C,"BOM_BYTES_UTF_16LE"))?(nt=[0,Qe.$byteslice(2,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),l(nt.length,1),oe(ee)?_(q,"map",[],((V=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")).$rstrip()}).$$s=Se,V.$$arity=1,V)):_(q,"map",[],((_e=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")).$chomp()}).$$s=Se,_e.$$arity=1,_e))):We["$=="]($(C,"BOM_BYTES_UTF_16BE"))?(nt=[0,Qe.$byteslice(2,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),l(nt.length,1),oe(ee)?_(q,"map",[],((Me=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")).$rstrip()}).$$s=Se,Me.$$arity=1,Me)):_(q,"map",[],((Te=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")).$chomp()}).$$s=Se,Te.$$arity=1,Te))):(tt["$=="]($(C,"BOM_BYTES_UTF_8"))&&(nt=[0,Qe.$byteslice(3,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),l(nt.length,1)),Qe.$encoding()["$=="]($(C,"UTF_8"))?oe(ee)?_(q,"map",[],((et=function(yt){return null==yt&&(yt=A),yt.$rstrip()}).$$s=Se,et.$$arity=1,et)):_(q,"map",[],((ct=function(yt){return null==yt&&(yt=A),yt.$chomp()}).$$s=Se,ct.$$arity=1,ct)):oe(ee)?_(q,"map",[],((it=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8")).$rstrip()}).$$s=Se,it.$$arity=1,it)):_(q,"map",[],((Ie=function(yt){return null==yt&&(yt=A),yt.$encode($(C,"UTF_8")).$chomp()}).$$s=Se,Ie.$$arity=1,Ie)))},N.$$arity=-2),e.def(w,"$prepare_source_string",x=function(q,ee){var V,_e,Te=A,et=A;return null==ee&&(ee=!0),oe(q["$nil_or_empty?"]())?[]:((Te=(et=q.$unpack("C3")).$slice(0,2))["$=="]($(C,"BOM_BYTES_UTF_16LE"))?q=q.$byteslice(2,q.$bytesize()).$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")):Te["$=="]($(C,"BOM_BYTES_UTF_16BE"))?q=q.$byteslice(2,q.$bytesize()).$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")):et["$=="]($(C,"BOM_BYTES_UTF_8"))?(q=q.$byteslice(3,q.$bytesize())).$encoding()["$=="]($(C,"UTF_8"))||(q=q.$encode($(C,"UTF_8"))):oe(q.$encoding()["$!="]($(C,"UTF_8")))&&(q=q.$encode($(C,"UTF_8"))),oe(ee)?_([],"tap",[],((V=function(ct){var Ie;return null==ct&&(ct=A),_(q,"each_line",[],((Ie=function(Se){return null==Se&&(Se=A),ct["$<<"](Se.$rstrip())}).$$s=V.$$s||this,Ie.$$arity=1,Ie))}).$$s=this,V.$$arity=1,V)):_([],"tap",[],((_e=function(ct){var Ie;return null==ct&&(ct=A),_(q,"each_line",[],((Ie=function(Se){return null==Se&&(Se=A),ct["$<<"](Se.$chomp())}).$$s=_e.$$s||this,Ie.$$arity=1,Ie))}).$$s=this,_e.$$arity=1,_e)))},x.$$arity=-2),e.def(w,"$uriish?",f=function(ye){var q;return oe(q=ye["$include?"](":"))?$(C,"UriSniffRx")["$match?"](ye):q},f.$$arity=1),$(C,"RUBY_ENGINE")["$=="]("opal")&&e.def(w,"$encode_uri_component",L=function(q){return encodeURIComponent(q).replace(/%20|[!'()*]/g,function(V){return"%20"===V?"+":"%"+V.charCodeAt(0).toString(16)})},L.$$arity=1),e.def(w,"$encode_spaces_in_uri",ae=function(q){return oe(q["$include?"](" "))?q.$gsub(" ","%20"):q},ae.$$arity=1),e.def(w,"$rootname",Pe=function(q){var V;return oe(V=q.$rindex("."))?oe(q.$index("/",V))?q:q.$slice(0,V):q},Pe.$$arity=1),e.def(w,"$basename",ze=function(q,ee){return null==ee&&(ee=A),oe(ee)?$e("::","File").$basename(q,ee["$=="](!0)?this.$extname(q):ee):$e("::","File").$basename(q)},ze.$$arity=-2),e.def(w,"$extname?",le=function(ye){var q,V;return oe(q=V=ye.$rindex("."))?ye.$index("/",V)["$!"]():q},le.$$arity=1),oe($e($e("::","File"),"ALT_SEPARATOR"))?e.def(w,"$extname",S=function(q,ee){var V,Me;return null==ee&&(ee=""),oe(Me=q.$rindex("."))?oe(oe(V=q.$index("/",Me))?V:q.$index($e($e("::","File"),"ALT_SEPARATOR"),Me))?ee:q.$slice(Me,q.$length()):ee},S.$$arity=-2):e.def(w,"$extname",d=function(q,ee){var _e;return null==ee&&(ee=""),oe(_e=q.$rindex("."))?oe(q.$index("/",_e))?ee:q.$slice(_e,q.$length()):ee},d.$$arity=-2),e.def(w,"$mkdir_p",m=function(q){var V=A;if(oe($e("::","File")["$directory?"](q)))return A;(V=$e("::","File").$dirname(q))["$=="](".")||this.$mkdir_p(V);try{return $e("::","Dir").$mkdir(q)}catch(_e){if(!e.rescue(_e,[$e("::","SystemCallError")]))throw _e;try{return oe($e("::","File")["$directory?"](q))?A:this.$raise()}finally{e.pop_exception()}}},m.$$arity=1),e.const_set(C[0],"ROMAN_NUMERALS",c(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),w.$private_constant("ROMAN_NUMERALS"),e.def(w,"$int_to_roman",p=function(q){var ee;return _($(C,"ROMAN_NUMERALS"),"map",[],(ee=function(_e,Me){var et,ct;return null==_e&&(_e=A),null==Me&&(Me=A),ct=q.$divmod(Me),et=e.to_ary(ct),q=et[1]??A,function O(t,s){return"number"==typeof t&&"number"==typeof s?t*s:t["$*"](s)}(_e,et[0]??A)},ee.$$s=this,ee.$$arity=2,ee)).$join()},p.$$arity=1),e.def(w,"$nextval",z=function(q){var V=A;return oe($e("::","Integer")["$==="](q))?xe(q,1):(V=q.$to_i()).$to_s()["$=="](q.$to_s())?xe(V,1):q.$succ()},z.$$arity=1),e.def(w,"$resolve_class",Z=function(q){return oe($e("::","Class")["$==="](q))?q:oe($e("::","String")["$==="](q))?this.$class_for_name(q):A},Z.$$arity=1),void e.def(w,"$class_for_name",re=function(q){var V=A;try{return oe($e("::","Class")["$==="](V=$e("::","Object").$const_get(q,!1)))||this.$raise(),V}catch(_e){if(!e.rescue(_e,[$(C,"StandardError")]))throw _e;try{return this.$raise($e("::","NameError"),"Could not resolve class for name: "+q)}finally{e.pop_exception()}}},re.$$arity=1)},Opal.modules.logger=function(e){function O(c,t){return"number"==typeof c&&"number"==typeof t?c<=t:c["$<="](t)}var s,h,g,w,C,B,N,x,f,L,ae,Pe,ze,le,S,d,p,Z,i,j,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.klass,oe=e.module,b=e.send,_=e.truthy;return e.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),s=ie,i=W(ie[0],null,"Logger"),j=[i].concat(s),i.$$prototype.level=i.$$prototype.progname=i.$$prototype.pipe=i.$$prototype.formatter=A,p=j,Z=[oe(j[0],"Severity")].concat(p),e.const_set(Z[0],"DEBUG",0),e.const_set(Z[0],"INFO",1),e.const_set(Z[0],"WARN",2),e.const_set(Z[0],"ERROR",3),e.const_set(Z[0],"FATAL",4),e.const_set(Z[0],"UNKNOWN",5),i.$include($(j,"Severity")),e.const_set(j[0],"SEVERITY_LABELS",b($(j,"Severity").$constants(),"map",[],(h=function(m){return null==m&&(m=A),[$(j,"Severity").$const_get(m),m.$to_s()]},h.$$s=i,h.$$arity=1,h)).$to_h()),function(m,p,z){var ye,q,Z=W(m,null,"Formatter"),re=[Z].concat(z);e.const_set(re[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),e.const_set(re[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),e.def(Z,"$call",ye=function(V,_e,Me,Te){return this.$format($(re,"MESSAGE_FORMAT"),V.$chr(),_e.$strftime($(re,"DATE_TIME_FORMAT")),V,Me,this.$message_as_string(Te))},ye.$$arity=4),e.def(Z,"$message_as_string",q=function(V){var _e,Te;return Te=V,$e("::","String")["$==="](Te)?V:$e("::","Exception")["$==="](Te)?function l(c,t){return"number"==typeof c&&"number"==typeof t?c+t:c["$+"](t)}(V.$message()+" ("+V.$class()+")\n",(_(_e=V.$backtrace())?_e:[]).$join("\n")):V.$inspect()},q.$$arity=1)}(j[0],0,j),i.$attr_reader("level"),i.$attr_accessor("progname"),i.$attr_accessor("formatter"),e.def(i,"$initialize",g=function(p){var z=this;return z.pipe=p,z.level=$(j,"DEBUG"),z.formatter=$(j,"Formatter").$new()},g.$$arity=1),e.def(i,"$level=",w=function(m){var p=this,z=A;return _($e("::","Integer")["$==="](m))?p.level=m:_(z=$(j,"SEVERITY_LABELS").$key(m.$to_s().$upcase()))?p.level=z:p.$raise($(j,"ArgumentError"),"invalid log level: "+m)},w.$$arity=1),e.def(i,"$info",C=function(p){var z=C.$$p,Z=z||A;return z&&(C.$$p=null),z&&(C.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"INFO"),A,p],Z.$to_proc())},C.$$arity=-1),e.def(i,"$debug",B=function(p){var z=B.$$p,Z=z||A;return z&&(B.$$p=null),z&&(B.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"DEBUG"),A,p],Z.$to_proc())},B.$$arity=-1),e.def(i,"$warn",N=function(p){var z=N.$$p,Z=z||A;return z&&(N.$$p=null),z&&(N.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"WARN"),A,p],Z.$to_proc())},N.$$arity=-1),e.def(i,"$error",x=function(p){var z=x.$$p,Z=z||A;return z&&(x.$$p=null),z&&(x.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"ERROR"),A,p],Z.$to_proc())},x.$$arity=-1),e.def(i,"$fatal",f=function(p){var z=f.$$p,Z=z||A;return z&&(f.$$p=null),z&&(f.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"FATAL"),A,p],Z.$to_proc())},f.$$arity=-1),e.def(i,"$unknown",L=function(p){var z=L.$$p,Z=z||A;return z&&(L.$$p=null),z&&(L.$$p=null),null==p&&(p=A),b(this,"add",[$(j,"UNKNOWN"),A,p],Z.$to_proc())},L.$$arity=-1),e.def(i,"$info?",ae=function(){return O(this.level,$(j,"INFO"))},ae.$$arity=0),e.def(i,"$debug?",Pe=function(){return O(this.level,$(j,"DEBUG"))},Pe.$$arity=0),e.def(i,"$warn?",ze=function(){return O(this.level,$(j,"WARN"))},ze.$$arity=0),e.def(i,"$error?",le=function(){return O(this.level,$(j,"ERROR"))},le.$$arity=0),e.def(i,"$fatal?",S=function(){return O(this.level,$(j,"FATAL"))},S.$$arity=0),e.def(i,"$add",d=function(p,z,Z){var q,re=d.$$p,ye=re||A,ee=this;return re&&(d.$$p=null),re&&(d.$$p=null),null==z&&(z=A),null==Z&&(Z=A),_(function xe(c,t){return"number"==typeof c&&"number"==typeof t?c<t:c["$<"](t)}(p=_(q=p)?q:$(j,"UNKNOWN"),ee.level))||(Z=_(q=Z)?q:ee.progname,_(z)||(ye!==A?z=e.yieldX(ye,[]):(z=Z,Z=ee.progname)),ee.pipe.$write(ee.formatter.$call(_(q=$(j,"SEVERITY_LABELS")["$[]"](p))?q:"ANY",$e("::","Time").$now(),Z,z))),!0},d.$$arity=-2),A&&"add"},Opal.modules["asciidoctor/logging"]=function(e){function l(t,s){return"number"==typeof t&&"number"==typeof s?t-s:t["$-"](s)}function O(t,s){return"number"==typeof t&&"number"==typeof s?t>s:t["$>"](s)}var s,h,g,w,N,x,f,L,ae,le,Pe,ze,C,B,j,xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.klass,oe=e.send,b=e.truthy,_=e.hash2,c=e.gvars;return e.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$to_h","$map","$constants","$const_get","$<<","$clear","$empty?","$max","$attr_accessor","$memoize_logger","$private","$extend","$private_class_method","$logger","$merge"]),xe.$require("logger"),s=Xe,h=(j=[y(Xe[0],"Asciidoctor")].concat(s))[0],g=A("::","Logger"),w=j,C=W(h,g,"Logger"),B=[C].concat(w),C.$$prototype.max_severity=ie,C.$attr_reader("max_severity"),e.def(C,"$initialize",N=function(L){var ze=N.$$p,S=this,d=ie,m=ie,p=ie,z=ie;for(ze&&(N.$$p=null),p=0,z=arguments.length,m=new Array(z);p<z;p++)m[p]=arguments[p];return e.slice.call(arguments,0,arguments.length),oe(S,e.find_super_dispatcher(S,"initialize",N,!1),m,ze),oe(S,"progname=",e.to_a(d=["asciidoctor"])),l(d.length,1),d=[$e(B,"BasicFormatter").$new()],oe(S,"formatter=",e.to_a(d)),l(d.length,1),d=[$e(B,"WARN")],oe(S,"level=",e.to_a(d)),d[l(d.length,1)]},N.$$arity=-1),e.def(C,"$add",x=function(L,ae,Pe){var ze,le=x.$$p,d=this,m=ie,p=ie,z=ie;for(le&&(x.$$p=null),p=0,z=arguments.length,m=new Array(z);p<z;p++)m[p]=arguments[p];return null==ae&&(ae=ie),null==Pe&&(Pe=ie),b(O(L=b(ze=L)?ze:$e(B,"UNKNOWN"),d.max_severity=b(ze=d.max_severity)?ze:L))&&(d.max_severity=L),oe(d,e.find_super_dispatcher(d,"add",x,!1),m,le)},x.$$arity=-2),f=B[0],L=$e(B,"Formatter"),ae=B,Pe=W(f,L,"BasicFormatter"),ze=[Pe].concat(ae),e.const_set(ze[0],"SEVERITY_LABEL_SUBSTITUTES",_(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),e.def(Pe,"$call",le=function(d,m,p,z){var Z;return p+": "+(b(Z=$e(ze,"SEVERITY_LABEL_SUBSTITUTES")["$[]"](d))?Z:d)+": "+(b(A("::","String")["$==="](z))?z:z.$inspect())+$e(ze,"LF")},le.$$arity=4),function(f,L){var ze,ae=y(f,"AutoFormattingMessage");[ae].concat(L),e.def(ae,"$inspect",ze=function(){var d,S=this;return b(d=S["$[]"]("source_location"))?d+": "+S["$[]"]("text"):S["$[]"]("text")},ze.$$arity=0)}(B[0],B),function(h,g,w){var N,x,f,L,ae,Pe,C=W(h,g,"MemoryLogger"),B=[C].concat(w);C.$$prototype.messages=ie,e.const_set(B[0],"SEVERITY_SYMBOL_BY_VALUE",oe($e(B,"Severity").$constants(!1),"map",[],(N=function(ze){return null==ze&&(ze=ie),[$e(B,"Severity").$const_get(ze),ze]},N.$$s=C,N.$$arity=1,N)).$to_h()),C.$attr_reader("messages"),e.def(C,"$initialize",x=function(){var S;return S=[$e(B,"WARN")],oe(this,"level=",e.to_a(S)),l(S.length,1),this.messages=[]},x.$$arity=0),e.def(C,"$add",f=function(le,S,d){var m,p=f.$$p,z=p||ie;return p&&(f.$$p=null),null==S&&(S=ie),null==d&&(d=ie),S=b(m=S)?m:z!==ie?e.yieldX(z,[]):d,this.messages["$<<"](_(["severity","message"],{severity:$e(B,"SEVERITY_SYMBOL_BY_VALUE")["$[]"](b(m=le)?m:$e(B,"UNKNOWN")),message:S})),!0},f.$$arity=-2),e.def(C,"$clear",L=function(){return this.messages.$clear()},L.$$arity=0),e.def(C,"$empty?",ae=function(){return this.messages["$empty?"]()},ae.$$arity=0),e.def(C,"$max_severity",Pe=function(){var le,S=this;return b(S["$empty?"]())?ie:oe(S.messages,"map",[],(le=function(d){return null==d&&(d=ie),$e(B,"Severity").$const_get(d["$[]"]("severity"))},le.$$s=S,le.$$arity=1,le)).$max()},Pe.$$arity=0)}(j[0],A("::","Logger"),j),function(h,g,w){var N,x,C=W(h,g,"NullLogger"),B=[C].concat(w);C.$$prototype.max_severity=ie,C.$attr_reader("max_severity"),e.def(C,"$initialize",N=function(){var ae;return ae=[$e(B,"WARN")],oe(this,"level=",e.to_a(ae)),ae[l(ae.length,1)]},N.$$arity=0),e.def(C,"$add",x=function(L,ae,Pe){var ze;return null==ae&&(ae=ie),null==Pe&&(Pe=ie),b(O(L=b(ze=L)?ze:$e(B,"UNKNOWN"),this.max_severity=b(ze=this.max_severity)?ze:L))&&(this.max_severity=L),!0},x.$$arity=-2)}(j[0],A("::","Logger"),j),function(h,g){var w=y(h,"LoggerManager"),C=[w].concat(g);w.logger_class=$e(C,"Logger"),function(B,N){var f,L,ae,x=[B].concat(N);B.$attr_accessor("logger_class"),e.def(B,"$logger",f=function(ze){var le,S=this;return null==S.logger&&(S.logger=ie),null==S.logger_class&&(S.logger_class=ie),null==c.stderr&&(c.stderr=ie),null==ze&&(ze=c.stderr),S.$memoize_logger(),S.logger=b(le=S.logger)?le:S.logger_class.$new(ze)},f.$$arity=-1),e.def(B,"$logger=",L=function(Pe){var ze;return null==this.logger_class&&(this.logger_class=ie),null==c.stderr&&(c.stderr=ie),this.logger=b(ze=Pe)?ze:this.logger_class.$new(c.stderr)},L.$$arity=1),B.$private(),e.def(B,"$memoize_logger",ae=function(){return function(le,S){return[le].concat(S),e.alias(le,"logger","logger"),le.$attr_reader("logger")}(e.get_singleton_class(this),x)},ae.$$arity=0)}(e.get_singleton_class(w),C)}(j[0],j),void function(h,g){var B,N,x,w=y(h,"Logging"),C=[w].concat(g);e.defs(w,"$included",B=function(L){return L.$extend($e(C,"Logging"))},B.$$arity=1),w.$private_class_method("included"),e.def(w,"$logger",N=function(){return $e(C,"LoggerManager").$logger()},N.$$arity=0),e.def(w,"$message_with_context",x=function(L,ae){return null==ae&&(ae=_([],{})),_(["text"],{text:L}).$merge(ae).$extend(A($e(C,"Logger"),"AutoFormattingMessage"))},x.$$arity=-2)}(j[0],j)},Opal.modules["asciidoctor/rx"]=function(e){function l(_,c){return"number"==typeof _&&"number"==typeof c?_-c:_["$-"](c)}var c,i,j,g,t,s,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.hash2,W=e.send,oe=e.truthy,b=e.hash;return e.add_stubs(["$==","$join","$to_a","$new","$empty?","$escape","$[]=","$-"]),c=xe,t=n(xe[0],"Asciidoctor"),g=s=[t].concat(c),[n(s[0],"Rx")].concat(g),e.const_set(s[0],"AuthorInfoLineRx",new RegExp("^("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*)(?: +("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*))?(?: +("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),e.const_set(s[0],"AuthorDelimiterRx",/;(?: |$)/),e.const_set(s[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+A(s,"CC_ANY")+"*?),)? *(?!:)("+A(s,"CC_ANY")+"*?)(?: *(?!^),?: *("+A(s,"CC_ANY")+"*))?$")),e.const_set(s[0],"ManpageTitleVolnumRx",new RegExp("^("+A(s,"CC_ANY")+"+?) *\\( *("+A(s,"CC_ANY")+"+?) *\\)$")),e.const_set(s[0],"ManpageNamePurposeRx",new RegExp("^("+A(s,"CC_ANY")+"+?) +- +("+A(s,"CC_ANY")+"+)$")),e.const_set(s[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"EvalExpressionRx",new RegExp("^("+A(s,"CC_ANY")+"+?) *([=!><]=|[><]) *("+A(s,"CC_ANY")+"+)$")),e.const_set(s[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),e.const_set(s[0],"AttributeEntryRx",new RegExp("^:(!?"+A(s,"CG_WORD")+"[^:]*):(?:[ \\t]+("+A(s,"CC_ANY")+"*))?$")),e.const_set(s[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+A(s,"CC_WORD")+"-]")),A(s,"RUBY_ENGINE")["$=="]("opal")&&e.const_set(s[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+A(s,"CC_ALL")+"*)\\]$")),e.const_set(s[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*|(set|counter2?):"+A(s,"CC_ANY")+"+?)(\\\\)?\\}")),e.const_set(s[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+))?)\\]\\]$")),e.const_set(s[0],"BlockAttributeListRx",new RegExp("^\\[(|["+A(s,"CC_WORD")+".#%{,\"']"+A(s,"CC_ANY")+"*)\\]$")),e.const_set(s[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+A(s,"CC_WORD")+".#%{,\"']"+A(s,"CC_ANY")+"*|\\[(?:|["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*(?:, *"+A(s,"CC_ANY")+"+)?)\\])\\]$")),e.const_set(s[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"AdmonitionParagraphRx",new RegExp("^("+A(s,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),e.const_set(s[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+A(s,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),e.const_set(s[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+A(s,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),e.const_set(s[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+A(s,"CC_ANY")+"*?"+A(s,"CG_ALNUM")+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+))?\\]\\]$")),e.const_set(s[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+A(s,"CC_WORD")+"\\-.]+?")),e.const_set(s[0],"SectionLevelStyleRx",/^sect\d$/),e.const_set(s[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+A(s,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])")),e.const_set(s[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"OrderedListMarkerRxMap",y(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),e.const_set(s[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)")),e.const_set(s[0],"DescriptionListSiblingRx",y(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)")})),e.const_set(s[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),e.const_set(s[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),e.const_set(s[0],"CalloutExtractRxMap",W(ie("::","Hash"),"new",[],(i=function(h,g){var C;return null==h&&(h=Xe),null==g&&(g=Xe),C=[g,new RegExp("("+(oe(g["$empty?"]())?"":ie("::","Regexp").$escape(g)+" ?")+")?"+A(s,"CalloutExtractRxt"))],W(h,"[]=",e.to_a(C)),C[l(C.length,1)]},i.$$s=t,i.$$arity=2,i))),e.const_set(s[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+A(s,"CC_EOL")+")")),e.const_set(s[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+A(s,"CC_EOL")+")")),e.const_set(s[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+A(s,"CC_EOL")+")"),e.const_set(s[0],"CalloutSourceRxMap",W(ie("::","Hash"),"new",[],(j=function(h,g){var C;return null==h&&(h=Xe),null==g&&(g=Xe),C=[g,new RegExp("("+(oe(g["$empty?"]())?"":ie("::","Regexp").$escape(g)+" ?")+")?"+A(s,"CalloutSourceRxt"))],W(h,"[]=",e.to_a(C)),C[l(C.length,1)]},j.$$s=t,j.$$arity=2,j))),e.const_set(s[0],"ListRxMap",y(["ulist","olist","dlist","colist"],{ulist:A(s,"UnorderedListRx"),olist:A(s,"OrderedListRx"),dlist:A(s,"DescriptionListRx"),colist:A(s,"CalloutListRx")})),e.const_set(s[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),e.const_set(s[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),e.const_set(s[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),e.const_set(s[0],"CustomBlockMacroRx",new RegExp("^("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*)::(|\\S|\\S"+A(s,"CC_ANY")+"*?\\S)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+A(s,"CC_ANY")+"*?\\S)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]|anchor:(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+A(s,"CC_ANY")+"*?[^\\\\])\\]))")),e.const_set(s[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+A(s,"CC_ANY")+"*?[^\\\\])\\])")),e.const_set(s[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]")),e.const_set(s[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]\\]")),e.const_set(s[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+A(s,"CG_WORD")+"(?:&amp;|["+A(s,"CC_WORD")+"\\-.%+])*@"+A(s,"CG_ALNUM")+"["+A(s,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b")),e.const_set(s[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+A(s,"CC_WORD")+"-]+)?)\\[(?:|("+A(s,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m")),e.const_set(s[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+A(s,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),e.const_set(s[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineLinkRx",new RegExp("(^|link:|"+A(s,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\])?","m")),e.const_set(s[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"MacroNameRx",new RegExp("^"+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*$")),e.const_set(s[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+A(s,"CG_WORD")+"|["+A(s,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+A(s,"CC_ALL")+"*?[^\\\\]))\\]","m")),e.const_set(s[0],"InlineMenuRx",new RegExp('\\\\?"(['+A(s,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),e.const_set(s[0],"InlinePassRx",b(!1,["+","`",new RegExp("(^|[^"+A(s,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+A(s,"CC_ALL")+"*?\\S)\\4)(?!"+A(s,"CG_WORD")+")","m")],!0,["`",Xe,new RegExp("(^|[^`"+A(s,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+A(s,"CC_ALL")+"*?\\S)\\4)(?![`"+A(s,"CC_WORD")+"])","m")])),e.const_set(s[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+A(s,"CC_ALL")+"*?\\S)\\+$","m")),e.const_set(s[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+A(s,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\])","m")),e.const_set(s[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+A(s,"CC_WORD")+"#/.:{]"+A(s,"CC_ALL")+"*?)&gt;&gt;|xref:(["+A(s,"CC_WORD")+"#/.:{]"+A(s,"CC_ALL")+"*?)\\[(?:\\]|("+A(s,"CC_ALL")+"*?[^\\\\])\\]))","m")),A(s,"RUBY_ENGINE")["$=="]("opal")&&e.const_set(s[0],"HardLineBreakRx",new RegExp("^("+A(s,"CC_ANY")+"*) \\+$","m")),e.const_set(s[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),e.const_set(s[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),e.const_set(s[0],"BlankLineRx",/\n{2,}/),e.const_set(s[0],"EscapedSpaceRx",/\\([ \t\n])/),e.const_set(s[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),e.const_set(s[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),e.const_set(s[0],"SubModifierSniffRx",/[+-]/),e.const_set(s[0],"TrailingDigitsRx",/\d+$/),e.const_set(s[0],"UriSniffRx",new RegExp("^"+A(s,"CG_ALPHA")+"["+A(s,"CC_ALNUM")+".+-]+:/{0,2}")),void e.const_set(s[0],"XmlSanitizeRx",/<[^>]+>/)},Opal.modules["asciidoctor/substitutors"]=function(e){function l(j,h){return"number"==typeof j&&"number"==typeof h?j+h:j["$+"](h)}function O(j,h){return"number"==typeof j&&"number"==typeof h?j-h:j["$-"](h)}function xe(j,h){return"number"==typeof j&&"number"==typeof h?j>h:j["$>"](h)}function Xe(j,h){return"number"==typeof j&&"number"==typeof h?j<h:j["$<"](h)}function ie(j,h){return"number"==typeof j&&"number"==typeof h?j*h:j["$*"](h)}var h,B,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,N,x,w,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,oe=e.slice,b=e.module,_=e.hash2,c=e.hash,t=e.truthy,s=e.send,i=e.gvars;return e.add_stubs(["$freeze","$+","$keys","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$clear","$split","$apply_subs","$==","$gsub","$match?","$compat_mode","$convert_quoted_text","$attributes","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$info","$squeeze","$delete","$reject","$start_with?","$do_replacement","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$slice","$length","$names","$config","$merge","$[]=","$-","$normalize_text","$parse_attributes","$process_method","$expand_subs","$text","$text=","$convert","$class","$strip","$>","$index","$min","$compact","$end_with?","$map","$chop","$new","$pop","$rstrip","$register","$tr","$basename","$parse","$lstrip","$split_simple_csv","$partition","$extract_attributes_from_text","$sub","$encode_uri_component","$style","$extname?","$rindex","$info?","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$resolve_id","$find","$footnotes","$id","$<","$size","$<<","$attr?","$attr","$to_s","$read_next_id","$callouts","$syntax_highlighter","$highlight?","$sub_source","$extract_callouts","$name","$to_sym","$to_i","$resolve_lines_to_highlight","$highlight","$nil_or_empty?","$restore_callouts","$count","$to_a","$|","$sort","$*","$parse_quoted_text_attributes","$resolve_pass_subs","$extract_inner_passthrough","$basebackend?","$error","$chr","$drop","$&","$resolve_subs","$resolve_block_subs","$parse_into","$private","$=~","$shorthand_property_syntax","$each_char"]),h=$e,B=w=[b($e[0],"Asciidoctor")].concat(h),N=b(w[0],"Substitutors"),x=[N].concat(B),e.const_set(x[0],"SpecialCharsRx",/[<&>]/),e.const_set(x[0],"SpecialCharsTr",_([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),e.const_set(x[0],"QuotedTextSniffRx",c(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),e.const_set(x[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),e.const_set(x[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),e.const_set(x[0],"NO_SUBS",[]).$freeze(),e.const_set(x[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),e.const_set(x[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),e.const_set(x[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),e.const_set(x[0],"SUB_GROUPS",_(["none","normal","verbatim","specialchars"],{none:y(x,"NO_SUBS"),normal:y(x,"NORMAL_SUBS"),verbatim:y(x,"VERBATIM_SUBS"),specialchars:y(x,"BASIC_SUBS")})),e.const_set(x[0],"SUB_HINTS",_(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),e.const_set(x[0],"SUB_OPTIONS",_(["block","inline"],{block:l(l(y(x,"SUB_GROUPS").$keys(),y(x,"NORMAL_SUBS")),["callouts"]),inline:l(y(x,"SUB_GROUPS").$keys(),y(x,"NORMAL_SUBS"))})),e.const_set(x[0],"CAN","\x18"),e.const_set(x[0],"DEL","\x7f"),e.const_set(x[0],"PASS_START","\x96"),e.const_set(x[0],"PASS_END","\x97"),e.const_set(x[0],"PassSlotRx",new RegExp(y(x,"PASS_START")+"(\\d+)"+y(x,"PASS_END"))),e.const_set(x[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+y(x,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+y(x,"PASS_END")+"</span>")),e.const_set(x[0],"RS","\\"),e.const_set(x[0],"R_SB","]"),e.const_set(x[0],"ESC_R_SB","\\]"),e.const_set(x[0],"PLUS","+"),e.def(N,"$apply_subs",f=function(u,v){var I,U,P=this,de=$,be=$,je=$;return null==P.passthroughs&&(P.passthroughs=$),null==P.passthroughs_locked&&(P.passthroughs_locked=$),null==v&&(v=y(x,"NORMAL_SUBS")),t(t(I=u["$empty?"]())?I:v["$!"]())?u:(t(de=n("::","Array")["$==="](u))&&(u=t(u["$[]"](1))?u.$join(y(x,"LF")):u["$[]"](0)),t(v["$include?"]("macros"))&&(u=P.$extract_passthroughs(u),t(P.passthroughs["$empty?"]())||(be=P.passthroughs,P.passthroughs_locked=t(I=P.passthroughs_locked)?I:je=!0)),s(v,"each",[],((U=function(Fe){var we,Ke=U.$$s||this;return null==Fe&&(Fe=$),"specialcharacters"["$==="](we=Fe)?u=Ke.$sub_specialchars(u):"quotes"["$==="](we)?u=Ke.$sub_quotes(u):"attributes"["$==="](we)?t(u["$include?"](y(x,"ATTR_REF_HEAD")))?u=Ke.$sub_attributes(u):$:"replacements"["$==="](we)?u=Ke.$sub_replacements(u):"macros"["$==="](we)?u=Ke.$sub_macros(u):"highlight"["$==="](we)?u=Ke.$highlight_source(u,v["$include?"]("callouts")):"callouts"["$==="](we)?t(v["$include?"]("highlight"))?$:u=Ke.$sub_callouts(u):"post_replacements"["$==="](we)?u=Ke.$sub_post_replacements(u):Ke.$logger().$warn("unknown substitution type "+Fe)}).$$s=P,U.$$arity=1,U)),t(be)&&(u=P.$restore_passthroughs(u),t(je)&&(be.$clear(),P.passthroughs_locked=$)),t(de)?u.$split(y(x,"LF"),-1):u)},f.$$arity=-2),e.def(N,"$apply_normal_subs",L=function(u){return this.$apply_subs(u,y(x,"NORMAL_SUBS"))},L.$$arity=1),e.def(N,"$apply_header_subs",ae=function(u){return this.$apply_subs(u,y(x,"HEADER_SUBS"))},ae.$$arity=1),e.alias(N,"apply_title_subs","apply_subs"),e.def(N,"$apply_reftext_subs",Pe=function(u){return this.$apply_subs(u,y(x,"REFTEXT_SUBS"))},Pe.$$arity=1),y(x,"RUBY_ENGINE")["$=="]("opal")&&e.def(N,"$sub_specialchars",ze=function(u){var v,I;return t(t(v=t(I=u["$include?"](">"))?I:u["$include?"]("&"))?v:u["$include?"]("<"))?u.$gsub(y(x,"SpecialCharsRx"),y(x,"SpecialCharsTr")):u},ze.$$arity=1),e.alias(N,"sub_specialcharacters","sub_specialchars"),e.def(N,"$sub_quotes",le=function(u){var v,U,I=this;return null==I.document&&(I.document=$),t(y(x,"QuotedTextSniffRx")["$[]"](U=I.document.$compat_mode())["$match?"](u))&&s(y(x,"QUOTE_SUBS")["$[]"](U),"each",[],((v=function(P,de,be){var Fe;return null==P&&(P=$),null==de&&(de=$),null==be&&(be=$),u=s(u,"gsub",[be],((Fe=function(){var Ke=Fe.$$s||this;return null==i["~"]&&(i["~"]=$),Ke.$convert_quoted_text(i["~"],P,de)}).$$s=v.$$s||this,Fe.$$arity=0,Fe))}).$$s=I,v.$$arity=3,v)),u},le.$$arity=1),e.def(N,"$sub_attributes",S=function(u,v){var I,U,P,de,be=this,je=$,Fe=$,Ke=$,we=$,ot=$,at=$,vt=$,Dt=$;return null==be.document&&(be.document=$),null==v&&(v=_([],{})),je=be.document.$attributes(),Fe=Ke=we=ot=at=vt=$,u=s(u,"gsub",[y(x,"AttributeReferenceRx")],((I=function(){var ce,Ee,fe,o,bt=I.$$s||this,H=$,Y=$,ne=$,k=$;return null==bt.document&&(bt.document=$),t(t(ce=((Ee=i["~"])===$?$:Ee["$[]"](1))["$=="](y(x,"RS")))?ce:((Ee=i["~"])===$?$:Ee["$[]"](4))["$=="](y(x,"RS")))?"{"+((ce=i["~"])===$?$:ce["$[]"](2))+"}":t((ce=i["~"])===$?$:ce["$[]"](3))?(H=(Y=((ce=i["~"])===$?$:ce["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](H)?(Ee=y(x,"Parser").$store_attribute(Y["$[]"](0),t(fe=Y["$[]"](1))?fe:"",bt.document),ce=e.to_ary(Ee),Fe=t(t(ce=ne=ce[1]??$)?ce:(at=t(Ee=at)?Ee:t(fe=je["$[]"]("attribute-undefined"))?fe:y(x,"Compliance").$attribute_undefined())["$!="]("drop-line"))?ot=y(x,"DEL"):Ke=y(x,"CAN")):"counter2"["$==="](H)?(s(bt.document,"counter",e.to_a(Y)),Fe=ot=y(x,"DEL")):s(bt.document,"counter",e.to_a(Y))):t(je["$key?"](k=((ce=i["~"])===$?$:ce["$[]"](2)).$downcase()))?je["$[]"](k):t(ne=y(x,"INTRINSIC_ATTRIBUTES")["$[]"](k))?ne:(H=vt=t(ce=vt)?ce:t(Ee=t(fe=v["$[]"]("attribute_missing"))?fe:je["$[]"]("attribute-missing"))?Ee:y(x,"Compliance").$attribute_missing(),"drop"["$==="](H)?Fe=ot=y(x,"DEL"):"drop-line"["$==="](H)?((we=t(ce=we)?ce:t(Ee=v["$[]"]("drop_line_severity"))?Ee:"info")["$=="]("info")&&s(bt.$logger(),"info",[],((o=function(){return"dropping line containing reference to missing attribute: "+k}).$$s=bt,o.$$arity=0,o)),Fe=Ke=y(x,"CAN")):("warn"["$==="](H)&&bt.$logger().$warn("skipping reference to missing attribute: "+k),(ce=i["~"])===$?$:ce["$[]"](0)))}).$$s=be,I.$$arity=0,I)),t(Fe)?t(ot)?(Dt=u.$squeeze(y(x,"DEL")).$split(y(x,"LF"),-1),t(Ke)?s(Dt,"reject",[],(U=function(bt){var Ee,fe,o;return null==bt&&(bt=$),t(Ee=t(fe=t(o=bt["$=="](y(x,"DEL")))?o:bt["$=="](y(x,"CAN")))?fe:bt["$start_with?"](y(x,"CAN")))?Ee:bt["$include?"](y(x,"CAN"))},U.$$s=be,U.$$arity=1,U)).$join(y(x,"LF")).$delete(y(x,"DEL")):s(Dt,"reject",[],(P=function(bt){return null==bt&&(bt=$),bt["$=="](y(x,"DEL"))},P.$$s=be,P.$$arity=1,P)).$join(y(x,"LF")).$delete(y(x,"DEL"))):t(u["$include?"](y(x,"LF")))?s(u.$split(y(x,"LF"),-1),"reject",[],(de=function(bt){var Ee,fe;return null==bt&&(bt=$),t(Ee=t(fe=bt["$=="](y(x,"CAN")))?fe:bt["$start_with?"](y(x,"CAN")))?Ee:bt["$include?"](y(x,"CAN"))},de.$$s=be,de.$$arity=1,de)).$join(y(x,"LF")):"":u},S.$$arity=-2),e.def(N,"$sub_replacements",d=function(u){var v;return t(y(x,"ReplaceableTextRx")["$match?"](u))&&s(y(x,"REPLACEMENTS"),"each",[],((v=function(U,P,de){var je;return null==U&&(U=$),null==P&&(P=$),null==de&&(de=$),u=s(u,"gsub",[U],((je=function(){var Fe=je.$$s||this;return null==i["~"]&&(i["~"]=$),Fe.$do_replacement(i["~"],P,de)}).$$s=v.$$s||this,je.$$arity=0,je))}).$$s=this,v.$$arity=3,v)),u},d.$$arity=1),e.def(N,"$sub_macros",m=function(u){var v,I,U,P,de,be,je,Fe,Ke,we,ot,at,vt,Dt,bt,Ee,fe,o,H,ce=this,Y=$,Q=$,ne=$;return null==ce.document&&(ce.document=$),null==ce.context&&(ce.context=$),null==ce.parent&&(ce.parent=$),Ee=u["$include?"]("["),fe=u["$include?"](":"),o=t(v=Ee)?fe:v,H=t(v=o)?u["$include?"](":["):v,Y=(Q=ce.document).$attributes(),t(t(v=ne=Q.$extensions())?ne["$inline_macros?"]():v)&&s(ne.$inline_macros(),"each",[],((I=function(k){var E,a=I.$$s||this;return null==k&&(k=$),u=s(u,"gsub",[k.$instance().$regexp()],((E=function(){var M,te,X,T=E.$$s||this,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$;return null==i["~"]&&(i["~"]=$),t((Ae=(M=i["~"])===$?$:M["$[]"](0))["$start_with?"](y(x,"RS")))?((M=i["~"])===$?$:M["$[]"](0)).$slice(1,((M=i["~"])===$?$:M["$[]"](0)).$length()):(t(i["~"].$names()["$empty?"]())?(me=(M=[(te=i["~"])===$?$:te["$[]"](1),(te=i["~"])===$?$:te["$[]"](2)])[0],mt=M[1]):(me=(M=[function(){try{return i["~"]["$[]"]("target")}catch(Lt){if(!e.rescue(Lt,[y(x,"StandardError")]))throw Lt;try{return $}finally{e.pop_exception()}}}(),function(){try{return i["~"]["$[]"]("content")}catch(Lt){if(!e.rescue(Lt,[y(x,"StandardError")]))throw Lt;try{return $}finally{e.pop_exception()}}}()])[0],mt=M[1]),dt=t(He=(kt=k.$config())["$[]"]("default_attrs"))?He.$merge():_([],{}),t(mt)&&(t(mt["$empty?"]())?kt["$[]"]("content_model")["$=="]("attributes")||(s(dt,"[]=",e.to_a($t=["text",mt])),O($t.length,1)):(mt=T.$normalize_text(mt,!0,!0),kt["$[]"]("content_model")["$=="]("attributes")?T.$parse_attributes(mt,t(M=t(te=kt["$[]"]("positional_attrs"))?te:kt["$[]"]("pos_attrs"))?M:[],_(["into"],{into:dt})):(s(dt,"[]=",e.to_a($t=["text",mt])),O($t.length,1))),me=t(M=me)?M:kt["$[]"]("format")["$=="]("short")?mt:me),t(y(x,"Inline")["$==="](Tt=k.$process_method()["$[]"](T,me,dt)))?(t(t(M=rt=Tt.$attributes().$delete("subs"))?rt=T.$expand_subs(rt,"custom inline macro"):M)&&($t=[T.$apply_subs(Tt.$text(),rt)],s(Tt,"text=",e.to_a($t)),O($t.length,1)),Tt.$convert()):t(Tt)?(s(T.$logger(),"info",[],((X=function(){return"expected substitution value for custom inline macro to be of type Inline; got "+Tt.$class()+": "+Ae}).$$s=T,X.$$arity=0,X)),Tt):"")}).$$s=a,E.$$arity=0,E))}).$$s=ce,I.$$arity=1,I)),t(Y["$key?"]("experimental"))&&(t(t(v=H)?t(U=u["$include?"]("kbd:"))?U:u["$include?"]("btn:"):v)&&(u=s(u,"gsub",[y(x,"InlineKbdBtnMacroRx")],((P=function(){var a,E,T,k=P.$$s||this,M=$,te=$,X=$,Ae=$;return t((a=i["~"])===$?$:a["$[]"](1))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):((a=i["~"])===$?$:a["$[]"](2))["$=="]("kbd")?(t((M=((a=i["~"])===$?$:a["$[]"](3)).$strip())["$include?"](y(x,"R_SB")))&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=xe(M.$length(),1))?te=t(te=M.$index(",",1))?[te,M.$index("+",1)].$compact().$min():M.$index("+",1):a)?(X=M.$slice(te,1),t(M["$end_with?"](X))?(Ae=[-1,l((M=s(M.$chop().$split(X,-1),"map",[],((E=function(me){return null==me&&(me=$),me.$strip()}).$$s=k,E.$$arity=1,E)))["$[]"](-1),X)],s(M,"[]=",e.to_a(Ae)),O(Ae.length,1)):M=s(M.$split(X),"map",[],((T=function(me){return null==me&&(me=$),me.$strip()}).$$s=k,T.$$arity=1,T))):M=[M],y(x,"Inline").$new(k,"kbd",$,_(["attributes"],{attributes:_(["keys"],{keys:M})})).$convert()):y(x,"Inline").$new(k,"button",k.$normalize_text((a=i["~"])===$?$:a["$[]"](3),!0,!0)).$convert()}).$$s=ce,P.$$arity=0,P))),t(t(v=o)?u["$include?"]("menu:"):v)&&(u=s(u,"gsub",[y(x,"InlineMenuMacroRx")],((de=function(){var a,E,k=de.$$s||this,T=$,M=$,te=$,X=$,Ae=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(T=(a=i["~"])===$?$:a["$[]"](1),t(M=(a=i["~"])===$?$:a["$[]"](2))?(t(M["$include?"](y(x,"R_SB")))&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(te=t(M["$include?"]("&gt;"))?"&gt;":t(M["$include?"](","))?",":$)?Ae=(X=s(M.$split(te),"map",[],((E=function(me){return null==me&&(me=$),me.$strip()}).$$s=k,E.$$arity=1,E))).$pop():(X=(a=[[],M.$rstrip()])[0],Ae=a[1])):(X=(a=[[],$])[0],Ae=a[1]),y(x,"Inline").$new(k,"menu",$,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:T,submenus:X,menuitem:Ae})})).$convert())}).$$s=ce,de.$$arity=0,de))),t(t(v=u["$include?"]('"'))?u["$include?"]("&gt;"):v)&&(u=s(u,"gsub",[y(x,"InlineMenuRx")],((be=function(){var a,E,T,M,k=be.$$s||this,te=$,X=$,Ae=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(E=s(((T=i["~"])===$?$:T["$[]"](1)).$split("&gt;"),"map",[],((M=function(me){return null==me&&(me=$),me.$strip()}).$$s=k,M.$$arity=1,M)),te=(a=e.to_ary(E))[0]??$,Ae=(X=oe.call(a,1)).$pop(),y(x,"Inline").$new(k,"menu",$,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:te,submenus:X,menuitem:Ae})})).$convert())}).$$s=ce,be.$$arity=0,be)))),t(t(v=o)?t(U=u["$include?"]("image:"))?U:u["$include?"]("icon:"):v)&&(u=s(u,"gsub",[y(x,"InlineImageMacroRx")],((je=function(){var a,k=je.$$s||this,E=$,T=$,M=$,te=$,X=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"]("icon:"))?(E=(a=["icon",["size"]])[0],T=a[1]):(E=(a=["image",["alt","width","height"]])[0],T=a[1]),M=(a=i["~"])===$?$:a["$[]"](1),te=k.$parse_attributes((a=i["~"])===$?$:a["$[]"](2),T,_(["unescape_input"],{unescape_input:!0})),E["$=="]("icon")||(Q.$register("images",M),X=["imagesdir",Y["$[]"]("imagesdir")],s(te,"[]=",e.to_a(X)),O(X.length,1)),t(a=te["$[]"]("alt"))||(X=["alt",(X=["default-alt",y(x,"Helpers").$basename(M,!0).$tr("_-"," ")],s(te,"[]=",e.to_a(X)),X[O(X.length,1)])],s(te,"[]=",e.to_a(X)),O(X.length,1)),y(x,"Inline").$new(k,"image",$,_(["type","target","attributes"],{type:E,target:M,attributes:te})).$convert())}).$$s=ce,je.$$arity=0,je))),t(t(v=t(U=u["$include?"]("(("))?u["$include?"]("))"):U)?v:t(U=H)?u["$include?"]("dexterm"):U)&&(u=s(u,"gsub",[y(x,"InlineIndextermMacroRx")],((Fe=function(){var a,E,T,M,k=Fe.$$s||this,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,_t=$,Zt=$;return function(){if(te=(a=i["~"])===$?$:a["$[]"](1),"indexterm"["$==="](te))return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t((X=k.$normalize_text((a=i["~"])===$?$:a["$[]"](2),!0,!0))["$include?"]("="))?t(Ae=(me=y(x,"AttributeList").$new(X,k).$parse())["$[]"](1))?(s(me,"[]=",e.to_a(mt=["terms",[Ae]])),O(mt.length,1),t(dt=me["$[]"]("see-also"))&&(mt=["see-also",t(dt["$include?"](","))?s(dt.$split(","),"map",[],((E=function(rr){return null==rr&&(rr=$),rr.$lstrip()}).$$s=k,E.$$arity=1,E)):[dt]],s(me,"[]=",e.to_a(mt)),O(mt.length,1))):me=_(["terms"],{terms:X}):me=_(["terms"],{terms:k.$split_simple_csv(X)}),y(x,"Inline").$new(k,"indexterm",$,_(["attributes"],{attributes:me})).$convert());if("indexterm2"["$==="](te))return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t((He=k.$normalize_text((a=i["~"])===$?$:a["$[]"](2),!0,!0))["$include?"]("="))&&(He=t(a=t(T=(me=y(x,"AttributeList").$new(He,k).$parse())["$[]"](1))?T:me=$)?a:He,t(t(a=me)?dt=me["$[]"]("see-also"):a)&&(mt=["see-also",t(dt["$include?"](","))?s(dt.$split(","),"map",[],((M=function(rr){return null==rr&&(rr=$),rr.$lstrip()}).$$s=k,M.$$arity=1,M)):[dt]],s(me,"[]=",e.to_a(mt)),O(mt.length,1))),y(x,"Inline").$new(k,"indexterm",He,_(["attributes","type"],{attributes:me,type:"visible"})).$convert());if(kt=(a=i["~"])===$?$:a["$[]"](3),t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))){if(!t(t(a=kt["$start_with?"]("("))?kt["$end_with?"](")"):a))return((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length());kt=kt.$slice(1,O(kt.$length(),2)),$t=(a=[!0,"(",")"])[0],Tt=a[1],rt=a[2]}else $t=!0,t(kt["$start_with?"]("("))?t(kt["$end_with?"](")"))?(a=[kt.$slice(1,O(kt.$length(),2)),!1],kt=a[0],$t=a[1]):(a=[kt.$slice(1,kt.$length()),"(",""],kt=a[0],Tt=a[1],rt=a[2]):t(kt["$end_with?"](")"))&&(a=[kt.$chop(),"",")"],kt=a[0],Tt=a[1],rt=a[2]);return t($t)?(t((He=k.$normalize_text(kt,!0))["$include?"](";&"))&&(t(He["$include?"](" &gt;&gt; "))?(T=He.$partition(" &gt;&gt; "),a=e.to_ary(T),He=a[0]??$,me=_(["see"],{see:a[2]??$})):t(He["$include?"](" &amp;&gt; "))&&(T=He.$split(" &amp;&gt; "),a=e.to_ary(T),He=a[0]??$,dt=oe.call(a,1),me=_(["see-also"],{"see-also":dt}))),_t=y(x,"Inline").$new(k,"indexterm",He,_(["attributes","type"],{attributes:me,type:"visible"})).$convert()):(me=_([],{}),t((Zt=k.$normalize_text(kt,!0))["$include?"](";&"))&&(t(Zt["$include?"](" &gt;&gt; "))?(T=Zt.$partition(" &gt;&gt; "),a=e.to_ary(T),Zt=a[0]??$,s(me,"[]=",e.to_a(mt=["see",a[2]??$])),O(mt.length,1)):t(Zt["$include?"](" &amp;&gt; "))&&(T=Zt.$split(" &amp;&gt; "),a=e.to_ary(T),Zt=a[0]??$,dt=oe.call(a,1),s(me,"[]=",e.to_a(mt=["see-also",dt])),O(mt.length,1))),mt=["terms",k.$split_simple_csv(Zt)],s(me,"[]=",e.to_a(mt)),O(mt.length,1),_t=y(x,"Inline").$new(k,"indexterm",$,_(["attributes"],{attributes:me})).$convert()),t(Tt)?""+Tt+_t+rt:_t}()}).$$s=ce,Fe.$$arity=0,Fe))),t(t(v=fe)?u["$include?"]("://"):v)&&(u=s(u,"gsub",[y(x,"InlineLinkRx")],((Ke=function(){var a,E,mt,k=Ke.$$s||this,T=$,M=$,te=$,X=$,Ae=$,me=$,dt=$,He=$,kt=$;if(t((T=(a=i["~"])===$?$:a["$[]"](2))["$start_with?"](y(x,"RS"))))return""+((a=i["~"])===$?$:a["$[]"](1))+T.$slice(1,T.$length())+((a=i["~"])===$?$:a["$[]"](4));if(M=(a=[(E=i["~"])===$?$:E["$[]"](1),""])[0],te=a[1],t((a=i["~"])===$?$:a["$[]"](4)))M["$=="]("link:")&&(M=""),t((X=(a=i["~"])===$?$:a["$[]"](4))["$empty?"]())&&(X=$);else{if("link:"["$==="](Ae=M)||'"'["$==="](Ae)||"'"["$==="](Ae))return(a=i["~"])===$?$:a["$[]"](0);if(Ae=(a=i["~"])===$?$:a["$[]"](3),")"["$==="](Ae)||"?"["$==="](Ae)||"!"["$==="](Ae)){if(T=T.$chop(),t((a=(te=(E=i["~"])===$?$:E["$[]"](3))["$=="](")"))?T["$end_with?"](".","?","!"):(te=(E=i["~"])===$?$:E["$[]"](3))["$=="](")"))&&(te=l(T["$[]"](-1),te),T=T.$chop()),t(T["$end_with?"]("://")))return(a=i["~"])===$?$:a["$[]"](0)}else if(";"["$==="](Ae)){if(t(t(a=M["$start_with?"]("&lt;"))?T["$end_with?"]("&gt;"):a)?(M=M.$slice(4,M.$length()),T=T.$slice(0,O(T.$length(),4))):t((T=T.$chop())["$end_with?"](")"))?(T=T.$chop(),te=");"):te=";",t(T["$end_with?"]("://")))return(a=i["~"])===$?$:a["$[]"](0)}else if(":"["$==="](Ae)&&(t((T=T.$chop())["$end_with?"](")"))?(T=T.$chop(),te="):"):te=":",t(T["$end_with?"]("://"))))return(a=i["~"])===$?$:a["$[]"](0)}return me=(a=[$,_(["type"],{type:"link"})])[0],mt=a[1],t(X)?(t(X["$include?"](y(x,"R_SB")))&&(dt=X=X.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=Q.$compat_mode()["$!"]())?X["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(X,""),dt=X=(a=e.to_ary(E))[0]??$,He=["id",(me=a[1]??$)["$[]"]("id")],s(mt,"[]=",e.to_a(He)),O(He.length,1)),t(X["$end_with?"]("^"))&&(dt=X=X.$chop(),t(me)?t(a=me["$[]"]("window"))||(s(me,"[]=",e.to_a(He=["window","_blank"])),O(He.length,1)):me=_(["window"],{window:"_blank"})),t(t(a=dt)?dt["$empty?"]():a)&&(X=t(Y["$key?"]("hide-uri-scheme"))?T.$sub(y(x,"UriSniffRx"),""):T,kt=!0)):(X=t(Y["$key?"]("hide-uri-scheme"))?T.$sub(y(x,"UriSniffRx"),""):T,kt=!0),t(kt)&&(t(me)?(He=["role",t(me["$key?"]("role"))?"bare "+me["$[]"]("role"):"bare"],s(me,"[]=",e.to_a(He)),O(He.length,1)):me=_(["role"],{role:"bare"})),Q.$register("links",(s(mt,"[]=",e.to_a(He=["target",T])),He[O(He.length,1)])),t(me)&&(s(mt,"[]=",e.to_a(He=["attributes",me])),O(He.length,1)),""+M+y(x,"Inline").$new(k,"anchor",X,mt).$convert()+te}).$$s=ce,Ke.$$arity=0,Ke))),t(t(v=o)?t(U=u["$include?"]("link:"))?U:u["$include?"]("ilto:"):v)&&(u=s(u,"gsub",[y(x,"InlineLinkMacroRx")],((we=function(){var a,E,k=we.$$s||this,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(M=t(T=(a=i["~"])===$?$:a["$[]"](1))?l("mailto:",te=(a=i["~"])===$?$:a["$[]"](2)):(a=i["~"])===$?$:a["$[]"](2),X=(a=[$,_(["type"],{type:"link"})])[0],Ae=a[1],t((me=(a=i["~"])===$?$:a["$[]"](3))["$empty?"]())||(t(me["$include?"](y(x,"R_SB")))&&(me=me.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(T)?t(t(a=Q.$compat_mode()["$!"]())?me["$include?"](","):a)&&(E=k.$extract_attributes_from_text(me,""),me=(a=e.to_ary(E))[0]??$,mt=["id",(X=a[1]??$)["$[]"]("id")],s(Ae,"[]=",e.to_a(mt)),O(mt.length,1),t(X["$key?"](2))&&(M=t(X["$key?"](3))?M+"?subject="+y(x,"Helpers").$encode_uri_component(X["$[]"](2))+"&amp;body="+y(x,"Helpers").$encode_uri_component(X["$[]"](3)):M+"?subject="+y(x,"Helpers").$encode_uri_component(X["$[]"](2)))):t(t(a=Q.$compat_mode()["$!"]())?me["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(me,""),me=(a=e.to_ary(E))[0]??$,mt=["id",(X=a[1]??$)["$[]"]("id")],s(Ae,"[]=",e.to_a(mt)),O(mt.length,1)),t(me["$end_with?"]("^"))&&(me=me.$chop(),t(X)?t(a=X["$[]"]("window"))||(s(X,"[]=",e.to_a(mt=["window","_blank"])),O(mt.length,1)):X=_(["window"],{window:"_blank"}))),t(me["$empty?"]())&&(t(T)?me=te:(t(Y["$key?"]("hide-uri-scheme"))?t((me=M.$sub(y(x,"UriSniffRx"),""))["$empty?"]())&&(me=M):me=M,t(X)?(mt=["role",t(X["$key?"]("role"))?"bare "+X["$[]"]("role"):"bare"],s(X,"[]=",e.to_a(mt)),O(mt.length,1)):X=_(["role"],{role:"bare"}))),Q.$register("links",(s(Ae,"[]=",e.to_a(mt=["target",M])),mt[O(mt.length,1)])),t(X)&&(s(Ae,"[]=",e.to_a(mt=["attributes",X])),O(mt.length,1)),y(x,"Inline").$new(k,"anchor",me,Ae).$convert())}).$$s=ce,we.$$arity=0,we))),t(u["$include?"]("@"))&&(u=s(u,"gsub",[y(x,"InlineEmailRx")],((ot=function(){var a,k=ot.$$s||this,E=$,T=$;return t((a=i["~"])===$?$:a["$[]"](1))?((a=i["~"])===$?$:a["$[]"](1))["$=="](y(x,"RS"))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(a=i["~"])===$?$:a["$[]"](0):(E=l("mailto:",T=(a=i["~"])===$?$:a["$[]"](0)),Q.$register("links",E),y(x,"Inline").$new(k,"anchor",T,_(["type","target"],{type:"link",target:E})).$convert())}).$$s=ce,ot.$$arity=0,ot))),t(t(v=t(U=Ee)?ce.context["$=="]("list_item"):U)?ce.parent.$style()["$=="]("bibliography"):v)&&(u=s(u,"sub",[y(x,"InlineBiblioAnchorRx")],((at=function(){var a,k=at.$$s||this;return y(x,"Inline").$new(k,"anchor",(a=i["~"])===$?$:a["$[]"](2),_(["type","id"],{type:"bibref",id:(a=i["~"])===$?$:a["$[]"](1)})).$convert()}).$$s=ce,at.$$arity=0,at))),t(t(v=t(U=Ee)?u["$include?"]("[["):U)?v:t(U=o)?u["$include?"]("or:"):U)&&(u=s(u,"gsub",[y(x,"InlineAnchorRx")],((vt=function(){var a,E,k=vt.$$s||this,T=$,M=$;return t((a=i["~"])===$?$:a["$[]"](1))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t(T=(a=i["~"])===$?$:a["$[]"](2))?M=(a=i["~"])===$?$:a["$[]"](3):(T=(a=i["~"])===$?$:a["$[]"](4),t(t(a=M=(E=i["~"])===$?$:E["$[]"](5))?M["$include?"](y(x,"R_SB")):a)&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB")))),y(x,"Inline").$new(k,"anchor",M,_(["type","id"],{type:"ref",id:T})).$convert())}).$$s=ce,vt.$$arity=0,vt))),t(t(v=t(U=u["$include?"]("&"))?u["$include?"](";&l"):U)?v:t(U=o)?u["$include?"]("xref:"):U)&&(u=s(u,"gsub",[y(x,"InlineXrefMacroRx")],((Dt=function(){var a,E,k=Dt.$$s||this,T=$,M=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(T=_([],{}),t(M=(a=i["~"])===$?$:a["$[]"](1))?t(M["$include?"](","))&&(E=M.$partition(","),M=(a=e.to_ary(E))[0]??$,t((X=(X=a[2]??$).$lstrip())["$empty?"]())&&(X=$)):(Ae=!0,M=(a=i["~"])===$?$:a["$[]"](2),t(X=(a=i["~"])===$?$:a["$[]"](3))&&(t(X["$include?"](y(x,"R_SB")))&&(X=X.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=Q.$compat_mode()["$!"]())?X["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(X),X=(a=e.to_ary(E))[0]??$,T=a[1]??$))),t(Q.$compat_mode())?me=M:t(mt=M.$index("#"))?t(xe(mt,0))?(t(xe(dt=O(O(M.$length(),1),mt),0))?(He=(a=[M.$slice(0,mt),M.$slice(l(mt,1),dt)])[0],me=a[1]):He=M.$chop(),t(Ae)?t(He["$end_with?"](".adoc"))?kt=He=He.$slice(0,O(He.$length(),5)):t(y(x,"Helpers")["$extname?"](He)["$!"]())&&(kt=He):kt=t(s(He,"end_with?",e.to_a(y(x,"ASCIIDOC_EXTENSIONS").$keys())))?He=He.$slice(0,He.$rindex(".")):He):($t=(a=[M,M.$slice(1,M.$length())])[0],me=a[1]):t(Ae)?t(M["$end_with?"](".adoc"))?kt=He=M.$slice(0,O(M.$length(),5)):t(y(x,"Helpers")["$extname?"](M))?He=M:me=M:me=M,t($t)?(M=me,t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):t(He)?t(t(a=kt)?t(E=Q.$attributes()["$[]"]("docname")["$=="](He))?E:Q.$catalog()["$[]"]("includes")["$[]"](He):a)?t(me)?(M=(a=[me,$,"#"+me])[0],He=a[1],$t=a[2],t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):(M=(a=[$,$,"#"])[0],He=a[1],$t=a[2]):(M=(a=[He,""+(t(E=Q.$attributes()["$[]"]("relfileprefix"))?E:"")+He+(t(kt)?Q.$attributes().$fetch("relfilesuffix",Q.$outfilesuffix()):"")])[0],He=a[1],t(me)?(M=(a=[M+"#"+me,He+"#"+me])[0],$t=a[1]):$t=He):t(t(a=Q.$compat_mode())?a:y(x,"Compliance").$natural_xrefs()["$!"]())?(M=(a=[me,"#"+me])[0],$t=a[1],t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):t(Q.$catalog()["$[]"]("refs")["$[]"](me))?(M=(a=[me,"#"+me])[0],$t=a[1]):t(t(a=t(E=me["$include?"](" "))?E:me.$downcase()["$!="](me))?M=Q.$resolve_id(me):a)?(me=(a=[M,"#"+M])[0],$t=a[1]):(M=(a=[me,"#"+me])[0],$t=a[1],t(k.$logger()["$info?"]())&&k.$logger().$info("possible invalid reference: "+M)),s(T,"[]=",e.to_a(Tt=["path",He])),O(Tt.length,1),s(T,"[]=",e.to_a(Tt=["fragment",me])),O(Tt.length,1),s(T,"[]=",e.to_a(Tt=["refid",M])),O(Tt.length,1),y(x,"Inline").$new(k,"anchor",X,_(["type","target","attributes"],{type:"xref",target:$t,attributes:T})).$convert())}).$$s=ce,Dt.$$arity=0,Dt))),t(t(v=o)?u["$include?"]("tnote"):v)&&(u=s(u,"gsub",[y(x,"InlineFootnoteMacroRx")],((bt=function(){var a,E,T,M,k=bt.$$s||this,te=$,X=$,Ae=$,me=$,mt=$,dt=$;if(t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS"))))return((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length());if(t((a=i["~"])===$?$:a["$[]"](1))){if(!t((a=i["~"])===$?$:a["$[]"](3)))return(a=i["~"])===$?$:a["$[]"](0);E=((T=i["~"])===$?$:T["$[]"](3)).$split(",",2),a=e.to_ary(E),te=a[0]??$,X=a[1]??$,t(Q.$compat_mode())||k.$logger().$warn("found deprecated footnoteref macro: "+((a=i["~"])===$?$:a["$[]"](0))+"; use footnote macro with target instead")}else te=(a=i["~"])===$?$:a["$[]"](2),X=(a=i["~"])===$?$:a["$[]"](3);if(t(te))t(Ae=s(Q.$footnotes(),"find",[],((M=function(He){return null==He&&(He=$),He.$id()["$=="](te)}).$$s=k,M.$$arity=1,M)))?(me=(a=[Ae.$index(),Ae.$text()])[0],X=a[1],mt=(a=["xref",te,$])[0],dt=a[1],te=a[2]):t(X)?(X=k.$restore_passthroughs(k.$normalize_text(X,!0,!0)),me=Q.$counter("footnote-number"),Q.$register("footnotes",n(y(x,"Document"),"Footnote").$new(me,te,X)),mt=(a=["ref",$])[0],dt=a[1]):(k.$logger().$warn("invalid footnote reference: "+te),mt=(a=["xref",te,te,$])[0],dt=a[1],X=a[2],te=a[3]);else{if(!t(X))return(a=i["~"])===$?$:a["$[]"](0);X=k.$restore_passthroughs(k.$normalize_text(X,!0,!0)),me=Q.$counter("footnote-number"),Q.$register("footnotes",n(y(x,"Document"),"Footnote").$new(me,te,X)),mt=dt=$}return y(x,"Inline").$new(k,"footnote",X,_(["attributes","id","target","type"],{attributes:_(["index"],{index:me}),id:te,target:dt,type:mt})).$convert()}).$$s=ce,bt.$$arity=0,bt))),u},m.$$arity=1),e.def(N,"$sub_post_replacements",p=function(u){var v,I,U,P=this,de=$,be=$;return null==P.attributes&&(P.attributes=$),null==P.document&&(P.document=$),t(t(v=P.attributes["$[]"]("hardbreaks-option"))?v:P.document.$attributes()["$[]"]("hardbreaks-option"))?(de=u.$split(y(x,"LF"),-1),t(Xe(de.$size(),2))?u:(be=de.$pop(),s(de,"map",[],(I=function(je){var Fe=I.$$s||this;return null==je&&(je=$),y(x,"Inline").$new(Fe,"break",t(je["$end_with?"](y(x,"HARD_LINE_BREAK")))?je.$slice(0,O(je.$length(),2)):je,_(["type"],{type:"line"})).$convert()},I.$$s=P,I.$$arity=1,I))["$<<"](be).$join(y(x,"LF")))):t(t(v=u["$include?"](y(x,"PLUS")))?u["$include?"](y(x,"HARD_LINE_BREAK")):v)?s(u,"gsub",[y(x,"HardLineBreakRx")],((U=function(){var Fe,je=U.$$s||this;return y(x,"Inline").$new(je,"break",(Fe=i["~"])===$?$:Fe["$[]"](1),_(["type"],{type:"line"})).$convert()}).$$s=P,U.$$arity=0,U)):u},p.$$arity=1),e.def(N,"$sub_source",z=function(u,v){var I=this;return t(v)?I.$sub_callouts(I.$sub_specialchars(u)):I.$sub_specialchars(u)},z.$$arity=2),e.def(N,"$sub_callouts",Z=function(u){var v,U,I=this,P=$;return U=t(I["$attr?"]("line-comment"))?y(x,"CalloutSourceRxMap")["$[]"](I.$attr("line-comment")):y(x,"CalloutSourceRx"),P=0,s(u,"gsub",[U],((v=function(){var be,je,de=v.$$s||this;return null==de.document&&(de.document=$),t((be=i["~"])===$?$:be["$[]"](2))?((be=i["~"])===$?$:be["$[]"](0)).$sub(y(x,"RS"),""):y(x,"Inline").$new(de,"callout",((be=i["~"])===$?$:be["$[]"](4))["$=="](".")?(P=l(P,1)).$to_s():(be=i["~"])===$?$:be["$[]"](4),_(["id","attributes"],{id:de.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:t(be=(je=i["~"])===$?$:je["$[]"](1))?be:((je=i["~"])===$?$:je["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:$})})).$convert()}).$$s=I,v.$$arity=0,v))},Z.$$arity=1),e.def(N,"$highlight_source",re=function(u,v){var I,U,P,de=this,be=$,je=$,Fe=$,Ke=$,we=$,ot=$,at=$,vt=$,Dt=$;return null==de.document&&(de.document=$),null==de.passthroughs&&(de.passthroughs=$),t(t(I=be=de.document.$syntax_highlighter())?be["$highlight?"]():I)?(t(v)&&(U=de.$extract_callouts(u),u=(I=e.to_ary(U))[0]??$,je=I[1]??$),Fe=de.document.$attributes(),Ke=be.$name(),t(t(I=we=t(de["$attr?"]("linenums"))?(t(U=Fe["$[]"](Ke+"-linenums-mode"))?U:"table").$to_sym():$)?Xe(ot=de.$attr("start",1).$to_i(),1):I)&&(ot=1),t(de["$attr?"]("highlight"))&&(at=de.$resolve_lines_to_highlight(u,de.$attr("highlight"),ot)),U=be.$highlight(de,u,de.$attr("language"),_(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:je,css_mode:(t(P=Fe["$[]"](Ke+"-css"))?P:"class").$to_sym(),highlight_lines:at,number_lines:we,start_line_number:ot,style:Fe["$[]"](Ke+"-style")})),vt=(I=e.to_ary(U))[0]??$,Dt=I[1]??$,t(de.passthroughs["$empty?"]())||(vt=vt.$gsub(y(x,"HighlightedPassSlotRx"),y(x,"PASS_START")+"\\1"+y(x,"PASS_END"))),t(je["$nil_or_empty?"]())?vt:de.$restore_callouts(vt,je,Dt)):de.$sub_source(u,v)},re.$$arity=2),e.def(N,"$resolve_lines_to_highlight",ye=function(u,v,I){var U,P,be=$,je=$;return null==I&&(I=$),be=[],t(v["$include?"](" "))&&(v=v.$delete(" ")),s(t(v["$include?"](","))?v.$split(","):v.$split(";"),"map",[],((U=function(Fe){var we,ot,vt,at=$,Dt=$,ce=$,Ee=$;return null==Fe&&(Fe=$),t(Fe["$start_with?"]("!"))&&(Fe=Fe.$slice(1,Fe.$length()),at=!0),t(vt=t(Fe["$include?"](".."))?"..":t(Fe["$include?"]("-"))?"-":$)?(ot=Fe.$partition(vt),Dt=(we=e.to_ary(ot))[0]??$,t(t(we=(ce=we[2]??$)["$empty?"]())?we:Xe(ce=ce.$to_i(),0))&&(ce=l(u.$count(y(x,"LF")),1)),be=t(at)?O(be,e.Range.$new(Dt.$to_i(),ce,!1).$to_a()):be["$|"](e.Range.$new(Dt.$to_i(),ce,!1).$to_a())):t(at)?be.$delete(Fe.$to_i()):t(be["$include?"](Ee=Fe.$to_i())["$!"]())?be["$<<"](Ee):$}).$$s=this,U.$$arity=1,U)),(je=t(I)?O(I,1):0)["$=="](0)||(be=s(be,"map",[],((P=function(Fe){return null==Fe&&(Fe=$),O(Fe,je)}).$$s=this,P.$$arity=1,P))),be.$sort()},ye.$$arity=-3),e.def(N,"$extract_passthroughs",q=function(u){var v,I,U,P,de,je,we,ot,be=this,Fe=$;return null==be.document&&(be.document=$),null==be.passthroughs&&(be.passthroughs=$),je=be.document.$compat_mode(),Fe=be.passthroughs,t(t(v=t(I=u["$include?"]("++"))?I:u["$include?"]("$$"))?v:u["$include?"]("ss:"))&&(u=s(u,"gsub",[y(x,"InlinePassMacroRx")],((U=function(){var vt,at=U.$$s||this,Dt=$,bt=$,ce=$,Ee=$,fe=$,o=$,H=$,Y=$,Q=$;if(t(Dt=(vt=i["~"])===$?$:vt["$[]"](4))){if(t(t(vt=je)?Dt["$=="]("++"):vt))return(t((vt=i["~"])===$?$:vt["$[]"](2))?((vt=i["~"])===$?$:vt["$[]"](1))+"["+((vt=i["~"])===$?$:vt["$[]"](2))+"]"+((vt=i["~"])===$?$:vt["$[]"](3)):""+((vt=i["~"])===$?$:vt["$[]"](1))+((vt=i["~"])===$?$:vt["$[]"](3)))+"++"+at.$extract_passthroughs((vt=i["~"])===$?$:vt["$[]"](5))+"++";if(t(bt=(vt=i["~"])===$?$:vt["$[]"](2))){if(t(xe(ce=((vt=i["~"])===$?$:vt["$[]"](3)).$length(),0)))return((vt=i["~"])===$?$:vt["$[]"](1))+"["+bt+"]"+ie(y(x,"RS"),O(ce,1))+Dt+((vt=i["~"])===$?$:vt["$[]"](5))+Dt;((vt=i["~"])===$?$:vt["$[]"](1))["$=="](y(x,"RS"))?Ee="["+bt+"]":(t((vt=Dt["$=="]("++"))?bt["$end_with?"]("x-"):Dt["$=="]("++"))&&(fe=!0,bt=bt.$slice(0,O(bt.$length(),2))),o=at.$parse_quoted_text_attributes(bt))}else if(t(xe(ce=((vt=i["~"])===$?$:vt["$[]"](3)).$length(),0)))return""+ie(y(x,"RS"),O(ce,1))+Dt+((vt=i["~"])===$?$:vt["$[]"](5))+Dt;H=Dt["$=="]("+++")?[]:y(x,"BASIC_SUBS"),t(o)?t(fe)?(Y=[Q=Fe.$size(),_(["text","subs","type","attributes"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:y(x,"NORMAL_SUBS"),type:"monospaced",attributes:o})],s(Fe,"[]=",e.to_a(Y)),O(Y.length,1)):(Y=[Q=Fe.$size(),_(["text","subs","type","attributes"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:H,type:"unquoted",attributes:o})],s(Fe,"[]=",e.to_a(Y)),O(Y.length,1)):(Y=[Q=Fe.$size(),_(["text","subs"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:H})],s(Fe,"[]=",e.to_a(Y)),O(Y.length,1))}else{if(((vt=i["~"])===$?$:vt["$[]"](6))["$=="](y(x,"RS")))return((vt=i["~"])===$?$:vt["$[]"](0)).$slice(1,((vt=i["~"])===$?$:vt["$[]"](0)).$length());t(H=(vt=i["~"])===$?$:vt["$[]"](7))?(Y=[Q=Fe.$size(),_(["text","subs"],{text:at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](8),$,!0),subs:at.$resolve_pass_subs(H)})],s(Fe,"[]=",e.to_a(Y)),O(Y.length,1)):(Y=[Q=Fe.$size(),_(["text"],{text:at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](8),$,!0)})],s(Fe,"[]=",e.to_a(Y)),O(Y.length,1))}return""+(t(vt=Ee)?vt:"")+y(x,"PASS_START")+Q+y(x,"PASS_END")}).$$s=be,U.$$arity=0,U))),I=y(x,"InlinePassRx")["$[]"](je),we=(v=e.to_ary(I))[1]??$,ot=v[2]??$,t(t(v=u["$include?"](v[0]??$))?v:t(I=we)?u["$include?"](we):I)&&(u=s(u,"gsub",[ot],((P=function(){var vt,o,at=P.$$s||this,Dt=$,bt=$,ce=$,Ee=$,fe=$,H=$,Y=$,Q=$,ne=$,k=$;if(Dt=(vt=i["~"])===$?$:vt["$[]"](1),bt=(vt=i["~"])===$?$:vt["$[]"](2),t((ce=(vt=i["~"])===$?$:vt["$[]"](3))["$start_with?"](y(x,"RS")))&&(Ee=y(x,"RS")),fe=(vt=i["~"])===$?$:vt["$[]"](4),o=(vt=i["~"])===$?$:vt["$[]"](5),t(je)?H=!0:t(H=t(vt=bt)?bt["$end_with?"]("x-"):vt)&&(bt=bt.$slice(0,O(bt.$length(),2))),t(bt)){if(t((vt=fe["$=="]("`"))?H["$!"]():fe["$=="]("`")))return at.$extract_inner_passthrough(o,Dt+"["+bt+"]"+Ee);if(t(Ee))return Dt+"["+bt+"]"+ce.$slice(1,ce.$length());Dt["$=="](y(x,"RS"))?Dt="["+bt+"]":Y=at.$parse_quoted_text_attributes(bt)}else{if(t((vt=fe["$=="]("`"))?H["$!"]():fe["$=="]("`")))return at.$extract_inner_passthrough(o,""+Dt+Ee);if(t(Ee))return""+Dt+ce.$slice(1,ce.$length())}return t(je)?(Q=[ne=Fe.$size(),_(["text","subs","attributes","type"],{text:o,subs:y(x,"BASIC_SUBS"),attributes:Y,type:"monospaced"})],s(Fe,"[]=",e.to_a(Q)),O(Q.length,1)):t(Y)?t(H)?(k=fe["$=="]("`")?y(x,"BASIC_SUBS"):y(x,"NORMAL_SUBS"),Q=[ne=Fe.$size(),_(["text","subs","attributes","type"],{text:o,subs:k,attributes:Y,type:"monospaced"})],s(Fe,"[]=",e.to_a(Q)),O(Q.length,1)):(Q=[ne=Fe.$size(),_(["text","subs","attributes","type"],{text:o,subs:y(x,"BASIC_SUBS"),attributes:Y,type:"unquoted"})],s(Fe,"[]=",e.to_a(Q)),O(Q.length,1)):(Q=[ne=Fe.$size(),_(["text","subs"],{text:o,subs:y(x,"BASIC_SUBS")})],s(Fe,"[]=",e.to_a(Q)),O(Q.length,1)),""+Dt+y(x,"PASS_START")+ne+y(x,"PASS_END")}).$$s=be,P.$$arity=0,P))),t(t(v=u["$include?"](":"))?t(I=u["$include?"]("stem:"))?I:u["$include?"]("math:"):v)&&(u=s(u,"gsub",[y(x,"InlineStemMacroRx")],((de=function(){var vt,at=de.$$s||this,bt=$,ce=$,Ee=$,fe=$,o=$;return null==at.document&&(at.document=$),t(((vt=i["~"])===$?$:vt["$[]"](0))["$start_with?"](y(x,"RS")))?((vt=i["~"])===$?$:vt["$[]"](0)).$slice(1,((vt=i["~"])===$?$:vt["$[]"](0)).$length()):((bt=((vt=i["~"])===$?$:vt["$[]"](1)).$to_sym())["$=="]("stem")&&(bt=y(x,"STEM_TYPE_ALIASES")["$[]"](at.document.$attributes()["$[]"]("stem")).$to_sym()),ce=(vt=i["~"])===$?$:vt["$[]"](2),Ee=at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](3),$,!0),t(t(vt=bt["$=="]("latexmath")?Ee["$start_with?"]("$"):bt["$=="]("latexmath"))?Ee["$end_with?"]("$"):vt)&&(Ee=Ee.$slice(1,O(Ee.$length(),2))),ce=t(ce)?at.$resolve_pass_subs(ce):t(at.document["$basebackend?"]("html"))?y(x,"BASIC_SUBS"):$,fe=[o=Fe.$size(),_(["text","subs","type"],{text:Ee,subs:ce,type:bt})],s(Fe,"[]=",e.to_a(fe)),O(fe.length,1),""+y(x,"PASS_START")+o+y(x,"PASS_END"))}).$$s=be,de.$$arity=0,de))),u},q.$$arity=1),e.def(N,"$restore_passthroughs",ee=function(u){var v,I=this,U=$;return null==I.passthroughs&&(I.passthroughs=$),U=I.passthroughs,s(u,"gsub",[y(x,"PassSlotRx")],((v=function(){var de,P=v.$$s||this,be=$,je=$,Fe=$,Ke=$,we=$;return t(be=U["$[]"](((de=i["~"])===$?$:de["$[]"](1)).$to_i()))?(je=P.$apply_subs(be["$[]"]("text"),be["$[]"]("subs")),t(Fe=be["$[]"]("type"))&&(t(Ke=be["$[]"]("attributes"))&&(we=Ke["$[]"]("id")),je=y(x,"Inline").$new(P,"quoted",je,_(["type","id","attributes"],{type:Fe,id:we,attributes:Ke})).$convert()),t(je["$include?"](y(x,"PASS_START")))?P.$restore_passthroughs(je):je):(P.$logger().$error("unresolved passthrough detected: "+u),"??pass??")}).$$s=I,v.$$arity=0,v))},ee.$$arity=1),e.def(N,"$resolve_subs",V=function(u,v,I,U){var P,be=$,je=$,Fe=$,Ke=$;return null==v&&(v="block"),null==I&&(I=$),null==U&&(U=$),t(u["$nil_or_empty?"]())||(be=$,t(u["$include?"](" "))&&(u=u.$delete(" ")),je=y(x,"SubModifierSniffRx")["$match?"](u),s(u.$split(","),"each",[],((P=function(we){var at,vt,Dt=$,bt=$,ce=$,Ee=$,fe=$,o=$;return null==we&&(we=$),Dt=$,t(je)&&((bt=we.$chr())["$=="]("+")?(Dt="append",we=we.$slice(1,we.$length())):bt["$=="]("-")?(Dt="remove",we=we.$slice(1,we.$length())):t(we["$end_with?"]("+"))&&(Dt="prepend",we=we.$chop())),we=we.$to_sym(),t((at=v["$=="]("inline"))?t(vt=we["$=="]("verbatim"))?vt:we["$=="]("v"):v["$=="]("inline"))?ce=y(x,"BASIC_SUBS"):t(y(x,"SUB_GROUPS")["$key?"](we))?ce=y(x,"SUB_GROUPS")["$[]"](we):t(t(at=(vt=v["$=="]("inline"))?we.$length()["$=="](1):v["$=="]("inline"))?y(x,"SUB_HINTS")["$key?"](we):at)?(Ee=y(x,"SUB_HINTS")["$[]"](we),ce=t(fe=y(x,"SUB_GROUPS")["$[]"](Ee))?fe:[Ee]):ce=[we],t(Dt)?(be=t(at=be)?at:t(I)?I.$drop(0):[],"append"["$==="](o=Dt)?be=l(be,ce):"prepend"["$==="](o)?be=l(ce,be):"remove"["$==="](o)?be=O(be,ce):$):be=l(be=t(at=be)?at:[],ce)}).$$s=this,P.$$arity=1,P)),!t(be))?$:(Fe=be["$&"](y(x,"SUB_OPTIONS")["$[]"](v)),t(O(be,Fe)["$empty?"]())||(Ke=O(be,Fe),this.$logger().$warn("invalid substitution type"+(t(xe(Ke.$size(),1))?"s":"")+(t(U)?" for ":"")+U+": "+Ke.$join(", "))),Fe)},V.$$arity=-2),e.def(N,"$resolve_block_subs",_e=function(u,v,I){return this.$resolve_subs(u,"block",v,I)},_e.$$arity=3),e.def(N,"$resolve_pass_subs",Me=function(u){return this.$resolve_subs(u,"inline",$,"passthrough macro")},Me.$$arity=1),e.def(N,"$expand_subs",Te=function(u,v){var I,U,de,be=$;return null==v&&(v=$),de=u,n("::","Symbol")["$==="](de)?u["$=="]("none")?$:t(I=y(x,"SUB_GROUPS")["$[]"](u))?I:[u]:n("::","Array")["$==="](de)?(be=[],s(u,"each",[],((U=function(je){var Ke=$;return null==je&&(je=$),je["$=="]("none")?$:t(Ke=y(x,"SUB_GROUPS")["$[]"](je))?be=l(be,Ke):be["$<<"](je)}).$$s=this,U.$$arity=1,U)),t(be["$empty?"]())?$:be):this.$resolve_subs(u,"inline",$,v)},Te.$$arity=-2),e.def(N,"$commit_subs",et=function(){var u,v,I,je,P=this,de=$,be=$,Fe=$,Ke=$,we=$;if(null==P.default_subs&&(P.default_subs=$),null==P.content_model&&(P.content_model=$),null==P.context&&(P.context=$),null==P.subs&&(P.subs=$),null==P.attributes&&(P.attributes=$),null==P.style&&(P.style=$),null==P.document&&(P.document=$),!t(de=P.default_subs))if("simple"["$==="](be=P.content_model))de=y(x,"NORMAL_SUBS");else if("verbatim"["$==="](be))de=P.context["$=="]("verse")?y(x,"NORMAL_SUBS"):y(x,"VERBATIM_SUBS");else{if(!"raw"["$==="](be))return P.subs;de=P.context["$=="]("stem")?y(x,"BASIC_SUBS"):y(x,"NO_SUBS")}return P.subs=t(je=P.attributes["$[]"]("subs"))?t(u=P.$resolve_block_subs(je,de,P.context))?u:[]:de.$drop(0),t(t(u=t(v=t(I=P.context["$=="]("listing")?P.style["$=="]("source"):P.context["$=="]("listing"))?Fe=P.document.$syntax_highlighter():I)?Fe["$highlight?"]():v)?Ke=P.subs.$index("specialcharacters"):u)&&(s(P.subs,"[]=",e.to_a(we=[Ke,"highlight"])),O(we.length,1)),$},et.$$arity=0),e.def(N,"$parse_attributes",ct=function(u,v,I){var U,P=this,de=$,be=$;return null==P.document&&(P.document=$),null==v&&(v=[]),null==I&&(I=_([],{})),t(!t(u)||u["$empty?"]())?_([],{}):(t(I["$[]"]("unescape_input"))&&(u=P.$normalize_text(u,!0,!0)),t(t(U=I["$[]"]("sub_input"))?u["$include?"](y(x,"ATTR_REF_HEAD")):U)&&(u=P.document.$sub_attributes(u)),t(I["$[]"]("sub_result"))&&(de=P),t(be=I["$[]"]("into"))?y(x,"AttributeList").$new(u,de).$parse_into(be,v):y(x,"AttributeList").$new(u,de).$parse(v))},ct.$$arity=-2),N.$private(),e.def(N,"$extract_attributes_from_text",it=function(u,v){var U,P=$,de=$;return null==v&&(v=$),U=t(u["$include?"](y(x,"LF")))?u.$tr(y(x,"LF")," "):u,t(P=(de=y(x,"AttributeList").$new(U,this).$parse())["$[]"](1))?P["$=="](U)?[u,de.$clear()]:[P,de]:[v,de]},it.$$arity=-2),e.def(N,"$extract_callouts",Ie=function(u){var v,je,I=this,U=$,P=$,de=$,be=$;return U=_([],{}),P=de=0,be=$,je=t(I["$attr?"]("line-comment"))?y(x,"CalloutExtractRxMap")["$[]"](I.$attr("line-comment")):y(x,"CalloutExtractRx"),u=s(u.$split(y(x,"LF"),-1),"map",[],(v=function(Fe){var we,Ke=v.$$s||this;return null==Fe&&(Fe=$),de=l(de,1),s(Fe,"gsub",[je],((we=function(){var at,vt,Dt=$;return t((at=i["~"])===$?$:at["$[]"](2))?((at=i["~"])===$?$:at["$[]"](0)).$sub(y(x,"RS"),""):((t(at=U["$[]"](de))?at:(Dt=[de,[]],s(U,"[]=",e.to_a(Dt)),Dt[O(Dt.length,1)]))["$<<"]([t(at=(vt=i["~"])===$?$:vt["$[]"](1))?at:((vt=i["~"])===$?$:vt["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:$,((at=i["~"])===$?$:at["$[]"](4))["$=="](".")?(P=l(P,1)).$to_s():(at=i["~"])===$?$:at["$[]"](4)]),be=de,"")}).$$s=Ke,we.$$arity=0,we))},v.$$s=I,v.$$arity=1,v)).$join(y(x,"LF")),t(be)?be["$=="](de)&&(u=""+u+y(x,"LF")):U=$,[u,U]},Ie.$$arity=1),e.def(N,"$restore_callouts",Se=function(u,v,I){var U,de=$,be=$;return null==I&&(I=$),t(I)?(de=u.$slice(0,I),u=u.$slice(I,u.$length())):de="",be=0,l(de,s(u.$split(y(x,"LF"),-1),"map",[],(U=function(je){var Ke,we,ot,Fe=U.$$s||this,at=$,vt=$,Dt=$;return null==Fe.document&&(Fe.document=$),null==je&&(je=$),t(at=v.$delete(be=l(be,1)))?at.$size()["$=="](1)?(we=at["$[]"](0),vt=(Ke=e.to_ary(we))[0]??$,Dt=Ke[1]??$,""+je+y(x,"Inline").$new(Fe,"callout",Dt,_(["id","attributes"],{id:Fe.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:vt})})).$convert()):""+je+s(at,"map",[],(ot=function(bt,ce){var Ee=ot.$$s||this;return null==Ee.document&&(Ee.document=$),null==bt&&(bt=$),null==ce&&(ce=$),y(x,"Inline").$new(Ee,"callout",ce,_(["id","attributes"],{id:Ee.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:bt})})).$convert()},ot.$$s=Fe,ot.$$arity=2,ot)).$join(" "):je},U.$$s=this,U.$$arity=1,U)).$join(y(x,"LF")))},Se.$$arity=-3),e.def(N,"$extract_inner_passthrough",We=function(u,v){var I,U,P=this,de=$,be=$;return null==P.passthroughs&&(P.passthroughs=$),t(t(I=t(U=u["$end_with?"]("+"))?u["$start_with?"]("+","\\+"):U)?y(x,"SinglePlusInlinePassRx")["$=~"](u):I)?t((I=i["~"])===$?$:I["$[]"](1))?v+"`+"+((I=i["~"])===$?$:I["$[]"](2))+"+`":(de=[be=P.passthroughs.$size(),_(["text","subs"],{text:(I=i["~"])===$?$:I["$[]"](2),subs:y(x,"BASIC_SUBS")})],s(P.passthroughs,"[]=",e.to_a(de)),O(de.length,1),v+"`"+y(x,"PASS_START")+be+y(x,"PASS_END")+"`"):v+"`"+u+"`"},We.$$arity=2),e.def(N,"$convert_quoted_text",tt=function(u,v,I){var P=this,de=$,be=$,je=$,Fe=$,Ke=$;if(t(u["$[]"](0)["$start_with?"](y(x,"RS")))){if(!t(I["$=="]("constrained")?de=u["$[]"](2):I["$=="]("constrained")))return u["$[]"](0).$slice(1,u["$[]"](0).$length());be="["+de+"]"}return I["$=="]("constrained")?t(be)?""+be+y(x,"Inline").$new(P,"quoted",u["$[]"](3),_(["type"],{type:v})).$convert():(t(je=u["$[]"](2))&&(Fe=(Ke=P.$parse_quoted_text_attributes(je))["$[]"]("id"),v["$=="]("mark")&&(v="unquoted")),""+u["$[]"](1)+y(x,"Inline").$new(P,"quoted",u["$[]"](3),_(["type","id","attributes"],{type:v,id:Fe,attributes:Ke})).$convert()):(t(je=u["$[]"](1))&&(Fe=(Ke=P.$parse_quoted_text_attributes(je))["$[]"]("id"),v["$=="]("mark")&&(v="unquoted")),y(x,"Inline").$new(P,"quoted",u["$[]"](2),_(["type","id","attributes"],{type:v,id:Fe,attributes:Ke})).$convert())},tt.$$arity=3),e.def(N,"$do_replacement",Qe=function(u,v,I){var P=$,de=$;return t((P=u["$[]"](0))["$include?"](y(x,"RS")))?P.$sub(y(x,"RS"),""):"none"["$==="](de=I)?v:"bounding"["$==="](de)?l(l(u["$[]"](1),v),u["$[]"](2)):l(u["$[]"](1),v)},Qe.$$arity=3),y(x,"RUBY_ENGINE")["$=="]("opal"),e.def(N,"$parse_quoted_text_attributes",nt=function(u){var v,I,P=$,be=$,je=$,Fe=$,Ke=$,we=$;return t(u["$include?"](y(x,"ATTR_REF_HEAD")))&&(u=this.$sub_attributes(u)),t(u["$include?"](","))&&(u=u.$slice(0,u.$index(","))),t((u=u.$strip())["$empty?"]())?_([],{}):t(t(v=u["$start_with?"](".","#"))?y(x,"Compliance").$shorthand_property_syntax():v)?(I=u.$partition("#"),P=(v=e.to_ary(I))[0]??$,be=v[2]??$,je=_([],{}),t(be["$empty?"]())?t(xe(P.$length(),1))&&(Fe=["role",P.$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Fe)),O(Fe.length,1)):(I=be.$partition("."),we=(v=e.to_ary(I))[2]??$,t((Ke=v[0]??$)["$empty?"]())||(s(je,"[]=",e.to_a(Fe=["id",Ke])),O(Fe.length,1)),t(we["$empty?"]())?t(xe(P.$length(),1))&&(Fe=["role",P.$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Fe)),O(Fe.length,1)):t(xe(P.$length(),1))?(Fe=["role",l(l(P,"."),we).$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Fe)),O(Fe.length,1)):(Fe=["role",we.$tr("."," ")],s(je,"[]=",e.to_a(Fe)),O(Fe.length,1))),je):_(["role"],{role:u})},nt.$$arity=1),e.def(N,"$normalize_text",yt=function(u,v,I){var U;return null==v&&(v=$),null==I&&(I=$),t(u["$empty?"]())||(t(v)&&(u=u.$strip().$tr(y(x,"LF")," ")),t(t(U=I)?u["$include?"](y(x,"R_SB")):U)&&(u=u.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB")))),u},yt.$$arity=-2),void e.def(N,"$split_simple_csv",ut=function(u){var v,I,P=$,de=$,be=$;return t(u["$empty?"]())?[]:t(u["$include?"]('"'))?(P=[],de="",be=$,s(u,"each_char",[],((v=function(je){var Ke;return null==je&&(je=$),","["$==="](Ke=je)?t(be)?de=l(de,je):(P["$<<"](de.$strip()),de=""):'"'["$==="](Ke)?be=be["$!"]():de=l(de,je)}).$$s=this,v.$$arity=1,v)),P["$<<"](de.$strip())):s(u.$split(","),"map",[],((I=function(je){return null==je&&(je=$),je.$strip()}).$$s=this,I.$$arity=1,I))},ut.$$arity=1)},Opal.modules["asciidoctor/version"]=function(e){var y,oe,O=[];return y=O,oe=[(0,e.module)(O[0],"Asciidoctor")].concat(y),void e.const_set(oe[0],"VERSION","2.0.17")},Opal.modules["asciidoctor/abstract_node"]=function(e){function l(c,t){return"number"==typeof c&&"number"==typeof t?c-t:c["$-"](t)}function O(c,t){return"number"==typeof c&&"number"==typeof t?c<t:c["$<"](t)}var t,g,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,w,C,i,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.klass,oe=e.hash2,b=e.truthy,_=e.send;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$[]","$merge","$raise","$converter","$attributes","$key?","$[]=","$-","$delete","$tap","$new","$each_key","$end_with?","$<<","$slice","$length","$update","$split","$include?","$===","$join","$empty?","$apply_reftext_subs","$attr?","$attr","$extname?","$image_uri","$<","$safe","$uriish?","$encode_spaces_in_uri","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$extname","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open_uri","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$!=","$prepare_source_string","$fetch","$read_asset"]),t=Xe,g=i=[y(Xe[0],"Asciidoctor")].concat(t),w=W(i[0],null,"AbstractNode"),C=[w].concat(g),w.$$prototype.document=w.$$prototype.attributes=w.$$prototype.parent=ie,w.$include($e(C,"Logging")),w.$include($e(C,"Substitutors")),w.$attr_reader("attributes"),w.$attr_reader("context"),w.$attr_reader("document"),w.$attr_accessor("id"),w.$attr_reader("node_name"),w.$attr_reader("parent"),e.def(w,"$initialize",B=function(K,u,v){var I=this,U=ie;return null==v&&(v=oe([],{})),u["$=="]("document")?I.document=I:b(K)&&(I.document=(I.parent=K).$document()),I.node_name=(I.context=u).$to_s(),I.attributes=b(U=v["$[]"]("attributes"))?U.$merge():oe([],{}),I.passthroughs=[]},B.$$arity=-3),e.def(w,"$block?",N=function(){return this.$raise(A("::","NotImplementedError"))},N.$$arity=0),e.def(w,"$inline?",x=function(){return this.$raise(A("::","NotImplementedError"))},x.$$arity=0),e.def(w,"$converter",f=function(){return this.document.$converter()},f.$$arity=0),e.def(w,"$parent=",L=function(ut){var K;return K=[ut,ut.$document()],this.parent=K[0],this.document=K[1],K},L.$$arity=1),e.def(w,"$attr",ae=function(K,u,v){var I,U,P,de;return null==u&&(u=ie),null==v&&(v=ie),b(I=this.attributes["$[]"](K.$to_s()))?I:b(U=b(P=b(de=v)?this.parent:de)?this.document.$attributes()["$[]"]((v["$=="](!0)?K:v).$to_s()):P)?U:u},ae.$$arity=-2),e.def(w,"$attr?",Pe=function(ut,K,u){var v,I,U=this;return null==K&&(K=ie),null==u&&(u=ie),b(K)?K["$=="](b(v=U.attributes["$[]"](ut.$to_s()))?v:b(b(I=u)?U.parent:I)?U.document.$attributes()["$[]"]((u["$=="](!0)?ut:u).$to_s()):ie):b(v=U.attributes["$key?"](ut.$to_s()))?v:!!b(b(I=u)?U.parent:I)&&U.document.$attributes()["$key?"]((u["$=="](!0)?ut:u).$to_s())},Pe.$$arity=-2),e.def(w,"$set_attr",ze=function(K,u,v){var P=ie;return null==u&&(u=""),null==v&&(v=!0),!b(v["$=="](!1)?this.attributes["$key?"](K):v["$=="](!1))&&(_(this.attributes,"[]=",e.to_a(P=[K,u])),l(P.length,1),!0)},ze.$$arity=-2),e.def(w,"$remove_attr",le=function(K){return this.attributes.$delete(K)},le.$$arity=1),e.def(w,"$option?",S=function(ut){return!!b(this.attributes["$[]"](ut+"-option"))},S.$$arity=1),e.def(w,"$set_option",d=function(K){var v;return _(this.attributes,"[]=",e.to_a(v=[K+"-option",""])),l(v.length,1),ie},d.$$arity=1),e.def(w,"$enabled_options",m=function(){var K;return _(A("::","Set").$new(),"tap",[],((K=function(v){var U,I=K.$$s||this;return null==I.attributes&&(I.attributes=ie),null==v&&(v=ie),_(I.attributes,"each_key",[],((U=function(P){return null==P&&(P=ie),b(P.$to_s()["$end_with?"]("-option"))?v["$<<"](P.$slice(0,l(P.$length(),7))):ie}).$$s=I,U.$$arity=1,U))}).$$s=this,K.$$arity=1,K))},m.$$arity=0),e.def(w,"$update_attributes",p=function(K){return this.attributes.$update(K)},p.$$arity=1),e.def(w,"$role",z=function(){return this.attributes["$[]"]("role")},z.$$arity=0),e.def(w,"$roles",Z=function(){var u=ie;return b(u=this.attributes["$[]"]("role"))?u.$split():[]},Z.$$arity=0),e.def(w,"$role?",re=function(ut){return null==ut&&(ut=ie),b(ut)?ut["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},re.$$arity=-1),e.def(w,"$has_role?",ye=function(ut){var u;return!!b(u=this.attributes["$[]"]("role"))&&(" "+u+" ")["$include?"](" "+ut+" ")},ye.$$arity=1),e.def(w,"$role=",q=function(ut){var u;return u=["role",b(A("::","Array")["$==="](ut))?ut.$join(" "):ut],_(this.attributes,"[]=",e.to_a(u)),u[l(u.length,1)]},q.$$arity=1),e.def(w,"$add_role",ee=function(K){var v,u=this,I=ie;return b(v=u.attributes["$[]"]("role"))?!b((" "+v+" ")["$include?"](" "+K+" "))&&(_(u.attributes,"[]=",e.to_a(I=["role",v+" "+K])),l(I.length,1),!0):(_(u.attributes,"[]=",e.to_a(I=["role",K])),l(I.length,1),!0)},ee.$$arity=1),e.def(w,"$remove_role",V=function(K){var u,v=this,I=ie,U=ie;return!!b(b(u=I=v.attributes["$[]"]("role"))?(I=I.$split()).$delete(K):u)&&(b(I["$empty?"]())?v.attributes.$delete("role"):(U=["role",I.$join(" ")],_(v.attributes,"[]=",e.to_a(U)),l(U.length,1)),!0)},V.$$arity=1),e.def(w,"$reftext",_e=function(){var u;return b(u=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(u):ie},_e.$$arity=0),e.def(w,"$reftext?",Me=function(){return this.attributes["$key?"]("reftext")},Me.$$arity=0),e.def(w,"$icon_uri",Te=function(K){var u=this,v=ie;return b(u["$attr?"]("icon"))?(v=u.$attr("icon"),b($e(C,"Helpers")["$extname?"](v))||(v=v+"."+u.document.$attr("icontype","png"))):v=K+"."+u.document.$attr("icontype","png"),u.$image_uri(v,"iconsdir")},Te.$$arity=1),e.def(w,"$image_uri",et=function(K,u){var v,I,U,P,de=this,be=ie,je=ie;return null==u&&(u="imagesdir"),b(b(v=O((be=de.document).$safe(),A($e(C,"SafeMode"),"SECURE")))?be["$attr?"]("data-uri"):v)?b(b(v=b(I=$e(C,"Helpers")["$uriish?"](K))?K=$e(C,"Helpers").$encode_spaces_in_uri(K):I)?v:b(I=b(U=b(P=u)?je=be.$attr(u):P)?$e(C,"Helpers")["$uriish?"](je):U)?K=de.$normalize_web_path(K,je,!1):I)?b(be["$attr?"]("allow-uri-read"))?de.$generate_data_uri_from_uri(K,be["$attr?"]("cache-uri")):K:de.$generate_data_uri(K,u):de.$normalize_web_path(K,b(u)?be.$attr(u):ie)},et.$$arity=-2),e.def(w,"$media_uri",ct=function(K,u){return null==u&&(u="imagesdir"),this.$normalize_web_path(K,b(u)?this.document.$attr(u):ie)},ct.$$arity=-2),e.def(w,"$generate_data_uri",it=function(K,u){var U,P,v=this,I=ie;return null==u&&(u=ie),U=b(I=$e(C,"Helpers").$extname(K,ie))?I["$=="](".svg")?"image/svg+xml":"image/"+I.$slice(1,I.$length()):"application/octet-stream",P=b(u)?v.$normalize_system_path(K,v.document.$attr(u),ie,oe(["target_name"],{target_name:"image"})):v.$normalize_system_path(K),b(A("::","File")["$readable?"](P))?"data:"+U+";base64,"+A("::","Base64").$strict_encode64(A("::","File").$binread(P)):(v.$logger().$warn("image to embed not found or not readable: "+P),"data:"+U+";base64,")},it.$$arity=-2),e.def(w,"$generate_data_uri_from_uri",Ie=function(K,u){var v,I,U,be=ie;null==u&&(u=!1),b(u)?$e(C,"Helpers").$require_library("open-uri/cached","open-uri-cached"):b($e(C,"RUBY_ENGINE_OPAL")["$!"]())&&A("::","OpenURI");try{return I=_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],((U=function(je){return null==je&&(je=ie),[je.$content_type(),je.$read()]}).$$s=this,U.$$arity=1,U)),be=(v=e.to_ary(I))[1]??ie,"data:"+(v[0]??ie)+";base64,"+A("::","Base64").$strict_encode64(be)}catch(je){if(!e.rescue(je,[$e(C,"StandardError")]))throw je;try{return this.$logger().$warn("could not retrieve image data from URI: "+K),K}finally{e.pop_exception()}}},Ie.$$arity=-2),e.def(w,"$normalize_asset_path",Se=function(K,u,v){return null==u&&(u="path"),null==v&&(v=!0),this.$normalize_system_path(K,this.document.$base_dir(),ie,oe(["target_name","recover"],{target_name:u,recover:v}))},Se.$$arity=-2),e.def(w,"$normalize_system_path",We=function(K,u,v,I){var U,de=ie;return null==u&&(u=ie),null==v&&(v=ie),null==I&&(I=oe([],{})),b(O((de=this.document).$safe(),A($e(C,"SafeMode"),"SAFE")))?b(u)?b(de.$path_resolver()["$root?"](u))||(u=A("::","File").$join(de.$base_dir(),u)):u=de.$base_dir():(u=b(U=u)?U:de.$base_dir(),v=b(U=v)?U:de.$base_dir()),de.$path_resolver().$system_path(K,u,v,I)},We.$$arity=-2),e.def(w,"$normalize_web_path",tt=function(K,u,v){var I;return null==u&&(u=ie),null==v&&(v=!0),b(b(I=v)?$e(C,"Helpers")["$uriish?"](K):I)?$e(C,"Helpers").$encode_spaces_in_uri(K):this.document.$path_resolver().$web_path(K,u)},tt.$$arity=-2),e.def(w,"$read_asset",Qe=function(K,u){var v;return null==u&&(u=oe([],{})),b(A("::","Hash")["$==="](u))||(u=oe(["warn_on_failure"],{warn_on_failure:u["$!="](!1)})),b(A("::","File")["$readable?"](K))?b(u["$[]"]("normalize"))?$e(C,"Helpers").$prepare_source_string(A("::","File").$read(K,oe(["mode"],{mode:$e(C,"FILE_READ_MODE")}))).$join($e(C,"LF")):A("::","File").$read(K,oe(["mode"],{mode:$e(C,"FILE_READ_MODE")})):(b(u["$[]"]("warn_on_failure"))&&this.$logger().$warn((b(v=this.$attr("docfile"))?v:"<stdin>")+": "+(b(v=u["$[]"]("label"))?v:"file")+" does not exist or cannot be read: "+K),ie)},Qe.$$arity=-2),e.def(w,"$read_contents",nt=function(K,u){var v,I,U,P,de,be=this,je=ie,Fe=ie,Ke=ie;if(null==u&&(u=oe([],{})),je=be.document,b(b(v=$e(C,"Helpers")["$uriish?"](K))?v:b(I=b(U=Fe=u["$[]"]("start"))?$e(C,"Helpers")["$uriish?"](Fe):U)?K=je.$path_resolver().$web_path(K,Fe):I))if(b(je["$attr?"]("allow-uri-read"))){b(je["$attr?"]("cache-uri"))&&$e(C,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{Ke=b(u["$[]"]("normalize"))?$e(C,"Helpers").$prepare_source_string(_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],(P=function(we){return null==we&&(we=ie),we.$read()},P.$$s=be,P.$$arity=1,P))).$join($e(C,"LF")):_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],((de=function(we){return null==we&&(we=ie),we.$read()}).$$s=be,de.$$arity=1,de))}catch(we){if(!e.rescue(we,[$e(C,"StandardError")]))throw we;try{b(u.$fetch("warn_on_failure",!0))&&be.$logger().$warn("could not retrieve contents of "+(b(v=u["$[]"]("label"))?v:"asset")+" at URI: "+K)}finally{e.pop_exception()}}}else b(u.$fetch("warn_on_failure",!0))&&be.$logger().$warn("cannot retrieve contents of "+(b(v=u["$[]"]("label"))?v:"asset")+" at URI: "+K+" (allow-uri-read attribute not enabled)");else K=be.$normalize_system_path(K,u["$[]"]("start"),ie,oe(["target_name"],{target_name:b(v=u["$[]"]("label"))?v:"asset"})),Ke=be.$read_asset(K,oe(["normalize","warn_on_failure","label"],{normalize:u["$[]"]("normalize"),warn_on_failure:u.$fetch("warn_on_failure",!0),label:u["$[]"]("label")}));return b(b(v=b(I=Ke)?u["$[]"]("warn_if_empty"):I)?Ke["$empty?"]():v)&&be.$logger().$warn("contents of "+(b(v=u["$[]"]("label"))?v:"asset")+" is empty: "+K),Ke},nt.$$arity=-2),void e.def(w,"$is_uri?",yt=function(ut){return $e(C,"Helpers")["$uriish?"](ut)},yt.$$arity=1)},Opal.modules["asciidoctor/abstract_block"]=function(e){function l(c,t){return"number"==typeof c&&"number"==typeof t?c-t:c["$-"](t)}function O(c,t){return"number"==typeof c&&"number"==typeof t?c+t:c["$+"](t)}var t,g,B,N,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,w,C,i,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.klass,oe=e.hash2,b=e.send,_=e.truthy;return e.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$===","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$empty?","$Integer","$find_by_internal","$to_proc","$context","$[]","$items","$+","$find_index","$include?","$next_adjacent_block","$blocks","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$delete","$reftext","$!","$nil_or_empty?","$sub_placeholder","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$int_to_roman","$each","$assign_numeral","$reindex_sections","$protected","$has_role?","$raise","$header?","$!=","$flatten","$head","$rows","$merge","$body","$foot","$style","$inner_document"]),t=Xe,g=i=[y(Xe[0],"Asciidoctor")].concat(t),w=W(i[0],$e(i,"AbstractNode"),"AbstractBlock"),C=[w].concat(g),w.$$prototype.source_location=w.$$prototype.document=w.$$prototype.attributes=w.$$prototype.blocks=w.$$prototype.numeral=w.$$prototype.context=w.$$prototype.parent=w.$$prototype.caption=w.$$prototype.style=w.$$prototype.converted_title=w.$$prototype.title=w.$$prototype.subs=w.$$prototype.next_section_index=w.$$prototype.next_section_ordinal=w.$$prototype.id=w.$$prototype.header=ie,w.$attr_reader("blocks"),w.$attr_writer("caption"),w.$attr_accessor("content_model"),w.$attr_accessor("level"),w.$attr_accessor("numeral"),w.$attr_accessor("source_location"),w.$attr_accessor("style"),w.$attr_reader("subs"),e.def(w,"$initialize",B=function(nt,yt,ut){var K,u=B.$$p,I=this,U=ie,P=ie,de=ie;for(u&&(B.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return null==ut&&(ut=oe([],{})),b(I,e.find_super_dispatcher(I,"initialize",B,!1),U,u),I.content_model="compound",I.blocks=[],I.subs=[],I.id=I.title=I.caption=I.numeral=I.style=I.default_subs=I.source_location=ie,_(_(K=yt["$=="]("document"))?K:yt["$=="]("section"))?(I.level=I.next_section_index=0,I.next_section_ordinal=1):I.level=_($e(C,"AbstractBlock")["$==="](nt))?nt.$level():ie},B.$$arity=-3),e.def(w,"$block?",N=function(){return!0},N.$$arity=0),e.def(w,"$inline?",x=function(){return!1},x.$$arity=0),e.def(w,"$file",f=function(){var nt;return _(nt=this.source_location)?this.source_location.$file():nt},f.$$arity=0),e.def(w,"$lineno",L=function(){var nt;return _(nt=this.source_location)?this.source_location.$lineno():nt},L.$$arity=0),e.def(w,"$convert",ae=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},ae.$$arity=0),e.alias(w,"render","convert"),e.def(w,"$content",Pe=function(){var nt;return b(this.blocks,"map",[],(nt=function(ut){return null==ut&&(ut=ie),ut.$convert()},nt.$$s=this,nt.$$arity=1,nt)).$join($e(C,"LF"))},Pe.$$arity=0),e.def(w,"$context=",ze=function(Qe){return this.node_name=(this.context=Qe).$to_s()},ze.$$arity=1),e.def(w,"$<<",le=function(Qe){var yt=ie;return Qe.$parent()["$=="](this)||(b(Qe,"parent=",e.to_a(yt=[this])),l(yt.length,1)),this.blocks["$<<"](Qe),this},le.$$arity=1),e.alias(w,"append","<<"),e.def(w,"$blocks?",S=function(){return!_(this.blocks["$empty?"]())},S.$$arity=0),e.def(w,"$sections?",d=function(){return!1},d.$$arity=0),e.def(w,"$number",m=function(){try{return this.$Integer(this.numeral)}catch(yt){if(!e.rescue(yt,[$e(C,"StandardError")]))throw yt;try{return this.numeral}finally{e.pop_exception()}}},m.$$arity=0),e.def(w,"$number=",p=function(Qe){return this.numeral=Qe.$to_s()},p.$$arity=1),e.def(w,"$find_by",z=function(nt){var yt=z.$$p,ut=yt||ie,u=ie;yt&&(z.$$p=null),yt&&(z.$$p=null),null==nt&&(nt=oe([],{}));try{return b(this,"find_by_internal",[nt,u=[]],ut.$to_proc())}catch(v){if(!e.rescue(v,[A("::","StopIteration")]))throw v;try{return u}finally{e.pop_exception()}}},z.$$arity=-1),e.alias(w,"query","find_by"),e.def(w,"$next_adjacent_block",Z=function(){var yt,ut=this,K=ie,u=ie;return ut.context["$=="]("document")?ie:_((K=ut.parent).$context()["$=="]("dlist")?ut.context["$=="]("list_item"):(K=ut.parent).$context()["$=="]("dlist"))?_(u=K.$items()["$[]"](O(b(K.$items(),"find_index",[],((yt=function(v,I){var P,U=yt.$$s||this;return null==v&&(v=ie),null==I&&(I=ie),_(P=v["$include?"](U))?P:I["$=="](U)}).$$s=ut,yt.$$arity=2,yt)),1)))?u:K.$next_adjacent_block():_(u=K.$blocks()["$[]"](O(K.$blocks().$find_index(ut),1)))?u:K.$next_adjacent_block()},Z.$$arity=0),e.def(w,"$sections",re=function(){var nt;return b(this.blocks,"select",[],((nt=function(ut){return null==ut&&(ut=ie),ut.$context()["$=="]("section")}).$$s=this,nt.$$arity=1,nt))},re.$$arity=0),e.def(w,"$alt",ye=function(){var nt=this,yt=ie;return _(yt=nt.attributes["$[]"]("alt"))?yt["$=="](nt.attributes["$[]"]("default-alt"))?nt.$sub_specialchars(yt):(yt=nt.$sub_specialchars(yt),_($e(C,"ReplaceableTextRx")["$match?"](yt))?nt.$sub_replacements(yt):yt):""},ye.$$arity=0),e.def(w,"$caption",q=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},q.$$arity=0),e.def(w,"$captioned_title",ee=function(){return""+this.caption+this.$title()},ee.$$arity=0),e.def(w,"$list_marker_keyword",V=function(nt){var yt;return null==nt&&(nt=ie),$e(C,"ORDERED_LIST_KEYWORDS")["$[]"](_(yt=nt)?yt:this.style)},V.$$arity=-1),e.def(w,"$title",_e=function(){var nt,yt,ut=this;return ut.converted_title=_(nt=ut.converted_title)?nt:_(yt=ut.title)?ut.$apply_title_subs(ut.title):yt},_e.$$arity=0),e.def(w,"$title?",Me=function(){return!!_(this.title)},Me.$$arity=0),e.def(w,"$title=",Te=function(Qe){return this.converted_title=ie,this.title=Qe},Te.$$arity=1),e.def(w,"$sub?",et=function(Qe){return this.subs["$include?"](Qe)},et.$$arity=1),e.def(w,"$remove_sub",ct=function(nt){return this.subs.$delete(nt),ie},ct.$$arity=1),e.def(w,"$xreftext",it=function(nt){var yt,ut,K=this,u=ie,v=ie,I=ie,U=ie,P=ie;return null==nt&&(nt=ie),_(_(yt=u=K.$reftext())?u["$empty?"]()["$!"]():yt)?u:_(_(yt=_(ut=nt)?K.title:ut)?K.caption["$nil_or_empty?"]()["$!"]():yt)?"full"["$==="](v=nt)?(I=K.$sub_placeholder(K.$sub_quotes(_(K.document.$compat_mode())?"``%s''":'"`%s`"'),K.$title()),_(_(yt=_(ut=K.numeral)?U=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](K.context):ut)?P=K.document.$attributes()["$[]"](U):yt)?P+" "+K.numeral+", "+I:K.caption.$chomp(". ")+", "+I):"short"["$==="](v)?_(_(yt=_(ut=K.numeral)?U=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](K.context):ut)?P=K.document.$attributes()["$[]"](U):yt)?P+" "+K.numeral:K.caption.$chomp(". "):K.$title():K.$title()},it.$$arity=-1),e.def(w,"$assign_caption",Ie=function(nt,yt){var ut,K,u=this,v=ie,I=ie;return null==yt&&(yt=u.context),_(_(ut=_(K=u.caption)?K:u.title["$!"]())?ut:u.caption=_(K=nt)?K:u.document.$attributes()["$[]"]("caption"))||_(_(ut=v=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](yt))?I=u.document.$attributes()["$[]"](v):ut)&&(u.caption=I+" "+(u.numeral=u.document.$increment_and_store_counter(yt+"-number",u))+". "),ie},Ie.$$arity=-2),e.def(w,"$assign_numeral",Se=function(nt){var yt,ut=this,K=ie,u=ie,v=ie,I=ie;return ut.next_section_index=O((b(nt,"index=",e.to_a(K=[ut.next_section_index])),K[l(K.length,1)]),1),_(u=nt.$numbered())&&((v=nt.$sectname())["$=="]("appendix")?(K=[ut.document.$counter("appendix-number","A")],b(nt,"numeral=",e.to_a(K)),l(K.length,1),K=[_(I=ut.document.$attributes()["$[]"]("appendix-caption"))?I+" "+nt.$numeral()+": ":nt.$numeral()+". "],b(nt,"caption=",e.to_a(K)),l(K.length,1)):_(_(yt=v["$=="]("chapter"))?yt:u["$=="]("chapter"))?(K=[ut.document.$counter("chapter-number",1).$to_s()],b(nt,"numeral=",e.to_a(K)),l(K.length,1)):(K=[v["$=="]("part")?$e(C,"Helpers").$int_to_roman(ut.next_section_ordinal):ut.next_section_ordinal.$to_s()],b(nt,"numeral=",e.to_a(K)),l(K.length,1),ut.next_section_ordinal=O(ut.next_section_ordinal,1))),ie},Se.$$arity=1),e.def(w,"$reindex_sections",We=function(){var nt;return this.next_section_index=0,this.next_section_ordinal=1,b(this.blocks,"each",[],((nt=function(ut){var K=nt.$$s||this;return null==ut&&(ut=ie),ut.$context()["$=="]("section")?(K.$assign_numeral(ut),ut.$reindex_sections()):ie}).$$s=this,nt.$$arity=1,nt))},We.$$arity=0),w.$protected(),void e.def(w,"$find_by_internal",tt=function(nt,yt){var u,v,I,U,P,de,be,je,Fe,Ke,ot,ut=tt.$$p,K=ut||ie,we=this,at=ie,vt=ie,Dt=ie,bt=ie,ce=ie,Ee=ie;if(ut&&(tt.$$p=null),ut&&(tt.$$p=null),null==nt&&(nt=oe([],{})),null==yt&&(yt=[]),_(_(u=_(v=_(I=_(U=ot=!_(at=nt["$[]"]("context"))||ie)?U:at["$=="](we.context))?_(U=(vt=nt["$[]"]("style"))["$!"]())?U:vt["$=="](we.style):I)?_(I=(Dt=nt["$[]"]("role"))["$!"]())?I:we["$has_role?"](Dt):v)?_(v=(bt=nt["$[]"]("id"))["$!"]())?v:bt["$=="](we.id):u))if(K!==ie)if(_(ce=e.yield1(K,we))){if("prune"["$==="](Ee=ce))return yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration")),yt;if("reject"["$==="](Ee))return _(bt)&&we.$raise(A("::","StopIteration")),yt;"stop"["$==="](Ee)?we.$raise(A("::","StopIteration")):(yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration")))}else _(bt)&&we.$raise(A("::","StopIteration"));else yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration"));return"document"["$==="](Ee=we.context)?at["$=="]("document")||(_(_(u=we["$header?"]())?_(v=ot)?v:at["$=="]("section"):u)&&b(we.header,"find_by_internal",[nt,yt],K.$to_proc()),b(we.blocks,"each",[],((P=function(fe){return null==fe&&(fe=ie),_(at["$=="]("section")?fe.$context()["$!="]("section"):at["$=="]("section"))?ie:b(fe,"find_by_internal",[nt,yt],K.$to_proc())}).$$s=we,P.$$arity=1,P))):"dlist"["$==="](Ee)?_(_(u=ot)?u:at["$!="]("section"))&&b(we.blocks.$flatten(),"each",[],((de=function(fe){return null==fe&&(fe=ie),_(fe)?b(fe,"find_by_internal",[nt,yt],K.$to_proc()):ie}).$$s=we,de.$$arity=1,de)):"table"["$==="](Ee)?_(nt["$[]"]("traverse_documents"))?(b(we.$rows().$head(),"each",[],((be=function(fe){var H;return null==fe&&(fe=ie),b(fe,"each",[],((H=function(Y){return null==Y&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc())}).$$s=be.$$s||this,H.$$arity=1,H))}).$$s=we,be.$$arity=1,be)),at["$=="]("inner_document")&&(nt=nt.$merge(oe(["context"],{context:"document"}))),b(O(we.$rows().$body(),we.$rows().$foot()),"each",[],((je=function(fe){var H;return null==fe&&(fe=ie),b(fe,"each",[],((H=function(Y){return null==Y&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc()),Y.$style()["$=="]("asciidoc")?b(Y.$inner_document(),"find_by_internal",[nt,yt],K.$to_proc()):ie}).$$s=je.$$s||this,H.$$arity=1,H))}).$$s=we,je.$$arity=1,je))):b(O(O(we.$rows().$head(),we.$rows().$body()),we.$rows().$foot()),"each",[],((Fe=function(fe){var H;return null==fe&&(fe=ie),b(fe,"each",[],((H=function(Y){return null==Y&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc())}).$$s=Fe.$$s||this,H.$$arity=1,H))}).$$s=we,Fe.$$arity=1,Fe)):b(we.blocks,"each",[],((Ke=function(fe){return null==fe&&(fe=ie),_(at["$=="]("section")?fe.$context()["$!="]("section"):at["$=="]("section"))?ie:b(fe,"find_by_internal",[nt,yt],K.$to_proc())}).$$s=we,Ke.$$arity=1,Ke)),yt},tt.$$arity=-1)},Opal.modules["asciidoctor/attribute_list"]=function(e){function l(s,i){return"number"==typeof s&&"number"==typeof i?s+i:s["$+"](i)}function O(s,i){return"number"==typeof s&&"number"==typeof i?s-i:s["$-"](i)}var i,C,x,f,L,ae,Pe,ze,le,S,d,m,p,z,B,N,h,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.module,oe=e.klass,b=e.hash,_=e.hash2,c=e.truthy,t=e.send;return e.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$private","$skip_blank","$peek","$===","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$end_with?","$rstrip","$string","$==","$unscan","$scan_to_delimiter","$*","$include?","$delete","$each","$split","$empty?","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),i=ie,C=h=[W(ie[0],"Asciidoctor")].concat(i),B=oe(h[0],null,"AttributeList"),N=[B].concat(C),B.$$prototype.attributes=B.$$prototype.scanner=B.$$prototype.delimiter=B.$$prototype.block=B.$$prototype.delimiter_skip_pattern=B.$$prototype.delimiter_boundary_pattern=A,e.const_set(N[0],"APOS","'"),e.const_set(N[0],"BACKSLASH","\\"),e.const_set(N[0],"QUOT",'"'),e.const_set(N[0],"BoundaryRx",b($(N,"QUOT"),/.*?[^\\](?=")/,$(N,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),e.const_set(N[0],"EscapedQuotes",b($(N,"QUOT"),'\\"',$(N,"APOS"),"\\'")),e.const_set(N[0],"NameRx",new RegExp($(N,"CG_WORD")+"["+$(N,"CC_WORD")+"\\-.]*")),e.const_set(N[0],"BlankRx",/[ \t]+/),e.const_set(N[0],"SkipRx",_([","],{",":/[ \t]*(,|$)/})),e.def(B,"$initialize",x=function(re,ye,q){var ee=this;return null==ye&&(ye=A),null==q&&(q=","),ee.scanner=$e("::","StringScanner").$new(re),ee.block=ye,ee.delimiter=q,ee.delimiter_skip_pattern=$(N,"SkipRx")["$[]"](q),ee.delimiter_boundary_pattern=$(N,"BoundaryRx")["$[]"](q),ee.attributes=A},x.$$arity=-2),e.def(B,"$parse_into",f=function(re,ye){return null==ye&&(ye=[]),re.$update(this.$parse(ye))},f.$$arity=-2),e.def(B,"$parse",L=function(re){var q=this,ee=A;if(null==re&&(re=[]),c(q.attributes))return q.attributes;for(q.attributes=_([],{}),ee=0;c(q.$parse_attribute(ee,re))&&!c(q.scanner["$eos?"]());)q.$skip_delimiter(),ee=l(ee,1);return q.attributes},L.$$arity=-1),e.def(B,"$rekey",ae=function(re){return $(N,"AttributeList").$rekey(this.attributes,re)},ae.$$arity=1),e.defs(B,"$rekey",Pe=function(re,ye){var q;return t(ye,"each_with_index",[],((q=function(V,_e){var Te,et=A,ct=A;return null==V&&(V=A),null==_e&&(_e=A),c(c(Te=V)?et=re["$[]"](l(_e,1)):Te)?(t(re,"[]=",e.to_a(ct=[V,et])),ct[O(ct.length,1)]):A}).$$s=this,q.$$arity=2,q)),re},Pe.$$arity=2),B.$private(),e.def(B,"$parse_attribute",ze=function(re,ye){var q,ee,V,_e=this,Me=A,Te=A,et=A,ct=A,it=A,Ie=A,Se=A,We=A,tt=A;if(Me=!0,_e.$skip_blank(),Te=_e.scanner.$peek(1),$(N,"QUOT")["$==="](Te))et=_e.$parse_attribute_value(_e.scanner.$get_byte());else if($(N,"APOS")["$==="](Te))et=_e.$parse_attribute_value(_e.scanner.$get_byte()),c(et["$start_with?"]($(N,"APOS")))||(ct=!0);else if(it=c(q=c(ee=et=_e.$scan_name())?_e.$skip_blank():ee)?q:0,c(_e.scanner["$eos?"]())){if(!c(c(q=et)?q:_e.scanner.$string().$rstrip()["$end_with?"](_e.delimiter)))return A;Me=A}else if((Ie=_e.scanner.$get_byte())["$=="](_e.delimiter))_e.scanner.$unscan();else if(c(et))if(Ie["$=="]("=")){if(_e.$skip_blank(),Te=Ie=_e.scanner.$get_byte(),$(N,"QUOT")["$==="](Te))Se=_e.$parse_attribute_value(Ie);else if($(N,"APOS")["$==="](Te))Se=_e.$parse_attribute_value(Ie),c(Se["$start_with?"]($(N,"APOS")))||(ct=!0);else if(_e.delimiter["$==="](Te))Se="",_e.scanner.$unscan();else if(A["$==="](Te))Se="";else if((Se=""+Ie+_e.$scan_to_delimiter())["$=="]("None"))return!0}else et=""+et+function xe(s,i){return"number"==typeof s&&"number"==typeof i?s*i:s["$*"](i)}(" ",it)+Ie+_e.$scan_to_delimiter();else et=""+Ie+_e.$scan_to_delimiter();return c(Se)?"options"["$==="](Te=et)||"opts"["$==="](Te)?c(Se["$include?"](","))?(c(Se["$include?"](" "))&&(Se=Se.$delete(" ")),t(Se.$split(","),"each",[],((V=function(Qe){var nt=V.$$s||this,yt=A;return null==nt.attributes&&(nt.attributes=A),null==Qe&&(Qe=A),c(Qe["$empty?"]())?A:(t(nt.attributes,"[]=",e.to_a(yt=[Qe+"-option",""])),yt[O(yt.length,1)])}).$$s=_e,V.$$arity=1,V))):c(Se["$empty?"]())||(t(_e.attributes,"[]=",e.to_a(We=[Se+"-option",""])),O(We.length,1)):c(c(q=ct)?_e.block:q)?"title"["$==="](Te=et)||"reftext"["$==="](Te)?(t(_e.attributes,"[]=",e.to_a(We=[et,Se])),O(We.length,1)):(We=[et,_e.block.$apply_subs(Se)],t(_e.attributes,"[]=",e.to_a(We)),O(We.length,1)):(t(_e.attributes,"[]=",e.to_a(We=[et,Se])),O(We.length,1)):(c(c(q=ct)?_e.block:q)&&(et=_e.block.$apply_subs(et)),c(c(q=tt=ye["$[]"](re))?et:q)&&(t(_e.attributes,"[]=",e.to_a(We=[tt,et])),O(We.length,1)),We=[l(re,1),et],t(_e.attributes,"[]=",e.to_a(We)),O(We.length,1)),Me},ze.$$arity=2),e.def(B,"$parse_attribute_value",le=function(re){var ye=this,q=A;return ye.scanner.$peek(1)["$=="](re)?(ye.scanner.$get_byte(),""):c(q=ye.$scan_to_quote(re))?(ye.scanner.$get_byte(),c(q["$include?"]($(N,"BACKSLASH")))?q.$gsub($(N,"EscapedQuotes")["$[]"](re),re):q):""+re+ye.$scan_to_delimiter()},le.$$arity=1),e.def(B,"$skip_blank",S=function(){return this.scanner.$skip($(N,"BlankRx"))},S.$$arity=0),e.def(B,"$skip_delimiter",d=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},d.$$arity=0),e.def(B,"$scan_name",m=function(){return this.scanner.$scan($(N,"NameRx"))},m.$$arity=0),e.def(B,"$scan_to_delimiter",p=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},p.$$arity=0),void e.def(B,"$scan_to_quote",z=function(re){return this.scanner.$scan($(N,"BoundaryRx")["$[]"](re))},z.$$arity=1)},Opal.modules["asciidoctor/block"]=function(e){function l(c,t){return"number"==typeof c&&"number"==typeof t?c-t:c["$-"](t)}function O(c,t){return"number"==typeof c&&"number"==typeof t?c<t:c["$<"](t)}var t,g,B,N,x,f,L,w,C,i,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.klass,oe=e.send,b=e.hash2,_=e.truthy;return e.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$===","$drop","$delete","$to_s","$[]=","$commit_subs","$nil_or_empty?","$prepare_source_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$==","$warn","$logger","$class","$object_id","$inspect"]),t=Xe,g=i=[y(Xe[0],"Asciidoctor")].concat(t),w=W(i[0],$e(i,"AbstractBlock"),"Block"),C=[w].concat(g),w.$$prototype.attributes=w.$$prototype.content_model=w.$$prototype.lines=w.$$prototype.subs=w.$$prototype.blocks=w.$$prototype.context=w.$$prototype.style=ie,L=["simple"],oe(e.const_set(C[0],"DEFAULT_CONTENT_MODEL",b(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",e.to_a(L)),l(L.length,1),e.alias(w,"blockname","context"),w.$attr_accessor("lines"),e.def(w,"$initialize",B=function(Pe,ze,le){var S,d=B.$$p,p=this,z=ie,Z=ie,re=ie,ye=ie,q=ie,ee=ie,V=ie;for(d&&(B.$$p=null),ee=0,V=arguments.length,q=new Array(V);ee<V;ee++)q[ee]=arguments[ee];return null==le&&(le=b([],{})),oe(p,e.find_super_dispatcher(p,"initialize",B,!1),q,d),p.content_model=_(S=le["$[]"]("content_model"))?S:$e(C,"DEFAULT_CONTENT_MODEL")["$[]"](ze),_(le["$key?"]("subs"))?_(z=le["$[]"]("subs"))?("default"["$==="](Z=z)?p.default_subs=le["$[]"]("default_subs"):A("::","Array")["$==="](Z)?(p.default_subs=z.$drop(0),p.attributes.$delete("subs")):(p.default_subs=ie,re=["subs",z.$to_s()],oe(p.attributes,"[]=",e.to_a(re)),l(re.length,1)),p.$commit_subs()):(p.default_subs=[],p.attributes.$delete("subs")):p.default_subs=ie,p.lines=_((ye=le["$[]"]("source"))["$nil_or_empty?"]())?[]:_(A("::","String")["$==="](ye))?$e(C,"Helpers").$prepare_source_string(ye):ye.$drop(0)},B.$$arity=-3),e.def(w,"$content",N=function(){var ze,le=N.$$p,d=this,m=ie,p=ie,z=ie,Z=ie,re=ie,ye=ie,q=ie;for(le&&(N.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return function(){if("compound"["$==="](m=d.content_model))return oe(d,e.find_super_dispatcher(d,"content",N,!1),re,le);if("simple"["$==="](m))return d.$apply_subs(d.lines.$join($e(C,"LF")),d.subs);if("verbatim"["$==="](m)||"raw"["$==="](m)){if(p=d.$apply_subs(d.lines,d.subs),_(O(p.$size(),2)))return p["$[]"](0);for(;_(_(ze=z=p["$[]"](0))?z.$rstrip()["$empty?"]():ze);)p.$shift();for(;_(_(ze=Z=p["$[]"](-1))?Z.$rstrip()["$empty?"]():ze);)p.$pop();return p.$join($e(C,"LF"))}return d.content_model["$=="]("empty")||d.$logger().$warn("Unknown content model '"+d.content_model+"' for block: "+d),ie}()},N.$$arity=0),e.def(w,"$source",x=function(){return this.lines.$join($e(C,"LF"))},x.$$arity=0),void e.def(w,"$to_s",f=function(){var ze,Pe=this;return ze=Pe.content_model["$=="]("compound")?"blocks: "+Pe.blocks.$size():"lines: "+Pe.lines.$size(),"#<"+Pe.$class()+"@"+Pe.$object_id()+" {context: "+Pe.context.$inspect()+", content_model: "+Pe.content_model.$inspect()+", style: "+Pe.style.$inspect()+", "+ze+"}>"},f.$$arity=0)},Opal.modules["asciidoctor/callouts"]=function(e){function l(s,i){return"number"==typeof s&&"number"==typeof i?s+i:s["$+"](i)}function xe(s,i){return"number"==typeof s&&"number"==typeof i?s-i:s["$-"](i)}var C,x,f,L,ae,Pe,ze,le,S,d,B,i,h,A=[],$e=e.nil,oe=e.module,b=e.klass,_=e.hash2,c=e.truthy,t=e.send;return e.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$private","$generate_callout_id"]),i=A,C=h=[oe(A[0],"Asciidoctor")].concat(i),[B=b(h[0],null,"Callouts")].concat(C),B.$$prototype.co_index=B.$$prototype.lists=B.$$prototype.list_index=$e,e.def(B,"$initialize",x=function(){var p=this;return p.lists=[],p.list_index=0,p.$next_list()},x.$$arity=0),e.def(B,"$register",f=function(p){var Z,z=this;return z.$current_list()["$<<"](_(["ordinal","id"],{ordinal:p.$to_i(),id:Z=z.$generate_next_callout_id()})),z.co_index=l(z.co_index,1),Z},f.$$arity=1),e.def(B,"$read_next_id",L=function(){var p=this,z=$e,Z=$e;return z=$e,Z=p.$current_list(),c(function O(s,i){return"number"==typeof s&&"number"==typeof i?s<=i:s["$<="](i)}(p.co_index,Z.$size()))&&(z=Z["$[]"](xe(p.co_index,1))["$[]"]("id")),p.co_index=l(p.co_index,1),z},L.$$arity=0),e.def(B,"$callout_ids",ae=function(p){var z;return t(this.$current_list(),"map",[],(z=function(re){return null==re&&(re=$e),re["$[]"]("ordinal")["$=="](p)?re["$[]"]("id")+" ":""},z.$$s=this,z.$$arity=1,z)).$join().$chop()},ae.$$arity=1),e.def(B,"$current_list",Pe=function(){return this.lists["$[]"](xe(this.list_index,1))},Pe.$$arity=0),e.def(B,"$next_list",ze=function(){var p=this;return p.list_index=l(p.list_index,1),c(function Xe(s,i){return"number"==typeof s&&"number"==typeof i?s<i:s["$<"](i)}(p.lists.$size(),p.list_index))&&p.lists["$<<"]([]),p.co_index=1,$e},ze.$$arity=0),e.def(B,"$rewind",le=function(){return this.list_index=1,this.co_index=1,$e},le.$$arity=0),B.$private(),e.def(B,"$generate_next_callout_id",S=function(){var p=this;return p.$generate_callout_id(p.list_index,p.co_index)},S.$$arity=0),void e.def(B,"$generate_callout_id",d=function(p,z){return"CO"+p+"-"+z},d.$$arity=2)},Opal.modules["asciidoctor/converter"]=function(e){function l(t,s){return"number"==typeof t&&"number"==typeof s?t-s:t["$-"](s)}function O(t,s){return"number"==typeof t&&"number"==typeof s?t+s:t["$+"](s)}var s,g,B,N,x,f,L,Pe,S,d,m,p,z,Z,re,ye,q,ze,le,w,C,j,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.hash2,oe=e.truthy,b=e.send,_=e.klass,c=e.gvars;return e.add_stubs(["$autoload","$__dir__","$==","$attr_reader","$raise","$class","$[]","$sub","$slice","$length","$[]=","$backend_traits","$-","$derive_backend_traits","$register","$map","$to_s","$new","$create","$default","$each","$default=","$registry","$for","$===","$supports_templates?","$merge","$private","$include","$delete","$clear","$send","$extend","$private_class_method","$node_name","$+","$receiver","$name","$warn","$logger","$respond_to?","$content"]),s=Xe,g=j=[y(Xe[0],"Asciidoctor")].concat(s),w=y(j[0],"Converter"),C=[w].concat(g),w.$autoload("CompositeConverter",w.$__dir__()+"/converter/composite"),$e(C,"RUBY_ENGINE")["$=="]("opal"),w.$attr_reader("backend"),e.def(w,"$initialize",B=function(Pe,ze){return null==ze&&(ze=W([],{})),this.backend=Pe},B.$$arity=-2),e.def(w,"$convert",N=function(Pe,ze,le){var S=this;return null==S.backend&&(S.backend=ie),null==ze&&(ze=ie),null==le&&(le=ie),S.$raise(A("::","NotImplementedError"),S.$class()+" (backend: "+S.backend+") must implement the #convert method")},N.$$arity=-2),e.def(w,"$handles?",x=function(ae){return!0},x.$$arity=1),e.defs(w,"$derive_backend_traits",f=function(Pe,ze){var le,d=ie,m=ie;return null==ze&&(ze=ie),oe(Pe)?(oe(d=$e(C,"DEFAULT_EXTENSIONS")["$[]"](ze=oe(le=ze)?le:Pe.$sub($e(C,"TrailingDigitsRx"),"")))?m=d.$slice(1,d.$length()):d="."+(m=ze),m["$=="]("html")?W(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:ze,filetype:m,htmlsyntax:"html",outfilesuffix:d}):W(["basebackend","filetype","outfilesuffix"],{basebackend:ze,filetype:m,outfilesuffix:d})):W([],{})},f.$$arity=-2),Pe=C,ze=y(C[0],"BackendTraits"),le=[ze].concat(Pe),e.def(ze,"$basebackend",S=function(V){var Me=ie;return null==V&&(V=ie),oe(V)?(Me=["basebackend",V],b(this.$backend_traits(V),"[]=",e.to_a(Me)),Me[l(Me.length,1)]):this.$backend_traits()["$[]"]("basebackend")},S.$$arity=-1),e.def(ze,"$filetype",d=function(V){var Me=ie;return null==V&&(V=ie),oe(V)?(Me=["filetype",V],b(this.$backend_traits(),"[]=",e.to_a(Me)),Me[l(Me.length,1)]):this.$backend_traits()["$[]"]("filetype")},d.$$arity=-1),e.def(ze,"$htmlsyntax",m=function(V){var Me=ie;return null==V&&(V=ie),oe(V)?(Me=["htmlsyntax",V],b(this.$backend_traits(),"[]=",e.to_a(Me)),Me[l(Me.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},m.$$arity=-1),e.def(ze,"$outfilesuffix",p=function(V){var Me=ie;return null==V&&(V=ie),oe(V)?(Me=["outfilesuffix",V],b(this.$backend_traits(),"[]=",e.to_a(Me)),Me[l(Me.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},p.$$arity=-1),e.def(ze,"$supports_templates",z=function(V){var Me;return null==V&&(V=!0),Me=["supports_templates",V],b(this.$backend_traits(),"[]=",e.to_a(Me)),Me[l(Me.length,1)]},z.$$arity=-1),e.def(ze,"$supports_templates?",Z=function(){return this.$backend_traits()["$[]"]("supports_templates")},Z.$$arity=0),e.def(ze,"$init_backend_traits",re=function(V){var _e;return null==V&&(V=ie),this.backend_traits=oe(_e=V)?_e:W([],{})},re.$$arity=-1),e.def(ze,"$backend_traits",ye=function(V){var _e,Me=this;return null==Me.backend_traits&&(Me.backend_traits=ie),null==Me.backend&&(Me.backend=ie),null==V&&(V=ie),Me.backend_traits=oe(_e=Me.backend_traits)?_e:$e(le,"Converter").$derive_backend_traits(Me.backend,V)},ye.$$arity=-1),e.alias(ze,"backend_info","backend_traits"),e.defs(ze,"$derive_backend_traits",q=function(V,_e){return null==_e&&(_e=ie),$e(le,"Converter").$derive_backend_traits(V,_e)},q.$$arity=-2),function(ae,Pe){var S,ze=y(ae,"Config"),le=[ze].concat(Pe);e.def(ze,"$register_for",S=function(m){var z,Z,re=this;return z=e.slice.call(arguments,0,arguments.length),b($e(le,"Converter"),"register",[re].concat(e.to_a(b(z,"map",[],(Z=function(ye){return null==ye&&(ye=ie),ye.$to_s()},Z.$$s=re,Z.$$arity=1,Z)))))},S.$$arity=-1)}(C[0],C),function(ae,Pe){var S,d,m,p,z,Z,re,ye,ze=y(ae,"Factory"),le=[ze].concat(Pe);e.defs(ze,"$new",S=function(q,ee){var V,_e,Me,Te;if(V=e.slice.call(arguments,0,arguments.length),null==(_e=e.extract_kwargs(V)))_e=W([],{});else if(!_e.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return V.length>0&&(Me=V[0],V.splice(0,1)),null==Me&&(Me=ie),null==(Te=_e.$$smap.proxy_default)&&(Te=!0),oe(Te)?$e(le,"DefaultFactoryProxy").$new(Me):$e(le,"CustomFactory").$new(Me)},S.$$arity=-1),e.defs(ze,"$default",d=function(q){return e.slice.call(arguments,0,arguments.length),$e(le,"Converter")},d.$$arity=-1),e.defs(ze,"$create",m=function(ee,V){return null==V&&(V=W([],{})),this.$default().$create(ee,V)},m.$$arity=-2),e.def(ze,"$register",p=function(ee,V){var _e,Te,et=this;return _e=e.slice.call(arguments,1,arguments.length),b(_e,"each",[],((Te=function(ct){var it=Te.$$s||this,Ie=ie;return null==ct&&(ct=ie),ct["$=="]("*")?(Ie=[ee],b(it.$registry(),"default=",e.to_a(Ie)),Ie[l(Ie.length,1)]):(Ie=[ct,ee],b(it.$registry(),"[]=",e.to_a(Ie)),Ie[l(Ie.length,1)])}).$$s=et,Te.$$arity=1,Te))},p.$$arity=-2),e.def(ze,"$for",z=function(q){return this.$registry()["$[]"](q)},z.$$arity=1),e.def(ze,"$create",Z=function(ee,V){var _e,Me,et=ie,ct=ie,it=ie;return null==V&&(V=W([],{})),oe(et=this.$for(ee))?(oe(A("::","Class")["$==="](et))&&(et=et.$new(ee,V)),oe(oe(_e=oe(Me=ct=V["$[]"]("template_dirs"))?$e(le,"BackendTraits")["$==="](et):Me)?et["$supports_templates?"]():_e)?$e(le,"CompositeConverter").$new(ee,$e(le,"TemplateConverter").$new(ee,ct,V),et,W(["backend_traits_source"],{backend_traits_source:et})):et):oe(ct=V["$[]"]("template_dirs"))?oe(oe(_e=it=V["$[]"]("delegate_backend"))?et=this.$for(it):_e)?(oe(A("::","Class")["$==="](et))&&(et=et.$new(it,V)),$e(le,"CompositeConverter").$new(ee,$e(le,"TemplateConverter").$new(ee,ct,V),et,W(["backend_traits_source"],{backend_traits_source:et}))):$e(le,"TemplateConverter").$new(ee,ct,V):ie},Z.$$arity=-2),e.def(ze,"$converters",re=function(){return this.$registry().$merge()},re.$$arity=0),ze.$private(),e.def(ze,"$registry",ye=function(){return this.$raise(A("::","NotImplementedError"),$e(le,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},ye.$$arity=0)}(C[0],C),function(ae,Pe,ze){var d,m,le=_(ae,null,"CustomFactory"),S=[le].concat(ze);le.$include($e(S,"Factory")),e.def(le,"$initialize",d=function(z){var re=ie;return null==z&&(z=ie),oe(z)?(re=[z.$delete("*")],b(z,"default=",e.to_a(re)),l(re.length,1),this.registry=z):this.registry=W([],{})},d.$$arity=-1),e.def(le,"$unregister_all",m=function(){var Z;return Z=[ie],b(this.$registry().$clear(),"default=",e.to_a(Z)),Z[l(Z.length,1)]},m.$$arity=0),le.$private(),le.$attr_reader("registry")}(C[0],0,C),function(ae,Pe){var S,ze=y(ae,"DefaultFactory"),le=[ze].concat(Pe);ze.$include($e(le,"Factory")),ze.$private(),e.class_variable_set(le[0],"@@registry",W([],{})),e.def(ze,"$registry",S=function(){var m;return null==(m=le[0].$$cvars["@@registry"])?ie:m},S.$$arity=0),$e(le,"RUBY_ENGINE")["$=="]("opal")}(C[0],C),function(ae,Pe,ze){var le=_(ae,Pe,"DefaultFactoryProxy"),S=[le].concat(ze);le.$include($e(S,"DefaultFactory")),$e(S,"RUBY_ENGINE")["$=="]("opal")}(C[0],$e(C,"CustomFactory"),C),e.defs(w,"$included",L=function(Pe){return Pe.$send("include",$e(C,"BackendTraits")),Pe.$extend($e(C,"Config"))},L.$$arity=1),w.$private_class_method("included"),function(ae,Pe,ze){var d,m,p,z,le=_(ae,null,"Base"),S=[le].concat(ze);le.$$prototype.backend=ie,le.$include($e(S,"Logging")),le.$include($e(S,"Converter")),e.def(le,"$convert",d=function(re,ye,q){var ee,V,_e=this,Me=ie;null==c["!"]&&(c["!"]=ie),null==ye&&(ye=re.$node_name()),null==q&&(q=ie);try{return oe(q)?_e.$send(O("convert_",ye),re,q):_e.$send(O("convert_",ye),re)}catch(Te){if(!e.rescue(Te,[$e(S,"StandardError")]))throw Te;try{return oe(oe(ee=oe(V=A("::","NoMethodError")["$==="](Me=c["!"]))?Me.$receiver()["$=="](_e):V)?Me.$name().$to_s()["$=="](ye):ee)||_e.$raise(),_e.$logger().$warn("missing convert handler for "+Me.$name()+" node in "+_e.backend+" backend ("+_e.$class()+")"),ie}finally{e.pop_exception()}}},d.$$arity=-2),e.def(le,"$handles?",m=function(Z){return this["$respond_to?"]("convert_"+Z)},m.$$arity=1),e.def(le,"$content_only",p=function(re){return re.$content()},p.$$arity=1),e.def(le,"$skip",z=function(re){return ie},z.$$arity=1)}(C[0],0,C),void w.$extend($e(C,"DefaultFactory"))},Opal.modules["asciidoctor/document"]=function(e){function l(h,g){return"number"==typeof h&&"number"==typeof g?h-g:h["$-"](g)}function O(h,g){return"number"==typeof h&&"number"==typeof g?h>=g:h["$>="](g)}function xe(h,g){return"number"==typeof h&&"number"==typeof g?h+g:h["$+"](g)}function Xe(h,g){return"number"==typeof h&&"number"==typeof g?h>g:h["$>"](g)}function ie(h,g){return"number"==typeof h&&"number"==typeof g?h<g:h["$<"](g)}var g,B,N,x,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be,je,Fe,Ke,we,ot,at,vt,Dt,bt,ce,Ee,fe,o,H,Y,Q,a,M,te,X,Ae,E,T,f,L,C,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,b=e.module,_=e.klass,c=e.send,t=e.truthy,s=e.hash2,i=e.hash,j=e.gvars;return e.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$merge","$catalog","$instance_variable_get","$attributes","$safe","$compat_mode","$outfilesuffix","$sourcemap","$path_resolver","$converter","$extensions","$syntax_highlighter","$each","$end_with?","$start_with?","$slice","$length","$chop","$==","$downcase","$===","$extname","$value_for_name","$key?","$freeze","$attribute_undefined","$attribute_missing","$update","$&","$keys","$name_for_value","$expand_path","$pwd","$to_s","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$fetch","$fill_datetime_attributes","$activate","$groups","$create","$to_proc","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$attribute_locked?","$nil_or_empty?","$nextval","$value","$save_to","$register","$tap","$xreftext","$>","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$reftext","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$name","$negate","$rewind","$replace","$apply_attribute_value_subs","$delete?","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$class","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$normalize_system_path","$read_asset","$apply_subs","$docinfo_processors?","$join","$concat","$compact","$docinfo_processors","$object_id","$inspect","$size","$private","$=~","$resolve_pass_subs","$apply_header_subs","$limit_bytesize","$bytesize","$valid_encoding?","$byteslice","$resolve_subs","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$partition","$create_converter","$basebackend","$filetype","$htmlsyntax","$derive_backend_traits","$raise"]),g=$e,B=(C=[b($e[0],"Asciidoctor")].concat(g))[0],N=y(C,"AbstractBlock"),x=C,f=_(B,N,"Document"),L=[f].concat(x),f.$$prototype.attributes=f.$$prototype.safe=f.$$prototype.sourcemap=f.$$prototype.reader=f.$$prototype.base_dir=f.$$prototype.parsed=f.$$prototype.parent_document=f.$$prototype.extensions=f.$$prototype.options=f.$$prototype.counters=f.$$prototype.catalog=f.$$prototype.reftexts=f.$$prototype.next_section_index=f.$$prototype.header=f.$$prototype.blocks=f.$$prototype.header_attributes=f.$$prototype.attributes_modified=f.$$prototype.backend=f.$$prototype.attribute_overrides=f.$$prototype.timings=f.$$prototype.converter=f.$$prototype.outfilesuffix=f.$$prototype.docinfo_processor_extensions=f.$$prototype.document=f.$$prototype.max_attribute_value_size=f.$$prototype.id=f.$$prototype.doctype=$,e.const_set(L[0],"ImageReference",c(n("::","Struct"),"new",["target","imagesdir"],((ae=function(){return e.alias(ae.$$s||this,"to_s","target")}).$$s=f,ae.$$arity=0,ae))),e.const_set(L[0],"Footnote",n("::","Struct").$new("index","id","text")),function(ne,k,a){var M,te,E=_(ne,null,"AttributeEntry");[E].concat(a),E.$attr_reader("name","value","negate"),e.def(E,"$initialize",M=function(Ae,me,mt){return null==mt&&(mt=$),this.name=Ae,this.value=me,this.negate=t(mt["$nil?"]())?me["$nil?"]():mt},M.$$arity=-3),e.def(E,"$save_to",te=function(Ae){var me,dt=$;return(t(me=Ae["$[]"]("attribute_entries"))?me:(dt=["attribute_entries",[]],c(Ae,"[]=",e.to_a(dt)),dt[l(dt.length,1)]))["$<<"](this),this},te.$$arity=1)}(L[0],0,L),a=L,E=_(L[0],null,"Title"),T=[E].concat(a),E.$$prototype.sanitized=E.$$prototype.subtitle=E.$$prototype.combined=$,E.$attr_reader("main"),e.alias(E,"title","main"),E.$attr_reader("subtitle"),E.$attr_reader("combined"),e.def(E,"$initialize",M=function(mt,dt){var He,kt,$t=this,Tt=$;return null==dt&&(dt=s([],{})),t(t(He=$t.sanitized=dt["$[]"]("sanitize"))?mt["$include?"]("<"):He)&&(mt=mt.$gsub(y(T,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),t(t(He=(Tt=t(kt=dt["$[]"]("separator"))?kt:":")["$empty?"]())?He:mt["$include?"](Tt+=" ")["$!"]())?($t.main=mt,$t.subtitle=$):(kt=mt.$rpartition(Tt),He=e.to_ary(kt),$t.main=He[0]??$,$t.subtitle=He[2]??$),$t.combined=mt},M.$$arity=-2),e.def(E,"$sanitized?",te=function(){return this.sanitized},te.$$arity=0),e.def(E,"$subtitle?",X=function(){return!!t(this.subtitle)},X.$$arity=0),e.def(E,"$to_s",Ae=function(){return this.combined},Ae.$$arity=0),e.const_set(L[0],"Author",n("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),f.$attr_reader("safe"),f.$attr_reader("compat_mode"),f.$attr_reader("backend"),f.$attr_reader("doctype"),f.$attr_accessor("sourcemap"),f.$attr_reader("catalog"),e.alias(f,"references","catalog"),f.$attr_reader("counters"),f.$attr_reader("header"),f.$attr_reader("base_dir"),f.$attr_reader("options"),f.$attr_reader("outfilesuffix"),f.$attr_reader("parent_document"),f.$attr_reader("reader"),f.$attr_reader("path_resolver"),f.$attr_reader("converter"),f.$attr_reader("syntax_highlighter"),f.$attr_reader("extensions"),e.def(f,"$initialize",Pe=function(k,a){var E,T,te,X,Ae,mt,dt,sr,hr,fr,$t=this,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$,rr=$,nr=$,tr=$,mr=$,ir=$,pr=$,vr=$,br=$,yr=$;return Pe.$$p&&(Pe.$$p=null),null==k&&(k=$),null==a&&(a=s([],{})),c($t,e.find_super_dispatcher($t,"initialize",Pe,!1),[$t,"document"],null),t(Tt=a.$delete("parent"))?($t.parent_document=Tt,t(E=a["$[]"]("base_dir"))||(rt=["base_dir",Tt.$base_dir()],c(a,"[]=",e.to_a(rt)),l(rt.length,1)),t(Tt.$options()["$[]"]("catalog_assets"))&&(c(a,"[]=",e.to_a(rt=["catalog_assets",!0])),l(rt.length,1)),$t.catalog=Tt.$catalog().$merge(s(["footnotes"],{footnotes:[]})),$t.attribute_overrides=Lt=Tt.$instance_variable_get("@attribute_overrides").$merge(Tt.$attributes()),Lt.$delete("compat-mode"),Yt=Lt.$delete("doctype"),Lt.$delete("notitle"),Lt.$delete("showtitle"),Lt.$delete("toc"),rt=["toc-placement",t(E=Lt.$delete("toc-placement"))?E:"auto"],c($t.attributes,"[]=",e.to_a(rt)),l(rt.length,1),Lt.$delete("toc-position"),$t.safe=Tt.$safe(),t($t.compat_mode=Tt.$compat_mode())&&(c($t.attributes,"[]=",e.to_a(rt=["compat-mode",""])),l(rt.length,1)),$t.outfilesuffix=Tt.$outfilesuffix(),$t.sourcemap=Tt.$sourcemap(),$t.timings=$,$t.path_resolver=Tt.$path_resolver(),$t.converter=Tt.$converter(),_t=$,$t.extensions=Tt.$extensions(),$t.syntax_highlighter=Tt.$syntax_highlighter()):($t.parent_document=$,$t.catalog=s(["ids","refs","footnotes","links","images","callouts","includes"],{ids:s([],{}),refs:s([],{}),footnotes:[],links:[],images:[],callouts:y(L,"Callouts").$new(),includes:s([],{})}),$t.attribute_overrides=Lt=s([],{}),c(t(E=a["$[]"]("attributes"))?E:s([],{}),"each",[],((T=function(ur,_r){var lr;return null==ur&&(ur=$),null==_r&&(_r=$),t(ur["$end_with?"]("@"))?t(ur["$start_with?"]("!"))?(lr=[ur.$slice(1,l(ur.$length(),2)),!1],ur=lr[0],_r=lr[1]):t(ur["$end_with?"]("!@"))?(lr=[ur.$slice(0,l(ur.$length(),2)),!1],ur=lr[0],_r=lr[1]):(lr=[ur.$chop(),_r+"@"],ur=lr[0],_r=lr[1]):t(ur["$start_with?"]("!"))?(lr=[ur.$slice(1,ur.$length()),!_r["$=="]("@")&&$],ur=lr[0],_r=lr[1]):t(ur["$end_with?"]("!"))&&(lr=[ur.$chop(),!_r["$=="]("@")&&$],ur=lr[0],_r=lr[1]),rt=[ur.$downcase(),_r],c(Lt,"[]=",e.to_a(rt)),rt[l(rt.length,1)]}).$$s=$t,T.$$arity=2,T)),t(n("::","String")["$==="](Zt=a["$[]"]("to_file")))&&(rt=["outfilesuffix",y(L,"Helpers").$extname(Zt)],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),$t.safe=t((rr=a["$[]"]("safe"))["$!"]())?n(y(L,"SafeMode"),"SECURE"):t(n("::","Integer")["$==="](rr))?rr:function(){try{return y(L,"SafeMode").$value_for_name(rr)}catch(ur){if(!e.rescue(ur,[y(L,"StandardError")]))throw ur;try{return n(y(L,"SafeMode"),"SECURE")}finally{e.pop_exception()}}}(),nr=a.$delete("input_mtime"),$t.compat_mode=Lt["$key?"]("compat-mode"),$t.sourcemap=a["$[]"]("sourcemap"),$t.timings=a.$delete("timings"),$t.path_resolver=y(L,"PathResolver").$new(),_t=t(t(E=(te=n("::","Asciidoctor","skip_raise"))&&n(te,"Extensions","skip_raise")?"constant":$)?E:a["$key?"]("extensions"))?n(n("::","Asciidoctor"),"Extensions"):$,$t.extensions=$,t(t(E=a["$key?"]("header_footer"))?a["$key?"]("standalone")["$!"]():E)&&(rt=["standalone",a["$[]"]("header_footer")],c(a,"[]=",e.to_a(rt)),l(rt.length,1))),$t.parsed=$t.reftexts=$t.header=$t.header_attributes=$,$t.counters=s([],{}),$t.attributes_modified=n("::","Set").$new(),$t.docinfo_processor_extensions=s([],{}),sr=a["$[]"]("standalone"),($t.options=a).$freeze(),tr=$t.attributes,t(Tt)||(rt=["attribute-undefined",y(L,"Compliance").$attribute_undefined()],c(tr,"[]=",e.to_a(rt)),l(rt.length,1),rt=["attribute-missing",y(L,"Compliance").$attribute_missing()],c(tr,"[]=",e.to_a(rt)),l(rt.length,1),tr.$update(y(L,"DEFAULT_ATTRIBUTES"))),t(sr)?(c(Lt,"[]=",e.to_a(rt=["embedded",$])),l(rt.length,1),c(tr,"[]=",e.to_a(rt=["copycss",""])),l(rt.length,1),c(tr,"[]=",e.to_a(rt=["iconfont-remote",""])),l(rt.length,1),c(tr,"[]=",e.to_a(rt=["stylesheet",""])),l(rt.length,1),c(tr,"[]=",e.to_a(rt=["webfonts",""])),l(rt.length,1)):(c(Lt,"[]=",e.to_a(rt=["embedded",""])),l(rt.length,1),t(t(E=Lt["$key?"]("showtitle"))?Lt.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):E)?(rt=["notitle",i($,"",!1,"@","@",!1)["$[]"](Lt["$[]"]("showtitle"))],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)):t(Lt["$key?"]("notitle"))?(rt=["showtitle",i($,"",!1,"@","@",!1)["$[]"](Lt["$[]"]("notitle"))],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)):(c(tr,"[]=",e.to_a(rt=["notitle",""])),l(rt.length,1))),c(Lt,"[]=",e.to_a(rt=["asciidoctor",""])),l(rt.length,1),rt=["asciidoctor-version",n(n("::","Asciidoctor"),"VERSION")],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1),rt=["safe-mode-name",hr=y(L,"SafeMode").$name_for_value($t.safe)],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1),c(Lt,"[]=",e.to_a(rt=["safe-mode-"+hr,""])),l(rt.length,1),c(Lt,"[]=",e.to_a(rt=["safe-mode-level",$t.safe])),l(rt.length,1),t(E=Lt["$[]"]("max-include-depth"))||(c(Lt,"[]=",e.to_a(rt=["max-include-depth",64])),l(rt.length,1)),t(E=Lt["$[]"]("allow-uri-read"))||(c(Lt,"[]=",e.to_a(rt=["allow-uri-read",$])),l(rt.length,1)),t(Lt["$key?"]("numbered"))&&(rt=["sectnums",Lt.$delete("numbered")],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),t(Lt["$key?"]("hardbreaks"))&&(rt=["hardbreaks-option",Lt.$delete("hardbreaks")],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),$t.base_dir=t(fr=a["$[]"]("base_dir"))?(rt=["docdir",n("::","File").$expand_path(fr)],c(Lt,"[]=",e.to_a(rt)),rt[l(rt.length,1)]):t(Lt["$[]"]("docdir"))?Lt["$[]"]("docdir"):(rt=["docdir",n("::","Dir").$pwd()],c(Lt,"[]=",e.to_a(rt)),rt[l(rt.length,1)]),t(mr=a["$[]"]("backend"))&&(rt=["backend",mr.$to_s()],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),t(ir=a["$[]"]("doctype"))&&(rt=["doctype",ir.$to_s()],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),t(O($t.safe,n(y(L,"SafeMode"),"SERVER")))?(t(E=Lt["$[]"]("copycss"))||(c(Lt,"[]=",e.to_a(rt=["copycss",$])),l(rt.length,1)),t(E=Lt["$[]"]("source-highlighter"))||(c(Lt,"[]=",e.to_a(rt=["source-highlighter",$])),l(rt.length,1)),t(E=Lt["$[]"]("backend"))||(rt=["backend",y(L,"DEFAULT_BACKEND")],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),t(t(E=Tt["$!"]())?Lt["$key?"]("docfile"):E)&&(rt=["docfile",Lt["$[]"]("docfile")["$[]"](e.Range.$new(xe(Lt["$[]"]("docdir").$length(),1),-1,!1))],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),c(Lt,"[]=",e.to_a(rt=["docdir",""])),l(rt.length,1),t(E=Lt["$[]"]("user-home"))||(c(Lt,"[]=",e.to_a(rt=["user-home","."])),l(rt.length,1)),t(O($t.safe,n(y(L,"SafeMode"),"SECURE")))&&(t(Lt["$key?"]("max-attribute-value-size"))||(c(Lt,"[]=",e.to_a(rt=["max-attribute-value-size",4096])),l(rt.length,1)),t(Lt["$key?"]("linkcss"))||(c(Lt,"[]=",e.to_a(rt=["linkcss",""])),l(rt.length,1)),t(E=Lt["$[]"]("icons"))||(c(Lt,"[]=",e.to_a(rt=["icons",$])),l(rt.length,1)))):t(E=Lt["$[]"]("user-home"))||(rt=["user-home",y(L,"USER_HOME")],c(Lt,"[]=",e.to_a(rt)),l(rt.length,1)),$t.max_attribute_value_size=t(pr=t(E=Lt["$[]"]("max-attribute-value-size"))?E:(c(Lt,"[]=",e.to_a(rt=["max-attribute-value-size",$])),rt[l(rt.length,1)]))?pr.$to_i().$abs():$,c(Lt,"delete_if",[],((X=function(ur,_r){var lr,Ar=$;return null==ur&&(ur=$),null==_r&&(_r=$),t(_r)?(t(t(lr=n("::","String")["$==="](_r))?_r["$end_with?"]("@"):lr)&&(lr=[_r.$chop(),!0],_r=lr[0],Ar=lr[1]),c(tr,"[]=",e.to_a(rt=[ur,_r])),l(rt.length,1)):(tr.$delete(ur),Ar=_r["$=="](!1)),Ar}).$$s=$t,X.$$arity=2,X)),t(Tt)?($t.backend=tr["$[]"]("backend"),($t.doctype=(rt=["doctype",Yt],c(tr,"[]=",e.to_a(rt)),rt[l(rt.length,1)]))["$=="](y(L,"DEFAULT_DOCTYPE"))||$t.$update_doctype_attributes(y(L,"DEFAULT_DOCTYPE")),$t.reader=y(L,"Reader").$new(k,a["$[]"]("cursor")),t($t.sourcemap)&&($t.source_location=$t.reader.$cursor()),y(L,"Parser").$parse($t.reader,$t),$t.$restore_attributes(),$t.parsed=!0):($t.backend=$,$t.doctype=(vr=t(E=tr["$[]"]("backend"))?E:y(L,"DEFAULT_BACKEND"))["$=="]("manpage")?(rt=["doctype",(rt=["doctype","manpage"],c(Lt,"[]=",e.to_a(rt)),rt[l(rt.length,1)])],c(tr,"[]=",e.to_a(rt)),rt[l(rt.length,1)]):t(E=tr["$[]"]("doctype"))?E:(rt=["doctype",y(L,"DEFAULT_DOCTYPE")],c(tr,"[]=",e.to_a(rt)),rt[l(rt.length,1)]),$t.$update_backend_attributes(vr,!0),t(E=tr["$[]"]("stylesdir"))||(c(tr,"[]=",e.to_a(rt=["stylesdir","."])),l(rt.length,1)),t(E=tr["$[]"]("iconsdir"))||(rt=["iconsdir",tr.$fetch("imagesdir","./images")+"/icons"],c(tr,"[]=",e.to_a(rt)),l(rt.length,1)),$t.$fill_datetime_attributes(tr,nr),t(_t)&&(t(br=a["$[]"]("extension_registry"))?t(t(E=n(y(L,"Extensions"),"Registry")["$==="](br))?E:t(Ae=(dt=n("::","AsciidoctorJ","skip_raise"))&&(mt=n(dt,"Extensions","skip_raise"))&&n(mt,"ExtensionRegistry","skip_raise")?"constant":$)?n(n(n("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](br):Ae)&&($t.extensions=br.$activate($t)):t((yr=a["$[]"]("extensions"))["$nil?"]())?t(y(L,"Extensions").$groups()["$empty?"]())||($t.extensions=n(y(L,"Extensions"),"Registry").$new().$activate($t)):t(n("::","Proc")["$==="](yr))&&($t.extensions=c(y(L,"Extensions"),"create",[],yr.$to_proc()).$activate($t))),$t.reader=y(L,"PreprocessorReader").$new($t,k,n(y(L,"Reader"),"Cursor").$new(tr["$[]"]("docfile"),$t.base_dir),s(["normalize"],{normalize:!0})),t($t.sourcemap)?$t.source_location=$t.reader.$cursor():$)},Pe.$$arity=-1),e.def(f,"$parse",ze=function(k){var a,E,T,M=this,te=$,X=$;return null==k&&(k=$),t(M.parsed)?M:(te=M,t(k)&&(M.reader=y(L,"PreprocessorReader").$new(te,k,n(y(L,"Reader"),"Cursor").$new(M.attributes["$[]"]("docfile"),M.base_dir),s(["normalize"],{normalize:!0})),t(M.sourcemap)&&(M.source_location=M.reader.$cursor())),t(t(a=X=t(M.parent_document)?$:M.extensions)?X["$preprocessors?"]():a)&&c(X.$preprocessors(),"each",[],(E=function(Ae){var mt,me=E.$$s||this;return null==me.reader&&(me.reader=$),null==Ae&&(Ae=$),me.reader=t(mt=Ae.$process_method()["$[]"](te,me.reader))?mt:me.reader},E.$$s=M,E.$$arity=1,E)),y(L,"Parser").$parse(M.reader,te,s(["header_only"],{header_only:M.options["$[]"]("parse_header_only")})),M.$restore_attributes(),t(t(a=X)?X["$tree_processors?"]():a)&&c(X.$tree_processors(),"each",[],(T=function(Ae){var mt,dt,He=$;return null==Ae&&(Ae=$),t(t(mt=t(dt=He=Ae.$process_method()["$[]"](te))?y(L,"Document")["$==="](He):dt)?He["$!="](te):mt)?te=He:$},T.$$s=M,T.$$arity=1,T)),M.parsed=!0,te)},ze.$$arity=-1),e.def(f,"$parsed?",le=function(){return this.parsed},le.$$arity=0),e.def(f,"$counter",S=function(k,a){var E,T,M=this,te=$,X=$,Ae=$,me=$;return null==a&&(a=$),t(M.parent_document)?M.parent_document.$counter(k,a):(t(t(E=t(T=te=M["$attribute_locked?"](k))?X=M.counters["$[]"](k):T)?E:(X=M.attributes["$[]"](k))["$nil_or_empty?"]()["$!"]())?(me=[k,y(L,"Helpers").$nextval(X)],c(M.counters,"[]=",e.to_a(me)),Ae=me[l(me.length,1)]):t(a)?(me=[k,a["$=="](a.$to_i().$to_s())?a.$to_i():a],c(M.counters,"[]=",e.to_a(me)),Ae=me[l(me.length,1)]):(c(M.counters,"[]=",e.to_a(me=[k,1])),Ae=me[l(me.length,1)]),t(te)||(c(M.attributes,"[]=",e.to_a(me=[k,Ae])),l(me.length,1)),Ae)},S.$$arity=-2),e.def(f,"$increment_and_store_counter",d=function(k,a){return y(L,"AttributeEntry").$new(k,this.$counter(k)).$save_to(a.$attributes()).$value()},d.$$arity=2),e.alias(f,"counter_increment","increment_and_store_counter"),e.def(f,"$register",m=function(k,a){var M,T=this,te=$,X=$,Ae=$,me=$;return"ids"["$==="](M=k)?T.$register("refs",[te=a["$[]"](0),y(L,"Inline").$new(T,"anchor",a["$[]"](1),s(["type","id"],{type:"ref",id:te}))]):"refs"["$==="](M)?(X=T.catalog["$[]"]("refs"),t(X["$[]"](a["$[]"](0)))||(Ae=[a["$[]"](0),me=a["$[]"](1)],c(X,"[]=",e.to_a(Ae)),l(Ae.length,1)),me):"footnotes"["$==="](M)?T.catalog["$[]"](k)["$<<"](a):t(T.options["$[]"]("catalog_assets"))?T.catalog["$[]"](k)["$<<"](k["$=="]("images")?y(L,"ImageReference").$new(a,T.attributes["$[]"]("imagesdir")):a):$},m.$$arity=2),e.def(f,"$resolve_id",p=function(k){var a,E,T=this,M=$,te=$;return t(T.reftexts)?T.reftexts["$[]"](k):t(T.parsed)?c(T.reftexts=s([],{}),"tap",[],(a=function(X){var me,Ae=a.$$s||this;return null==Ae.catalog&&(Ae.catalog=$),null==X&&(X=$),c(Ae.catalog["$[]"]("refs"),"each",[],((me=function(mt,dt){var kt,$t=$;return null==mt&&(mt=$),null==dt&&(dt=$),t(kt=X["$[]"](dt.$xreftext()))?kt:($t=[dt.$xreftext(),mt],c(X,"[]=",e.to_a($t)),$t[l($t.length,1)])}).$$s=Ae,me.$$arity=2,me))},a.$$s=T,a.$$arity=1,a))["$[]"](k):(M=$,T.reftexts=te=s([],{}),function(){var X=e.new_brk();try{c(T.catalog["$[]"]("refs"),"each",[],(E=function(Ae,me){var dt,He=$,kt=$;return null==Ae&&(Ae=$),null==me&&(me=$),(He=me.$xreftext())["$=="](k)&&(M=Ae,e.brk($,X)),t(dt=te["$[]"](He))?dt:(c(te,"[]=",e.to_a(kt=[He,Ae])),kt[l(kt.length,1)])},E.$$s=T,E.$$brk=X,E.$$arity=2,E))}catch(Ae){if(Ae===X)return Ae.$v;throw Ae}}(),T.reftexts=$,M)},p.$$arity=1),e.def(f,"$sections?",z=function(){return Xe(this.next_section_index,0)},z.$$arity=0),e.def(f,"$footnotes?",Z=function(){return!t(this.catalog["$[]"]("footnotes")["$empty?"]())},Z.$$arity=0),e.def(f,"$footnotes",re=function(){return this.catalog["$[]"]("footnotes")},re.$$arity=0),e.def(f,"$callouts",ye=function(){return this.catalog["$[]"]("callouts")},ye.$$arity=0),e.def(f,"$nested?",q=function(){return!!t(this.parent_document)},q.$$arity=0),e.def(f,"$embedded?",ee=function(){return this.attributes["$key?"]("embedded")},ee.$$arity=0),e.def(f,"$extensions?",V=function(){return!!t(this.extensions)},V.$$arity=0),e.def(f,"$source",_e=function(){return t(this.reader)?this.reader.$source():$},_e.$$arity=0),e.def(f,"$source_lines",Me=function(){return t(this.reader)?this.reader.$source_lines():$},Me.$$arity=0),e.def(f,"$basebackend?",Te=function(ne){return this.attributes["$[]"]("basebackend")["$=="](ne)},Te.$$arity=1),e.def(f,"$title",et=function(){return this.$doctitle()},et.$$arity=0),e.def(f,"$title=",ct=function(ne){var k=this,a=$,E=$;return t(a=k.header)||(E=["header"],c(a=k.header=y(L,"Section").$new(k,0),"sectname=",e.to_a(E)),l(E.length,1)),c(a,"title=",e.to_a(E=[ne])),E[l(E.length,1)]},ct.$$arity=1),e.def(f,"$doctitle",it=function(k){var a,E=this,T=$,M=$,te=$;if(null==k&&(k=s([],{})),!t(T=E.attributes["$[]"]("title")))if(t(M=E.$first_section()))T=M.$title();else if(t((t(a=k["$[]"]("use_fallback"))?T=E.attributes["$[]"]("untitled-label"):a)["$!"]()))return $;return t(te=k["$[]"]("partition"))?y(L,"Title").$new(T,k.$merge(s(["separator"],{separator:te["$=="](!0)?E.attributes["$[]"]("title-separator"):te}))):t(t(a=k["$[]"]("sanitize"))?T["$include?"]("<"):a)?T.$gsub(y(L,"XmlSanitizeRx"),"").$squeeze(" ").$strip():T},it.$$arity=-1),e.alias(f,"name","doctitle"),e.def(f,"$xreftext",Ie=function(k){var a,T=$;return null==k&&(k=$),t(t(a=T=this.$reftext())?T["$empty?"]()["$!"]():a)?T:this.$title()},Ie.$$arity=-1),e.def(f,"$author",Se=function(){return this.attributes["$[]"]("author")},Se.$$arity=0),e.def(f,"$authors",We=function(){var k,E=$,T=$,M=$,te=$;if(t((E=this.attributes)["$key?"]("author"))){if(T=[y(L,"Author").$new(E["$[]"]("author"),E["$[]"]("firstname"),E["$[]"]("middlename"),E["$[]"]("lastname"),E["$[]"]("authorinitials"),E["$[]"]("email"))],t(Xe(M=t(k=E["$[]"]("authorcount"))?k:0,1)))for(te=1;t(ie(te,M));)te=xe(te,1),T["$<<"](y(L,"Author").$new(E["$[]"]("author_"+te),E["$[]"]("firstname_"+te),E["$[]"]("middlename_"+te),E["$[]"]("lastname_"+te),E["$[]"]("authorinitials_"+te),E["$[]"]("email_"+te)));return T}return[]},We.$$arity=0),e.def(f,"$revdate",tt=function(){return this.attributes["$[]"]("revdate")},tt.$$arity=0),e.def(f,"$notitle",Qe=function(){return this.attributes["$key?"]("notitle")},Qe.$$arity=0),e.def(f,"$noheader",nt=function(){return this.attributes["$key?"]("noheader")},nt.$$arity=0),e.def(f,"$nofooter",yt=function(){return this.attributes["$key?"]("nofooter")},yt.$$arity=0),e.def(f,"$first_section",ut=function(){var k,a,E=this;return t(k=E.header)?k:c(E.blocks,"find",[],(a=function(T){return null==T&&(T=$),T.$context()["$=="]("section")},a.$$s=E,a.$$arity=1,a))},ut.$$arity=0),e.def(f,"$header?",K=function(){return!!t(this.header)},K.$$arity=0),e.alias(f,"has_header?","header?"),e.def(f,"$<<",u=function(ne){var k=u.$$p,E=this,T=$,M=$,te=$;for(k&&(u.$$p=null),M=0,te=arguments.length,T=new Array(te);M<te;M++)T[M]=arguments[M];return ne.$context()["$=="]("section")&&E.$assign_numeral(ne),c(E,e.find_super_dispatcher(E,"<<",u,!1),T,k)},u.$$arity=1),e.def(f,"$finalize_header",v=function(k,a){var T=$;return null==a&&(a=!0),this.$clear_playback_attributes(k),this.$save_attributes(),t(a)||(c(k,"[]=",e.to_a(T=["invalid-header",!0])),l(T.length,1)),k},v.$$arity=-2),e.def(f,"$playback_attributes",I=function(k){var a;return t(k["$key?"]("attribute_entries"))?c(k["$[]"]("attribute_entries"),"each",[],(a=function(T){var M=a.$$s||this,te=$,X=$;return null==M.attributes&&(M.attributes=$),null==T&&(T=$),te=T.$name(),t(T.$negate())?(M.attributes.$delete(te),te["$=="]("compat-mode")?M.compat_mode=!1:$):(X=[te,T.$value()],c(M.attributes,"[]=",e.to_a(X)),l(X.length,1),te["$=="]("compat-mode")?M.compat_mode=!0:$)},a.$$s=this,a.$$arity=1,a)):$},I.$$arity=1),e.def(f,"$restore_attributes",U=function(){var k=this;return t(k.parent_document)||k.catalog["$[]"]("callouts").$rewind(),k.attributes.$replace(k.header_attributes)},U.$$arity=0),e.def(f,"$set_attribute",P=function(k,a){var E,T=this,M=$,te=$;return null==a&&(a=""),t(T["$attribute_locked?"](k))?$:(t(a["$empty?"]())||(a=T.$apply_attribute_value_subs(a)),t(T.header_attributes)?(c(T.attributes,"[]=",e.to_a(M=[k,a])),l(M.length,1)):("backend"["$==="](te=k)?T.$update_backend_attributes(a,t(E=T.attributes_modified["$delete?"]("htmlsyntax"))?a["$=="](T.backend):E):"doctype"["$==="](te)?T.$update_doctype_attributes(a):(c(T.attributes,"[]=",e.to_a(M=[k,a])),l(M.length,1)),T.attributes_modified["$<<"](k)),a)},P.$$arity=-2),e.def(f,"$delete_attribute",de=function(k){var a=this;return!t(a["$attribute_locked?"](k))&&(a.attributes.$delete(k),a.attributes_modified["$<<"](k),!0)},de.$$arity=1),e.def(f,"$attribute_locked?",be=function(ne){return this.attribute_overrides["$key?"](ne)},be.$$arity=1),e.def(f,"$set_header_attribute",je=function(k,a,E){var T,te=$,X=$;return null==a&&(a=""),null==E&&(E=!0),te=t(T=this.header_attributes)?T:this.attributes,!t((T=E["$=="](!1))?te["$key?"](k):E["$=="](!1))&&(c(te,"[]=",e.to_a(X=[k,a])),l(X.length,1),!0)},je.$$arity=-2),e.def(f,"$convert",Fe=function(k){var a,E,T=this,M=$,te=$,X=$,Ae=$,me=$;return null==k&&(k=s([],{})),t(T.timings)&&T.timings.$start("convert"),t(T.parsed)||T.$parse(),t(t(a=O(T.safe,n(y(L,"SafeMode"),"SERVER")))?a:k["$empty?"]())||(t((M=["outfile",k["$[]"]("outfile")],c(T.attributes,"[]=",e.to_a(M)),M[l(M.length,1)]))||T.attributes.$delete("outfile"),t((M=["outdir",k["$[]"]("outdir")],c(T.attributes,"[]=",e.to_a(M)),M[l(M.length,1)]))||T.attributes.$delete("outdir")),T.$doctype()["$=="]("inline")?t(te=t(a=T.blocks["$[]"](0))?a:T.header)&&(t(t(a=te.$content_model()["$=="]("compound"))?a:te.$content_model()["$=="]("empty"))?T.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):X=te.$content()):(Ae=t(k["$key?"]("standalone"))?t(k["$[]"]("standalone"))?"document":"embedded":t(k["$key?"]("header_footer"))?t(k["$[]"]("header_footer"))?"document":"embedded":t(T.options["$[]"]("standalone"))?"document":"embedded",X=T.converter.$convert(T,Ae)),t(T.parent_document)||t(t(a=me=T.extensions)?me["$postprocessors?"]():a)&&c(me.$postprocessors(),"each",[],((E=function(mt){var dt=E.$$s||this;return null==mt&&(mt=$),X=mt.$process_method()["$[]"](dt,X)}).$$s=T,E.$$arity=1,E)),t(T.timings)&&T.timings.$record("convert"),X},Fe.$$arity=-1),e.alias(f,"render","convert"),e.def(f,"$write",Ke=function(k,a){var E,M=this;return t(M.timings)&&M.timings.$start("write"),t(y(L,"Writer")["$==="](M.converter))?M.converter.$write(k,a):(t(a["$respond_to?"]("write"))?t(k["$nil_or_empty?"]())||(a.$write(k.$chomp()),a.$write(y(L,"LF"))):n("::","File").$write(a,k,s(["mode"],{mode:y(L,"FILE_WRITE_MODE")})),t(t(E=M.backend["$=="]("manpage")?n("::","String")["$==="](a):M.backend["$=="]("manpage"))?M.converter.$class()["$respond_to?"]("write_alternate_pages"):E)&&M.converter.$class().$write_alternate_pages(M.attributes["$[]"]("mannames"),M.attributes["$[]"]("manvolnum"),a)),t(M.timings)&&M.timings.$record("write"),$},Ke.$$arity=2),e.def(f,"$content",we=function(){var k=we.$$p,E=this,T=$,M=$,te=$;for(k&&(we.$$p=null),M=0,te=arguments.length,T=new Array(te);M<te;M++)T[M]=arguments[M];return E.attributes.$delete("title"),c(E,e.find_super_dispatcher(E,"content",we,!1),T,k)},we.$$arity=0),e.def(f,"$docinfo",ot=function(k,a){var E,T,M,te=this,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return null==k&&(k="head"),null==a&&(a=$),t(ie(te.$safe(),n(y(L,"SafeMode"),"SECURE")))&&(k["$=="]("head")||(X="-"+k),a=t(E=a)?E:te.outfilesuffix,Ae=t((Ae=te.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?t(te.attributes["$key?"]("docinfo2"))?["private","shared"]:t(te.attributes["$key?"]("docinfo1"))?["shared"]:t(Ae)?["private"]:$:c(Ae.$split(","),"map",[],((T=function(rt){return null==rt&&(rt=$),rt.$strip()}).$$s=te,T.$$arity=1,T)),t(Ae)&&(me=[],mt=(E=["docinfo"+X+a,te.attributes["$[]"]("docinfodir"),te.$resolve_docinfo_subs()])[0],dt=E[1],He=E[2],t(Ae["$&"](["shared","shared-"+k])["$empty?"]())||(kt=te.$normalize_system_path(mt,dt),t($t=te.$read_asset(kt,s(["normalize"],{normalize:!0})))&&me["$<<"](te.$apply_subs($t,He))),t(t(E=te.attributes["$[]"]("docname")["$nil_or_empty?"]())?E:Ae["$&"](["private","private-"+k])["$empty?"]())||(kt=te.$normalize_system_path(te.attributes["$[]"]("docname")+"-"+mt,dt),t(Tt=te.$read_asset(kt,s(["normalize"],{normalize:!0})))&&me["$<<"](te.$apply_subs(Tt,He))))),t(t(E=te.extensions)?te["$docinfo_processors?"](k):E)?(t(E=me)?E:[]).$concat(c(te.docinfo_processor_extensions["$[]"](k),"map",[],(M=function(rt){var Lt=M.$$s||this;return null==rt&&(rt=$),rt.$process_method()["$[]"](Lt)},M.$$s=te,M.$$arity=1,M)).$compact()).$join(y(L,"LF")):t(me)?me.$join(y(L,"LF")):""},ot.$$arity=-1),e.def(f,"$docinfo_processors?",at=function(ne){var k,a=this,E=$;return null==ne&&(ne="head"),t(a.docinfo_processor_extensions["$key?"](ne))?a.docinfo_processor_extensions["$[]"](ne)["$!="](!1):t(t(k=a.extensions)?a.document.$extensions()["$docinfo_processors?"](ne):k)?(E=[ne,a.document.$extensions().$docinfo_processors(ne)],c(a.docinfo_processor_extensions,"[]=",e.to_a(E)),E[l(E.length,1)])["$!"]()["$!"]():(c(a.docinfo_processor_extensions,"[]=",e.to_a(E=[ne,!1])),E[l(E.length,1)])},at.$$arity=-1),e.def(f,"$to_s",vt=function(){var k,a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {doctype: "+a.$doctype().$inspect()+", doctitle: "+(t(k=a.header)?a.header.$title():k).$inspect()+", blocks: "+a.blocks.$size()+"}>"},vt.$$arity=0),f.$private(),e.def(f,"$apply_attribute_value_subs",Dt=function(k){var a,E=this;return t(y(L,"AttributeEntryPassMacroRx")["$=~"](k))?(k=(a=j["~"])===$?$:a["$[]"](2),t((a=j["~"])===$?$:a["$[]"](1))&&(k=E.$apply_subs(k,E.$resolve_pass_subs((a=j["~"])===$?$:a["$[]"](1))))):k=E.$apply_header_subs(k),t(E.max_attribute_value_size)?E.$limit_bytesize(k,E.max_attribute_value_size):k},Dt.$$arity=1),e.def(f,"$limit_bytesize",bt=function(k,a){if(t(Xe(k.$bytesize(),a)))for(;!t((k=k.$byteslice(0,a))["$valid_encoding?"]());)a=l(a,1);return k},bt.$$arity=2),e.def(f,"$resolve_docinfo_subs",ce=function(){var k=this;return t(k.attributes["$key?"]("docinfosubs"))?k.$resolve_subs(k.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"):["attributes"]},ce.$$arity=0),e.def(f,"$create_converter",Ee=function(k,a){var E,M,te,me,T=this,X=$,Ae=$;return M=s(["document","htmlsyntax"],{document:T,htmlsyntax:T.attributes["$[]"]("htmlsyntax")}),t(te=t(E=(X=T.options)["$[]"]("template_dirs"))?E:X["$[]"]("template_dir"))&&(Ae=["template_dirs",[].concat(e.to_a(te))],c(M,"[]=",e.to_a(Ae)),l(Ae.length,1),Ae=["template_cache",X.$fetch("template_cache",!0)],c(M,"[]=",e.to_a(Ae)),l(Ae.length,1),Ae=["template_engine",X["$[]"]("template_engine")],c(M,"[]=",e.to_a(Ae)),l(Ae.length,1),Ae=["template_engine_options",X["$[]"]("template_engine_options")],c(M,"[]=",e.to_a(Ae)),l(Ae.length,1),Ae=["eruby",X["$[]"]("eruby")],c(M,"[]=",e.to_a(Ae)),l(Ae.length,1),c(M,"[]=",e.to_a(Ae=["safe",T.safe])),l(Ae.length,1),t(a)&&(c(M,"[]=",e.to_a(Ae=["delegate_backend",a])),l(Ae.length,1))),t(me=X["$[]"]("converter"))?n(y(L,"Converter"),"CustomFactory").$new(i(k,me)).$create(k,M):X.$fetch("converter_factory",y(L,"Converter")).$create(k,M)},Ee.$$arity=2),e.def(f,"$clear_playback_attributes",fe=function(k){return k.$delete("attribute_entries")},fe.$$arity=1),e.def(f,"$save_attributes",o=function(){var k,a,E=this,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$;return t(t(k=(T=E.attributes)["$key?"]("doctitle"))?k:(M=E.$doctitle())["$!"]())||(c(T,"[]=",e.to_a(te=["doctitle",M])),l(te.length,1)),E.id=t(k=E.id)?k:T["$[]"]("css-signature"),t(X=t(T.$delete("toc2"))?"left":T["$[]"]("toc"))&&(Ae=t(t(k=me=T.$fetch("toc-placement","macro"))?me["$!="]("auto"):k)?me:T["$[]"]("toc-position"),t(t(k=X["$empty?"]())?Ae["$nil_or_empty?"]():k)||(mt="left",dt="toc2",He=t(Ae["$nil_or_empty?"]())?t(X["$empty?"]())?mt:X:Ae,c(T,"[]=",e.to_a(te=["toc",""])),l(te.length,1),c(T,"[]=",e.to_a(te=["toc-placement","auto"])),l(te.length,1),"left"["$==="](kt=He)||"<"["$==="](kt)||"&lt;"["$==="](kt)?(c(T,"[]=",e.to_a(te=["toc-position","left"])),l(te.length,1)):"right"["$==="](kt)||">"["$==="](kt)||"&gt;"["$==="](kt)?(c(T,"[]=",e.to_a(te=["toc-position","right"])),l(te.length,1)):"top"["$==="](kt)||"^"["$==="](kt)?(c(T,"[]=",e.to_a(te=["toc-position","top"])),l(te.length,1)):"bottom"["$==="](kt)||"v"["$==="](kt)?(c(T,"[]=",e.to_a(te=["toc-position","bottom"])),l(te.length,1)):"preamble"["$==="](kt)||"macro"["$==="](kt)?(c(T,"[]=",e.to_a(te=["toc-position","content"])),l(te.length,1),c(T,"[]=",e.to_a(te=["toc-placement",He])),l(te.length,1),dt=$):(T.$delete("toc-position"),dt=$),t(dt)&&(t(k=T["$[]"]("toc-class"))||(c(T,"[]=",e.to_a(te=["toc-class",dt])),l(te.length,1))))),t(t(k=$t=T["$[]"]("icons"))?T["$key?"]("icontype")["$!"]():k)&&(""["$==="](kt=$t)||"font"["$==="](kt)||(c(T,"[]=",e.to_a(te=["icons",""])),l(te.length,1),$t["$=="]("image")||(c(T,"[]=",e.to_a(te=["icontype",$t])),l(te.length,1)))),t(t(k=E.compat_mode=T["$key?"]("compat-mode"))?T["$key?"]("language"):k)&&(te=["source-language",T["$[]"]("language")],c(T,"[]=",e.to_a(te)),l(te.length,1)),t(E.parent_document)||((Tt=T["$[]"]("basebackend"))["$=="]("html")?t(t(k=rt=T["$[]"]("source-highlighter"))?T["$[]"](rt+"-unavailable")["$!"]():k)&&(E.syntax_highlighter=t(Lt=E.options["$[]"]("syntax_highlighter_factory"))?Lt.$create(rt,E.backend,s(["document"],{document:E})):t(Yt=E.options["$[]"]("syntax_highlighters"))?n(y(L,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(Yt).$create(rt,E.backend,s(["document"],{document:E})):y(L,"SyntaxHighlighter").$create(rt,E.backend,s(["document"],{document:E}))):Tt["$=="]("docbook")&&(t(t(k=E["$attribute_locked?"]("toc"))?k:E.attributes_modified["$include?"]("toc"))||(c(T,"[]=",e.to_a(te=["toc",""])),l(te.length,1)),t(t(k=E["$attribute_locked?"]("sectnums"))?k:E.attributes_modified["$include?"]("sectnums"))||(c(T,"[]=",e.to_a(te=["sectnums",""])),l(te.length,1))),E.outfilesuffix=T["$[]"]("outfilesuffix"),c(y(L,"FLEXIBLE_ATTRIBUTES"),"each",[],((a=function(_t){var rr,Zt=a.$$s||this;return null==Zt.attribute_overrides&&(Zt.attribute_overrides=$),null==_t&&(_t=$),t(t(rr=Zt.attribute_overrides["$key?"](_t))?Zt.attribute_overrides["$[]"](_t):rr)?Zt.attribute_overrides.$delete(_t):$}).$$s=E,a.$$arity=1,a))),E.header_attributes=T.$merge()},o.$$arity=0),e.def(f,"$fill_datetime_attributes",H=function(k,a){var E,T,mt,He,te=$,X=$,Ae=$,me=$,dt=$;return te=t(n("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?X=n("::","Time").$at(this.$Integer(n("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():n("::","Time").$now(),t(Ae=k["$[]"]("localdate"))?t(E=k["$[]"]("localyear"))||(me=["localyear",Ae.$index("-")["$=="](4)?Ae.$slice(0,4):$],c(k,"[]=",e.to_a(me)),l(me.length,1)):(me=["localdate",te.$strftime("%F")],c(k,"[]=",e.to_a(me)),Ae=me[l(me.length,1)],t(E=k["$[]"]("localyear"))||(me=["localyear",te.$year().$to_s()],c(k,"[]=",e.to_a(me)),l(me.length,1))),mt=t(E=k["$[]"]("localtime"))?E:(me=["localtime",te.$strftime("%T "+(te.$utc_offset()["$=="](0)?"UTC":"%z"))],c(k,"[]=",e.to_a(me)),me[l(me.length,1)]),t(E=k["$[]"]("localdatetime"))||(c(k,"[]=",e.to_a(me=["localdatetime",Ae+" "+mt])),l(me.length,1)),a=t(E=t(T=X)?T:a)?E:te,t(dt=k["$[]"]("docdate"))?t(E=k["$[]"]("docyear"))||(me=["docyear",dt.$index("-")["$=="](4)?dt.$slice(0,4):$],c(k,"[]=",e.to_a(me)),l(me.length,1)):(me=["docdate",a.$strftime("%F")],c(k,"[]=",e.to_a(me)),dt=me[l(me.length,1)],t(E=k["$[]"]("docyear"))||(me=["docyear",a.$year().$to_s()],c(k,"[]=",e.to_a(me)),l(me.length,1))),He=t(E=k["$[]"]("doctime"))?E:(me=["doctime",a.$strftime("%T "+(a.$utc_offset()["$=="](0)?"UTC":"%z"))],c(k,"[]=",e.to_a(me)),me[l(me.length,1)]),t(E=k["$[]"]("docdatetime"))||(c(k,"[]=",e.to_a(me=["docdatetime",dt+" "+He])),l(me.length,1)),$},H.$$arity=2),e.def(f,"$update_backend_attributes",Y=function(k,a){var E,T,M=this,te=$,X=$,Ae=$,me=$,mt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$;return null==a&&(a=$),t(t(E=a)?E:k["$!="](M.backend))?(te=M.backend,X=(Ae=M.attributes)["$[]"]("basebackend"),me=M.doctype,t(k["$include?"](":"))&&(T=k.$partition(":"),mt=(E=e.to_ary(T))[0]??$,k=E[2]??$),t(k["$start_with?"]("xhtml"))?(c(Ae,"[]=",e.to_a(He=["htmlsyntax","xml"])),l(He.length,1),k=k.$slice(1,k.$length())):t(k["$start_with?"]("html"))&&(t(E=Ae["$[]"]("htmlsyntax"))||(c(Ae,"[]=",e.to_a(He=["htmlsyntax","html"])),l(He.length,1))),k=t(E=y(L,"BACKEND_ALIASES")["$[]"](k))?E:k,t(mt)&&(k=(E=[mt,k])[0],kt=E[1]),t(me)?(t(te)&&(Ae.$delete("backend-"+te),Ae.$delete("backend-"+te+"-doctype-"+me)),c(Ae,"[]=",e.to_a(He=["backend-"+k+"-doctype-"+me,""])),l(He.length,1),c(Ae,"[]=",e.to_a(He=["doctype-"+me,""])),l(He.length,1)):t(te)&&Ae.$delete("backend-"+te),c(Ae,"[]=",e.to_a(He=["backend-"+k,""])),l(He.length,1),M.backend=(c(Ae,"[]=",e.to_a(He=["backend",k])),He[l(He.length,1)]),t(n(y(L,"Converter"),"BackendTraits")["$==="]($t=M.$create_converter(k,kt)))?(Tt=$t.$basebackend(),rt=$t.$filetype(),t(Lt=$t.$htmlsyntax())&&(c(Ae,"[]=",e.to_a(He=["htmlsyntax",Lt])),l(He.length,1)),t(a)?t(E=Ae["$[]"]("outfilesuffix"))||(He=["outfilesuffix",$t.$outfilesuffix()],c(Ae,"[]=",e.to_a(He)),l(He.length,1)):t(M["$attribute_locked?"]("outfilesuffix"))||(He=["outfilesuffix",$t.$outfilesuffix()],c(Ae,"[]=",e.to_a(He)),l(He.length,1))):t($t)?(Tt=(Yt=y(L,"Converter").$derive_backend_traits(k))["$[]"]("basebackend"),rt=Yt["$[]"]("filetype"),t(a)?t(E=Ae["$[]"]("outfilesuffix"))||(He=["outfilesuffix",Yt["$[]"]("outfilesuffix")],c(Ae,"[]=",e.to_a(He)),l(He.length,1)):t(M["$attribute_locked?"]("outfilesuffix"))||(He=["outfilesuffix",Yt["$[]"]("outfilesuffix")],c(Ae,"[]=",e.to_a(He)),l(He.length,1))):M.$raise(n("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+k+"'. Processing aborted."),M.converter=$t,t(_t=Ae["$[]"]("filetype"))&&Ae.$delete("filetype-"+_t),c(Ae,"[]=",e.to_a(He=["filetype",rt])),l(He.length,1),c(Ae,"[]=",e.to_a(He=["filetype-"+rt,""])),l(He.length,1),t(Zt=y(L,"DEFAULT_PAGE_WIDTHS")["$[]"](Tt))?(c(Ae,"[]=",e.to_a(He=["pagewidth",Zt])),l(He.length,1)):Ae.$delete("pagewidth"),t(Tt["$!="](X))&&(t(me)?(t(X)&&(Ae.$delete("basebackend-"+X),Ae.$delete("basebackend-"+X+"-doctype-"+me)),c(Ae,"[]=",e.to_a(He=["basebackend-"+Tt+"-doctype-"+me,""])),l(He.length,1)):t(X)&&Ae.$delete("basebackend-"+X),c(Ae,"[]=",e.to_a(He=["basebackend-"+Tt,""])),l(He.length,1),c(Ae,"[]=",e.to_a(He=["basebackend",Tt])),l(He.length,1)),k):$},Y.$$arity=-2),void e.def(f,"$update_doctype_attributes",Q=function(k){var a,E=this,T=$,M=$,te=$,X=$,Ae=$;return t(t(a=k)?k["$!="](E.doctype):a)?(M=(a=[E.backend,(T=E.attributes)["$[]"]("basebackend"),E.doctype])[0],te=a[1],t(X=a[2])?(T.$delete("doctype-"+X),t(M)&&(T.$delete("backend-"+M+"-doctype-"+X),c(T,"[]=",e.to_a(Ae=["backend-"+M+"-doctype-"+k,""])),l(Ae.length,1)),t(te)&&(T.$delete("basebackend-"+te+"-doctype-"+X),c(T,"[]=",e.to_a(Ae=["basebackend-"+te+"-doctype-"+k,""])),l(Ae.length,1))):(t(M)&&(c(T,"[]=",e.to_a(Ae=["backend-"+M+"-doctype-"+k,""])),l(Ae.length,1)),t(te)&&(c(T,"[]=",e.to_a(Ae=["basebackend-"+te+"-doctype-"+k,""])),l(Ae.length,1))),c(T,"[]=",e.to_a(Ae=["doctype-"+k,""])),l(Ae.length,1),E.doctype=(c(T,"[]=",e.to_a(Ae=["doctype",k])),Ae[l(Ae.length,1)])):$},Q.$$arity=1)},Opal.modules["asciidoctor/inline"]=function(e){var j,w,C,B,N,x,f,L,ae,h,_,t,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.klass,y=e.hash2,W=e.send,oe=e.truthy;return e.add_stubs(["$attr_accessor","$attr_reader","$[]","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),_=O,j=t=[$(O[0],"Asciidoctor")].concat(_),[h=n(t[0],ie(t,"AbstractNode"),"Inline")].concat(j),h.$$prototype.text=h.$$prototype.type=xe,h.$attr_accessor("text"),h.$attr_reader("type"),h.$attr_accessor("target"),e.def(h,"$initialize",w=function(ze,le,S,d){var z=this;return w.$$p&&(w.$$p=null),null==S&&(S=xe),null==d&&(d=y([],{})),W(z,e.find_super_dispatcher(z,"initialize",w,!1),[ze,le,d],null),z.node_name="inline_"+le,z.text=S,z.id=d["$[]"]("id"),z.type=d["$[]"]("type"),z.target=d["$[]"]("target")},w.$$arity=-3),e.def(h,"$block?",C=function(){return!1},C.$$arity=0),e.def(h,"$inline?",B=function(){return!0},B.$$arity=0),e.def(h,"$convert",N=function(){return this.$converter().$convert(this)},N.$$arity=0),e.alias(h,"render","convert"),e.def(h,"$alt",x=function(){var ze;return oe(ze=this.$attr("alt"))?ze:""},x.$$arity=0),e.def(h,"$reftext?",f=function(){var Pe,ze;return oe(Pe=this.text)?oe(ze=this.type["$=="]("ref"))?ze:this.type["$=="]("bibref"):Pe},f.$$arity=0),e.def(h,"$reftext",L=function(){var le;return oe(le=this.text)?this.$apply_reftext_subs(le):xe},L.$$arity=0),void e.def(h,"$xreftext",ae=function(ze){return null==ze&&(ze=xe),this.$reftext()},ae.$$arity=-1)},Opal.modules["asciidoctor/list"]=function(e){var _,s,i,j,w,C,B,N,x,f,L,h,g,t,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.klass,y=e.hash2,W=e.send,oe=e.truthy;return e.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$nil_or_empty?","$apply_subs","$attr_writer","$empty?","$===","$[]","$outline?","$!","$simple?","$source","$shift","$context","$parent"]),_=O,function(s,i,j){var w,C,B,N,h=n(s,i,"List");[h].concat(j),h.$$prototype.context=h.$$prototype.document=h.$$prototype.style=xe,e.alias(h,"items","blocks"),e.alias(h,"content","blocks"),e.alias(h,"items?","blocks?"),e.def(h,"$initialize",w=function(f,L,ae){var Pe=w.$$p,le=this,S=xe,d=xe,m=xe;for(Pe&&(w.$$p=null),d=0,m=arguments.length,S=new Array(m);d<m;d++)S[d]=arguments[d];return null==ae&&(ae=y([],{})),W(le,e.find_super_dispatcher(le,"initialize",w,!1),S,Pe)},w.$$arity=-3),e.def(h,"$outline?",C=function(){var x;return oe(x=this.context["$=="]("ulist"))?x:this.context["$=="]("olist")},C.$$arity=0),e.def(h,"$convert",B=function(){var f=B.$$p,ae=this,Pe=xe,ze=xe,le=xe,S=xe;for(f&&(B.$$p=null),le=0,S=arguments.length,ze=new Array(S);le<S;le++)ze[le]=arguments[le];return ae.context["$=="]("colist")?(Pe=W(ae,e.find_super_dispatcher(ae,"convert",B,!1),ze,f),ae.document.$callouts().$next_list(),Pe):W(ae,e.find_super_dispatcher(ae,"convert",B,!1),ze,f)},B.$$arity=0),e.alias(h,"render","convert"),e.def(h,"$to_s",N=function(){var f=this;return"#<"+f.$class()+"@"+f.$object_id()+" {context: "+f.context.$inspect()+", style: "+f.style.$inspect()+", items: "+f.$items().$size()+"}>"},N.$$arity=0)}((t=[$(O[0],"Asciidoctor")].concat(_))[0],ie(t,"AbstractBlock"),t),s=t[0],i=ie(t,"AbstractBlock"),j=t,h=n(s,i,"ListItem"),g=[h].concat(j),h.$$prototype.text=h.$$prototype.subs=h.$$prototype.blocks=xe,e.alias(h,"list","parent"),h.$attr_accessor("marker"),e.def(h,"$initialize",w=function(Pe,ze){var d=this;return w.$$p&&(w.$$p=null),null==ze&&(ze=xe),W(d,e.find_super_dispatcher(d,"initialize",w,!1),[Pe,"list_item"],null),d.text=ze,d.level=Pe.$level(),d.subs=ie(g,"NORMAL_SUBS").$drop(0)},w.$$arity=-2),e.def(h,"$text?",C=function(){return!oe(this.text["$nil_or_empty?"]())},C.$$arity=0),e.def(h,"$text",B=function(){var Pe;return oe(Pe=this.text)?this.$apply_subs(this.text,this.subs):Pe},B.$$arity=0),h.$attr_writer("text"),e.def(h,"$simple?",N=function(){var ae,Pe,S=xe;return oe(ae=this.blocks["$empty?"]())?ae:oe(Pe=this.blocks.$size()["$=="](1)?ie(g,"List")["$==="](S=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?S["$outline?"]():Pe},N.$$arity=0),e.def(h,"$compound?",x=function(){return this["$simple?"]()["$!"]()},x.$$arity=0),e.def(h,"$fold_first",f=function(){var Pe=this;return Pe.text=oe(Pe.text["$nil_or_empty?"]())?Pe.blocks.$shift().$source():""+Pe.text+ie(g,"LF")+Pe.blocks.$shift().$source(),xe},f.$$arity=0),void e.def(h,"$to_s",L=function(){var Pe,ze=this;return"#<"+ze.$class()+"@"+ze.$object_id()+" {list_context: "+ze.$parent().$context().$inspect()+", text: "+ze.text.$inspect()+", blocks: "+(oe(Pe=ze.blocks)?Pe:[]).$size()+"}>"},L.$$arity=0)},Opal.modules["asciidoctor/parser"]=function(e){function l(j,h){return"number"==typeof j&&"number"==typeof h?j-h:j["$-"](h)}function O(j,h){return"number"==typeof j&&"number"==typeof h?j+h:j["$+"](h)}function xe(j,h){return"number"==typeof j&&"number"==typeof h?j<h:j["$<"](h)}function Xe(j,h){return"number"==typeof j&&"number"==typeof h?j>h:j["$>"](h)}function ie(j,h){return"number"==typeof j&&"number"==typeof h?j*h:j["$*"](h)}var h,N,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be,je,Fe,Ke,we,ot,at,vt,Dt,x,f,w,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,b=e.module,_=e.klass,c=e.send,t=e.truthy,s=e.hash2,i=e.gvars;return e.add_stubs(["$include","$new","$proc","$start_with?","$match?","$is_delimited_block?","$private_class_method","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$skip_blank_lines","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$[]=","$-","$finalize_header","$nil_or_empty?","$title=","$sourcemap","$cursor","$parse_section_title","$id=","$include?","$sub_specialchars","$sub_attributes","$source_location=","$header","$attribute_locked?","$id","$clear","$delete","$instance_variable_get","$parse_header_metadata","$==","$!","$register","$process_authors","$update","$doctype","$parse_manpage_header","$=~","$downcase","$error","$logger","$message_with_context","$cursor_at_line","$backend","$save","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$lstrip","$split","$title","$restore_save","$discard_save","$context","$empty?","$header?","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$<","$>","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$source_location","$merge","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$debug?","$debug","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$uniform?","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$each","$raise","$title?","$update_attributes","$commit_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$advance","$dup","$match","$callout_ids","$next_list","$catalog_inline_anchor","$marker=","$catalog_inline_biblio_anchor","$set_option","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$concat","$find","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$peek_lines","$setext_section_title?","$abs","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$apply_header_subs","$rstrip","$each_with_index","$compact","$to_h","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$pre_match","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$partition","$shorthand_property_syntax","$each_char","$yield_buffered_attribute","$any?","$*","$each_byte","$%"]),h=$e,N=w=[b($e[0],"Asciidoctor")].concat(h),x=_(w[0],null,"Parser"),f=[x].concat(N),x.$include(y(f,"Logging")),e.const_set(f[0],"BlockMatchData",y(f,"Struct").$new("context","masq","tip","terminator")),e.const_set(f[0],"TAB","\t"),e.const_set(f[0],"TabIndentRx",/^\t+/),e.const_set(f[0],"StartOfBlockProc",c(x,"proc",[],((L=function(bt){var Ee,fe,ce=L.$$s||this;return null==bt&&(bt=$),t(Ee=t(fe=bt["$start_with?"]("["))?y(f,"BlockAttributeLineRx")["$match?"](bt):fe)?Ee:ce["$is_delimited_block?"](bt)}).$$s=x,L.$$arity=1,L))),e.const_set(f[0],"StartOfListProc",c(x,"proc",[],((ae=function(bt){return null==bt&&(bt=$),y(f,"AnyListRx")["$match?"](bt)}).$$s=x,ae.$$arity=1,ae))),e.const_set(f[0],"StartOfBlockOrListProc",c(x,"proc",[],((Pe=function(bt){var Ee,fe,o;return null==bt&&(bt=$),t(Ee=t(fe=(Pe.$$s||this)["$is_delimited_block?"](bt))?fe:t(o=bt["$start_with?"]("["))?y(f,"BlockAttributeLineRx")["$match?"](bt):o)?Ee:y(f,"AnyListRx")["$match?"](bt)}).$$s=x,Pe.$$arity=1,Pe))),e.const_set(f[0],"NoOp",$),e.const_set(f[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),e.const_set(f[0],"TableCellHorzAlignments",s(["<",">","^"],{"<":"left",">":"right","^":"center"})),e.const_set(f[0],"TableCellVertAlignments",s(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),e.const_set(f[0],"TableCellStyles",s(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),x.$private_class_method("new"),e.defs(x,"$parse",ze=function(ce,Ee,fe){var H,Y,k,ne=$,a=$;if(null==fe&&(fe=s([],{})),ne=this.$parse_document_header(ce,Ee,k=fe["$[]"]("header_only")),!t(k))for(;t(ce["$has_more_lines?"]());)Y=this.$next_section(ce,Ee,ne),ne=(H=e.to_ary(Y))[1]??$,t(a=H[0]??$)&&(Ee.$assign_numeral(a),Ee.$blocks()["$<<"](a));return Ee},ze.$$arity=-3),e.defs(x,"$parse_document_header",le=function(ce,Ee,fe){var o,H,k,Y=this,Q=$,ne=$,a=$,E=$,T=$,M=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return null==fe&&(fe=!1),Q=t(ce.$skip_blank_lines())?Y.$parse_block_metadata_lines(ce,Ee):s([],{}),ne=Ee.$attributes(),t(t(o=k=Y["$is_next_line_doctitle?"](ce,Q,ne["$[]"]("leveloffset")))?Q["$[]"]("title"):o)?(c(ne,"[]=",e.to_a(a=["authorcount",0])),l(a.length,1),Ee.$finalize_header(Q,!1)):(t((E=ne["$[]"]("doctitle"))["$nil_or_empty?"]())||(a=[T=E],c(Ee,"title=",e.to_a(a)),l(a.length,1)),t(k)?(t(Ee.$sourcemap())&&(M=ce.$cursor()),H=Y.$parse_section_title(ce,Ee),o=e.to_ary(H),Ee["$id="](o[0]??$),X=o[2]??$,Ae=o[4]??$,t(T)?X=$:(c(Ee,"title=",e.to_a(a=[X])),l(a.length,1),t((a=["doctitle",T=Ee.$sub_specialchars(X)],c(ne,"[]=",e.to_a(a)),a[l(a.length,1)])["$include?"](y(f,"ATTR_REF_HEAD")))&&(a=["doctitle",T=Ee.$sub_attributes(T,s(["attribute_missing"],{attribute_missing:"skip"}))],c(ne,"[]=",e.to_a(a)),l(a.length,1))),t(M)&&(a=[M],c(Ee.$header(),"source_location=",e.to_a(a)),l(a.length,1)),t(t(o=Ae)?o:Ee["$attribute_locked?"]("compat-mode"))||(c(ne,"[]=",e.to_a(a=["compat-mode",""])),l(a.length,1)),t(me=Q["$[]"]("separator"))&&(t(Ee["$attribute_locked?"]("title-separator"))||(c(ne,"[]=",e.to_a(a=["title-separator",me])),l(a.length,1))),t(mt=Q["$[]"]("id"))?(c(Ee,"id=",e.to_a(a=[mt])),l(a.length,1)):mt=Ee.$id(),t(dt=Q["$[]"]("role"))&&(c(ne,"[]=",e.to_a(a=["role",dt])),l(a.length,1)),t(He=Q["$[]"]("reftext"))&&(c(ne,"[]=",e.to_a(a=["reftext",He])),l(a.length,1)),Q.$clear(),(kt=Ee.$instance_variable_get("@attributes_modified")).$delete("doctitle"),Y.$parse_header_metadata(ce,Ee,$),t(kt["$include?"]("doctitle"))?t(t(o=(E=ne["$[]"]("doctitle"))["$nil_or_empty?"]())?o:E["$=="](T))?(c(ne,"[]=",e.to_a(a=["doctitle",T])),l(a.length,1)):(c(Ee,"title=",e.to_a(a=[E])),l(a.length,1)):t(X["$!"]())&&kt["$<<"]("doctitle"),t(mt)&&Ee.$register("refs",[mt,Ee])):t($t=ne["$[]"]("author"))?(Tt=Y.$process_authors($t,!0,!1),t(ne["$[]"]("authorinitials"))&&Tt.$delete("authorinitials"),ne.$update(Tt)):t($t=ne["$[]"]("authors"))?(Tt=Y.$process_authors($t,!0),ne.$update(Tt)):(c(ne,"[]=",e.to_a(a=["authorcount",0])),l(a.length,1)),Ee.$doctype()["$=="]("manpage")&&Y.$parse_manpage_header(ce,Ee,Q,fe),Ee.$finalize_header(Q))},le.$$arity=-3),e.defs(x,"$parse_manpage_header",S=function(ce,Ee,fe,o){var H,Y,Q,ne,k=this,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$;return null==o&&(o=!1),t(y(f,"ManpageTitleVolnumRx")["$=~"]((a=Ee.$attributes())["$[]"]("doctitle")))?(E=["manvolnum",T=(H=i["~"])===$?$:H["$[]"](2)],c(a,"[]=",e.to_a(E)),l(E.length,1),E=["mantitle",(t((M=(H=i["~"])===$?$:H["$[]"](1))["$include?"](y(f,"ATTR_REF_HEAD")))?Ee.$sub_attributes(M):M).$downcase()],c(a,"[]=",e.to_a(E)),l(E.length,1)):(k.$logger().$error(k.$message_with_context("non-conforming manpage title",s(["source_location"],{source_location:ce.$cursor_at_line(1)}))),E=["mantitle",t(H=t(Y=a["$[]"]("doctitle"))?Y:a["$[]"]("docname"))?H:"command"],c(a,"[]=",e.to_a(E)),l(E.length,1),E=["manvolnum",T="1"],c(a,"[]=",e.to_a(E)),l(E.length,1)),t(t(H=te=a["$[]"]("manname"))?a["$[]"]("manpurpose"):H)?(t(H=a["$[]"]("manname-title"))||(c(a,"[]=",e.to_a(E=["manname-title","Name"])),l(E.length,1)),c(a,"[]=",e.to_a(E=["mannames",[te]])),l(E.length,1),Ee.$backend()["$=="]("manpage")&&(c(a,"[]=",e.to_a(E=["docname",te])),l(E.length,1),c(a,"[]=",e.to_a(E=["outfilesuffix","."+T])),l(E.length,1))):t(o)||(ce.$skip_blank_lines(),ce.$save(),fe.$update(k.$parse_block_metadata_lines(ce,Ee)),t(X=k["$is_next_line_section?"](ce,s([],{})))?X["$=="](1)?(Ae=k.$initialize_section(ce,Ee,s([],{})),me=c(ce.$read_lines_until(s(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(Q=function(kt){return null==kt&&(kt=$),kt.$lstrip()},Q.$$s=k,Q.$$arity=1,Q)).$join(" "),t(y(f,"ManpageNamePurposeRx")["$=~"](me))?(t((te=(H=i["~"])===$?$:H["$[]"](1))["$include?"](y(f,"ATTR_REF_HEAD")))&&(te=Ee.$sub_attributes(te)),t(te["$include?"](","))?te=(mt=c(te.$split(","),"map",[],(ne=function(kt){return null==kt&&(kt=$),kt.$lstrip()},ne.$$s=k,ne.$$arity=1,ne)))["$[]"](0):mt=[te],t((dt=(H=i["~"])===$?$:H["$[]"](2))["$include?"](y(f,"ATTR_REF_HEAD")))&&(dt=Ee.$sub_attributes(dt)),t(H=a["$[]"]("manname-title"))||(E=["manname-title",Ae.$title()],c(a,"[]=",e.to_a(E)),l(E.length,1)),t(Ae.$id())&&(E=["manname-id",Ae.$id()],c(a,"[]=",e.to_a(E)),l(E.length,1)),c(a,"[]=",e.to_a(E=["manname",te])),l(E.length,1),c(a,"[]=",e.to_a(E=["mannames",mt])),l(E.length,1),c(a,"[]=",e.to_a(E=["manpurpose",dt])),l(E.length,1),Ee.$backend()["$=="]("manpage")&&(c(a,"[]=",e.to_a(E=["docname",te])),l(E.length,1),c(a,"[]=",e.to_a(E=["outfilesuffix","."+T])),l(E.length,1))):He="non-conforming name section body"):He="name section must be at level 1":He="name section expected",t(He)?(ce.$restore_save(),k.$logger().$error(k.$message_with_context(He,s(["source_location"],{source_location:ce.$cursor()}))),E=["manname",te=t(H=a["$[]"]("docname"))?H:"command"],c(a,"[]=",e.to_a(E)),l(E.length,1),c(a,"[]=",e.to_a(E=["mannames",[te]])),l(E.length,1),Ee.$backend()["$=="]("manpage")&&(c(a,"[]=",e.to_a(E=["docname",te])),l(E.length,1),c(a,"[]=",e.to_a(E=["outfilesuffix","."+T])),l(E.length,1))):ce.$discard_save()),$},S.$$arity=-4),e.defs(x,"$next_section",d=function(ce,Ee,fe){var o,H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$;for(null==fe&&(fe=s([],{})),k=a=E=!1,t(t(o=(H=Ee.$context()["$=="]("document"))?Ee.$blocks()["$empty?"]():Ee.$context()["$=="]("document"))?t(H=t(Y=T=Ee["$header?"]())?Y:fe.$delete("invalid-header"))?H:ne["$is_next_line_section?"](ce,fe)["$!"]():o)?(M=(te=Ee).$doctype()["$=="]("book"),t(t(o=T)?o:t(H=M)?fe["$[]"](1)["$!="]("abstract"):H)&&(k=a=y(f,"Block").$new(Ee,"preamble",s(["content_model"],{content_model:"compound"})),t(t(o=M)?Ee["$attr?"]("preface-title"):o)&&(X=[Ee.$attr("preface-title")],c(k,"title=",e.to_a(X)),l(X.length,1)),Ee.$blocks()["$<<"](k)),Ae=Ee,me=0,t(Ee.$attributes()["$key?"]("fragment"))?mt=-1:t(M)?(mt=(o=[1,0])[0],dt=o[1]):mt=1):(M=(te=Ee.$document()).$doctype()["$=="]("book"),Ae=ne.$initialize_section(ce,Ee,fe),fe=t(He=fe["$[]"]("title"))?s(["title"],{title:He}):s([],{}),mt=O(me=Ae.$level(),1),me["$=="](0)?E=M:t((o=me["$=="](1))?Ae.$special():me["$=="](1))&&(t(t(o=t(H=(kt=Ae.$sectname())["$=="]("appendix"))?H:kt["$=="]("preface"))?o:kt["$=="]("abstract"))||(mt=$))),ce.$skip_blank_lines();t(ce["$has_more_lines?"]());){if(ne.$parse_block_metadata_lines(ce,te,fe),t($t=ne["$is_next_line_section?"](ce,fe)))if(t(te["$attr?"]("leveloffset"))&&($t=O($t,te.$attr("leveloffset").$to_i()),t(xe($t,0))&&($t=0)),t(Xe($t,me)))t(mt)?t(t(H=t(Y=$t["$=="](mt))?Y:t(Q=dt)?$t["$=="](dt):Q)?H:xe(mt,0))||(Tt=t(dt)?"expected levels "+dt+" or "+mt:"expected level "+mt,ne.$logger().$warn(ne.$message_with_context("section title out of sequence: "+Tt+", got level "+$t,s(["source_location"],{source_location:ce.$cursor()})))):ne.$logger().$error(ne.$message_with_context(kt+" sections do not support nested sections",s(["source_location"],{source_location:ce.$cursor()}))),Y=ne.$next_section(ce,Ae,fe),fe=(H=e.to_ary(Y))[1]??$,Ae.$assign_numeral(rt=H[0]??$),Ae.$blocks()["$<<"](rt);else{if(!t((H=$t["$=="](0))?Ae["$=="](te):$t["$=="](0)))break;t(M)||ne.$logger().$error(ne.$message_with_context("level 0 sections can only be used when doctype is book",s(["source_location"],{source_location:ce.$cursor()}))),Y=ne.$next_section(ce,Ae,fe),fe=(H=e.to_ary(Y))[1]??$,Ae.$assign_numeral(rt=H[0]??$),Ae.$blocks()["$<<"](rt)}else Lt=ce.$cursor(),t(Yt=ne.$next_block(ce,t(H=a)?H:Ae,fe,s(["parse_metadata"],{parse_metadata:!1})))&&(t(E)&&(t(Ae["$blocks?"]()["$!"]())?t(Yt.$style()["$!="]("partintro"))&&(Yt.$context()["$=="]("paragraph")?(c(Yt,"context=",e.to_a(X=["open"])),l(X.length,1),c(Yt,"style=",e.to_a(X=["partintro"])),l(X.length,1)):(X=[a=y(f,"Block").$new(Ae,"open",s(["content_model"],{content_model:"compound"}))],c(Yt,"parent=",e.to_a(X)),l(X.length,1),c(a,"style=",e.to_a(X=["partintro"])),l(X.length,1),Ae.$blocks()["$<<"](a))):Ae.$blocks().$size()["$=="](1)&&(_t=Ae.$blocks()["$[]"](0),t(t(H=a["$!"]())?_t.$content_model()["$=="]("compound"):H)?ne.$logger().$error(ne.$message_with_context("illegal block content outside of partintro block",s(["source_location"],{source_location:Lt}))):t(_t.$content_model()["$!="]("compound"))&&(X=[a=y(f,"Block").$new(Ae,"open",s(["content_model"],{content_model:"compound"}))],c(Yt,"parent=",e.to_a(X)),l(X.length,1),c(a,"style=",e.to_a(X=["partintro"])),l(X.length,1),Ae.$blocks().$shift(),_t.$style()["$=="]("partintro")&&(c(_t,"context=",e.to_a(X=["paragraph"])),l(X.length,1),c(_t,"style=",e.to_a(X=[$])),l(X.length,1)),a["$<<"](_t),Ae.$blocks()["$<<"](a)))),(t(H=a)?H:Ae).$blocks()["$<<"](Yt),fe.$clear());if(!t(H=ce.$skip_blank_lines()))break}if(t(E))t(t(o=Ae["$blocks?"]())?Ae.$blocks()["$[]"](-1).$context()["$=="]("section"):o)||ne.$logger().$error(ne.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",s(["source_location"],{source_location:ce.$cursor()})));else if(t(k))if(t(k["$blocks?"]()))if(t(t(o=t(H=M)?H:te.$blocks()["$[]"](1))?o:y(f,"Compliance").$unwrap_standalone_preamble()["$!"]()))t(te.$sourcemap())&&(X=[k.$blocks()["$[]"](0).$source_location()],c(k,"source_location=",e.to_a(X)),l(X.length,1));else for(te.$blocks().$shift();t(Zt=k.$blocks().$shift());)te["$<<"](Zt);else te.$blocks().$shift();return[Ae["$=="](Ee)?$:Ae,fe.$merge()]},d.$$arity=-3),e.defs(x,"$next_block",m=function(ce,Ee,fe,o){try{var H,Y,Q,ne,k,a,E,Nr,T=this,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$,rr=$,nr=$,sr=$,tr=$,hr=$,fr=$,mr=$,ir=$,pr=$,vr=$,br=$,yr=$,ur=$,_r=$,xr=$,lr=$,Ar=$,Tr=$,Ir=$,qr=$,dr=$,Lr=$,Cr=$,kr=$,Sr=$,Rr=$,wr=$,zr=$,Dr=$,Fr=$,Br=$,Mr=$;if(null==i["~"]&&(i["~"]=$),null==fe&&(fe=s([],{})),null==o&&(o=s([],{})),!t(M=ce.$skip_blank_lines()))return $;if(t(t(H=te=o["$[]"]("text_only"))?Xe(M,0):H)&&(o.$delete("text_only"),te=$),X=Ee.$document(),t(o.$fetch("parse_metadata",!0)))for(;t(T.$parse_block_metadata_line(ce,X,fe,o));)ce.$shift(),t(Y=ce.$skip_blank_lines())||e.ret($);if(t(Ae=X.$extensions())&&(me=(H=[Ae["$blocks?"](),Ae["$block_macros?"]()])[0],mt=H[1]),ce.$mark(),He=(H=[ce.$read_line(),X.$attributes(),fe["$[]"](1)])[1],kt=H[2],$t=Tt=rt=Lt=$,t(Yt=T["$is_delimited_block?"](dt=H[0],!0))&&(Tt=rt=Yt.$context(),Lt=Yt.$terminator(),t(kt)?kt["$=="](Tt.$to_s())||(t(Yt.$masq()["$include?"](kt))?Tt=kt.$to_sym():t(t(H=Yt.$masq()["$include?"]("admonition"))?y(f,"ADMONITION_STYLES")["$include?"](kt):H)?Tt="admonition":t(t(H=me)?Ae["$registered_for_block?"](kt,Tt):H)?Tt=kt.$to_sym():(t(T.$logger()["$debug?"]())&&T.$logger().$debug(T.$message_with_context("unknown style for "+Tt+" block: "+kt,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),kt=Tt.$to_s())):(_t=["style",Tt.$to_s()],c(fe,"[]=",e.to_a(_t)),kt=_t[l(_t.length,1)])),!t(Yt))for(;t(!0);){if(t(t(Y=t(Q=kt)?y(f,"Compliance").$strict_verbatim_paragraphs():Q)?y(f,"VERBATIM_STYLES")["$include?"](kt):Y)){Tt=kt.$to_sym(),ce.$unshift_line(dt);break}if(t(te))Zt=dt["$start_with?"](" ",y(f,"TAB"));else if(rr=y(f,"Compliance").$markdown_syntax(),t(dt["$start_with?"](" "))){if(Zt=(Y=[!0," "])[0],nr=Y[1],t(t(Y=t(Q=rr)?c(dt.$lstrip(),"start_with?",e.to_a(y(f,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):Q)?y(f,"MarkdownThematicBreakRx")["$match?"](dt):Y)){$t=y(f,"Block").$new(Ee,"thematic_break",s(["content_model"],{content_model:"empty"}));break}}else if(t(dt["$start_with?"](y(f,"TAB"))))Zt=(Y=[!0,y(f,"TAB")])[0],nr=Y[1];else{if(Zt=(Y=[!1,dt.$chr()])[0],nr=Y[1],sr=t(rr)?y(f,"HYBRID_LAYOUT_BREAK_CHARS"):y(f,"LAYOUT_BREAK_CHARS"),t(t(Y=sr["$key?"](nr))?t(rr)?y(f,"ExtLayoutBreakRx")["$match?"](dt):t(Q=T["$uniform?"](dt,nr,tr=dt.$length()))?Xe(tr,2):Q:Y)){$t=y(f,"Block").$new(Ee,sr["$[]"](nr),s(["content_model"],{content_model:"empty"}));break}if(t(t(Y=dt["$end_with?"]("]"))?dt["$include?"]("::"):Y)){if(t(t(Y=t(Q=nr["$=="]("i"))?Q:dt["$start_with?"]("video:","audio:"))?y(f,"BlockMediaMacroRx")["$=~"](dt):Y)){if(hr=(Y=[((Q=i["~"])===$?$:Q["$[]"](1)).$to_sym(),(Q=i["~"])===$?$:Q["$[]"](2),(Q=i["~"])===$?$:Q["$[]"](3)])[0],fr=Y[1],mr=Y[2],$t=y(f,"Block").$new(Ee,hr,s(["content_model"],{content_model:"empty"})),t(mr)&&(pr="video"["$==="](ir=hr)?["poster","width","height"]:"audio"["$==="](ir)?[]:["alt","width","height"],$t.$parse_attributes(mr,pr,s(["sub_input","into"],{sub_input:!0,into:fe}))),t(fe["$key?"]("style"))&&fe.$delete("style"),t(fr["$include?"](y(f,"ATTR_REF_HEAD")))){if(t(t(Y=t(Q=(vr=$t.$sub_attributes(fr))["$empty?"]())?(t(ne=He["$[]"]("attribute-missing"))?ne:y(f,"Compliance").$attribute_missing())["$=="]("drop-line"):Q)?$t.$sub_attributes(O(fr," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Y))return fe.$clear(),$;fr=vr}hr["$=="]("image")&&(X.$register("images",fr),_t=["imagesdir",He["$[]"]("imagesdir")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1),t(Y=fe["$[]"]("alt"))||(_t=["alt",t(Q=kt)?Q:(_t=["default-alt",y(f,"Helpers").$basename(fr,!0).$tr("_-"," ")],c(fe,"[]=",e.to_a(_t)),_t[l(_t.length,1)])],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),t((br=fe.$delete("scaledwidth"))["$nil_or_empty?"]())||(_t=["scaledwidth",t(y(f,"TrailingDigitsRx")["$match?"](br))?br+"%":br],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),t(fe["$[]"]("title"))&&(_t=[yr=fe.$delete("title")],c($t,"title=",e.to_a(_t)),l(_t.length,1),$t.$assign_caption(fe.$delete("caption"),"figure"))),c(fe,"[]=",e.to_a(_t=["target",fr])),l(_t.length,1);break}if(t(t(Y=(Q=nr["$=="]("t"))?dt["$start_with?"]("toc:"):nr["$=="]("t"))?y(f,"BlockTocMacroRx")["$=~"](dt):Y)){$t=y(f,"Block").$new(Ee,"toc",s(["content_model"],{content_model:"empty"})),t((Y=i["~"])===$?$:Y["$[]"](1))&&$t.$parse_attributes((Y=i["~"])===$?$:Y["$[]"](1),[],s(["into"],{into:fe}));break}if(t(t(mt)?t(Y=t(Q=y(f,"CustomBlockMacroRx")["$=~"](dt))?ur=Ae["$registered_for_block_macro?"]((ne=i["~"])===$?$:ne["$[]"](1)):Q)?Y:_r=T.$logger()["$debug?"]():t(Y=T.$logger()["$debug?"]())?_r=y(f,"CustomBlockMacroRx")["$=~"](dt):Y)){if(!t(_r)){if(xr=(Y=i["~"])===$?$:Y["$[]"](3),t((fr=(Y=i["~"])===$?$:Y["$[]"](2))["$include?"](y(f,"ATTR_REF_HEAD")))){if(t(t(Y=t(Q=(vr=Ee.$sub_attributes(fr))["$empty?"]())?(t(ne=He["$[]"]("attribute-missing"))?ne:y(f,"Compliance").$attribute_missing())["$=="]("drop-line"):Q)?Ee.$sub_attributes(O(fr," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Y))return fe.$clear(),$;fr=vr}if((lr=ur.$config())["$[]"]("content_model")["$=="]("attributes")?t(xr)&&X.$parse_attributes(xr,t(Y=t(Q=lr["$[]"]("positional_attrs"))?Q:lr["$[]"]("pos_attrs"))?Y:[],s(["sub_input","into"],{sub_input:!0,into:fe})):(_t=["text",t(Y=xr)?Y:""],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),t(Ar=lr["$[]"]("default_attrs"))&&c(fe,"update",[Ar],((k=function(gr,Er){return null==gr&&(gr=$),null==Er&&(Er=$),Er}).$$s=T,k.$$arity=2,k)),t(t(Y=$t=ur.$process_method()["$[]"](Ee,fr,fe))?$t["$!="](Ee):Y)){fe.$replace($t.$attributes());break}return fe.$clear(),$}T.$logger().$debug(T.$message_with_context("unknown name for block macro: "+((Y=i["~"])===$?$:Y["$[]"](1)),s(["source_location"],{source_location:ce.$cursor_at_mark()})))}}}if(t(t(Y=t(Q=Zt["$!"]())?(nr=t(ne=nr)?ne:dt.$chr())["$=="]("<"):Q)?y(f,"CalloutListRx")["$=~"](dt):Y)){ce.$unshift_line(dt),$t=T.$parse_callout_list(ce,i["~"],Ee,X.$callouts()),c(fe,"[]=",e.to_a(_t=["style","arabic"])),l(_t.length,1);break}if(t(y(f,"UnorderedListRx")["$match?"](dt))){ce.$unshift_line(dt),t(t(Y=t(Q=kt["$!"]())?y(f,"Section")["$==="](Ee):Q)?Ee.$sectname()["$=="]("bibliography"):Y)&&(_t=["style",kt="bibliography"],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),$t=T.$parse_list(ce,"ulist",Ee,kt);break}if(t(y(f,"OrderedListRx")["$match?"](dt))){ce.$unshift_line(dt),$t=T.$parse_list(ce,"olist",Ee,kt),t($t.$style())&&(_t=["style",$t.$style()],c(fe,"[]=",e.to_a(_t)),l(_t.length,1));break}if(t(t(Y=t(Q=dt["$include?"]("::"))?Q:dt["$include?"](";;"))?y(f,"DescriptionListRx")["$=~"](dt):Y)){ce.$unshift_line(dt),$t=T.$parse_description_list(ce,i["~"],Ee);break}if(t(t(Y=t(Q=kt["$=="]("float"))?Q:kt["$=="]("discrete"))?t(y(f,"Compliance").$underline_style_section_titles())?T["$is_section_title?"](dt,ce.$peek_line()):t(Q=Zt["$!"]())?T["$atx_section_title?"](dt):Q:Y)){ce.$unshift_line(dt),Q=T.$parse_section_title(ce,X,fe["$[]"]("id")),Tr=(Y=e.to_ary(Q))[0]??$,yr=Y[2]??$,qr=Y[3]??$,t(Ir=Y[1]??$)&&(c(fe,"[]=",e.to_a(_t=["reftext",Ir])),l(_t.length,1)),$t=y(f,"Block").$new(Ee,"floating_title",s(["content_model"],{content_model:"empty"})),c($t,"title=",e.to_a(_t=[yr])),l(_t.length,1),fe.$delete("title"),_t=[t(Y=Tr)?Y:t(He["$key?"]("sectids"))?y(f,"Section").$generate_id($t.$title(),X):$],c($t,"id=",e.to_a(_t)),l(_t.length,1),c($t,"level=",e.to_a(_t=[qr])),l(_t.length,1);break}if(t(t(Y=kt)?kt["$!="]("normal"):Y)){if(t(y(f,"PARAGRAPH_STYLES")["$include?"](kt))){Tt=kt.$to_sym(),rt="paragraph",ce.$unshift_line(dt);break}if(t(y(f,"ADMONITION_STYLES")["$include?"](kt))){Tt="admonition",rt="paragraph",ce.$unshift_line(dt);break}if(t(t(Y=me)?Ae["$registered_for_block?"](kt,"paragraph"):Y)){Tt=kt.$to_sym(),rt="paragraph",ce.$unshift_line(dt);break}t(T.$logger()["$debug?"]())&&T.$logger().$debug(T.$message_with_context("unknown style for paragraph: "+kt,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),kt=$}if(ce.$unshift_line(dt),t(t(Y=Zt)?kt["$!"]():Y))dr=T.$read_paragraph_lines(ce,Lr=M["$=="](0)?o["$[]"]("list_type"):$,s(["skip_line_comments"],{skip_line_comments:te})),T["$adjust_indentation!"](dr),$t=t(t(Y=te)?Y:Lr["$=="]("dlist"))?y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe})):y(f,"Block").$new(Ee,"literal",s(["content_model","source","attributes"],{content_model:"verbatim",source:dr,attributes:fe}));else{if(dr=T.$read_paragraph_lines(ce,(Y=M["$=="](0))?o["$[]"]("list_type"):M["$=="](0),s(["skip_line_comments"],{skip_line_comments:!0})),t(te))t(t(Y=Zt)?kt["$=="]("normal"):Y)&&T["$adjust_indentation!"](dr),$t=y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));else if(t(t(Y=t(Q=y(f,"ADMONITION_STYLE_HEADS")["$include?"](nr))?dt["$include?"](":"):Q)?y(f,"AdmonitionParagraphRx")["$=~"](dt):Y))_t=[0,(Y=i["~"])===$?$:Y.$post_match()],c(dr,"[]=",e.to_a(_t)),l(_t.length,1),_t=["name",Cr=(_t=["style",(Y=i["~"])===$?$:Y["$[]"](1)],c(fe,"[]=",e.to_a(_t)),_t[l(_t.length,1)]).$downcase()],c(fe,"[]=",e.to_a(_t)),l(_t.length,1),_t=["textlabel",t(Y=fe.$delete("caption"))?Y:He["$[]"](Cr+"-caption")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1),$t=y(f,"Block").$new(Ee,"admonition",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));else if(t(t(Y=t(Q=rr)?nr["$=="](">"):Q)?dt["$start_with?"]("> "):Y)){if(c(dr,"map!",[],((a=function(gr){return null==gr&&(gr=$),gr["$=="](">")?gr.$slice(1,gr.$length()):t(gr["$start_with?"]("> "))?gr.$slice(2,gr.$length()):gr}).$$s=T,a.$$arity=1,a)),t(dr["$[]"](-1)["$start_with?"]("-- "))&&(kr=(kr=dr.$pop()).$slice(3,kr.$length()),!t(dr["$empty?"]())))for(;t(dr["$[]"](-1)["$empty?"]());)dr.$pop();c(fe,"[]=",e.to_a(_t=["style","quote"])),l(_t.length,1),$t=T.$build_block("quote","compound",!1,Ee,y(f,"Reader").$new(dr),fe),t(kr)&&(Q=$t.$apply_subs(kr).$split(", ",2),Rr=(Y=e.to_ary(Q))[1]??$,t(Sr=Y[0]??$)&&(c(fe,"[]=",e.to_a(_t=["attribution",Sr])),l(_t.length,1)),t(Rr)&&(c(fe,"[]=",e.to_a(_t=["citetitle",Rr])),l(_t.length,1)))}else if(t(t(Y=t(Q=(ne=nr["$=="]('"'))?Xe(dr.$size(),1):nr["$=="]('"'))?dr["$[]"](-1)["$start_with?"]("-- "):Q)?dr["$[]"](-2)["$end_with?"]('"'):Y)){for(_t=[0,dt.$slice(1,dt.$length())],c(dr,"[]=",e.to_a(_t)),l(_t.length,1),kr=(kr=dr.$pop()).$slice(3,kr.$length());t(dr["$[]"](-1)["$empty?"]());)dr.$pop();dr["$<<"](dr.$pop().$chop()),c(fe,"[]=",e.to_a(_t=["style","quote"])),l(_t.length,1),Q=($t=y(f,"Block").$new(Ee,"quote",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}))).$apply_subs(kr).$split(", ",2),Rr=(Y=e.to_ary(Q))[1]??$,t(Sr=Y[0]??$)&&(c(fe,"[]=",e.to_a(_t=["attribution",Sr])),l(_t.length,1)),t(Rr)&&(c(fe,"[]=",e.to_a(_t=["citetitle",Rr])),l(_t.length,1))}else t(t(Y=Zt)?kt["$=="]("normal"):Y)&&T["$adjust_indentation!"](dr),$t=y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));T.$catalog_inline_anchors(dr.$join(y(f,"LF")),$t,X,ce)}break}if(!t($t))if("listing"["$==="](ir=Tt)||"source"["$==="](ir))t(t(H=Tt["$=="]("source"))?H:t(Y=fe["$[]"](1)["$!"]())?wr=t(Q=fe["$[]"](2))?Q:He["$[]"]("source-language"):Y)&&(t(wr)?(c(fe,"[]=",e.to_a(_t=["style","source"])),l(_t.length,1),c(fe,"[]=",e.to_a(_t=["language",wr])),l(_t.length,1),y(f,"AttributeList").$rekey(fe,[$,$,"linenums"])):(y(f,"AttributeList").$rekey(fe,[$,"language","linenums"]),t(fe["$key?"]("language"))||t(He["$key?"]("source-language"))&&(_t=["language",He["$[]"]("source-language")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1))),t(fe["$key?"]("linenums"))||t(t(H=fe["$[]"]("linenums-option"))?H:He["$[]"]("source-linenums-option"))&&(c(fe,"[]=",e.to_a(_t=["linenums",""])),l(_t.length,1)),t(fe["$key?"]("indent"))||t(He["$key?"]("source-indent"))&&(_t=["indent",He["$[]"]("source-indent")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1))),$t=T.$build_block("listing","verbatim",Lt,Ee,ce,fe);else if("fenced_code"["$==="](ir))c(fe,"[]=",e.to_a(_t=["style","source"])),l(_t.length,1),t(Xe(tr=dt.$length(),3))&&(t(zr=(wr=dt.$slice(3,tr)).$index(","))?t(Xe(zr,0))?(wr=wr.$slice(0,zr).$strip(),t(xe(zr,l(tr,4)))&&(c(fe,"[]=",e.to_a(_t=["linenums",""])),l(_t.length,1))):t(Xe(tr,4))&&(c(fe,"[]=",e.to_a(_t=["linenums",""])),l(_t.length,1)):wr=wr.$lstrip()),t(wr["$nil_or_empty?"]())?t(He["$key?"]("source-language"))&&(_t=["language",He["$[]"]("source-language")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)):(c(fe,"[]=",e.to_a(_t=["language",wr])),l(_t.length,1)),t(fe["$key?"]("linenums"))||t(t(H=fe["$[]"]("linenums-option"))?H:He["$[]"]("source-linenums-option"))&&(c(fe,"[]=",e.to_a(_t=["linenums",""])),l(_t.length,1)),t(fe["$key?"]("indent"))||t(He["$key?"]("source-indent"))&&(_t=["indent",He["$[]"]("source-indent")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),Lt=Lt.$slice(0,3),$t=T.$build_block("listing","verbatim",Lt,Ee,ce,fe);else if("table"["$==="](ir))Dr=ce.$cursor(),Fr=y(f,"Reader").$new(ce.$read_lines_until(s(["terminator","skip_line_comments","context","cursor"],{terminator:Lt,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Dr),t(Lt["$start_with?"]("|","!"))||t(H=fe["$[]"]("format"))||(_t=["format",t(Lt["$start_with?"](","))?"csv":"dsv"],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),$t=T.$parse_table(Fr,Ee,fe);else if("sidebar"["$==="](ir))$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("admonition"["$==="](ir))_t=["name",Cr=kt.$downcase()],c(fe,"[]=",e.to_a(_t)),l(_t.length,1),_t=["textlabel",t(H=fe.$delete("caption"))?H:He["$[]"](Cr+"-caption")],c(fe,"[]=",e.to_a(_t)),l(_t.length,1),$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("open"["$==="](ir)||"abstract"["$==="](ir)||"partintro"["$==="](ir))$t=T.$build_block("open","compound",Lt,Ee,ce,fe);else if("literal"["$==="](ir))$t=T.$build_block(Tt,"verbatim",Lt,Ee,ce,fe);else if("example"["$==="](ir))t(fe["$[]"]("collapsible-option"))&&(c(fe,"[]=",e.to_a(_t=["caption",""])),l(_t.length,1)),$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("quote"["$==="](ir)||"verse"["$==="](ir))y(f,"AttributeList").$rekey(fe,[$,"attribution","citetitle"]),$t=T.$build_block(Tt,Tt["$=="]("verse")?"verbatim":"compound",Lt,Ee,ce,fe);else if("stem"["$==="](ir)||"latexmath"["$==="](ir)||"asciimath"["$==="](ir))Tt["$=="]("stem")&&(_t=["style",y(f,"STEM_TYPE_ALIASES")["$[]"](t(H=fe["$[]"](2))?H:He["$[]"]("stem"))],c(fe,"[]=",e.to_a(_t)),l(_t.length,1)),$t=T.$build_block("stem","raw",Lt,Ee,ce,fe);else if("pass"["$==="](ir))$t=T.$build_block(Tt,"raw",Lt,Ee,ce,fe);else{if("comment"["$==="](ir))return T.$build_block(Tt,"skip",Lt,Ee,ce,fe),fe.$clear(),$;if(t(t(H=me)?ur=Ae["$registered_for_block?"](Tt,rt):H)){if((Br=(lr=ur.$config())["$[]"]("content_model"))["$=="]("skip")||(t((Mr=t(H=lr["$[]"]("positional_attrs"))?H:lr["$[]"]("pos_attrs"))["$nil_or_empty?"]())||y(f,"AttributeList").$rekey(fe,O([$],Mr)),t(Ar=lr["$[]"]("default_attrs"))&&c(Ar,"each",[],((E=function(gr,Er){var Pr;return null==gr&&(gr=$),null==Er&&(Er=$),t(Pr=fe["$[]"](gr))?Pr:(c(fe,"[]=",e.to_a(_t=[gr,Er])),_t[l(_t.length,1)])}).$$s=T,E.$$arity=2,E)),c(fe,"[]=",e.to_a(_t=["cloaked-context",rt])),l(_t.length,1)),!t($t=T.$build_block(Tt,Br,Lt,Ee,ce,fe,s(["extension"],{extension:ur}))))return fe.$clear(),$}else T.$raise("Unsupported block type "+Tt+" at "+ce.$cursor())}return t(X.$sourcemap())&&(_t=[ce.$cursor_at_mark()],c($t,"source_location=",e.to_a(_t)),l(_t.length,1)),t(fe["$[]"]("title"))&&(_t=[yr=fe.$delete("title")],c($t,"title=",e.to_a(_t)),l(_t.length,1),t(y(f,"CAPTION_ATTRIBUTE_NAMES")["$[]"]($t.$context()))&&$t.$assign_caption(fe.$delete("caption"))),_t=[fe["$[]"]("style")],c($t,"style=",e.to_a(_t)),l(_t.length,1),t(Nr=t(H=$t.$id())?H:(_t=[fe["$[]"]("id")],c($t,"id=",e.to_a(_t)),_t[l(_t.length,1)]))&&(t(t(yr)?yr["$include?"](y(f,"ATTR_REF_HEAD")):$t["$title?"]())&&$t.$title(),t(X.$register("refs",[Nr,$t]))||T.$logger().$warn(T.$message_with_context("id assigned to block already in use: "+Nr,s(["source_location"],{source_location:ce.$cursor_at_mark()})))),t(fe["$empty?"]())||$t.$update_attributes(fe),$t.$commit_subs(),t($t["$sub?"]("callouts"))&&(t(T.$catalog_callouts($t.$source(),X))||$t.$remove_sub("callouts")),$t}catch(gr){if(gr===e.returner)return gr.$v;throw gr}},m.$$arity=-3),e.defs(x,"$read_paragraph_lines",p=function(ce,Ee,fe){var H=$,Y=$;return null==fe&&(fe=s([],{})),c(fe,"[]=",e.to_a(H=["break_on_blank_lines",!0])),l(H.length,1),c(fe,"[]=",e.to_a(H=["break_on_list_continuation",!0])),l(H.length,1),c(fe,"[]=",e.to_a(H=["preserve_last_line",!0])),l(H.length,1),Y=t(Ee)?t(y(f,"Compliance").$block_terminates_paragraph())?y(f,"StartOfBlockOrListProc"):y(f,"StartOfListProc"):t(y(f,"Compliance").$block_terminates_paragraph())?y(f,"StartOfBlockProc"):y(f,"NoOp"),c(ce,"read_lines_until",[fe],Y.$to_proc())},p.$$arity=-3),e.defs(x,"$is_delimited_block?",z=function(bt,ce){var Ee,fe,ne,k,H=$,Y=$,Q=$;if(null==ce&&(ce=$),!t(t(Ee=Xe(H=bt.$length(),1))?y(f,"DELIMITED_BLOCK_HEADS")["$[]"](bt.$slice(0,2)):Ee))return $;if(H["$=="](2))Y=bt,Q=2;else if(t(xe(H,5))?(Y=bt,Q=H):Y=bt.$slice(0,Q=4),t(t(Ee=y(f,"Compliance").$markdown_syntax())?Y["$start_with?"]("`"):Ee)){if(Q["$=="](4)){if(t(t(Ee=Y["$=="]("````"))?Ee:(Y=Y.$chop())["$!="]("```")))return $;bt=Y,H=Q=3}else if(t(Y["$!="]("```")))return $}else if(Q["$=="](3))return $;return fe=y(f,"DELIMITED_BLOCKS")["$[]"](Y),k=(Ee=e.to_ary(fe))[1]??$,t(t(Ee=ne=Ee[0]??$)?t(fe=H["$=="](Q))?fe:this["$uniform?"](bt.$slice(1,H),y(f,"DELIMITED_BLOCK_TAILS")["$[]"](Y),l(H,1)):Ee)?!t(ce)||y(f,"BlockMatchData").$new(ne,k,Y,bt):$},z.$$arity=-2),e.defs(x,"$build_block",Z=function(ce,Ee,fe,o,H,Y,Q){var ne,k,a=this,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$;if(null==Q&&(Q=s([],{})),"skip"["$==="](E=Ee)?(T=(ne=[!0,"simple"])[0],M=ne[1]):"raw"["$==="](E)?(T=(ne=[!1,"simple"])[0],M=ne[1]):(T=(ne=[!1,Ee])[0],M=ne[1]),t(fe["$nil?"]())?(M["$=="]("verbatim")?te=H.$read_lines_until(s(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(Ee["$=="]("compound")&&(Ee="simple"),te=a.$read_paragraph_lines(H,!1,s(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:T}))),X=$):t(M["$!="]("compound"))?(te=H.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:fe,skip_processing:T,context:ce,cursor:"at_mark"})),X=$):fe["$=="](!1)?(te=$,X=H):(te=$,Ae=H.$cursor(),X=y(f,"Reader").$new(H.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:fe,skip_processing:T,context:ce,cursor:"at_mark"})),Ae)),"verbatim"["$==="](E=Ee))me=(t(ne=Y["$[]"]("tabsize"))?ne:o.$document().$attributes()["$[]"]("tabsize")).$to_i(),t(mt=Y["$[]"]("indent"))?a["$adjust_indentation!"](te,mt.$to_i(),me):t(Xe(me,0))&&a["$adjust_indentation!"](te,-1,me);else if("skip"["$==="](E))return $;if(t(dt=Q["$[]"]("extension"))){if(Y.$delete("style"),!t(t(ne=He=dt.$process_method()["$[]"](o,t(k=X)?k:y(f,"Reader").$new(te),Y.$merge()))?He["$!="](o):ne))return $;Y.$replace(He.$attributes()),t(t(ne=(k=He.$content_model()["$=="]("compound"))?y(f,"Block")["$==="](He):He.$content_model()["$=="]("compound"))?(te=He.$lines())["$empty?"]()["$!"]():ne)&&(Ee="compound",X=y(f,"Reader").$new(te))}else He=y(f,"Block").$new(o,ce,s(["content_model","source","attributes"],{content_model:Ee,source:te,attributes:Y}));return Ee["$=="]("compound")&&a.$parse_blocks(X,He),He},Z.$$arity=-7),e.defs(x,"$parse_blocks",re=function(ce,Ee,fe){var H,Y,ne=$;if(null==fe&&(fe=$),t(fe))for(;t(t(H=t(Y=ne=this.$next_block(ce,Ee,fe.$merge()))?Ee.$blocks()["$<<"](ne):Y)?H:ce["$has_more_lines?"]()););else for(;t(t(H=t(Y=ne=this.$next_block(ce,Ee))?Ee.$blocks()["$<<"](ne):Y)?H:ce["$has_more_lines?"]()););return $},re.$$arity=-3),e.defs(x,"$parse_list",ye=function(ce,Ee,fe,o){var Y,ne=$,k=$,a=$;for(null==i["~"]&&(i["~"]=$),ne=y(f,"List").$new(fe,Ee),k=y(f,"ListRxMap")["$[]"](Ee);t(t(Y=ce["$has_more_lines?"]())?k["$=~"](ce.$peek_line()):Y)&&(t(a=this.$parse_list_item(ce,ne,i["~"],(Y=i["~"])===$?$:Y["$[]"](1),o))&&ne.$items()["$<<"](a),t(Y=ce.$skip_blank_lines())););return ne},ye.$$arity=4),e.defs(x,"$catalog_callouts",q=function(ce,Ee){var fe,H=$,Y=$;return H=!1,Y=0,t(ce["$include?"]("<"))&&c(ce,"scan",[y(f,"CalloutScanRx")],((fe=function(){var ne;return t(((ne=i["~"])===$?$:ne["$[]"](0))["$start_with?"]("\\"))||Ee.$callouts().$register(((ne=i["~"])===$?$:ne["$[]"](2))["$=="](".")?(Y=O(Y,1)).$to_s():(ne=i["~"])===$?$:ne["$[]"](2)),H=!0}).$$s=this,fe.$$arity=0,fe)),H},q.$$arity=2),e.defs(x,"$catalog_inline_anchor",ee=function(ce,Ee,fe,o,H){var Y;return null==H&&(H=fe.$document()),t(t(Y=Ee)?Ee["$include?"](y(f,"ATTR_REF_HEAD")):Y)&&(Ee=H.$sub_attributes(Ee)),t(H.$register("refs",[ce,y(f,"Inline").$new(fe,"anchor",Ee,s(["type","id"],{type:"ref",id:ce}))]))||(t(y(f,"Reader")["$==="](o))&&(o=o.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+ce,s(["source_location"],{source_location:o})))),$},ee.$$arity=-5),e.defs(x,"$catalog_inline_anchors",V=function(ce,Ee,fe,o){var H,Y;return t(t(H=ce["$include?"]("[["))?H:ce["$include?"]("or:"))&&c(ce,"scan",[y(f,"InlineAnchorScanRx")],((Y=function(){var k,a,E,ne=Y.$$s||this,T=$,M=$,te=$,X=$;if(t(T=(k=i["~"])===$?$:k["$[]"](1))){if(t(t(k=t(a=M=(E=i["~"])===$?$:E["$[]"](2))?M["$include?"](y(f,"ATTR_REF_HEAD")):a)?(M=fe.$sub_attributes(M))["$empty?"]():k))return $}else if(T=(k=i["~"])===$?$:k["$[]"](3),t(M=(k=i["~"])===$?$:k["$[]"](4)))if(t(M["$include?"]("]")))M=M.$gsub("\\]","]"),t(M["$include?"](y(f,"ATTR_REF_HEAD")))&&(M=fe.$sub_attributes(M));else if(t(t(k=M["$include?"](y(f,"ATTR_REF_HEAD")))?(M=fe.$sub_attributes(M))["$empty?"]():k))return $;return t(fe.$register("refs",[T,y(f,"Inline").$new(Ee,"anchor",M,s(["type","id"],{type:"ref",id:T}))]))?$:(te=o.$cursor_at_mark(),t(Xe(X=O(((k=i["~"])===$?$:k.$pre_match()).$count(y(f,"LF")),t(((k=i["~"])===$?$:k["$[]"](0))["$start_with?"](y(f,"LF")))?1:0),0))&&(te=te.$dup()).$advance(X),ne.$logger().$warn(ne.$message_with_context("id assigned to anchor already in use: "+T,s(["source_location"],{source_location:te}))))}).$$s=this,Y.$$arity=0,Y)),$},V.$$arity=4),e.defs(x,"$catalog_inline_biblio_anchor",_e=function(ce,Ee,fe,o){var H;return t(fe.$document().$register("refs",[ce,y(f,"Inline").$new(fe,"anchor",t(H=Ee)?"["+Ee+"]":H,s(["type","id"],{type:"bibref",id:ce}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+ce,s(["source_location"],{source_location:o.$cursor()}))),$},_e.$$arity=4),e.defs(x,"$parse_description_list",Me=function(ce,Ee,fe){var H,Q=$,ne=$,k=$,a=$,E=$;for(null==i["~"]&&(i["~"]=$),Q=y(f,"List").$new(fe,"dlist"),ne=y(f,"DescriptionListSiblingRx")["$[]"](Ee["$[]"](2)),Q.$items()["$<<"](k=this.$parse_list_item(ce,Q,Ee,ne));t(t(H=ce["$has_more_lines?"]())?ne["$=~"](ce.$peek_line()):H);)a=this.$parse_list_item(ce,Q,i["~"],ne),t(k["$[]"](1))?Q.$items()["$<<"](k=a):(k["$[]"](0)["$<<"](a["$[]"](0)["$[]"](0)),E=[1,a["$[]"](1)],c(k,"[]=",e.to_a(E)),l(E.length,1));return Q},Me.$$arity=3),e.defs(x,"$parse_callout_list",Te=function(ce,Ee,fe,o){var Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$;for(k=y(f,"List").$new(fe,"colist"),a=1,E=0;t(t(Y=Ee)?Y:t(Q=Ee=y(f,"CalloutListRx").$match(ce.$peek_line()))?ce.$mark():Q);)(T=Ee["$[]"](1))["$=="](".")&&(T=(E=O(E,1)).$to_s()),T["$=="](a.$to_s())||ne.$logger().$warn(ne.$message_with_context("callout list item index: expected "+a+", got "+T,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),t(M=ne.$parse_list_item(ce,k,Ee,"<1>"))&&(k.$items()["$<<"](M),t((te=o.$callout_ids(k.$items().$size()))["$empty?"]())?ne.$logger().$warn(ne.$message_with_context("no callout found for <"+k.$items().$size()+">",s(["source_location"],{source_location:ce.$cursor_at_mark()}))):(X=["coids",te],c(M.$attributes(),"[]=",e.to_a(X)),l(X.length,1))),a=O(a,1),Ee=$;return o.$next_list(),k},Te.$$arity=4),e.defs(x,"$parse_list_item",et=function(ce,Ee,fe,o,H){var Y,Q,kt,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;if(null==H&&(H=$),(k=Ee.$context())["$=="]("dlist")?(a=!0,E=y(f,"ListItem").$new(Ee,T=fe["$[]"](1)),t(t(Y=T["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](T):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),t(Y=(Q=i["~"])===$?$:Q["$[]"](2))?Y:((Q=i["~"])===$?$:Q.$post_match()).$lstrip(),E,ce),t(M=fe["$[]"](3))&&(te=!0),X=y(f,"ListItem").$new(Ee,M),t(Ee.$document().$sourcemap())&&(Ae=[ce.$cursor()],c(E,"source_location=",e.to_a(Ae)),l(Ae.length,1),t(te)?(Ae=[E.$source_location()],c(X,"source_location=",e.to_a(Ae)),l(Ae.length,1)):me=!0)):(te=!0,X=y(f,"ListItem").$new(Ee,M=fe["$[]"](2)),t(Ee.$document().$sourcemap())&&(Ae=[ce.$cursor()],c(X,"source_location=",e.to_a(Ae)),l(Ae.length,1)),"ulist"["$==="](mt=k)?(c(X,"marker=",e.to_a(Ae=[o])),l(Ae.length,1),t(M["$start_with?"]("["))&&(t(t(Y=H)?H["$=="]("bibliography"):Y)?t(y(f,"InlineBiblioAnchorRx")["$=~"](M))&&ne.$catalog_inline_biblio_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce):t(M["$start_with?"]("[["))?t(y(f,"LeadingInlineAnchorRx")["$=~"](M))&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce):t(M["$start_with?"]("[ ] ","[x] ","[*] "))&&(Ee.$set_option("checklist"),Ae=["checkbox",""],c(X.$attributes(),"[]=",e.to_a(Ae)),l(Ae.length,1),t(M["$start_with?"]("[ "))||(Ae=["checked",""],c(X.$attributes(),"[]=",e.to_a(Ae)),l(Ae.length,1)),Ae=[M.$slice(4,M.$length())],c(X,"text=",e.to_a(Ae)),l(Ae.length,1)))):"olist"["$==="](mt)?(Q=ne.$resolve_ordered_list_marker(o,dt=Ee.$items().$size(),!0,ce),He=(Y=e.to_ary(Q))[1]??$,c(X,"marker=",e.to_a(Ae=[o=Y[0]??$])),l(Ae.length,1),t((Y=dt["$=="](0))?H["$!"]():dt["$=="](0))&&(Ae=[t(Y=He)?Y:(t(Q=y(f,"ORDERED_LIST_STYLES")["$[]"](l(o.$length(),1)))?Q:"arabic").$to_s()],c(Ee,"style=",e.to_a(Ae)),l(Ae.length,1)),t(t(Y=M["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](M):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce)):(c(X,"marker=",e.to_a(Ae=[o])),l(Ae.length,1),t(t(Y=M["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](M):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce))),ce.$shift(),kt=ce.$cursor(),$t=y(f,"Reader").$new(ne.$read_lines_for_list_item(ce,k,o,te),kt),t($t["$has_more_lines?"]())){for(t(me)&&(c(X,"source_location=",e.to_a(Ae=[kt])),l(Ae.length,1)),Tt=$t.$skip_line_comments(),t(rt=$t.$peek_line())&&(t(Tt["$empty?"]())||$t.$unshift_lines(Tt),t(rt["$empty?"]())||(Lt=!0,t(a)||(te=$))),t(Yt=ne.$next_block($t,X,s([],{}),s(["text_only","list_type"],{text_only:!t(te)||$,list_type:k})))&&X.$blocks()["$<<"](Yt);t($t["$has_more_lines?"]());)t(Yt=ne.$next_block($t,X,s([],{}),s(["list_type"],{list_type:k})))&&X.$blocks()["$<<"](Yt);t(t(Y=t(Q=Lt)?_t=X.$blocks()["$[]"](0):Q)?_t.$context()["$=="]("paragraph"):Y)&&X.$fold_first()}return t(a)?[[E],t(t(Y=X["$text?"]())?Y:X["$blocks?"]())?X:$]:X},et.$$arity=-5),e.defs(x,"$read_lines_for_list_item",ct=function(ce,Ee,fe,o){var Y,Q,ne,k,a,E,T,mt,M=this,te=$,X=$,Ae=$,me=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$;for(null==fe&&(fe=$),null==o&&(o=!0),te=[],X="inactive",Ae=!1,me=$,mt=Ee["$=="]("dlist");t(ce["$has_more_lines?"]())&&(dt=ce.$read_line(),!t(M["$is_sibling_list_item?"](dt,Ee,fe)));)if((He=t(te["$empty?"]())?$:te["$[]"](-1))["$=="](y(f,"LIST_CONTINUATION"))&&(X["$=="]("inactive")&&(X="active",o=!0,t(Ae)||(c(te,"[]=",e.to_a(kt=[-1,""])),l(kt.length,1))),dt["$=="](y(f,"LIST_CONTINUATION"))))t(X["$!="]("frozen"))&&(X="frozen",te["$<<"](dt)),dt=$;else{if(t($t=M["$is_delimited_block?"](dt,!0))){if(!X["$=="]("active"))break;te["$<<"](dt),te.$concat(ce.$read_lines_until(s(["terminator","read_last_line","context"],{terminator:$t.$terminator(),read_last_line:!0,context:$}))),X="inactive"}else{if(t(t(Y=t(Q=mt)?X["$!="]("active"):Q)?y(f,"BlockAttributeLineRx")["$match?"](dt):Y))break;if(t((Y=X["$=="]("active"))?dt["$empty?"]()["$!"]():X["$=="]("active")))t(y(f,"LiteralParagraphRx")["$match?"](dt))?(ce.$unshift_line(dt),t(mt)?te.$concat(c(ce,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((ne=function(Lt){return null==Lt&&(Lt=$),(ne.$$s||this)["$is_sibling_list_item?"](Lt,Ee,fe)}).$$s=M,ne.$$arity=1,ne))):te.$concat(ce.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),X="inactive"):t(t(Y=t(Q=y(f,"BlockTitleRx")["$match?"](dt))?Q:y(f,"BlockAttributeLineRx")["$match?"](dt))?Y:y(f,"AttributeEntryRx")["$match?"](dt))?te["$<<"](dt):(t(Tt=c(t(Ae)?["dlist"]:y(f,"NESTABLE_LIST_CONTEXTS"),"find",[],((k=function(Lt){return null==Lt&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$match?"](dt)}).$$s=M,k.$$arity=1,k)))&&(Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1)),te["$<<"](dt),X="inactive");else if(t(t(Y=He)?He["$empty?"]():Y)){if(t(dt["$empty?"]())&&(!t(dt=t(Y=ce.$skip_blank_lines())?ce.$read_line():Y)||t(M["$is_sibling_list_item?"](dt,Ee,fe))))break;if(dt["$=="](y(f,"LIST_CONTINUATION")))me=te.$size(),te["$<<"](dt);else if(t(o)){if(t(M["$is_sibling_list_item?"](dt,Ee,fe)))break;if(t(Tt=c(y(f,"NESTABLE_LIST_CONTEXTS"),"find",[],((a=function(Lt){return null==Lt&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$=~"](dt)}).$$s=M,a.$$arity=1,a))))te["$<<"](dt),Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1);else{if(!t(y(f,"LiteralParagraphRx")["$match?"](dt)))break;ce.$unshift_line(dt),t(mt)?te.$concat(c(ce,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((E=function(Lt){return null==Lt&&(Lt=$),(E.$$s||this)["$is_sibling_list_item?"](Lt,Ee,fe)}).$$s=M,E.$$arity=1,E))):te.$concat(ce.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else t(Ae)||te.$pop(),te["$<<"](dt),o=!0}else t(dt["$empty?"]())||(o=!0),t(Tt=c(t(Ae)?["dlist"]:y(f,"NESTABLE_LIST_CONTEXTS"),"find",[],((T=function(Lt){return null==Lt&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$=~"](dt)}).$$s=M,T.$$arity=1,T)))&&(Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1)),te["$<<"](dt)}dt=$}for(t(dt)&&ce.$unshift_line(dt),t(me)&&(c(te,"[]=",e.to_a(kt=[me,""])),l(kt.length,1));!t(te["$empty?"]());){if(!t((rt=te["$[]"](-1))["$empty?"]())){rt["$=="](y(f,"LIST_CONTINUATION"))&&te.$pop();break}te.$pop()}return te},ct.$$arity=-3),e.defs(x,"$initialize_section",it=function(ce,Ee,fe){var o,H,ne,T,M,Ae,$t,Y=this,Q=$,k=$,a=$,E=$,te=$,X=$,me=$,mt=$,dt=$,He=$,kt=$,Tt=$;return null==fe&&(fe=s([],{})),ne=(k=(Q=Ee.$document()).$doctype())["$=="]("book"),t(Q.$sourcemap())&&(a=ce.$cursor()),E=fe["$[]"](1),H=Y.$parse_section_title(ce,Q,fe["$[]"]("id")),T=(o=e.to_ary(H))[0]??$,M=o[1]??$,te=o[2]??$,X=o[3]??$,Ae=o[4]??$,t(E)?t(t(o=ne)?E["$=="]("abstract"):o)?(me=(o=["chapter",1])[0],X=o[1]):t(t(o=E["$start_with?"]("sect"))?y(f,"SectionLevelStyleRx")["$match?"](E):o)?me="section":(me=(o=[E,!0])[0],mt=o[1],X["$=="](0)&&(X=1),dt=me["$=="]("appendix")):t(ne)?me=X["$=="](0)?"part":t(Xe(X,1))?"section":"chapter":t((o=k["$=="]("manpage"))?te.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(me=(o=["synopsis",!0])[0],mt=o[1]):me="section",t(M)&&(c(fe,"[]=",e.to_a(He=["reftext",M])),l(He.length,1)),(kt=y(f,"Section").$new(Ee,X))["$id="]((o=[T,te,me,a])[0]),kt["$title="](o[1]),kt["$sectname="](o[2]),kt["$source_location="](o[3]),t(mt)?(c(kt,"special=",e.to_a(He=[!0])),l(He.length,1),t(dt)?(c(kt,"numbered=",e.to_a(He=[!0])),l(He.length,1)):Q.$attributes()["$[]"]("sectnums")["$=="]("all")&&(He=[!t(t(o=ne)?X["$=="](1):o)||"chapter"],c(kt,"numbered=",e.to_a(He)),l(He.length,1))):t(t(o=Q.$attributes()["$[]"]("sectnums"))?Xe(X,0):o)?(He=[!t(kt.$special())||!!t(o=Ee.$numbered())||o],c(kt,"numbered=",e.to_a(He)),l(He.length,1)):t(t(o=t(H=ne)?X["$=="](0):H)?Q.$attributes()["$[]"]("partnums"):o)&&(c(kt,"numbered=",e.to_a(He=[!0])),l(He.length,1)),t($t=t(o=kt.$id())?o:(He=[t(Q.$attributes()["$key?"]("sectids"))?Tt=y(f,"Section").$generate_id(kt.$title(),Q):$],c(kt,"id=",e.to_a(He)),He[l(He.length,1)]))&&(t(t(o=Tt)?o:te["$include?"](y(f,"ATTR_REF_HEAD"))["$!"]())||kt.$title(),t(Q.$register("refs",[$t,kt]))||Y.$logger().$warn(Y.$message_with_context("id assigned to section already in use: "+$t,s(["source_location"],{source_location:ce.$cursor_at_line(l(ce.$lineno(),t(Ae)?1:2))})))),kt.$update_attributes(fe),ce.$skip_blank_lines(),kt},it.$$arity=-3),e.defs(x,"$is_next_line_section?",Ie=function(bt,ce){var Ee,fe,H=$,Y=$;return t(t(Ee=H=ce["$[]"](1))?t(fe=H["$=="]("discrete"))?fe:H["$=="]("float"):Ee)?$:t(y(f,"Compliance").$underline_style_section_titles())?(Y=bt.$peek_lines(2,t(Ee=H)?H["$=="]("comment"):Ee),this["$is_section_title?"](t(Ee=Y["$[]"](0))?Ee:"",Y["$[]"](1))):this["$atx_section_title?"](t(Ee=bt.$peek_line())?Ee:"")},Ie.$$arity=2),e.defs(x,"$is_next_line_doctitle?",Se=function(bt,ce,Ee){var fe,H=$;return t(Ee)?t(fe=H=this["$is_next_line_section?"](bt,ce))?O(H,Ee.$to_i())["$=="](0):fe:this["$is_next_line_section?"](bt,ce)["$=="](0)},Se.$$arity=3),e.defs(x,"$is_section_title?",We=function(bt,ce){var Ee;return null==ce&&(ce=$),t(Ee=this["$atx_section_title?"](bt))?Ee:t(ce["$nil_or_empty?"]())?$:this["$setext_section_title?"](bt,ce)},We.$$arity=-2),e.defs(x,"$atx_section_title?",tt=function(bt){var ce;return t(t(y(f,"Compliance").$markdown_syntax())?t(ce=bt["$start_with?"]("=","#"))?y(f,"ExtAtxSectionTitleRx")["$=~"](bt):ce:t(ce=bt["$start_with?"]("="))?y(f,"AtxSectionTitleRx")["$=~"](bt):ce)?l(((ce=i["~"])===$?$:ce["$[]"](1)).$length(),1):$},tt.$$arity=1),e.defs(x,"$setext_section_title?",Qe=function(bt,ce){var Ee,fe,o,Y,Q,ne=$;return t(t(Ee=t(fe=t(o=Y=y(f,"SETEXT_SECTION_LEVELS")["$[]"](Q=ce.$chr()))?this["$uniform?"](ce,Q,ne=ce.$length()):o)?y(f,"SetextSectionTitleRx")["$match?"](bt):fe)?xe(l(bt.$length(),ne).$abs(),2):Ee)?Y:$},Qe.$$arity=2),e.defs(x,"$parse_section_title",nt=function(ce,Ee,fe){var o,H,Y,Q,ne,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$;return null==fe&&(fe=$),a=$,E=ce.$read_line(),t(t(y(f,"Compliance").$markdown_syntax())?t(o=E["$start_with?"]("=","#"))?y(f,"ExtAtxSectionTitleRx")["$=~"](E):o:t(o=E["$start_with?"]("="))?y(f,"AtxSectionTitleRx")["$=~"](E):o)?(T=(o=[l(((H=i["~"])===$?$:H["$[]"](1)).$length(),1),(H=i["~"])===$?$:H["$[]"](2),!0])[0],M=o[1],te=o[2],t(fe)||t(t(o=t(H=M["$end_with?"]("]]"))?y(f,"InlineSectionAnchorRx")["$=~"](M):H)?((H=i["~"])===$?$:H["$[]"](1))["$!"]():o)&&(o=[M.$slice(0,l(M.$length(),((H=i["~"])===$?$:H["$[]"](0)).$length())),(H=i["~"])===$?$:H["$[]"](2),(H=i["~"])===$?$:H["$[]"](3)],M=o[0],fe=o[1],a=o[2])):t(t(o=t(H=t(Y=t(Q=t(ne=y(f,"Compliance").$underline_style_section_titles())?X=ce.$peek_line(!0):ne)?T=y(f,"SETEXT_SECTION_LEVELS")["$[]"](Ae=X.$chr()):Q)?this["$uniform?"](X,Ae,me=X.$length()):Y)?M=t(Y=y(f,"SetextSectionTitleRx")["$=~"](E))?(Q=i["~"])===$?$:Q["$[]"](1):Y:H)?xe(l(E.$length(),me).$abs(),2):o)?(te=!1,t(fe)||t(t(o=t(H=M["$end_with?"]("]]"))?y(f,"InlineSectionAnchorRx")["$=~"](M):H)?((H=i["~"])===$?$:H["$[]"](1))["$!"]():o)&&(o=[M.$slice(0,l(M.$length(),((H=i["~"])===$?$:H["$[]"](0)).$length())),(H=i["~"])===$?$:H["$[]"](2),(H=i["~"])===$?$:H["$[]"](3)],M=o[0],fe=o[1],a=o[2]),ce.$shift()):this.$raise("Unrecognized section at "+ce.$cursor_at_prev_line()),t(Ee["$attr?"]("leveloffset"))&&(T=O(T,Ee.$attr("leveloffset").$to_i()),t(xe(T,0))&&(T=0)),[fe,a,M,T,te]},nt.$$arity=-3),e.defs(x,"$parse_header_metadata",yt=function(ce,Ee,fe){var o,H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;if(null==Ee&&(Ee=$),null==fe&&(fe=!0),k=t(o=Ee)?Ee.$attributes():o,ne.$process_attribute_entries(ce,Ee),t(t(o=ce["$has_more_lines?"]())?ce["$next_line_empty?"]()["$!"]():o)?(a=(E=ne.$process_authors(ce.$read_line())).$delete("authorcount"),t(t(o=Ee)?Xe((c(k,"[]=",e.to_a(T=["authorcount",a])),T[l(T.length,1)]),0):o)&&(c(E,"each",[],((H=function(Zt,rr){return null==Zt&&(Zt=$),null==rr&&(rr=$),t(k["$key?"](Zt))?$:(T=[Zt,Ee.$apply_header_subs(rr)],c(k,"[]=",e.to_a(T)),T[l(T.length,1)])}).$$s=ne,H.$$arity=2,H)),M=k["$[]"]("author"),te=k["$[]"]("authorinitials"),X=k["$[]"]("authors")),c(E,"[]=",e.to_a(T=["authorcount",a])),l(T.length,1),ne.$process_attribute_entries(ce,Ee),t(t(o=ce["$has_more_lines?"]())?ce["$next_line_empty?"]()["$!"]():o)&&(Ae=ce.$read_line(),t(me=y(f,"RevisionInfoLineRx").$match(Ae))?(mt=s([],{}),t(me["$[]"](1))&&(T=["revnumber",me["$[]"](1).$rstrip()],c(mt,"[]=",e.to_a(T)),l(T.length,1)),t((dt=me["$[]"](2).$strip())["$empty?"]())||(t(t(o=me["$[]"](1)["$!"]())?dt["$start_with?"]("v"):o)?(T=["revnumber",dt.$slice(1,dt.$length())],c(mt,"[]=",e.to_a(T)),l(T.length,1)):(c(mt,"[]=",e.to_a(T=["revdate",dt])),l(T.length,1))),t(me["$[]"](3))&&(T=["revremark",me["$[]"](3).$rstrip()],c(mt,"[]=",e.to_a(T)),l(T.length,1)),t(t(o=Ee)?mt["$empty?"]()["$!"]():o)&&c(mt,"each",[],((Y=function(Zt,rr){return null==Zt&&(Zt=$),null==rr&&(rr=$),t(k["$key?"](Zt))?$:(T=[Zt,Ee.$apply_header_subs(rr)],c(k,"[]=",e.to_a(T)),T[l(T.length,1)])}).$$s=ne,Y.$$arity=2,Y))):ce.$unshift_line(Ae)),ne.$process_attribute_entries(ce,Ee),ce.$skip_blank_lines()):E=s([],{}),t(Ee)){if(t(t(o=k["$key?"]("author"))?(He=k["$[]"]("author"))["$!="](M):o))kt=ne.$process_authors(He,!0,!1),t(k["$[]"]("authorinitials")["$!="](te))&&kt.$delete("authorinitials");else if(t(t(o=k["$key?"]("authors"))?(He=k["$[]"]("authors"))["$!="](X):o))kt=ne.$process_authors(He,!0);else{for($t=(o=[[],1,"author_1",!1,!1])[0],Tt=o[1],rt=o[2],Lt=o[3],Yt=o[4];t(k["$key?"](rt));)(_t=k["$[]"](rt))["$=="](E["$[]"](rt))?($t["$<<"]($),Yt=!0):($t["$<<"](_t),Lt=!0),rt="author_"+(Tt=O(Tt,1));t(Lt)?(t(Yt)&&c($t,"each_with_index",[],((Q=function(Zt,rr){var sr,nr=Q.$$s||this,tr=$;return null==Zt&&(Zt=$),null==rr&&(rr=$),t(Zt)?$:(T=[rr,c([E["$[]"]("firstname_"+(tr=O(rr,1))),E["$[]"]("middlename_"+tr),E["$[]"]("lastname_"+tr)].$compact(),"map",[],(sr=function(hr){return null==hr&&(hr=$),hr.$tr(" ","_")},sr.$$s=nr,sr.$$arity=1,sr)).$join(" ")],c($t,"[]=",e.to_a(T)),T[l(T.length,1)])}).$$s=ne,Q.$$arity=2,Q)),kt=ne.$process_authors($t,!0,!1)):kt=s(["authorcount"],{authorcount:0})}kt["$[]"]("authorcount")["$=="](0)?t(a)?kt=$:(c(k,"[]=",e.to_a(T=["authorcount",0])),l(T.length,1)):(k.$update(kt),t(t(o=k["$key?"]("email")["$!"]())?k["$key?"]("email_1"):o)&&(T=["email",k["$[]"]("email_1")],c(k,"[]=",e.to_a(T)),l(T.length,1)))}return t(fe)?E.$merge(mt.$to_h(),kt.$to_h()):$},yt.$$arity=-2),e.defs(x,"$process_authors",ut=function(ce,Ee,fe){var o,H,k,Q=$,ne=$;return null==Ee&&(Ee=!1),null==fe&&(fe=!0),Q=s([],{}),ne=0,c(t(t(o=fe)?ce["$include?"](";"):o)?ce.$split(y(f,"AuthorDelimiterRx")):[].concat(e.to_a(ce)),"each",[],((H=function(a){var T,M,te,X,E=H.$$s||this,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return null==a&&(a=$),t(a["$empty?"]())?$:(Ae=s([],{}),(ne=O(ne,1))["$=="](1)?c(y(f,"AuthorKeys"),"each",[],((T=function(rt){var Yt;return null==rt&&(rt=$),Yt=[rt.$to_sym(),rt],c(Ae,"[]=",e.to_a(Yt)),Yt[l(Yt.length,1)]}).$$s=E,T.$$arity=1,T)):c(y(f,"AuthorKeys"),"each",[],((M=function(rt){var Yt;return null==rt&&(rt=$),Yt=[rt.$to_sym(),rt+"_"+ne],c(Ae,"[]=",e.to_a(Yt)),Yt[l(Yt.length,1)]}).$$s=E,M.$$arity=1,M)),t(Ee)?(t(a["$include?"]("<"))&&(me=[Ae["$[]"]("author"),a.$tr("_"," ")],c(Q,"[]=",e.to_a(me)),l(me.length,1),a=a.$gsub(y(f,"XmlSanitizeRx"),"")),(mt=a.$split($,3)).$size()["$=="](3)&&mt["$<<"](mt.$pop().$squeeze(" "))):t(dt=y(f,"AuthorInfoLineRx").$match(a))&&(mt=dt.$to_a()).$shift(),t(mt)?(me=[Ae["$[]"]("firstname"),kt=mt["$[]"](0).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),He=me[l(me.length,1)],me=[Ae["$[]"]("authorinitials"),kt.$chr()],c(Q,"[]=",e.to_a(me)),l(me.length,1),t(mt["$[]"](1))&&(t(mt["$[]"](2))?(me=[Ae["$[]"]("middlename"),$t=mt["$[]"](1).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),l(me.length,1),me=[Ae["$[]"]("lastname"),Tt=mt["$[]"](2).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),l(me.length,1),He=O(O(O(O(kt," "),$t)," "),Tt),me=[Ae["$[]"]("authorinitials"),""+kt.$chr()+$t.$chr()+Tt.$chr()],c(Q,"[]=",e.to_a(me)),l(me.length,1)):(me=[Ae["$[]"]("lastname"),Tt=mt["$[]"](1).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),l(me.length,1),He=O(O(kt," "),Tt),me=[Ae["$[]"]("authorinitials"),""+kt.$chr()+Tt.$chr()],c(Q,"[]=",e.to_a(me)),l(me.length,1))),t(Q["$[]"](Ae["$[]"]("author")))||(me=[Ae["$[]"]("author"),He],c(Q,"[]=",e.to_a(me)),l(me.length,1)),t(t(te=Ee)?te:mt["$[]"](3)["$!"]())||(me=[Ae["$[]"]("email"),mt["$[]"](3)],c(Q,"[]=",e.to_a(me)),l(me.length,1))):(me=[Ae["$[]"]("author"),(me=[Ae["$[]"]("firstname"),kt=a.$squeeze(" ").$strip()],c(Q,"[]=",e.to_a(me)),me[l(me.length,1)])],c(Q,"[]=",e.to_a(me)),l(me.length,1),me=[Ae["$[]"]("authorinitials"),kt.$chr()],c(Q,"[]=",e.to_a(me)),l(me.length,1)),ne["$=="](1)?(me=["authors",Q["$[]"](Ae["$[]"]("author"))],c(Q,"[]=",e.to_a(me)),me[l(me.length,1)]):(ne["$=="](2)&&c(y(f,"AuthorKeys"),"each",[],((X=function(rt){return null==rt&&(rt=$),t(Q["$key?"](rt))?(me=[rt+"_1",Q["$[]"](rt)],c(Q,"[]=",e.to_a(me)),me[l(me.length,1)]):$}).$$s=E,X.$$arity=1,X)),me=["authors",Q["$[]"]("authors")+", "+Q["$[]"](Ae["$[]"]("author"))],c(Q,"[]=",e.to_a(me)),me[l(me.length,1)]))}).$$s=this,H.$$arity=1,H)),c(Q,"[]=",e.to_a(k=["authorcount",ne])),l(k.length,1),Q},ut.$$arity=-2),e.defs(x,"$parse_block_metadata_lines",K=function(ce,Ee,fe,o){for(null==fe&&(fe=s([],{})),null==o&&(o=s([],{}));t(this.$parse_block_metadata_line(ce,Ee,fe,o))&&(ce.$shift(),t(ce.$skip_blank_lines())););return fe},K.$$arity=-3),e.defs(x,"$parse_block_metadata_line",u=function(ce,Ee,fe,o){var H,Y,Q=this,ne=$,k=$,a=$,E=$,T=$,M=$;if(null==i["~"]&&(i["~"]=$),null==o&&(o=s([],{})),t(t(H=ne=ce.$peek_line())?t(o["$[]"]("text_only"))?ne["$start_with?"]("[","/"):k=ne["$start_with?"]("[",".","/",":"):H))if(t(ne["$start_with?"]("["))){if(t(ne["$start_with?"]("[["))){if(t(t(H=ne["$end_with?"]("]]"))?y(f,"BlockAnchorRx")["$=~"](ne):H))return a=["id",(H=i["~"])===$?$:H["$[]"](1)],c(fe,"[]=",e.to_a(a)),l(a.length,1),t(E=(H=i["~"])===$?$:H["$[]"](2))&&(a=["reftext",t(E["$include?"](y(f,"ATTR_REF_HEAD")))?Ee.$sub_attributes(E):E],c(fe,"[]=",e.to_a(a)),l(a.length,1)),!0}else if(t(t(H=ne["$end_with?"]("]"))?y(f,"BlockAttributeListRx")["$=~"](ne):H))return T=fe["$[]"](1),t(Ee.$parse_attributes((H=i["~"])===$?$:H["$[]"](1),[],s(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:fe}))["$[]"](1))&&(a=[1,t(H=Q.$parse_style_attribute(fe,ce))?H:T],c(fe,"[]=",e.to_a(a)),l(a.length,1)),!0}else if(t(t(H=k)?ne["$start_with?"]("."):H)){if(t(y(f,"BlockTitleRx")["$=~"](ne)))return a=["title",(H=i["~"])===$?$:H["$[]"](1)],c(fe,"[]=",e.to_a(a)),l(a.length,1),!0}else if(t(t(H=k["$!"]())?H:ne["$start_with?"]("/"))){if(t(ne["$start_with?"]("//"))){if(ne["$=="]("//"))return!0;if(t(t(H=k)?Q["$uniform?"](ne,"/",M=ne.$length()):H)){if(!M["$=="](3))return ce.$read_lines_until(s(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:ne,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!t(ne["$start_with?"]("///")))return!0}}else if(t(t(H=t(Y=k)?ne["$start_with?"](":"):Y)?y(f,"AttributeEntryRx")["$=~"](ne):H))return Q.$process_attribute_entry(ce,Ee,fe,i["~"]),!0;return $},u.$$arity=-4),e.defs(x,"$process_attribute_entries",v=function(ce,Ee,fe){for(null==fe&&(fe=$),ce.$skip_comment_lines();t(this.$process_attribute_entry(ce,Ee,fe));)ce.$shift(),ce.$skip_comment_lines()},v.$$arity=-3),e.defs(x,"$process_attribute_entry",I=function(ce,Ee,fe,o){var H,Y,Q,k=$,a=$,E=$,T=$;if(null==fe&&(fe=$),null==o&&(o=$),t(t(H=o)?H:o=t(ce["$has_more_lines?"]())?y(f,"AttributeEntryRx").$match(ce.$peek_line()):$)){if(t((k=o["$[]"](2))["$nil_or_empty?"]()))k="";else if(t(k["$end_with?"](y(f,"LINE_CONTINUATION"),y(f,"LINE_CONTINUATION_LEGACY"))))for(a=(H=[k.$slice(l(k.$length(),2),2),k.$slice(0,l(k.$length(),2)).$rstrip()])[0],k=H[1];t(t(Y=ce.$advance())?(E=t(Q=ce.$peek_line())?Q:"")["$empty?"]()["$!"]():Y)&&(E=E.$lstrip(),t(T=E["$end_with?"](a))&&(E=E.$slice(0,l(E.$length(),2)).$rstrip()),k=""+k+(t(k["$end_with?"](y(f,"HARD_LINE_BREAK")))?y(f,"LF"):" ")+E,t(T)););return this.$store_attribute(o["$[]"](1),k,Ee,fe),!0}return $},I.$$arity=-3),e.defs(x,"$store_attribute",U=function(ce,Ee,fe,o){var H,Q=$;return null==fe&&(fe=$),null==o&&(o=$),t(ce["$end_with?"]("!"))?(ce=ce.$chop(),Ee=$):t(ce["$start_with?"]("!"))&&(ce=ce.$slice(1,ce.$length()),Ee=$),(ce=this.$sanitize_attribute_name(ce))["$=="]("numbered")?ce="sectnums":ce["$=="]("hardbreaks")?ce="hardbreaks-option":ce["$=="]("showtitle")&&this.$store_attribute("notitle",t(Ee)?$:"",fe,o),t(fe)?t(Ee)?(ce["$=="]("leveloffset")&&(t(Ee["$start_with?"]("+"))?Ee=O(fe.$attr("leveloffset",0).$to_i(),Ee.$slice(1,Ee.$length()).$to_i()).$to_s():t(Ee["$start_with?"]("-"))&&(Ee=l(fe.$attr("leveloffset",0).$to_i(),Ee.$slice(1,Ee.$length()).$to_i()).$to_s())),t(Q=fe.$set_attribute(ce,Ee))&&(Ee=Q,t(o)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o))):t(t(H=fe.$delete_attribute(ce))?o:H)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o):t(o)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o),[ce,Ee]},U.$$arity=-3),e.defs(x,"$resolve_list_marker",P=function(ce,Ee,fe,o,H){var Q;return null==fe&&(fe=0),null==o&&(o=!1),null==H&&(H=$),"ulist"["$==="](Q=ce)?Ee:"olist"["$==="](Q)?this.$resolve_ordered_list_marker(Ee,fe,o,H)["$[]"](0):"<1>"},P.$$arity=-3),e.defs(x,"$resolve_ordered_list_marker",de=function(ce,Ee,fe,o){var H,Y,Q=this,ne=$,k=$,a=$,E=$;return null==Ee&&(Ee=0),null==fe&&(fe=!1),null==o&&(o=$),t(ce["$start_with?"]("."))?[ce]:(ne=k=c(y(f,"ORDERED_LIST_STYLES"),"find",[],((H=function(T){return null==T&&(T=$),y(f,"OrderedListMarkerRxMap")["$[]"](T)["$match?"](ce)}).$$s=Q,H.$$arity=1,H)),"arabic"["$==="](ne)?(t(fe)&&(a=O(Ee,1),E=ce.$to_i()),ce="1."):"loweralpha"["$==="](ne)?(t(fe)&&(a=O("a"["$[]"](0).$ord(),Ee).$chr(),E=ce.$chop()),ce="a."):"upperalpha"["$==="](ne)?(t(fe)&&(a=O("A"["$[]"](0).$ord(),Ee).$chr(),E=ce.$chop()),ce="A."):"lowerroman"["$==="](ne)?(t(fe)&&(a=y(f,"Helpers").$int_to_roman(O(Ee,1)).$downcase(),E=ce.$chop()),ce="i)"):"upperroman"["$==="](ne)&&(t(fe)&&(a=y(f,"Helpers").$int_to_roman(O(Ee,1)),E=ce.$chop()),ce="I)"),t(t(Y=fe)?a["$!="](E):Y)&&Q.$logger().$warn(Q.$message_with_context("list item index: expected "+a+", got "+E,s(["source_location"],{source_location:o.$cursor()}))),[ce,k])},de.$$arity=-2),e.defs(x,"$is_sibling_list_item?",be=function(bt,ce,Ee){var fe,o;return t(n("::","Regexp")["$==="](Ee))?Ee["$match?"](bt):t(fe=y(f,"ListRxMap")["$[]"](ce)["$=~"](bt))?Ee["$=="](this.$resolve_list_marker(ce,(o=i["~"])===$?$:o["$[]"](1))):fe},be.$$arity=3),e.defs(x,"$parse_table",je=function(ce,Ee,fe){var o,H,Y,Q,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;for(k=y(f,"Table").$new(Ee,fe),t(t(o=fe["$key?"]("cols"))?(a=this.$parse_colspecs(fe["$[]"]("cols")))["$empty?"]()["$!"]():o)&&(k.$create_columns(a),E=!0),T=t(o=ce.$skip_blank_lines())?o:0,t(fe["$[]"]("header-option"))?(c(k,"has_header_option=",e.to_a(M=[!0])),l(M.length,1)):t((o=T["$=="](0))?fe["$[]"]("noheader-option")["$!"]():T["$=="](0))&&(c(k,"has_header_option=",e.to_a(M=["implicit"])),l(M.length,1),te=!0),Ae=(o=[(X=n(y(f,"Table"),"ParserContext").$new(ce,k,fe)).$format(),-1,$])[0],me=o[1],mt=o[2],o=!1;o||t(dt=ce.$read_line());){for(o=!1,t(t(H=He=Xe(me=O(me,1),0))?dt["$empty?"]():H)?(dt=$,t(mt)&&(mt=O(mt,1))):Ae["$=="]("psv")&&(t(X["$starts_with_delimiter?"](dt))?(dt=dt.$slice(1,dt.$length()),X.$close_open_cell(),t(mt)&&(mt=$)):(Y=this.$parse_cellspec(dt,"start",X.$delimiter()),dt=(H=e.to_ary(Y))[1]??$,t(kt=H[0]??$)?(X.$close_open_cell(kt),t(mt)&&(mt=$)):t(t(H=mt)?mt["$=="](me):H)&&(M=[te=mt=$],c(k,"has_header_option=",e.to_a(M)),l(M.length,1)))),t(He)||(ce.$mark(),t(te)&&(t(t(H=ce["$has_more_lines?"]())?ce.$peek_line()["$empty?"]():H)?mt=1:(M=[te=$],c(k,"has_header_option=",e.to_a(M)),l(M.length,1)))),H=!1;H||t(!0);){if(H=!1,!t(t(Y=dt)?$t=X.$match_delimiter(dt):Y)){M=[""+X.$buffer()+dt+y(f,"LF")],c(X,"buffer=",e.to_a(M)),l(M.length,1),"csv"["$==="](Lt=Ae)?t(X["$buffer_has_unclosed_quotes?"]())?(t(t(Y=mt)?me["$=="](0):Y)&&(M=[te=mt=$],c(k,"has_header_option=",e.to_a(M)),l(M.length,1)),X.$keep_cell_open()):X.$close_cell(!0):"dsv"["$==="](Lt)?X.$close_cell(!0):X.$keep_cell_open();break}if(Tt=(Y=[$t.$pre_match(),$t.$post_match()])[0],rt=Y[1],"csv"["$==="](Lt=Ae)){if(t(X["$buffer_has_unclosed_quotes?"](Tt))){if(X.$skip_past_delimiter(Tt),t((dt=rt)["$empty?"]()))break;H=!0;continue}M=[""+X.$buffer()+Tt],c(X,"buffer=",e.to_a(M)),l(M.length,1)}else if("dsv"["$==="](Lt)){if(t(Tt["$end_with?"]("\\"))){if(X.$skip_past_escaped_delimiter(Tt),t((dt=rt)["$empty?"]())){M=[""+X.$buffer()+y(f,"LF")],c(X,"buffer=",e.to_a(M)),l(M.length,1),X.$keep_cell_open();break}H=!0;continue}M=[""+X.$buffer()+Tt],c(X,"buffer=",e.to_a(M)),l(M.length,1)}else{if(t(Tt["$end_with?"]("\\"))){if(X.$skip_past_escaped_delimiter(Tt),t((dt=rt)["$empty?"]())){M=[""+X.$buffer()+y(f,"LF")],c(X,"buffer=",e.to_a(M)),l(M.length,1),X.$keep_cell_open();break}H=!0;continue}Q=this.$parse_cellspec(Tt),Yt=(Y=e.to_ary(Q))[1]??$,X.$push_cellspec(kt=Y[0]??$),M=[""+X.$buffer()+Yt],c(X,"buffer=",e.to_a(M)),l(M.length,1)}t((dt=rt)["$empty?"]())&&(dt=$),X.$close_cell()}if(t(X["$cell_open?"]()))t(ce["$has_more_lines?"]())||X.$close_cell(!0);else if(!t(H=ce.$skip_blank_lines()))break}return t(t(o=(_t=k.$attributes(),t(H=_t["$[]"]("colcount"))?H:(M=["colcount",k.$columns().$size()],c(_t,"[]=",e.to_a(M)),M[l(M.length,1)]))["$=="](0))?o:E)||k.$assign_column_widths(),t(te)&&(c(k,"has_header_option=",e.to_a(M=[!0])),l(M.length,1)),k.$partition_header_footer(fe),k},je.$$arity=3),e.defs(x,"$parse_colspecs",Fe=function(ce){var Ee,fe,H=$;return t(ce["$include?"](" "))&&(ce=ce.$delete(" ")),ce["$=="](ce.$to_i().$to_s())?c(n("::","Array"),"new",[ce.$to_i()],((Ee=function(){return s(["width"],{width:1})}).$$s=this,Ee.$$arity=0,Ee)):(H=[],c(t(ce["$include?"](","))?ce.$split(",",-1):ce.$split(";",-1),"each",[],((fe=function(Y){var ne,k,a,Q=fe.$$s||this,E=$,T=$,M=$,te=$,X=$,Ae=$;return null==Y&&(Y=$),t(Y["$empty?"]())?H["$<<"](s(["width"],{width:1})):t(E=y(f,"ColumnSpecRx").$match(Y))?(T=s([],{}),t(E["$[]"](2))&&(k=E["$[]"](2).$split("."),te=(ne=e.to_ary(k))[1]??$,t(t(ne=(M=ne[0]??$)["$nil_or_empty?"]()["$!"]())?y(f,"TableCellHorzAlignments")["$key?"](M):ne)&&(X=["halign",y(f,"TableCellHorzAlignments")["$[]"](M)],c(T,"[]=",e.to_a(X)),l(X.length,1)),t(t(ne=te["$nil_or_empty?"]()["$!"]())?y(f,"TableCellVertAlignments")["$key?"](te):ne)&&(X=["valign",y(f,"TableCellVertAlignments")["$[]"](te)],c(T,"[]=",e.to_a(X)),l(X.length,1))),t(Ae=E["$[]"](3))?(X=["width",Ae["$=="]("~")?-1:Ae.$to_i()],c(T,"[]=",e.to_a(X)),l(X.length,1)):(c(T,"[]=",e.to_a(X=["width",1])),l(X.length,1)),t(t(ne=E["$[]"](4))?y(f,"TableCellStyles")["$key?"](E["$[]"](4)):ne)&&(X=["style",y(f,"TableCellStyles")["$[]"](E["$[]"](4))],c(T,"[]=",e.to_a(X)),l(X.length,1)),t(E["$[]"](1))?c(1,"upto",[E["$[]"](1).$to_i()],((a=function(){return H["$<<"](T.$merge())}).$$s=Q,a.$$arity=0,a)):H["$<<"](T)):$}).$$s=this,fe.$$arity=1,fe)),H)},Fe.$$arity=1),e.defs(x,"$parse_cellspec",Ke=function(ce,Ee,fe){var o,H,E,Q=$,ne=$,k=$,T=$,M=$,te=$,X=$;if(null==Ee&&(Ee="end"),null==fe&&(fe=$),Q=(o=[$,""])[0],ne=o[1],Ee["$=="]("start")){if(!t(ce["$include?"](fe)))return[$,ce];if(H=ce.$partition(fe),k=(o=e.to_ary(H))[0]??$,ne=o[2]??$,!t(Q=y(f,"CellSpecStartRx").$match(k)))return[$,ce];if(t(Q["$[]"](0)["$empty?"]()))return[s([],{}),ne]}else{if(!t(Q=y(f,"CellSpecEndRx").$match(ce)))return[s([],{}),ce];if(t(Q["$[]"](0).$lstrip()["$empty?"]()))return[s([],{}),ce.$rstrip()];ne=Q.$pre_match()}return E=s([],{}),t(Q["$[]"](1))&&(H=Q["$[]"](1).$split("."),M=(o=e.to_ary(H))[1]??$,T=t((T=o[0]??$)["$nil_or_empty?"]())?1:T.$to_i(),M=t(M["$nil_or_empty?"]())?1:M.$to_i(),te=Q["$[]"](2),"+"["$==="](te)?(T["$=="](1)||(c(E,"[]=",e.to_a(X=["colspan",T])),l(X.length,1)),M["$=="](1)||(c(E,"[]=",e.to_a(X=["rowspan",M])),l(X.length,1))):"*"["$==="](te)&&(T["$=="](1)||(c(E,"[]=",e.to_a(X=["repeatcol",T])),l(X.length,1)))),t(Q["$[]"](3))&&(H=Q["$[]"](3).$split("."),M=(o=e.to_ary(H))[1]??$,t(t(o=(T=o[0]??$)["$nil_or_empty?"]()["$!"]())?y(f,"TableCellHorzAlignments")["$key?"](T):o)&&(X=["halign",y(f,"TableCellHorzAlignments")["$[]"](T)],c(E,"[]=",e.to_a(X)),l(X.length,1)),t(t(o=M["$nil_or_empty?"]()["$!"]())?y(f,"TableCellVertAlignments")["$key?"](M):o)&&(X=["valign",y(f,"TableCellVertAlignments")["$[]"](M)],c(E,"[]=",e.to_a(X)),l(X.length,1))),t(t(o=Q["$[]"](4))?y(f,"TableCellStyles")["$key?"](Q["$[]"](4)):o)&&(X=["style",y(f,"TableCellStyles")["$[]"](Q["$[]"](4))],c(E,"[]=",e.to_a(X)),l(X.length,1)),[E,ne]},Ke.$$arity=-2),e.defs(x,"$parse_style_attribute",we=function(ce,Ee){var fe,o,H,Y,Q=this,ne=$,k=$,a=$,E=$,T=$,M=$,te=$;return null==Ee&&(Ee=$),t(t(fe=t(o=ne=ce["$[]"](1))?ne["$include?"](" ")["$!"]():o)?y(f,"Compliance").$shorthand_property_syntax():fe)?(k=$,a="",E=s([],{}),c(ne,"each_char",[],((H=function(X){var me,Ae=H.$$s||this;return null==X&&(X=$),"."["$==="](me=X)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="role"):"#"["$==="](me)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="id"):"%"["$==="](me)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="option"):a=O(a,X)}).$$s=Q,H.$$arity=1,H)),t(k)?(Q.$yield_buffered_attribute(E,k,a,Ee),t(T=E["$[]"]("style"))&&(c(ce,"[]=",e.to_a(M=["style",T])),l(M.length,1)),t(E["$key?"]("id"))&&(M=["id",E["$[]"]("id")],c(ce,"[]=",e.to_a(M)),l(M.length,1)),t(E["$key?"]("role"))&&(M=["role",t((te=ce["$[]"]("role"))["$nil_or_empty?"]())?E["$[]"]("role").$join(" "):te+" "+E["$[]"]("role").$join(" ")],c(ce,"[]=",e.to_a(M)),l(M.length,1)),t(E["$key?"]("option"))&&c(E["$[]"]("option"),"each",[],((Y=function(X){return null==X&&(X=$),c(ce,"[]=",e.to_a(M=[X+"-option",""])),M[l(M.length,1)]}).$$s=Q,Y.$$arity=1,Y)),T):(c(ce,"[]=",e.to_a(M=["style",ne])),M[l(M.length,1)])):(c(ce,"[]=",e.to_a(M=["style",ne])),M[l(M.length,1)])},we.$$arity=-2),e.defs(x,"$yield_buffered_attribute",ot=function(ce,Ee,fe,o){var H,Y=this,Q=$;return t(Ee)?t(fe["$empty?"]())?t(o)?Y.$logger().$warn(Y.$message_with_context("invalid empty "+Ee+" detected in style attribute",s(["source_location"],{source_location:o.$cursor_at_prev_line()}))):Y.$logger().$warn("invalid empty "+Ee+" detected in style attribute"):Ee["$=="]("id")?(t(ce["$key?"]("id"))&&(t(o)?Y.$logger().$warn(Y.$message_with_context("multiple ids detected in style attribute",s(["source_location"],{source_location:o.$cursor_at_prev_line()}))):Y.$logger().$warn("multiple ids detected in style attribute")),c(ce,"[]=",e.to_a(Q=[Ee,fe])),l(Q.length,1)):(t(H=ce["$[]"](Ee))?H:(Q=[Ee,[]],c(ce,"[]=",e.to_a(Q)),Q[l(Q.length,1)]))["$<<"](fe):t(fe["$empty?"]())||(c(ce,"[]=",e.to_a(Q=["style",fe])),l(Q.length,1)),$},ot.$$arity=4),e.defs(x,"$adjust_indentation!",at=function(bt,ce,Ee){var fe,o,H,Y,Q,ne,k,a=this,E=$,T=$,M=$;return null==ce&&(ce=0),null==Ee&&(Ee=0),t(bt["$empty?"]())||(t(t(fe=Xe(Ee,0))?c(bt,"any?",[],((o=function(te){return null==te&&(te=$),te["$include?"](y(f,"TAB"))}).$$s=a,o.$$arity=1,o)):fe)&&(E=ie(" ",Ee),function(){var te=e.new_brk();try{c(bt,"map!",[],((H=function(X){var me,mt,dt,Ae=H.$$s||this,He=$,kt=$,$t=$,Tt=$,rt=$;return null==X&&(X=$),t(t(me=X["$empty?"]())?me:(He=X.$index(y(f,"TAB")))["$nil?"]())||He["$=="](0)&&(kt=0,function(){var Lt=e.new_brk();try{c(X,"each_byte",[],((mt=function(Yt){return null==Yt&&(Yt=$),Yt["$=="](9)||e.brk($,Lt),kt=O(kt,1)}).$$s=Ae,mt.$$brk=Lt,mt.$$arity=1,mt))}catch(Yt){if(Yt===Lt)return Yt.$v;throw Yt}}(),X=""+ie(E,kt)+X.$slice(kt,X.$length()),!t(X["$include?"](y(f,"TAB"))))?X:($t=0,Tt=0,rt="",c(X,"each_char",[],((dt=function(Lt){var _t=$,Zt=$;return null==Lt&&(Lt=$),Lt["$=="](y(f,"TAB"))?(_t=O(Tt,$t))["$%"](Ee)["$=="](0)?($t=O($t,l(Ee,1)),rt=O(rt,E)):((Zt=l(Ee,_t["$%"](Ee)))["$=="](1)||($t=O($t,l(Zt,1))),rt=O(rt,ie(" ",Zt))):rt=O(rt,Lt),Tt=O(Tt,1)}).$$s=Ae,dt.$$arity=1,dt)),rt)}).$$s=a,H.$$brk=te,H.$$arity=1,H))}catch(X){if(X===te)return X.$v;throw X}}()),t(xe(ce,0)))||(T=$,function(){var te=e.new_brk();try{c(bt,"each",[],((Y=function(X){var me,mt=$;return null==X&&(X=$),t(X["$empty?"]())||((mt=l(X.$length(),X.$lstrip().$length()))["$=="](0)&&(T=$,e.brk($,te)),t(t(me=T)?xe(T,mt):me))?$:T=mt}).$$s=a,Y.$$brk=te,Y.$$arity=1,Y))}catch(X){if(X===te)return X.$v;throw X}}(),ce["$=="](0)?t(T)&&c(bt,"map!",[],((Q=function(te){return null==te&&(te=$),t(te["$empty?"]())?te:te.$slice(T,te.$length())}).$$s=a,Q.$$arity=1,Q)):(M=ie(" ",ce),t(T)?c(bt,"map!",[],((ne=function(te){return null==te&&(te=$),t(te["$empty?"]())?te:O(M,te.$slice(T,te.$length()))}).$$s=a,ne.$$arity=1,ne)):c(bt,"map!",[],((k=function(te){return null==te&&(te=$),t(te["$empty?"]())?te:O(M,te)}).$$s=a,k.$$arity=1,k)))),$},at.$$arity=-2),e.defs(x,"$uniform?",vt=function(bt,ce,Ee){return bt.$count(ce)["$=="](Ee)},vt.$$arity=3),void e.defs(x,"$sanitize_attribute_name",Dt=function(ce){return ce.$gsub(y(f,"InvalidAttributeNameCharsRx"),"").$downcase()},Dt.$$arity=1)},Opal.modules["asciidoctor/path_resolver"]=function(e){function l(s,i){return"number"==typeof s&&"number"==typeof i?s+i:s["$+"](i)}var i,C,x,f,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,B,N,h,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.module,oe=e.klass,b=e.truthy,_=e.hash2,c=e.send,t=e.gvars;return e.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$extract_uri_prefix","$end_with?","$gsub","$private","$=~"]),i=ie,C=h=[W(ie[0],"Asciidoctor")].concat(i),B=oe(h[0],null,"PathResolver"),N=[B].concat(C),B.$$prototype.file_separator=B.$$prototype._partition_path_web=B.$$prototype._partition_path_sys=B.$$prototype.working_dir=A,B.$include($(N,"Logging")),e.const_set(N[0],"DOT","."),e.const_set(N[0],"DOT_DOT",".."),e.const_set(N[0],"DOT_SLASH","./"),e.const_set(N[0],"SLASH","/"),e.const_set(N[0],"BACKSLASH","\\"),e.const_set(N[0],"DOUBLE_SLASH","//"),e.const_set(N[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),B.$attr_accessor("file_separator"),B.$attr_accessor("working_dir"),e.def(B,"$initialize",x=function(ee,V){var _e,Me,Te=this;return null==ee&&(ee=A),null==V&&(V=A),Te.file_separator=b(_e=b(Me=ee)?Me:$e($e("::","File"),"ALT_SEPARATOR"))?_e:$e($e("::","File"),"SEPARATOR"),Te.working_dir=b(V)?b(Te["$root?"](V))?Te.$posixify(V):$e("::","File").$expand_path(V):$e("::","Dir").$pwd(),Te._partition_path_sys=_([],{}),Te._partition_path_web=_([],{})},x.$$arity=-1),e.def(B,"$absolute_path?",f=function(q){var ee;return b(ee=q["$start_with?"]($(N,"SLASH")))?ee:this.file_separator["$=="]($(N,"BACKSLASH"))?$(N,"WindowsRootRx")["$match?"](q):this.file_separator["$=="]($(N,"BACKSLASH"))},f.$$arity=1),b($(N,"RUBY_ENGINE")["$=="]("opal")?$e("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):$(N,"RUBY_ENGINE")["$=="]("opal"))?e.def(B,"$root?",ae=function(q){var ee;return b(ee=this["$absolute_path?"](q))?ee:q["$start_with?"]("file://","http://","https://")},ae.$$arity=1):e.alias(B,"root?","absolute_path?"),e.def(B,"$unc?",Pe=function(q){return q["$start_with?"]($(N,"DOUBLE_SLASH"))},Pe.$$arity=1),e.def(B,"$web_root?",ze=function(q){return q["$start_with?"]($(N,"SLASH"))},ze.$$arity=1),e.def(B,"$descends_from?",le=function(q,ee){var V;return ee["$=="](q)?0:ee["$=="]($(N,"SLASH"))?b(V=q["$start_with?"]($(N,"SLASH")))?1:V:b(V=q["$start_with?"](l(ee,$(N,"SLASH"))))?l(ee.$length(),1):V},le.$$arity=2),e.def(B,"$relative_path",S=function(ee,V){var Me;if(!b(this["$root?"](ee)))return ee;if(b(Me=this["$descends_from?"](ee,V)))return ee.$slice(Me,ee.$length());try{return $(N,"Pathname").$new(ee).$relative_path_from($(N,"Pathname").$new(V)).$to_s()}catch(Te){if(!e.rescue(Te,[$(N,"StandardError")]))throw Te;try{return ee}finally{e.pop_exception()}}},S.$$arity=2),e.def(B,"$posixify",d=function(ee){return b(ee)?b(this.file_separator["$=="]($(N,"BACKSLASH"))?ee["$include?"]($(N,"BACKSLASH")):this.file_separator["$=="]($(N,"BACKSLASH")))?ee.$tr($(N,"BACKSLASH"),$(N,"SLASH")):ee:""},d.$$arity=1),e.alias(B,"posixfy","posixify"),e.def(B,"$expand_path",m=function(ee){var V,_e,Me,et,ct,it=A;return _e=this.$partition_path(ee),et=(V=e.to_ary(_e))[0]??A,ct=V[1]??A,b(ee["$include?"]($(N,"DOT_DOT")))?(it=[],c(et,"each",[],((Me=function(Ie){return null==Ie&&(Ie=A),Ie["$=="]($(N,"DOT_DOT"))?it.$pop():it["$<<"](Ie)}).$$s=this,Me.$$arity=1,Me)),this.$join_path(it,ct)):this.$join_path(et,ct)},m.$$arity=1),e.def(B,"$partition_path",p=function(ee,V){var Me,_e=this,Te=A,et=A,ct=A,it=A,Ie=A;return null==V&&(V=A),b(Me=(Te=b(V)?_e._partition_path_web:_e._partition_path_sys)["$[]"](ee))?Me:(et=_e.$posixify(ee),b(V)?b(_e["$web_root?"](et))?ct=$(N,"SLASH"):b(et["$start_with?"]($(N,"DOT_SLASH")))&&(ct=$(N,"DOT_SLASH")):b(_e["$root?"](et))?ct=b(_e["$unc?"](et))?$(N,"DOUBLE_SLASH"):b(et["$start_with?"]($(N,"SLASH")))?$(N,"SLASH"):et.$slice(0,l(et.$index($(N,"SLASH")),1)):b(et["$start_with?"]($(N,"DOT_SLASH")))&&(ct=$(N,"DOT_SLASH")),(it=(b(ct)?et.$slice(ct.$length(),et.$length()):et).$split($(N,"SLASH"))).$delete($(N,"DOT")),c(Te,"[]=",e.to_a(Ie=[ee,[it,ct]])),Ie[function O(s,i){return"number"==typeof s&&"number"==typeof i?s-i:s["$-"](i)}(Ie.length,1)])},p.$$arity=-2),e.def(B,"$join_path",z=function(ee,V){return null==V&&(V=A),b(V)?""+V+ee.$join($(N,"SLASH")):ee.$join($(N,"SLASH"))},z.$$arity=-2),e.def(B,"$system_path",Z=function(ee,V,_e,Me){var Te,et,ct,it,Ie=this,Se=A,We=A,tt=A,Qe=A,nt=A,yt=A,ut=A,K=A,u=A,v=A;if(null==V&&(V=A),null==_e&&(_e=A),null==Me&&(Me=_([],{})),b(_e)&&(b(Ie["$root?"](_e))||Ie.$raise($e("::","SecurityError"),"Jail is not an absolute path: "+_e),_e=Ie.$posixify(_e)),b(ee)){if(b(Ie["$root?"](ee))){if(Se=Ie.$expand_path(ee),b(b(Te=_e)?Ie["$descends_from?"](Se,_e)["$!"]():Te)){if(b(Me.$fetch("recover",!0)))return Ie.$logger().$warn((b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail; recovering automatically"),et=Ie.$partition_path(Se),We=(Te=e.to_ary(et))[0]??A,et=Ie.$partition_path(_e),Qe=(Te=e.to_ary(et))[1]??A,Ie.$join_path(l(tt=Te[0]??A,We),Qe);Ie.$raise($e("::","SecurityError"),(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+ee+" is outside of jail: "+_e+" (disallowed in safe mode)")}return Se}et=Ie.$partition_path(ee),We=(Te=e.to_ary(et))[0]??A}else We=[];if(b(We["$empty?"]())){if(b(V["$nil_or_empty?"]()))return b(Te=_e)?Te:Ie.working_dir;if(b(Ie["$root?"](V))){if(!b(_e))return Ie.$expand_path(V);V=Ie.$posixify(V)}else et=Ie.$partition_path(V),We=(Te=e.to_ary(et))[0]??A,V=b(Te=_e)?Te:Ie.working_dir}else b(V["$nil_or_empty?"]())?V=b(Te=_e)?Te:Ie.working_dir:b(Ie["$root?"](V))?b(_e)&&(V=Ie.$posixify(V)):V=(b(Te=_e)?Te:Ie.working_dir).$chomp("/")+"/"+V;return b(b(Te=b(et=_e)?nt=Ie["$descends_from?"](V,_e)["$!"]():et)?Ie.file_separator["$=="]($(N,"BACKSLASH")):Te)?(et=Ie.$partition_path(V),yt=(Te=e.to_ary(et))[0]??A,ut=Te[1]??A,et=Ie.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]??A,b(ut["$!="](Qe=Te[1]??A))&&(b(Me.$fetch("recover",!0))?(Ie.$logger().$warn("start path for "+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail root; recovering automatically"),yt=tt,nt=!1):Ie.$raise($e("::","SecurityError"),"start path for "+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+V+" refers to location outside jail root: "+_e+" (disallowed in safe mode)"))):(et=Ie.$partition_path(V),yt=(Te=e.to_ary(et))[0]??A,Qe=Te[1]??A),b((K=l(yt,We))["$include?"]($(N,"DOT_DOT")))&&(u=(Te=[K,[]])[0],K=Te[1],b(_e)?(b(tt)||(et=Ie.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]??A),v=!1,c(u,"each",[],(ct=function(I){var P,U=ct.$$s||this;return null==I&&(I=A),I["$=="]($(N,"DOT_DOT"))?b(function xe(s,i){return"number"==typeof s&&"number"==typeof i?s>i:s["$>"](i)}(K.$size(),tt.$size()))?K.$pop():b(Me.$fetch("recover",!0))?b(v)?A:(U.$logger().$warn((b(P=Me["$[]"]("target_name"))?P:"path")+" has illegal reference to ancestor of jail; recovering automatically"),v=!0):U.$raise($e("::","SecurityError"),(b(P=Me["$[]"]("target_name"))?P:"path")+" "+ee+" refers to location outside jail: "+_e+" (disallowed in safe mode)"):K["$<<"](I)},ct.$$s=Ie,ct.$$arity=1,ct))):c(u,"each",[],((it=function(I){return null==I&&(I=A),I["$=="]($(N,"DOT_DOT"))?K.$pop():K["$<<"](I)}).$$s=Ie,it.$$arity=1,it))),b(nt)?(Se=Ie.$join_path(K,Qe),b(Ie["$descends_from?"](Se,_e))?Se:b(Me.$fetch("recover",!0))?(Ie.$logger().$warn((b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail; recovering automatically"),b(tt)||(et=Ie.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]??A),Ie.$join_path(l(tt,We),Qe)):Ie.$raise($e("::","SecurityError"),(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+ee+" is outside of jail: "+_e+" (disallowed in safe mode)")):Ie.$join_path(K,Qe)},Z.$$arity=-2),e.def(B,"$web_path",re=function(ee,V){var _e,Me,Te,et=this,ct=A,Ie=A,Se=A,We=A;return null==V&&(V=A),ee=et.$posixify(ee),V=et.$posixify(V),b(b(_e=V["$nil_or_empty?"]())?_e:et["$web_root?"](ee))||(Me=et.$extract_uri_prefix(""+V+(b(V["$end_with?"]($(N,"SLASH")))?"":$(N,"SLASH"))+ee),ee=(_e=e.to_ary(Me))[0]??A,ct=_e[1]??A),Me=et.$partition_path(ee,!0),_e=e.to_ary(Me),Ie=_e[1]??A,Se=[],c(_e[0]??A,"each",[],((Te=function(tt){var nt;return null==tt&&(tt=A),tt["$=="]($(N,"DOT_DOT"))?b(Se["$empty?"]())?b(b(nt=Ie)?Ie["$!="]($(N,"DOT_SLASH")):nt)?A:Se["$<<"](tt):Se["$[]"](-1)["$=="]($(N,"DOT_DOT"))?Se["$<<"](tt):Se.$pop():Se["$<<"](tt)}).$$s=et,Te.$$arity=1,Te)),b((We=et.$join_path(Se,Ie))["$include?"](" "))&&(We=We.$gsub(" ","%20")),b(ct)?""+ct+We:We},re.$$arity=-2),B.$private(),void e.def(B,"$extract_uri_prefix",ye=function(ee){var V;return b(b(V=ee["$include?"](":"))?$(N,"UriSniffRx")["$=~"](ee):V)?[ee.$slice(((V=t["~"])===A?A:V["$[]"](0)).$length(),ee.$length()),(V=t["~"])===A?A:V["$[]"](0)]:ee},ye.$$arity=1)},Opal.modules["asciidoctor/reader"]=function(e){function l(g,w){return"number"==typeof g&&"number"==typeof w?g+w:g["$+"](w)}function O(g,w){return"number"==typeof g&&"number"==typeof w?g>w:g["$>"](w)}function xe(g,w){return"number"==typeof g&&"number"==typeof w?g-w:g["$-"](w)}function Xe(g,w){return"number"==typeof g&&"number"==typeof w?g*w:g["$*"](w)}function ie(g,w){return"number"==typeof g&&"number"==typeof w?g>=w:g["$>="](w)}var w,ot,Dt,bt,ce,at,f,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be,je,Fe,L,ae,B,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,_=e.module,c=e.klass,t=e.hash2,s=e.truthy,i=e.send,j=e.gvars,h=e.hash;return e.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$reverse","$prepare_lines","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$[]","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$pop","$push","$respond_to?","$reverse_each","$new","$tap","$each","$instance_variables","$instance_variable_get","$drop","$instance_variable_set","$class","$object_id","$inspect","$private","$prepare_source_array","$prepare_source_string","$chomp","$valid_encoding?","$to_s","$raise","$to_i","$attributes","$catalog","$pop_include","$parse","$path=","$dup","$end_with?","$keys","$rindex","$rootname","$key?","$attr","$reverse!","$>=","$nil?","$extensions?","$include_processors?","$extensions","$include_processors","$map","$skip_front_matter!","$adjust_indentation!","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$downcase","$error","$none?","$any?","$all?","$strip","$send","$resolve_expr_val","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$info","$parse_attributes","$find","$handles?","$instance","$process_method","$safe","$resolve_include_path","$method","$split_delimited_value","$partition","$<","$to_a","$uniq","$sort","$call","$each_line","$infinite?","$push_include","$delete","$first","$values","$value?","$create_include_cursor","$delete_at","$keep_if","$read","$uriish?","$attr?","$require_library","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_f"]),w=$,f=B=[_($[0],"Asciidoctor")].concat(w),L=c(B[0],null,"Reader"),ae=[L].concat(f),L.$$prototype.file=L.$$prototype.lines=L.$$prototype.look_ahead=L.$$prototype.unescape_next_line=L.$$prototype.lineno=L.$$prototype.process_lines=L.$$prototype.dir=L.$$prototype.path=L.$$prototype.mark=L.$$prototype.source_lines=L.$$prototype.saved=n,L.$include(W(ae,"Logging")),ot=ae,[at=c(ae[0],null,"Cursor")].concat(ot),at.$$prototype.lineno=at.$$prototype.path=n,at.$attr_reader("file","dir","path","lineno"),e.def(at,"$initialize",Dt=function(fe,o,H,Y){var Q;return null==o&&(o=n),null==H&&(H=n),null==Y&&(Y=1),this.file=(Q=[fe,o,H,Y])[0],this.dir=Q[1],this.path=Q[2],this.lineno=Q[3],Q},Dt.$$arity=-2),e.def(at,"$advance",bt=function(fe){return this.lineno=l(this.lineno,fe)},bt.$$arity=1),e.def(at,"$line_info",ce=function(){return this.path+": line "+this.lineno},ce.$$arity=0),e.alias(at,"to_s","line_info"),L.$attr_reader("file"),L.$attr_reader("dir"),L.$attr_reader("path"),L.$attr_reader("lineno"),L.$attr_reader("source_lines"),L.$attr_accessor("process_lines"),L.$attr_accessor("unterminated"),e.def(L,"$initialize",Pe=function(we,ot,at){var vt,Dt,bt=this;return null==we&&(we=n),null==ot&&(ot=n),null==at&&(at=t([],{})),s(ot["$!"]())?(bt.file=n,bt.dir=".",bt.path="<stdin>",bt.lineno=1):s(y("::","String")["$==="](ot))?(bt.file=ot,Dt=y("::","File").$split(bt.file),vt=e.to_ary(Dt),bt.dir=vt[0]??n,bt.path=vt[1]??n,bt.lineno=1):(s(bt.file=ot.$file())?(bt.dir=s(vt=ot.$dir())?vt:y("::","File").$dirname(bt.file),bt.path=s(vt=ot.$path())?vt:y("::","File").$basename(bt.file)):(bt.dir=s(vt=ot.$dir())?vt:".",bt.path=s(vt=ot.$path())?vt:"<stdin>"),bt.lineno=s(vt=ot.$lineno())?vt:1),bt.lines=(bt.source_lines=bt.$prepare_lines(we,at)).$reverse(),bt.mark=n,bt.look_ahead=0,bt.process_lines=!0,bt.unescape_next_line=!1,bt.unterminated=n,bt.saved=n},Pe.$$arity=-1),e.def(L,"$has_more_lines?",ze=function(){return!s(this.lines["$empty?"]())||(this.look_ahead=0,!1)},ze.$$arity=0),e.def(L,"$empty?",le=function(){return!!s(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},le.$$arity=0),e.alias(L,"eof?","empty?"),e.def(L,"$next_line_empty?",S=function(){return this.$peek_line()["$nil_or_empty?"]()},S.$$arity=0),e.def(L,"$peek_line",d=function(we){var ot,at=this,vt=n;return null==we&&(we=!1),s(s(ot=we)?ot:O(at.look_ahead,0))?s(at.unescape_next_line)?(vt=at.lines["$[]"](-1)).$slice(1,vt.$length()):at.lines["$[]"](-1):s(at.lines["$empty?"]())?(at.look_ahead=0,n):s(ot=at.$process_line(at.lines["$[]"](-1)))?ot:at.$peek_line()},d.$$arity=-1),e.def(L,"$peek_lines",m=function(we,ot){var at,vt,bt,Dt=this,ce=n;return null==we&&(we=n),null==ot&&(ot=!1),bt=Dt.look_ahead,ce=[],function(){var Ee=e.new_brk();try{i(s(at=we)?at:W(ae,"MAX_INT"),"times",[],((vt=function(){var o,fe=vt.$$s||this;if(null==fe.lineno&&(fe.lineno=n),s(o=s(ot)?fe.$shift():fe.$read_line()))return ce["$<<"](o);s(ot)&&(fe.lineno=xe(fe.lineno,1)),e.brk(n,Ee)}).$$s=Dt,vt.$$brk=Ee,vt.$$arity=0,vt))}catch(fe){if(fe===Ee)return fe.$v;throw fe}}(),s(ce["$empty?"]())||(Dt.$unshift_all(ce),s(ot)&&(Dt.look_ahead=bt)),ce},m.$$arity=-1),e.def(L,"$read_line",p=function(){var we;return s(s(we=O(this.look_ahead,0))?we:this["$has_more_lines?"]())?this.$shift():n},p.$$arity=0),e.def(L,"$read_lines",z=function(){var at=n;for(at=[];s(this["$has_more_lines?"]());)at["$<<"](this.$shift());return at},z.$$arity=0),e.alias(L,"readlines","read_lines"),e.def(L,"$read",Z=function(){return this.$read_lines().$join(W(ae,"LF"))},Z.$$arity=0),e.def(L,"$advance",re=function(){return!!s(this.$shift())},re.$$arity=0),e.def(L,"$unshift_line",ye=function(we){return this.$unshift(we),n},ye.$$arity=1),e.alias(L,"restore_line","unshift_line"),e.def(L,"$unshift_lines",q=function(we){return this.$unshift_all(we)},q.$$arity=1),e.alias(L,"restore_lines","unshift_lines"),e.def(L,"$replace_next_line",ee=function(we){return this.$shift(),this.$unshift(we),!0},ee.$$arity=1),e.alias(L,"replace_line","replace_next_line"),e.def(L,"$skip_blank_lines",V=function(){var at=n,vt=n;if(s(this["$empty?"]()))return n;for(at=0;s(vt=this.$peek_line());){if(!s(vt["$empty?"]()))return at;this.$shift(),at=l(at,1)}},V.$$arity=0),e.def(L,"$skip_comment_lines",_e=function(){var ot,vt=n,Dt=n;if(s(this["$empty?"]()))return n;for(;s(s(ot=vt=this.$peek_line())?vt["$empty?"]()["$!"]():ot)&&s(vt["$start_with?"]("//"));)if(s(vt["$start_with?"]("///"))){if(!s(s(ot=O(Dt=vt.$length(),3))?vt["$=="](Xe("/",Dt)):ot))break;this.$read_lines_until(t(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:vt,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else this.$shift();return n},_e.$$arity=0),e.def(L,"$skip_line_comments",Me=function(){var ot,vt=n,Dt=n;if(s(this["$empty?"]()))return[];for(vt=[];s(s(ot=Dt=this.$peek_line())?Dt["$empty?"]()["$!"]():ot)&&s(Dt["$start_with?"]("//"));)vt["$<<"](this.$shift());return vt},Me.$$arity=0),e.def(L,"$terminate",Te=function(){var we=this;return we.lineno=l(we.lineno,we.lines.$size()),we.lines.$clear(),we.look_ahead=0,n},Te.$$arity=0),e.def(L,"$read_lines_until",et=function(we){var ot,at,vt,Dt,bt,ce,E,Ee=et.$$p,fe=Ee||n,o=this,H=n,Y=n,Q=n,ne=n,k=n,a=n,T=n,M=n,te=n,X=n,Ae=n;for(Ee&&(et.$$p=null),null==we&&(we=t([],{})),H=[],s(s(ot=o.process_lines)?we["$[]"]("skip_processing"):ot)&&(o.process_lines=!1,Y=!0),s(Q=we["$[]"]("terminator"))?(ne=s(ot=we["$[]"]("cursor"))?ot:o.$cursor(),k=!1,a=!1):(k=we["$[]"]("break_on_blank_lines"),a=we["$[]"]("break_on_list_continuation")),E=we["$[]"]("skip_line_comments"),T=M=n,s(we["$[]"]("skip_first_line"))&&o.$shift();s(te=o.$read_line());){if(s(s(Q)?te["$=="](Q):s(at=s(vt=s(Dt=k)?te["$empty?"]():Dt)?vt:s(Dt=s(bt=s(ce=a)?T:ce)?te["$=="](W(ae,"LIST_CONTINUATION")):bt)?(i(we,"[]=",e.to_a(X=["preserve_last_line",!0])),X[xe(X.length,1)]):Dt)?at:(vt=fe!==n)?e.yield1(fe,te):fe!==n)){s(we["$[]"]("read_last_line"))&&H["$<<"](te),s(we["$[]"]("preserve_last_line"))&&(o.$unshift(te),M=!0);break}s(s(at=s(vt=E)?te["$start_with?"]("//"):vt)?te["$start_with?"]("///")["$!"]():at)||(H["$<<"](te),T=!0)}return s(Y)&&(o.process_lines=!0,s(s(ot=M)?Q["$!"]():ot)&&(o.look_ahead=xe(o.look_ahead,1))),s(s(ot=s(at=Q)?Q["$!="](te):at)?Ae=we.$fetch("context",Q):ot)&&(ne["$=="]("at_mark")&&(ne=o.$cursor_at_mark()),o.$logger().$warn(o.$message_with_context("unterminated "+Ae+" block",t(["source_location"],{source_location:ne}))),o.unterminated=!0),H},et.$$arity=-1),e.def(L,"$shift",ct=function(){var we=this;return we.lineno=l(we.lineno,1),we.look_ahead["$=="](0)||(we.look_ahead=xe(we.look_ahead,1)),we.lines.$pop()},ct.$$arity=0),e.def(L,"$unshift",it=function(we){var ot=this;return ot.lineno=xe(ot.lineno,1),ot.look_ahead=l(ot.look_ahead,1),ot.lines.$push(we),n},it.$$arity=1),y("::","RUBY_ENGINE")["$=="]("jruby")?e.def(L,"$unshift_all",Ie=function(we){var ot,at=this;return at.lineno=xe(at.lineno,we.$size()),at.look_ahead=l(at.look_ahead,we.$size()),s(we["$respond_to?"]("reverse"))?i(at.lines,"push",e.to_a(we.$reverse())):i(we,"reverse_each",[],((ot=function(vt){var Dt=ot.$$s||this;return null==Dt.lines&&(Dt.lines=n),null==vt&&(vt=n),Dt.lines.$push(vt)}).$$s=at,ot.$$arity=1,ot)),n},Ie.$$arity=1):e.def(L,"$unshift_all",Se=function(we){var ot=this;return ot.lineno=xe(ot.lineno,we.$size()),ot.look_ahead=l(ot.look_ahead,we.$size()),i(ot.lines,"push",e.to_a(we.$reverse())),n},Se.$$arity=1),e.def(L,"$cursor",We=function(){return W(ae,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},We.$$arity=0),e.def(L,"$cursor_at_line",tt=function(we){return W(ae,"Cursor").$new(this.file,this.dir,this.path,we)},tt.$$arity=1),e.def(L,"$cursor_at_mark",Qe=function(){return s(this.mark)?i(W(ae,"Cursor"),"new",e.to_a(this.mark)):this.$cursor()},Qe.$$arity=0),e.def(L,"$cursor_before_mark",nt=function(){var we,at=this,vt=n,Dt=n,bt=n,ce=n;return s(at.mark)?(vt=(we=e.to_ary(at.mark))[0]??n,Dt=we[1]??n,bt=we[2]??n,ce=we[3]??n,W(ae,"Cursor").$new(vt,Dt,bt,xe(ce,1))):W(ae,"Cursor").$new(at.file,at.dir,at.path,xe(at.lineno,1))},nt.$$arity=0),e.def(L,"$cursor_at_prev_line",yt=function(){return W(ae,"Cursor").$new(this.file,this.dir,this.path,xe(this.lineno,1))},yt.$$arity=0),e.def(L,"$mark",ut=function(){var we=this;return we.mark=[we.file,we.dir,we.path,we.lineno]},ut.$$arity=0),e.def(L,"$line_info",K=function(){return this.path+": line "+this.lineno},K.$$arity=0),e.def(L,"$lines",u=function(){return this.lines.$reverse()},u.$$arity=0),e.def(L,"$string",v=function(){return this.lines.$reverse().$join(W(ae,"LF"))},v.$$arity=0),e.def(L,"$source",I=function(){return this.source_lines.$join(W(ae,"LF"))},I.$$arity=0),e.def(L,"$save",U=function(){var we;return this.saved=i(t([],{}),"tap",[],((we=function(at){var Dt,vt=we.$$s||this;return null==at&&(at=n),i(vt.$instance_variables(),"each",[],((Dt=function(bt){var Ee,ce=Dt.$$s||this,fe=n,o=n;return null==bt&&(bt=n),s(s(Ee=bt["$=="]("@saved"))?Ee:bt["$=="]("@source_lines"))?n:(fe=[bt,s(y("::","Array")["$==="](o=ce.$instance_variable_get(bt)))?o.$drop(0):o],i(at,"[]=",e.to_a(fe)),fe[xe(fe.length,1)])}).$$s=vt,Dt.$$arity=1,Dt))}).$$s=this,we.$$arity=1,we)),n},U.$$arity=0),e.def(L,"$restore_save",P=function(){var we;return s(this.saved)?(i(this.saved,"each",[],((we=function(at,vt){return null==at&&(at=n),null==vt&&(vt=n),(we.$$s||this).$instance_variable_set(at,vt)}).$$s=this,we.$$arity=2,we)),this.saved=n):n},P.$$arity=0),e.def(L,"$discard_save",de=function(){return this.saved=n},de.$$arity=0),e.def(L,"$to_s",be=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+"}>"},be.$$arity=0),L.$private(),e.def(L,"$prepare_lines",je=function(we,ot){var vt=n;null==ot&&(ot=t([],{}));try{return s(vt=ot["$[]"]("normalize"))?s(y("::","Array")["$==="](we))?W(ae,"Helpers").$prepare_source_array(we,vt["$!="]("chomp")):W(ae,"Helpers").$prepare_source_string(we,vt["$!="]("chomp")):s(y("::","Array")["$==="](we))?we.$drop(0):s(we)?we.$chomp().$split(W(ae,"LF"),-1):[]}catch(Dt){if(!e.rescue(Dt,[W(ae,"StandardError")]))throw Dt;try{return s((s(y("::","Array")["$==="](we))?we.$join():we.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(y("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}}},je.$$arity=-2),e.def(L,"$process_line",Fe=function(we){return s(this.process_lines)&&(this.look_ahead=l(this.look_ahead,1)),we},Fe.$$arity=1),void function(N,x,f){var Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,L=c(N,x,"PreprocessorReader"),ae=[L].concat(f);L.$$prototype.include_stack=L.$$prototype.lines=L.$$prototype.file=L.$$prototype.dir=L.$$prototype.path=L.$$prototype.lineno=L.$$prototype.maxdepth=L.$$prototype.process_lines=L.$$prototype.includes=L.$$prototype.document=L.$$prototype.unescape_next_line=L.$$prototype.include_processor_extensions=L.$$prototype.look_ahead=L.$$prototype.skipping=L.$$prototype.conditional_stack=n,L.$attr_reader("include_stack"),e.def(L,"$initialize",Pe=function(Se,We,tt,Qe){var nt,u,K=this;return Pe.$$p&&(Pe.$$p=null),null==We&&(We=n),null==tt&&(tt=n),null==Qe&&(Qe=t([],{})),K.document=Se,i(K,e.find_super_dispatcher(K,"initialize",Pe,!1),[We,tt,Qe],null),K.maxdepth=s(O(u=(s(nt=Se.$attributes()["$[]"]("max-include-depth"))?nt:64).$to_i(),0))?t(["abs","curr","rel"],{abs:u,curr:u,rel:u}):n,K.include_stack=[],K.includes=Se.$catalog()["$[]"]("includes"),K.skipping=!1,K.conditional_stack=[],K.include_processor_extensions=n},Pe.$$arity=-2),e.def(L,"$has_more_lines?",ze=function(){return!!s(this.$peek_line())},ze.$$arity=0),e.def(L,"$empty?",le=function(){return!s(this.$peek_line())},le.$$arity=0),e.alias(L,"eof?","empty?"),e.def(L,"$peek_line",S=function(Se){var We=S.$$p,Qe=this,nt=n,yt=n,ut=n,K=n;for(We&&(S.$$p=null),ut=0,K=arguments.length,yt=new Array(K);ut<K;ut++)yt[ut]=arguments[ut];return null==Se&&(Se=!1),s(nt=i(Qe,e.find_super_dispatcher(Qe,"peek_line",S,!1),yt,We))?nt:s(Qe.include_stack["$empty?"]())?n:(Qe.$pop_include(),Qe.$peek_line(Se))},S.$$arity=-1),e.def(L,"$push_include",d=function(Se,We,tt,Qe,nt){var yt,ut=this,K=n,u=n,v=n,I=n,U=n,P=n;return null==We&&(We=n),null==tt&&(tt=n),null==Qe&&(Qe=1),null==nt&&(nt=t([],{})),ut.include_stack["$<<"]([ut.lines,ut.file,ut.dir,ut.path,ut.lineno,ut.maxdepth,ut.process_lines]),s(ut.file=We)?(s(y("::","String")["$==="](We))?ut.dir=y("::","File").$dirname(We):s(W(ae,"RUBY_ENGINE_OPAL"))?ut.dir=y("::","URI").$parse(y("::","File").$dirname(We=We.$to_s())):(K=[(u=y("::","File").$dirname(We.$path()))["$=="]("/")?"":u],i(ut.dir=We.$dup(),"path=",e.to_a(K)),xe(K.length,1),We=We.$to_s()),ut.path=tt=s(yt=tt)?yt:y("::","File").$basename(We),s(ut.process_lines=i(We,"end_with?",e.to_a(W(ae,"ASCIIDOC_EXTENSIONS").$keys())))&&(K=[tt.$slice(0,tt.$rindex(".")),!s(nt["$[]"]("partial-option"))||n],i(ut.includes,"[]=",e.to_a(K)),xe(K.length,1))):(ut.dir=".",ut.process_lines=!0,s(ut.path=tt)?(K=[W(ae,"Helpers").$rootname(tt),!s(nt["$[]"]("partial-option"))||n],i(ut.includes,"[]=",e.to_a(K)),xe(K.length,1)):ut.path="<stdin>"),ut.lineno=Qe,s(s(yt=ut.maxdepth)?nt["$key?"]("depth"):yt)&&(s(O(v=nt["$[]"]("depth").$to_i(),0))?(s(O(I=l(ut.include_stack.$size(),v),U=ut.maxdepth["$[]"]("abs")))&&(I=v=U),ut.maxdepth=t(["abs","curr","rel"],{abs:U,curr:I,rel:v})):ut.maxdepth=t(["abs","curr","rel"],{abs:ut.maxdepth["$[]"]("abs"),curr:ut.include_stack.$size(),rel:0})),s((ut.lines=ut.$prepare_lines(Se,t(["normalize","condense","indent"],{normalize:s(yt=ut.process_lines)?yt:"chomp",condense:!1,indent:nt["$[]"]("indent")})))["$empty?"]())?ut.$pop_include():(s(nt["$key?"]("leveloffset"))?(ut.lines=l(l([s(P=ut.document.$attr("leveloffset"))?":leveloffset: "+P:":leveloffset!:",""],ut.lines.$reverse()),["",":leveloffset: "+nt["$[]"]("leveloffset")]),ut.lineno=xe(ut.lineno,2)):ut.lines["$reverse!"](),ut.look_ahead=0),ut},d.$$arity=-2),e.def(L,"$include_depth",m=function(){return this.include_stack.$size()},m.$$arity=0),e.def(L,"$exceeds_max_depth?",p=function(){var Ie,Se;return s(Ie=s(Se=this.maxdepth)?ie(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):Se)?this.maxdepth["$[]"]("rel"):Ie},p.$$arity=0),e.alias(L,"exceeded_max_depth?","exceeds_max_depth?"),e.def(L,"$shift",z=function(){var Se=z.$$p,tt=this,Qe=n,nt=n,yt=n,ut=n;for(Se&&(z.$$p=null),yt=0,ut=arguments.length,nt=new Array(ut);yt<ut;yt++)nt[yt]=arguments[yt];return s(tt.unescape_next_line)?(tt.unescape_next_line=!1,(Qe=i(tt,e.find_super_dispatcher(tt,"shift",z,!1),nt,Se)).$slice(1,Qe.$length())):i(tt,e.find_super_dispatcher(tt,"shift",z,!1),nt,Se)},z.$$arity=0),e.def(L,"$include_processors?",Z=function(){var Ie,Se=this;return s(Se.include_processor_extensions["$nil?"]())?s(s(Ie=Se.document["$extensions?"]())?Se.document.$extensions()["$include_processors?"]():Ie)?(Se.include_processor_extensions=Se.document.$extensions().$include_processors())["$!"]()["$!"]():Se.include_processor_extensions=!1:Se.include_processor_extensions["$!="](!1)},Z.$$arity=0),e.def(L,"$create_include_cursor",re=function(Se,We,tt){var nt=n;return s(y("::","String")["$==="](Se))?nt=y("::","File").$dirname(Se):s(W(ae,"RUBY_ENGINE_OPAL"))?nt=y("::","File").$dirname(Se=Se.$to_s()):(nt=(nt=y("::","File").$dirname(Se.$path()))["$=="]("")?"/":nt,Se=Se.$to_s()),W(ae,"Cursor").$new(Se,nt,We,tt)},re.$$arity=3),e.def(L,"$to_s",ye=function(){var Se,We=this;return"#<"+We.$class()+"@"+We.$object_id()+" {path: "+We.path.$inspect()+", line: "+We.lineno+", include depth: "+We.include_stack.$size()+", include stack: ["+i(We.include_stack,"map",[],(Se=function(tt){return null==tt&&(tt=n),tt.$to_s()},Se.$$s=We,Se.$$arity=1,Se)).$join(", ")+"]}>"},ye.$$arity=0),L.$private(),e.def(L,"$prepare_lines",q=function(Se,We){var tt,Qe,nt=q.$$p,ut=this,K=n,u=n,v=n,I=n,U=n,P=n,de=n;for(nt&&(q.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];if(null==We&&(We=t([],{})),K=i(ut,e.find_super_dispatcher(ut,"prepare_lines",q,!1),U,nt),s(s(tt=s(Qe=ut.document)?ut.document.$attributes()["$[]"]("skip-front-matter"):Qe)?u=ut["$skip_front_matter!"](K):tt)&&(v=["front-matter",u.$join(W(ae,"LF"))],i(ut.document.$attributes(),"[]=",e.to_a(v)),xe(v.length,1)),s(We.$fetch("condense",!0)))for(;s(s(Qe=I=K["$[]"](-1))?I["$empty?"]():Qe);)K.$pop();return s(We["$[]"]("indent"))&&W(ae,"Parser")["$adjust_indentation!"](K,We["$[]"]("indent").$to_i(),ut.document.$attr("tabsize").$to_i()),K},q.$$arity=-2),e.def(L,"$process_line",ee=function(Se){var We,tt,Qe=this;return s(Qe.process_lines)?s(Se["$empty?"]())?(Qe.look_ahead=l(Qe.look_ahead,1),Se):s(s(We=s(tt=Se["$end_with?"]("]"))?Se["$start_with?"]("[")["$!"]():tt)?Se["$include?"]("::"):We)?s(s(We=Se["$include?"]("if"))?W(ae,"ConditionalDirectiveRx")["$=~"](Se):We)?((We=j["~"])===n?n:We["$[]"](1))["$=="]("\\")?(Qe.unescape_next_line=!0,Qe.look_ahead=l(Qe.look_ahead,1),Se.$slice(1,Se.$length())):s(Qe.$preprocess_conditional_directive((We=j["~"])===n?n:We["$[]"](2),(We=j["~"])===n?n:We["$[]"](3),(We=j["~"])===n?n:We["$[]"](4),(We=j["~"])===n?n:We["$[]"](5)))?(Qe.$shift(),n):(Qe.look_ahead=l(Qe.look_ahead,1),Se):s(Qe.skipping)?(Qe.$shift(),n):s(s(We=Se["$start_with?"]("inc","\\inc"))?W(ae,"IncludeDirectiveRx")["$=~"](Se):We)?((We=j["~"])===n?n:We["$[]"](1))["$=="]("\\")?(Qe.unescape_next_line=!0,Qe.look_ahead=l(Qe.look_ahead,1),Se.$slice(1,Se.$length())):s(Qe.$preprocess_include_directive((We=j["~"])===n?n:We["$[]"](2),(We=j["~"])===n?n:We["$[]"](3)))?n:(Qe.look_ahead=l(Qe.look_ahead,1),Se):(Qe.look_ahead=l(Qe.look_ahead,1),Se):s(Qe.skipping)?(Qe.$shift(),n):(Qe.look_ahead=l(Qe.look_ahead,1),Se):Se},ee.$$arity=1),e.def(L,"$preprocess_conditional_directive",V=function(Se,We,tt,Qe){var nt,yt,ut,K,u,I,v=this,U=n,P=n,de=n,be=n,je=n,Fe=n;if(s(I=We["$empty?"]())||(We=We.$downcase()),Se["$=="]("endif"))return s(Qe)?v.$logger().$error(v.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+We+"["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))):s(v.conditional_stack["$empty?"]())?v.$logger().$error(v.$message_with_context("unmatched preprocessor directive: endif::"+We+"[]",t(["source_location"],{source_location:v.$cursor()}))):s(s(nt=I)?nt:We["$=="]((U=v.conditional_stack["$[]"](-1))["$[]"]("target")))?(v.conditional_stack.$pop(),v.skipping=!s(v.conditional_stack["$empty?"]())&&v.conditional_stack["$[]"](-1)["$[]"]("skipping")):v.$logger().$error(v.$message_with_context("mismatched preprocessor directive: endif::"+We+"[], expected endif::"+U["$[]"]("target")+"[]",t(["source_location"],{source_location:v.$cursor()}))),!0;if(s(v.skipping))P=!1;else if("ifdef"["$==="](de=Se)){if(s(I))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;P=","["$==="](de=tt)?i(We.$split(",",-1),"none?",[],((yt=function(Ke){var we=yt.$$s||this;return null==we.document&&(we.document=n),null==Ke&&(Ke=n),we.document.$attributes()["$key?"](Ke)}).$$s=v,yt.$$arity=1,yt)):"+"["$==="](de)?i(We.$split("+",-1),"any?",[],((ut=function(Ke){var we=ut.$$s||this;return null==we.document&&(we.document=n),null==Ke&&(Ke=n),we.document.$attributes()["$key?"](Ke)["$!"]()}).$$s=v,ut.$$arity=1,ut)):v.document.$attributes()["$key?"](We)["$!"]()}else if("ifndef"["$==="](de)){if(s(I))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;P=","["$==="](de=tt)?i(We.$split(",",-1),"any?",[],((K=function(Ke){var we=K.$$s||this;return null==we.document&&(we.document=n),null==Ke&&(Ke=n),we.document.$attributes()["$key?"](Ke)}).$$s=v,K.$$arity=1,K)):"+"["$==="](de)?i(We.$split("+",-1),"all?",[],((u=function(Ke){var we=u.$$s||this;return null==we.document&&(we.document=n),null==Ke&&(Ke=n),we.document.$attributes()["$key?"](Ke)}).$$s=v,u.$$arity=1,u)):v.document.$attributes()["$key?"](We)}else if("ifeval"["$==="](de)){if(!s(I))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+We+"["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;if(!s(s(nt=Qe)?W(ae,"EvalExpressionRx")["$=~"](Qe.$strip()):nt))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - "+(s(Qe)?"invalid expression":"missing expression")+": ifeval::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;be=(nt=j["~"])===n?n:nt["$[]"](1),je=(nt=j["~"])===n?n:nt["$[]"](2),Fe=(nt=j["~"])===n?n:nt["$[]"](3),P=function(){try{return!s(v.$resolve_expr_val(be).$send(je,v.$resolve_expr_val(Fe)))}catch(Ke){if(!e.rescue(Ke,[W(ae,"StandardError")]))throw Ke;try{return!0}finally{e.pop_exception()}}}()}return s(s(nt=Se["$=="]("ifeval"))?nt:Qe["$!"]())?(s(P)&&(v.skipping=!0),v.conditional_stack["$<<"](t(["target","skip","skipping"],{target:We,skip:P,skipping:v.skipping}))):s(s(nt=v.skipping)?nt:P)||(v.$replace_next_line(Qe.$rstrip()),v.$unshift(""),s(Qe["$start_with?"]("include::"))&&(v.look_ahead=xe(v.look_ahead,1))),!0},V.$$arity=4),e.def(L,"$preprocess_include_directive",_e=function(Se,We){var tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be=this,je=n,Fe=n,Ke=n,we=n,ot=n,at=n,vt=n,Dt=n,bt=n,ce=n,Ee=n,fe=n,o=n,H=n,Y=n,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n,mt=n,dt=n;if(je=be.document,s(s(tt=(Fe=Se)["$include?"](W(ae,"ATTR_REF_HEAD")))?(Fe=je.$sub_attributes(Se,t(["attribute_missing"],{attribute_missing:(Ke=s(Qe=je.$attributes()["$[]"]("attribute-missing"))?Qe:W(ae,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":Ke})))["$empty?"]():tt))return s((tt=Ke["$=="]("drop-line"))?je.$sub_attributes(l(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("drop-line"))?(i(be.$logger(),"info",[],((nt=function(){var He=nt.$$s||this;return He.$message_with_context("include dropped due to missing attribute: include::"+Se+"["+We+"]",t(["source_location"],{source_location:He.$cursor()}))}).$$s=be,nt.$$arity=0,nt)),be.$shift(),!0):s(je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(i(be.$logger(),"info",[],((yt=function(){var He=yt.$$s||this;return He.$message_with_context("optional include dropped "+(s(Ke["$=="]("warn")?je.$sub_attributes(l(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+Se+"["+We+"]",t(["source_location"],{source_location:He.$cursor()}))}).$$s=be,yt.$$arity=0,yt)),be.$shift(),!0):(be.$logger().$warn(be.$message_with_context("include dropped "+(s((tt=Ke["$=="]("warn"))?je.$sub_attributes(l(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+Se+"["+We+"]",t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Se+"["+We+"]"));if(s(s(tt=be["$include_processors?"]())?we=i(be.include_processor_extensions,"find",[],((ut=function(He){return null==He&&(He=n),He.$instance()["$handles?"](Fe)}).$$s=be,ut.$$arity=1,ut)):tt))return be.$shift(),we.$process_method()["$[]"](je,be,Fe,je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0}))),!0;if(s(ie(je.$safe(),y(W(ae,"SafeMode"),"SECURE"))))return be.$replace_next_line("link:"+Fe+"[]");if(s(be.maxdepth)){if(s(ie(be.include_stack.$size(),be.maxdepth["$[]"]("curr"))))return be.$logger().$error(be.$message_with_context("maximum include depth of "+be.maxdepth["$[]"]("rel")+" exceeded",t(["source_location"],{source_location:be.$cursor()}))),n;if(ot=je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0})),Qe=be.$resolve_include_path(Fe,We,ot),tt=e.to_ary(Qe),at=tt[0]??n,Dt=tt[2]??n,"file"["$==="](bt=vt=tt[1]??n))ce=y("::","File").$method("open"),Ee=W(ae,"FILE_READ_MODE");else{if(!"uri"["$==="](bt))return at;ce=y("::","OpenURI").$method("open_uri"),Ee=W(ae,"URI_READ_MODE")}if(s(W(ae,"RUBY_ENGINE_OPAL"))||s(s(tt=fe=ot["$[]"]("encoding"))?function(){try{return y("::","Encoding").$find(fe)}catch(He){if(!e.rescue(He,[W(ae,"StandardError")]))throw He;try{return n}finally{e.pop_exception()}}}():tt)&&(o=[1,fe],i(H=Ee.$split(":"),"[]=",e.to_a(o)),xe(o.length,1),Ee=H.$join(":")),Y=Q=n,s(We)&&(s(ot["$key?"]("lines"))?(Y=[],i(be.$split_delimited_value(ot["$[]"]("lines")),"each",[],(K=function(He){var $t,Tt,rt=n,Yt=n;return null==He&&(He=n),s(He["$include?"](".."))?(Tt=He.$partition(".."),rt=($t=e.to_ary(Tt))[0]??n,Y=l(Y,s(s($t=(Yt=$t[2]??n)["$empty?"]())?$t:function A(g,w){return"number"==typeof g&&"number"==typeof w?g<w:g["$<"](w)}(Yt=Yt.$to_i(),0))?[rt.$to_i(),y(y("::","Float"),"INFINITY")]:e.Range.$new(rt.$to_i(),Yt,!1).$to_a())):Y["$<<"](He.$to_i())},K.$$s=be,K.$$arity=1,K)),Y=s(Y["$empty?"]())?n:Y.$sort().$uniq()):s(ot["$key?"]("tag"))?s(s(tt=(ne=ot["$[]"]("tag"))["$empty?"]())?tt:ne["$=="]("!"))||(Q=s(ne["$start_with?"]("!"))?h(ne.$slice(1,ne.$length()),!1):h(ne,!0)):s(ot["$key?"]("tags"))&&(Q=t([],{}),i(be.$split_delimited_value(ot["$[]"]("tags")),"each",[],((u=function(He){var $t;return null==He&&(He=n),s(s($t=He["$empty?"]())?$t:He["$=="]("!"))?n:s(He["$start_with?"]("!"))?(o=[He.$slice(1,He.$length()),!1],i(Q,"[]=",e.to_a(o)),o[xe(o.length,1)]):(i(Q,"[]=",e.to_a(o=[He,!0])),o[xe(o.length,1)])}).$$s=be,u.$$arity=1,u)),s(Q["$empty?"]())&&(Q=n))),s(Y)){k=(tt=[[],n,0])[0],a=tt[1],E=tt[2];try{!function(){var He=e.new_brk();try{i(ce,"call",[at,Ee],((v=function(kt){var Tt,$t=v.$$s||this,rt=n;return null==kt&&(kt=n),rt=n,function(){var Lt=e.new_brk();try{return i(kt,"each_line",[],((Tt=function(Yt){var Zt,rr,nr=n;return null==Yt&&(Yt=n),E=l(E,1),s(s(Zt=rt)?Zt:s(rr=y("::","Float")["$==="](nr=Y["$[]"](0)))?rt=nr["$infinite?"]():rr)?(a=s(Zt=a)?Zt:E,k["$<<"](Yt)):(nr["$=="](E)&&(a=s(Zt=a)?Zt:E,k["$<<"](Yt),Y.$shift()),s(Y["$empty?"]())?void e.brk(n,Lt):n)}).$$s=$t,Tt.$$brk=Lt,Tt.$$arity=1,Tt))}catch(Yt){if(Yt===Lt)return Yt.$v;throw Yt}}()}).$$s=be,v.$$brk=He,v.$$arity=1,v))}catch(kt){if(kt===He)return kt.$v;throw kt}}()}catch(He){if(!e.rescue(He,[W(ae,"StandardError")]))throw He;try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Fe+"["+We+"]")}finally{e.pop_exception()}}be.$shift(),s(a)&&(i(ot,"[]=",e.to_a(o=["partial-option",""])),xe(o.length,1),be.$push_include(k,at,Dt,a,ot))}else if(s(Q)){tt=[[],n,0,[],y("::","Set").$new(),n],k=tt[0],a=tt[1],E=tt[2],T=tt[3],M=tt[4],te=tt[5],s(Q["$key?"]("**"))?(X=Ae=Q.$delete("**"),s(Q["$key?"]("*"))?me=Q.$delete("*"):s(s(tt=X["$!"]())?Q.$values().$first()["$=="](!1):tt)&&(me=!0)):s(Q["$key?"]("*"))?Q.$keys().$first()["$=="]("*")?X=Ae=(me=Q.$delete("*"))["$!"]():(X=Ae=!1,me=Q.$delete("*")):X=Ae=Q["$value?"](!0)["$!"]();try{i(ce,"call",[at,Ee],((I=function(He){var $t,Tt,rt,Lt;return null==He&&(He=n),rt=($t=["::","[]"])[0],Lt=$t[1],i(He,"each_line",[],((Tt=function(Yt){var Zt,rr,nr,_t=Tt.$$s||this,sr=n,tr=n,hr=n;return null==Yt&&(Yt=n),E=l(E,1),s(s(Zt=s(rr=Yt["$include?"](rt))?Yt["$include?"](Lt):rr)?W(ae,"TagDirectiveRx")["$=~"](Yt):Zt)?(sr=(Zt=j["~"])===n?n:Zt["$[]"](2),s((Zt=j["~"])===n?n:Zt["$[]"](1))?sr["$=="](te)?(T.$pop(),rr=s(T["$empty?"]())?[n,Ae]:T["$[]"](-1),Zt=e.to_ary(rr),te=Zt[0]??n,X=Zt[1]??n,rr):s(Q["$key?"](sr))?(tr=_t.$create_include_cursor(at,Fe,E),s(hr=i(T,"rindex",[],((nr=function(fr){return null==fr&&(fr=n),fr["$=="](sr)}).$$s=_t,nr.$$arity=1,nr.$$has_trailing_comma_in_args=!0,nr)))?(hr["$=="](0)?T.$shift():T.$delete_at(hr),_t.$logger().$warn(_t.$message_with_context("mismatched end tag (expected '"+te+"' but found '"+sr+"') at line "+E+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:_t.$cursor(),include_location:tr})))):_t.$logger().$warn(_t.$message_with_context("unexpected end tag '"+sr+"' at line "+E+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:_t.$cursor(),include_location:tr})))):n:s(Q["$key?"](sr))?(s(X=Q["$[]"](sr))&&M["$<<"](sr),T["$<<"]([te=sr,X,E])):s(me["$nil?"]()["$!"]())?(X=!s(s(Zt=te)?X["$!"]():Zt)&&me,T["$<<"]([te=sr,X,E])):n):s(X)?(a=s(Zt=a)?Zt:E,k["$<<"](Yt)):n}).$$s=I.$$s||this,Tt.$$arity=1,Tt))}).$$s=be,I.$$arity=1,I))}catch(He){if(!e.rescue(He,[W(ae,"StandardError")]))throw He;try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Fe+"["+We+"]")}finally{e.pop_exception()}}s(T["$empty?"]())||i(T,"each",[],((U=function(He,kt,$t){var Tt=U.$$s||this;return null==He&&(He=n),null==kt&&(kt=n),null==$t&&($t=n),Tt.$logger().$warn(Tt.$message_with_context("detected unclosed tag '"+He+"' starting at line "+$t+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:Tt.$cursor(),include_location:Tt.$create_include_cursor(at,Fe,$t)})))}).$$s=be,U.$$arity=3,U)),s((mt=xe(i(Q,"keep_if",[],(P=function(He,kt){return null==He&&(He=n),null==kt&&(kt=n),kt},P.$$s=be,P.$$arity=2,P)).$keys(),M.$to_a()))["$empty?"]())||be.$logger().$warn(be.$message_with_context("tag"+(s(O(mt.$size(),1))?"s":"")+" '"+mt.$join(", ")+"' not found in include "+vt+": "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$shift(),s(a)&&(s(s(tt=s(Qe=Ae)?me["$!="](!1):Qe)?Q["$empty?"]():tt)||(i(ot,"[]=",e.to_a(o=["partial-option",""])),xe(o.length,1)),be.$push_include(k,at,Dt,a,ot))}else try{dt=i(ce,"call",[at,Ee],((de=function(He){return null==He&&(He=n),He.$read()}).$$s=be,de.$$arity=1,de)),be.$shift(),be.$push_include(dt,at,Dt,1,ot)}catch(He){if(!e.rescue(He,[W(ae,"StandardError")]))throw He;try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Fe+"["+We+"]")}finally{e.pop_exception()}}return!0}return n},_e.$$arity=2),e.def(L,"$resolve_include_path",Me=function(Se,We,tt){var Qe,nt,yt,ut=this,K=n,u=n,v=n;return K=ut.document,s(s(Qe=W(ae,"Helpers")["$uriish?"](Se))?Qe:s(y("::","String")["$==="](ut.dir))?n:Se=ut.dir+"/"+Se)?s(K["$attr?"]("allow-uri-read"))?(s(K["$attr?"]("cache-uri"))?s((nt=y("::","OpenURI","skip_raise"))&&(Qe=y(nt,"Cache","skip_raise"))?"constant":n)||W(ae,"Helpers").$require_library("open-uri/cached","open-uri-cached"):s(W(ae,"RUBY_ENGINE_OPAL")["$!"]())&&y("::","OpenURI"),[y("::","URI").$parse(Se),"uri",Se]):ut.$replace_next_line("link:"+Se+"["+We+"]"):(u=K.$normalize_system_path(Se,ut.dir,n,t(["target_name"],{target_name:"include file"})),s(y("::","File")["$file?"](u))?(v=K.$path_resolver().$relative_path(u,K.$base_dir()),[u,"file",v]):s(tt["$[]"]("optional-option"))?(i(ut.$logger(),"info",[],(yt=function(){var I=yt.$$s||this;return I.$message_with_context("optional include dropped because include file not found: "+u,t(["source_location"],{source_location:I.$cursor()}))},yt.$$s=ut,yt.$$arity=0,yt)),ut.$shift(),!0):(ut.$logger().$error(ut.$message_with_context("include file not found: "+u,t(["source_location"],{source_location:ut.$cursor()}))),ut.$replace_next_line("Unresolved directive in "+ut.path+" - include::"+Se+"["+We+"]")))},Me.$$arity=3),e.def(L,"$pop_include",Te=function(){var Se,We,tt=this;return s(tt.include_stack["$empty?"]())||(We=tt.include_stack.$pop(),Se=e.to_ary(We),tt.lines=Se[0]??n,tt.file=Se[1]??n,tt.dir=Se[2]??n,tt.path=Se[3]??n,tt.lineno=Se[4]??n,tt.maxdepth=Se[5]??n,tt.process_lines=Se[6]??n,tt.look_ahead=0),n},Te.$$arity=0),e.def(L,"$split_delimited_value",et=function(Se){return s(Se["$include?"](","))?Se.$split(","):Se.$split(";")},et.$$arity=1),e.def(L,"$skip_front_matter!",ct=function(Ie,Se){var tt,Qe=this,nt=n,yt=n;if(null==Se&&(Se=!0),nt=n,Ie["$[]"](0)["$=="]("---")){for(yt=Ie.$drop(0),Ie.$shift(),nt=[],s(Se)&&(Qe.lineno=l(Qe.lineno,1));s(s(tt=Ie["$empty?"]()["$!"]())?Ie["$[]"](0)["$!="]("---"):tt);)nt["$<<"](Ie.$shift()),s(Se)&&(Qe.lineno=l(Qe.lineno,1));s(Ie["$empty?"]())?(i(Ie,"unshift",e.to_a(yt)),s(Se)&&(Qe.lineno=0),nt=n):(Ie.$shift(),s(Se)&&(Qe.lineno=l(Qe.lineno,1)))}return nt},ct.$$arity=-2),e.def(L,"$resolve_expr_val",it=function(Se){var We,tt,nt=n;return s(s(We=s(tt=Se["$start_with?"]('"'))?Se["$end_with?"]('"'):tt)?We:s(tt=Se["$start_with?"]("'"))?Se["$end_with?"]("'"):tt)?(nt=!0,Se=Se.$slice(1,xe(Se.$length(),1))):nt=!1,s(Se["$include?"](W(ae,"ATTR_REF_HEAD")))&&(Se=this.document.$sub_attributes(Se,t(["attribute_missing"],{attribute_missing:"drop"}))),s(nt)?Se:s(Se["$empty?"]())?n:!!Se["$=="]("true")||!Se["$=="]("false")&&(s(Se.$rstrip()["$empty?"]())?" ":s(Se["$include?"]("."))?Se.$to_f():Se.$to_i())},it.$$arity=1)}(B[0],W(B,"Reader"),B)},Opal.modules["asciidoctor/section"]=function(e){function l(t,s){return"number"==typeof t&&"number"==typeof s?t+s:t["$+"](s)}function O(t,s){return"number"==typeof t&&"number"==typeof s?t>s:t["$>"](s)}var s,w,N,x,f,L,ae,Pe,ze,le,C,B,j,ie=[],A=e.nil,$=e.const_get_relative,W=e.module,oe=e.klass,b=e.hash2,_=e.send,c=e.truthy;return e.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$>","$==","$sectnum","$reftext","$!","$empty?","$sub_placeholder","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),s=ie,w=j=[W(ie[0],"Asciidoctor")].concat(s),C=oe(j[0],$(j,"AbstractBlock"),"Section"),B=[C].concat(w),C.$$prototype.document=C.$$prototype.next_section_index=C.$$prototype.level=C.$$prototype.parent=C.$$prototype.numeral=C.$$prototype.numbered=C.$$prototype.sectname=C.$$prototype.title=C.$$prototype.blocks=A,C.$attr_accessor("index"),C.$attr_accessor("sectname"),C.$attr_accessor("special"),C.$attr_accessor("numbered"),C.$attr_reader("caption"),e.def(C,"$initialize",N=function(d,m,p,z){var Z,re,ee=this;return N.$$p&&(N.$$p=null),null==d&&(d=A),null==m&&(m=A),null==p&&(p=!1),null==z&&(z=b([],{})),_(ee,e.find_super_dispatcher(ee,"initialize",N,!1),[d,"section",z],null),c($(B,"Section")["$==="](d))?(Z=[c(re=m)?re:l(d.$level(),1),d.$special()],ee.level=Z[0],ee.special=Z[1]):(Z=[c(re=m)?re:1,!1],ee.level=Z[0],ee.special=Z[1]),ee.numbered=p,ee.index=0},N.$$arity=-1),e.alias(C,"name","title"),e.def(C,"$generate_id",x=function(){return $(B,"Section").$generate_id(this.$title(),this.document)},x.$$arity=0),e.def(C,"$sections?",f=function(){return O(this.next_section_index,0)},f.$$arity=0),e.def(C,"$sectnum",L=function(d,m){var p,z=this;return null==d&&(d="."),null==m&&(m=A),m=c(p=m)?p:m["$=="](!1)?"":d,c(c(p=O(z.level,1))?$(B,"Section")["$==="](z.parent):p)?""+z.parent.$sectnum(d,d)+z.numeral+m:""+z.numeral+m},L.$$arity=-1),e.def(C,"$xreftext",ae=function(d){var m,p=this,z=A,Z=A,re=A,ye=A,q=A;return null==d&&(d=A),c(c(m=z=p.$reftext())?z["$empty?"]()["$!"]():m)?z:c(d)?c(p.numbered)?"full"["$==="](Z=d)?(ye=c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):p.$sub_placeholder(p.$sub_quotes(c(p.document.$compat_mode())?"``%s''":'"`%s`"'),p.$title()),c(q=p.document.$attributes()["$[]"](re+"-refsig"))?q+" "+p.$sectnum(".",",")+" "+ye:p.$sectnum(".",",")+" "+ye):"short"["$==="](Z)?c(q=p.document.$attributes()["$[]"](p.sectname+"-refsig"))?q+" "+p.$sectnum(".",""):p.$sectnum(".",""):c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):p.$title():c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):p.$title():p.$title()},ae.$$arity=-1),e.def(C,"$<<",Pe=function(S){var d=Pe.$$p,p=this,z=A,Z=A,re=A;for(d&&(Pe.$$p=null),Z=0,re=arguments.length,z=new Array(re);Z<re;Z++)z[Z]=arguments[Z];return S.$context()["$=="]("section")&&p.$assign_numeral(S),_(p,e.find_super_dispatcher(p,"<<",Pe,!1),z,d)},Pe.$$arity=1),e.def(C,"$to_s",ze=function(){var d=ze.$$p,p=this,z=A,Z=A,re=A,ye=A;for(d&&(ze.$$p=null),re=0,ye=arguments.length,Z=new Array(ye);re<ye;re++)Z[re]=arguments[re];return c(p.title)?(z=c(p.numbered)?p.$sectnum()+" "+p.title:p.title,"#<"+p.$class()+"@"+p.$object_id()+" {level: "+p.level+", title: "+z.$inspect()+", blocks: "+p.blocks.$size()+"}>"):_(p,e.find_super_dispatcher(p,"to_s",ze,!1),Z,d)},ze.$$arity=0),void e.defs(C,"$generate_id",le=function(d,m){var p,z,re=A,ye=A,q=A,ee=A,V=A,_e=A,Me=A,Te=A,et=A,ct=A;if(re=m.$attributes(),ye=c(p=re["$[]"]("idprefix"))?p:"_",c(q=re["$[]"]("idseparator"))?c(c(p=q.$length()["$=="](1))?p:c(z=(ee=q["$empty?"]())["$!"]())?(V=["idseparator",q.$chr()],_(re,"[]=",e.to_a(V)),q=V[function xe(t,s){return"number"==typeof t&&"number"==typeof s?t-s:t["$-"](s)}(V.length,1)]):z)&&(_e=c(c(p=q["$=="]("-"))?p:q["$=="]("."))?" .-":" "+q+".-"):(q=(p=["_"," _.-"])[0],_e=p[1]),Me=""+ye+d.$downcase().$gsub($(B,"InvalidSectionIdCharsRx"),""),c(ee)?Me=Me.$delete(" "):(Me=Me.$tr_s(_e,q),c(Me["$end_with?"](q))&&(Me=Me.$chop()),c(c(p=ye["$empty?"]())?Me["$start_with?"](q):p)&&(Me=Me.$slice(1,Me.$length()))),c(m.$catalog()["$[]"]("refs")["$key?"](Me))){for(Te=m.$catalog()["$[]"]("refs"),et=$(B,"Compliance").$unique_id_start_index();c(Te["$[]"](ct=""+Me+q+et));)et=l(et,1);return ct}return Me},le.$$arity=2)},Opal.modules["asciidoctor/stylesheets"]=function(e){var b,i,g,w,C,B,N,x,f,L,ae,Pe,ze,le,S,j,h,c,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,$=e.module,n=e.klass,y=e.truthy,W=e.hash2;return e.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$stylesheet_basename","$for","$read_stylesheet","$coderay_stylesheet_data","$coderay_stylesheet_name","$pygments_stylesheet_data","$pygments_stylesheet_name"]),b=O,i=c=[$(O[0],"Asciidoctor")].concat(b),j=n(c[0],null,"Stylesheets"),h=[j].concat(i),j.$$prototype.primary_stylesheet_data=xe,e.const_set(h[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.const_set(h[0],"STYLESHEETS_DIR",Xe("::","File").$join(ie(h,"DATA_DIR"),"stylesheets")),j.__instance__=j.$new(),e.defs(j,"$instance",g=function(){var m=this;return null==m.__instance__&&(m.__instance__=xe),m.__instance__},g.$$arity=0),e.def(j,"$primary_stylesheet_name",w=function(){return ie(h,"DEFAULT_STYLESHEET_NAME")},w.$$arity=0),e.def(j,"$primary_stylesheet_data",C=function(){var m;return this.primary_stylesheet_data=y(m=this.primary_stylesheet_data)?m:Xe("::","File").$read(Xe("::","File").$join(ie(h,"STYLESHEETS_DIR"),"asciidoctor-default.css"),W(["mode"],{mode:ie(h,"FILE_READ_MODE")})).$rstrip()},C.$$arity=0),e.def(j,"$embed_primary_stylesheet",B=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},B.$$arity=0),e.def(j,"$write_primary_stylesheet",N=function(m){return null==m&&(m="."),Xe("::","File").$write(Xe("::","File").$join(m,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},N.$$arity=-1),e.def(j,"$coderay_stylesheet_name",x=function(){return ie(h,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},x.$$arity=0),e.def(j,"$coderay_stylesheet_data",f=function(){return ie(h,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},f.$$arity=0),e.def(j,"$embed_coderay_stylesheet",L=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},L.$$arity=0),e.def(j,"$write_coderay_stylesheet",ae=function(m){return null==m&&(m="."),Xe("::","File").$write(Xe("::","File").$join(m,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},ae.$$arity=-1),e.def(j,"$pygments_stylesheet_name",Pe=function(m){return null==m&&(m=xe),ie(h,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(m)},Pe.$$arity=-1),e.def(j,"$pygments_stylesheet_data",ze=function(m){return null==m&&(m=xe),ie(h,"SyntaxHighlighter").$for("pygments").$read_stylesheet(m)},ze.$$arity=-1),e.def(j,"$embed_pygments_stylesheet",le=function(m){return null==m&&(m=xe),"<style>\n"+this.$pygments_stylesheet_data(m)+"\n</style>"},le.$$arity=-1),void e.def(j,"$write_pygments_stylesheet",S=function(m,p){return null==m&&(m="."),null==p&&(p=xe),Xe("::","File").$write(Xe("::","File").$join(m,this.$pygments_stylesheet_name(p)),this.$pygments_stylesheet_data(p),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},S.$$arity=-1)},Opal.modules["asciidoctor/table"]=function(e){function l(h,g){return"number"==typeof h&&"number"==typeof g?h>g:h["$>"](g)}function O(h,g){return"number"==typeof h&&"number"==typeof g?h<g:h["$<"](g)}function xe(h,g){return"number"==typeof h&&"number"==typeof g?h-g:h["$-"](g)}function Xe(h,g){return"number"==typeof h&&"number"==typeof g?h*g:h["$*"](g)}function ie(h,g){return"number"==typeof h&&"number"==typeof g?h/g:h["$/"](g)}function A(h,g){return"number"==typeof h&&"number"==typeof g?h+g:h["$+"](g)}var g,p,re,ye,q,z,B,N,x,ae,Pe,ze,le,S,f,L,C,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,_=e.module,c=e.klass,t=e.hash2,s=e.send,i=e.truthy,j=e.gvars;return e.add_stubs(["$attr_accessor","$attr_reader","$new","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$truncate","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$round","$map","$shift","$reinitialize","$head=","$nil?","$unshift","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$style","$merge","$delete","$===","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$catalog_inline_anchor","$=~","$apply_subs","$attr_writer","$convert","$text","$!=","$file","$lineno","$include","$to_set","$mark","$key?","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$!","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$private","$rows","$effective_column_visits"]),g=$,B=(C=[_($[0],"Asciidoctor")].concat(g))[0],N=W(C,"AbstractBlock"),x=C,f=c(B,N,"Table"),L=[f].concat(x),f.$$prototype.attributes=f.$$prototype.document=f.$$prototype.has_header_option=f.$$prototype.rows=f.$$prototype.columns=n,e.const_set(L[0],"DEFAULT_PRECISION",4),p=L,[z=c(L[0],null,"Rows")].concat(p),z.$$prototype.head=z.$$prototype.body=z.$$prototype.foot=n,z.$attr_accessor("head","foot","body"),e.def(z,"$initialize",re=function(V,_e,Me){return null==V&&(V=[]),null==_e&&(_e=[]),null==Me&&(Me=[]),this.head=V,this.foot=_e,this.body=Me},re.$$arity=-1),e.alias(z,"[]","send"),e.def(z,"$by_section",ye=function(){var V=this;return[["head",V.head],["body",V.body],["foot",V.foot]]},ye.$$arity=0),e.def(z,"$to_h",q=function(){var V=this;return t(["head","body","foot"],{head:V.head,body:V.body,foot:V.foot})},q.$$arity=0),f.$attr_accessor("columns"),f.$attr_accessor("rows"),f.$attr_accessor("has_header_option"),f.$attr_reader("caption"),e.def(f,"$initialize",ae=function(m,p){var z,Z,q=this,ee=n,V=n,_e=n,Me=n;return ae.$$p&&(ae.$$p=null),s(q,e.find_super_dispatcher(q,"initialize",ae,!1),[m,"table"],null),q.rows=W(L,"Rows").$new(),q.columns=[],q.has_header_option=!1,i(ee=p["$[]"]("width"))?i(i(z=l(V=ee.$to_i(),100))?z:O(V,1))&&(i((z=V["$=="](0))?i(Z=ee["$=="]("0"))?Z:ee["$=="]("0%"):V["$=="](0))||(V=100)):V=100,s(q.attributes,"[]=",e.to_a(_e=["tablepcwidth",V])),xe(_e.length,1),i(q.document.$attributes()["$[]"]("pagewidth"))&&(_e=["tableabswidth",(Me=Xe(ie(V,100),q.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(W(L,"DEFAULT_PRECISION")))["$=="](Me.$to_i())?Me.$to_i():Me],s(q.attributes,"[]=",e.to_a(_e)),xe(_e.length,1)),i(p["$[]"]("rotate-option"))?(s(q.attributes,"[]=",e.to_a(_e=["orientation","landscape"])),_e[xe(_e.length,1)]):n},ae.$$arity=2),e.def(f,"$header_row?",Pe=function(){var d,p;return i(i(d=p=this.has_header_option)?this.rows.$body()["$empty?"]():d)?p:n},Pe.$$arity=0),e.def(f,"$create_columns",ze=function(m){var p,z,ee,Z=this,re=n,ye=n,q=n,V=n;return re=[],ye=n,q=0,s(m,"each",[],((p=function(_e){var Te,et,Me=p.$$s||this;return null==_e&&(_e=n),et=_e["$[]"]("width"),re["$<<"](W(L,"Column").$new(Me,re.$size(),_e)),i(O(et,0))?(ye=i(Te=ye)?Te:[])["$<<"](re["$[]"](-1)):q=A(q,et)}).$$s=Z,p.$$arity=1,p)),i(l(ee=(Z.columns=re).$size(),0))&&(s(Z.attributes,"[]=",e.to_a(V=["colcount",ee])),xe(V.length,1),i(i(z=l(q,0))?z:ye)||(q=n),Z.$assign_column_widths(q,ye)),n},ze.$$arity=1),e.def(f,"$assign_column_widths",le=function(m,p){var z,Z,re,q,ye=this,ee=n,V=n,_e=n,Me=n;return null==m&&(m=n),null==p&&(p=n),q=W(L,"DEFAULT_PRECISION"),ee=V=0,i(m)?(i(p)&&(i(l(m,100))?(_e=0,ye.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+m+"%")):((_e=ie(xe(100,m),p.$size()).$truncate(q)).$to_i()["$=="](_e)&&(_e=_e.$to_i()),m=100),Me=t(["width","autowidth-option"],{width:_e,"autowidth-option":""}),s(p,"each",[],((z=function(Te){return null==Te&&(Te=n),Te.$update_attributes(Me)}).$$s=ye,z.$$arity=1,z))),s(ye.columns,"each",[],((Z=function(Te){return null==Te&&(Te=n),ee=A(ee,V=Te.$assign_width(n,m,q))}).$$s=ye,Z.$$arity=1,Z))):((V=ie(100,ye.columns.$size()).$truncate(q)).$to_i()["$=="](V)&&(V=V.$to_i()),s(ye.columns,"each",[],((re=function(Te){return null==Te&&(Te=n),ee=A(ee,Te.$assign_width(V,n,q))}).$$s=ye,re.$$arity=1,re))),ee["$=="](100)||ye.columns["$[]"](-1).$assign_width(A(xe(100,ee),V).$round(q),n,q),n},le.$$arity=-1),e.def(f,"$partition_header_footer",S=function(m){var p,z,Z,re=this,ye=n,q=n,ee=n;return q=["rowcount",(ee=re.rows.$body()).$size()],s(re.attributes,"[]=",e.to_a(q)),ye=q[xe(q.length,1)],i(l(ye,0))&&(i(re.has_header_option)?(q=[[s(ee.$shift(),"map",[],(p=function(V){return null==V&&(V=n),V.$reinitialize(!0)},p.$$s=re,p.$$arity=1,p))]],s(re.rows,"head=",e.to_a(q)),xe(q.length,1),ye=xe(ye,1)):i(re.has_header_option["$nil?"]())&&(re.has_header_option=!1,ee.$unshift(s(ee.$shift(),"map",[],((z=function(V){return null==V&&(V=n),V.$reinitialize(!1)}).$$s=re,z.$$arity=1,z))))),i(i(Z=l(ye,0))?m["$[]"]("footer-option"):Z)&&(q=[[ee.$pop()]],s(re.rows,"foot=",e.to_a(q)),xe(q.length,1)),n},S.$$arity=1),function(B,N,x){var ae,Pe,ze,le,f=c(B,N,"Column");[f].concat(x),f.$$prototype.attributes=n,f.$attr_accessor("style"),e.def(f,"$initialize",ae=function(d,m,p){var q=n;return ae.$$p&&(ae.$$p=null),null==p&&(p=t([],{})),s(this,e.find_super_dispatcher(this,"initialize",ae,!1),[d,"table_column"],null),this.style=p["$[]"]("style"),q=["colnumber",A(m,1)],s(p,"[]=",e.to_a(q)),xe(q.length,1),i(p["$[]"]("width"))||(s(p,"[]=",e.to_a(q=["width",1])),xe(q.length,1)),i(p["$[]"]("halign"))||(s(p,"[]=",e.to_a(q=["halign","left"])),xe(q.length,1)),i(p["$[]"]("valign"))||(s(p,"[]=",e.to_a(q=["valign","top"])),xe(q.length,1)),this.$update_attributes(p)},ae.$$arity=-3),e.alias(f,"table","parent"),e.def(f,"$assign_width",Pe=function(d,m,p){var z=this,Z=n,re=n;return i(m)&&(d=ie(Xe(z.attributes["$[]"]("width").$to_f(),100),m).$truncate(p)).$to_i()["$=="](d)&&(d=d.$to_i()),i(z.$parent().$attributes()["$[]"]("tableabswidth"))&&(Z=["colabswidth",(re=Xe(ie(d,100),z.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(p))["$=="](re.$to_i())?re.$to_i():re],s(z.attributes,"[]=",e.to_a(Z)),xe(Z.length,1)),s(z.attributes,"[]=",e.to_a(Z=["colpcwidth",d])),Z[xe(Z.length,1)]},Pe.$$arity=3),e.def(f,"$block?",ze=function(){return!1},ze.$$arity=0),e.def(f,"$inline?",le=function(){return!1},le.$$arity=0)}(W(C,"Table"),W(C,"AbstractNode"),C),function(B,N,x){var ae,Pe,ze,le,S,d,m,p,z,Z,f=c(B,N,"Cell"),L=[f].concat(x);f.$$prototype.document=f.$$prototype.reinitialize_args=f.$$prototype.attributes=f.$$prototype.cursor=f.$$prototype.text=f.$$prototype.subs=f.$$prototype.style=f.$$prototype.inner_document=f.$$prototype.source_location=f.$$prototype.colspan=f.$$prototype.rowspan=n,e.const_set(L[0],"DOUBLE_LF",Xe(W(L,"LF"),2)),f.$attr_accessor("colspan"),f.$attr_accessor("rowspan"),e.alias(f,"column","parent"),f.$attr_reader("inner_document"),e.def(f,"$initialize",ae=function(ye,q,ee,V){var _e,Me,Te,it=this,Ie=n,Se=n,We=n,tt=n,Qe=n,nt=n,yt=n,ut=n,K=n,u=n,v=n,I=n,U=n;if(ae.$$p&&(ae.$$p=null),null==ee&&(ee=t([],{})),null==V&&(V=t([],{})),s(it,e.find_super_dispatcher(it,"initialize",ae,!1),[ye,"table_cell"],null),it.cursor=it.reinitialize_args=n,i(it.document.$sourcemap())&&(it.source_location=V["$[]"]("cursor").$dup()),i(ye)&&(i(Ie=ye.$table()["$header_row?"]())?i((_e=Ie["$=="]("implicit"))?Se=i(Me=ye.$style())?Me:i(Te=ee)?ee["$[]"]("style"):Te:Ie["$=="]("implicit"))&&(i(i(_e=Se["$=="]("asciidoc"))?_e:Se["$=="]("literal"))&&(it.reinitialize_args=[ye,q,i(_e=ee)?ee.$merge():_e,V]),Se=n):Se=ye.$style(),it.$update_attributes(ye.$attributes())),i(ee))if(i(ee["$empty?"]())?it.colspan=it.rowspan=n:(_e=[ee.$delete("colspan"),ee.$delete("rowspan")],it.colspan=_e[0],it.rowspan=_e[1],i(Ie)||(Se=i(_e=ee["$[]"]("style"))?_e:Se),it.$update_attributes(ee)),"asciidoc"["$==="](We=Se))if(tt=!0,Qe=V["$[]"]("cursor"),i((q=q.$rstrip())["$start_with?"](W(L,"LF")))){for(nt=1;i((q=q.$slice(1,q.$length()))["$start_with?"](W(L,"LF")));)nt=A(nt,1);Qe.$advance(nt)}else q=q.$lstrip();else if("literal"["$==="](We))for(yt=!0,q=q.$rstrip();i(q["$start_with?"](W(L,"LF")));)q=q.$slice(1,q.$length());else ut=!0,q=i(q)?q.$strip():"";else it.colspan=it.rowspan=n,Se["$=="]("asciidoc")&&(tt=!0,Qe=V["$[]"]("cursor"));return i(tt)?(K=it.document.$attributes().$delete("doctitle"),u=q.$split(W(L,"LF"),-1),i(u["$empty?"]())||i((v=u["$[]"](0))["$include?"]("::"))&&(I=W(L,"PreprocessorReader").$new(it.document,[v]).$readlines(),i((_e=v["$=="](I["$[]"](0)))?O(I.$size(),2):v["$=="](I["$[]"](0)))||(u.$shift(),i(I["$empty?"]())||s(u,"unshift",e.to_a(I)))),it.inner_document=W(L,"Document").$new(u,t(["standalone","parent","cursor"],{standalone:!1,parent:it.document,cursor:Qe})),i(K["$nil?"]())||(U=["doctitle",K],s(it.document.$attributes(),"[]=",e.to_a(U)),xe(U.length,1)),it.subs=n):i(yt)?(it.content_model="verbatim",it.subs=W(L,"BASIC_SUBS")):(i(ut)&&(i(Ie)?it.cursor=V["$[]"]("cursor"):it.$catalog_inline_anchor(q,V["$[]"]("cursor"))),it.content_model="simple",it.subs=W(L,"NORMAL_SUBS")),it.text=q,it.style=Se},ae.$$arity=-3),e.def(f,"$reinitialize",Pe=function(ye){var q=this;if(i(ye))q.reinitialize_args=n;else{if(i(q.reinitialize_args))return s(y(W(L,"Table"),"Cell"),"new",e.to_a(q.reinitialize_args));q.style=q.attributes["$[]"]("style")}return i(q.cursor)&&q.$catalog_inline_anchor(),q},Pe.$$arity=1),e.def(f,"$catalog_inline_anchor",ze=function(ye,q){var ee,V=this;return null==ye&&(ye=V.text),null==q&&(q=n),i(q)||(q=(ee=[V.cursor,n])[0],V.cursor=ee[1]),i(i(ee=ye["$start_with?"]("[["))?W(L,"LeadingInlineAnchorRx")["$=~"](ye):ee)?W(L,"Parser").$catalog_inline_anchor((ee=j["~"])===n?n:ee["$[]"](1),(ee=j["~"])===n?n:ee["$[]"](2),V,q,V.document):n},ze.$$arity=-1),e.def(f,"$text",le=function(){return this.$apply_subs(this.text,this.subs)},le.$$arity=0),f.$attr_writer("text"),e.def(f,"$content",S=function(){var ye,q,ee=this,V=n,_e=n;return(V=ee.style)["$=="]("asciidoc")?ee.inner_document.$convert():i(ee.text["$include?"](W(L,"DOUBLE_LF")))?s(ee.$text().$split(W(L,"BlankLineRx")),"map",[],((ye=function(Me){var et,Te=ye.$$s||this;return null==Me&&(Me=n),i(i(et=V)?V["$!="]("header"):et)?W(L,"Inline").$new(Te.$parent(),"quoted",Me,t(["type"],{type:V})).$convert():Me}).$$s=ee,ye.$$arity=1,ye)):i((_e=ee.$text())["$empty?"]())?[]:i(i(q=V)?V["$!="]("header"):q)?[W(L,"Inline").$new(ee.$parent(),"quoted",_e,t(["type"],{type:V})).$convert()]:[_e]},S.$$arity=0),e.def(f,"$lines",d=function(){return this.text.$split(W(L,"LF"))},d.$$arity=0),e.def(f,"$source",m=function(){return this.text},m.$$arity=0),e.def(f,"$file",p=function(){var ye;return i(ye=this.source_location)?this.source_location.$file():ye},p.$$arity=0),e.def(f,"$lineno",z=function(){var ye;return i(ye=this.source_location)?this.source_location.$lineno():ye},z.$$arity=0),e.def(f,"$to_s",Z=function(){var ye,q=Z.$$p,V=this,_e=n,Me=n,Te=n;for(q&&(Z.$$p=null),Me=0,Te=arguments.length,_e=new Array(Te);Me<Te;Me++)_e[Me]=arguments[Me];return s(V,e.find_super_dispatcher(V,"to_s",Z,!1),_e,q)+" - [text: "+V.text+", colspan: "+(i(ye=V.colspan)?ye:1)+", rowspan: "+(i(ye=V.rowspan)?ye:1)+", attributes: "+V.attributes+"]"},Z.$$arity=0)}(W(C,"Table"),W(C,"AbstractBlock"),C),void function(B,N,x){var ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,f=c(B,null,"ParserContext"),L=[f].concat(x);f.$$prototype.delimiter=f.$$prototype.delimiter_rx=f.$$prototype.buffer=f.$$prototype.cellspecs=f.$$prototype.cell_open=f.$$prototype.format=f.$$prototype.start_cursor_data=f.$$prototype.reader=f.$$prototype.table=f.$$prototype.current_row=f.$$prototype.colcount=f.$$prototype.column_visits=f.$$prototype.active_rowspans=f.$$prototype.linenum=n,f.$include(W(L,"Logging")),e.const_set(L[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),e.const_set(L[0],"DELIMITERS",t(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),f.$attr_accessor("table"),f.$attr_accessor("format"),f.$attr_reader("colcount"),f.$attr_accessor("buffer"),f.$attr_reader("delimiter"),f.$attr_reader("delimiter_re"),e.def(f,"$initialize",ae=function(it,Ie,Se){var We,tt,Qe=this,nt=n,yt=n;return null==Se&&(Se=t([],{})),Qe.start_cursor_data=(Qe.reader=it).$mark(),Qe.table=Ie,i(Se["$key?"]("format"))?i(W(L,"FORMATS")["$include?"](nt=Se["$[]"]("format")))?nt["$=="]("tsv")?Qe.format="csv":i((We=(Qe.format=nt)["$=="]("psv"))?Ie.$document()["$nested?"]():(Qe.format=nt)["$=="]("psv"))&&(nt="!sv"):(Qe.$logger().$error(Qe.$message_with_context("illegal table format: "+nt,t(["source_location"],{source_location:it.$cursor_at_prev_line()}))),We=["psv",i(Ie.$document()["$nested?"]())?"!sv":"psv"],Qe.format=We[0],nt=We[1]):(We=["psv",i(Ie.$document()["$nested?"]())?"!sv":"psv"],Qe.format=We[0],nt=We[1]),i(Se["$key?"]("separator"))?i((yt=Se["$[]"]("separator"))["$nil_or_empty?"]())?(tt=W(L,"DELIMITERS")["$[]"](nt),We=e.to_ary(tt),Qe.delimiter=We[0]??n,Qe.delimiter_rx=We[1]??n):yt["$=="]("\\t")?(tt=W(L,"DELIMITERS")["$[]"]("tsv"),We=e.to_ary(tt),Qe.delimiter=We[0]??n,Qe.delimiter_rx=We[1]??n):(We=[yt,new RegExp(y("::","Regexp").$escape(yt))],Qe.delimiter=We[0],Qe.delimiter_rx=We[1]):(tt=W(L,"DELIMITERS")["$[]"](nt),We=e.to_ary(tt),Qe.delimiter=We[0]??n,Qe.delimiter_rx=We[1]??n),Qe.colcount=i(Ie.$columns()["$empty?"]())?-1:Ie.$columns().$size(),Qe.buffer="",Qe.cellspecs=[],Qe.cell_open=!1,Qe.active_rowspans=[0],Qe.column_visits=0,Qe.current_row=[],Qe.linenum=-1},ae.$$arity=-3),e.def(f,"$starts_with_delimiter?",Pe=function(ct){return ct["$start_with?"](this.delimiter)},Pe.$$arity=1),e.def(f,"$match_delimiter",ze=function(it){return this.delimiter_rx.$match(it)},ze.$$arity=1),e.def(f,"$skip_past_delimiter",le=function(it){return this.buffer=""+this.buffer+it+this.delimiter,n},le.$$arity=1),e.def(f,"$skip_past_escaped_delimiter",S=function(it){return this.buffer=""+this.buffer+it.$chop()+this.delimiter,n},S.$$arity=1),e.def(f,"$buffer_has_unclosed_quotes?",d=function(ct,it){var Ie,Se,tt=n,Qe=n,nt=n;return null==ct&&(ct=n),null==it&&(it='"'),!!(tt=i(ct)?A(this.buffer,ct).$strip():this.buffer.$strip())["$=="](it)||!!i(tt["$start_with?"](it))&&(Qe=A(it,it),i(i(Ie=i(Se=nt=tt["$end_with?"](it))?tt["$end_with?"](Qe):Se)?Ie:tt["$start_with?"](Qe))?i(Ie=(tt=tt.$gsub(Qe,""))["$start_with?"](it))?tt["$end_with?"](it)["$!"]():Ie:nt["$!"]())},d.$$arity=-1),e.def(f,"$take_cellspec",m=function(){return this.cellspecs.$shift()},m.$$arity=0),e.def(f,"$push_cellspec",p=function(it){var Ie;return null==it&&(it=t([],{})),this.cellspecs["$<<"](i(Ie=it)?Ie:t([],{})),n},p.$$arity=-1),e.def(f,"$keep_cell_open",z=function(){return this.cell_open=!0,n},z.$$arity=0),e.def(f,"$mark_cell_closed",Z=function(){return this.cell_open=!1,n},Z.$$arity=0),e.def(f,"$cell_open?",re=function(){return this.cell_open},re.$$arity=0),e.def(f,"$cell_closed?",ye=function(){return this.cell_open["$!"]()},ye.$$arity=0),e.def(f,"$close_open_cell",q=function(it){return null==it&&(it=t([],{})),this.$push_cellspec(it),i(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),n},q.$$arity=-1),e.def(f,"$close_cell",ee=function(it){try{var Ie,We,tt=this,Qe=n,nt=n,yt=n,ut=n;return null==it&&(it=!1),tt.format["$=="]("psv")?(Qe=tt.buffer,tt.buffer="",i(nt=tt.$take_cellspec())?yt=i(Ie=nt.$delete("repeatcol"))?Ie:1:(tt.$logger().$error(tt.$message_with_context("table missing leading separator; recovering automatically",t(["source_location"],{source_location:s(y(W(L,"Reader"),"Cursor"),"new",e.to_a(tt.start_cursor_data))}))),nt=t([],{}),yt=1)):(Qe=tt.buffer.$strip(),tt.buffer="",nt=n,yt=1,i(i(Ie=tt.format["$=="]("csv")?Qe["$empty?"]()["$!"]():tt.format["$=="]("csv"))?Qe["$include?"](ut='"'):Ie)&&(i(i(Ie=Qe["$start_with?"](ut))?Qe["$end_with?"](ut):Ie)?i(Qe=Qe.$slice(1,xe(Qe.$length(),2)))?Qe=Qe.$strip().$squeeze(ut):(tt.$logger().$error(tt.$message_with_context("unclosed quote in CSV data; setting cell to empty",t(["source_location"],{source_location:tt.reader.$cursor_at_prev_line()}))),Qe=""):Qe=Qe.$squeeze(ut))),s(1,"upto",[yt],((We=function(K){var v,I,U,P,u=We.$$s||this,de=n,be=n,je=n,Fe=n;return null==u.colcount&&(u.colcount=n),null==u.table&&(u.table=n),null==u.current_row&&(u.current_row=n),null==u.reader&&(u.reader=n),null==u.column_visits&&(u.column_visits=n),null==u.linenum&&(u.linenum=n),null==K&&(K=n),u.colcount["$=="](-1)?(u.table.$columns()["$<<"](de=y(W(L,"Table"),"Column").$new(u.table,xe(A(u.table.$columns().$size(),K),1))),i(i(v=i(I=nt)?nt["$key?"]("colspan"):I)?l(be=xe(nt["$[]"]("colspan").$to_i(),1),0):v)&&(je=u.table.$columns().$size(),s(be,"times",[],((U=function(Ke){var we=U.$$s||this;return null==we.table&&(we.table=n),null==Ke&&(Ke=n),we.table.$columns()["$<<"](y(W(L,"Table"),"Column").$new(we.table,A(je,Ke)))}).$$s=u,U.$$arity=1,U)))):i(de=u.table.$columns()["$[]"](u.current_row.$size()))||(u.$logger().$error(u.$message_with_context("dropping cell because it exceeds specified number of columns",t(["source_location"],{source_location:u.reader.$cursor_before_mark()}))),e.ret(n)),Fe=y(W(L,"Table"),"Cell").$new(de,Qe,nt,t(["cursor"],{cursor:u.reader.$cursor_before_mark()})),u.reader.$mark(),i(i(v=Fe.$rowspan()["$!"]())?v:Fe.$rowspan()["$=="](1))||u.$activate_rowspan(Fe.$rowspan(),i(v=Fe.$colspan())?v:1),u.column_visits=A(u.column_visits,i(v=Fe.$colspan())?v:1),u.current_row["$<<"](Fe),i(i(v=u["$end_of_row?"]())?i(I=i(P=u.colcount["$!="](-1))?P:l(u.linenum,0))?I:i(P=it)?K["$=="](yt):P:v)?u.$close_row():n}).$$s=tt,We.$$arity=1,We)),tt.cell_open=!1,n}catch(K){if(K===e.returner)return K.$v;throw K}},ee.$$arity=-1),f.$private(),e.def(f,"$close_row",V=function(){var Ie=this,Se=n;return Ie.table.$rows().$body()["$<<"](Ie.current_row),Ie.colcount["$=="](-1)&&(Ie.colcount=Ie.column_visits),Ie.column_visits=0,Ie.current_row=[],Ie.active_rowspans.$shift(),i(Ie.active_rowspans["$[]"](0))||(s(Ie.active_rowspans,"[]=",e.to_a(Se=[0,0])),xe(Se.length,1)),n},V.$$arity=0),e.def(f,"$activate_rowspan",_e=function(it,Ie){var Se;return s(1,"upto",[xe(it,1)],((Se=function(tt){var nt,yt,Qe=Se.$$s||this;return null==Qe.active_rowspans&&(Qe.active_rowspans=n),null==tt&&(tt=n),yt=[tt,A(i(nt=Qe.active_rowspans["$[]"](tt))?nt:0,Ie)],s(Qe.active_rowspans,"[]=",e.to_a(yt)),yt[xe(yt.length,1)]}).$$s=this,Se.$$arity=1,Se)),n},_e.$$arity=2),e.def(f,"$end_of_row?",Me=function(){var ct;return i(ct=this.colcount["$=="](-1))?ct:this.$effective_column_visits()["$=="](this.colcount)},Me.$$arity=0),e.def(f,"$effective_column_visits",Te=function(){return A(this.column_visits,this.active_rowspans["$[]"](0))},Te.$$arity=0),e.def(f,"$advance",et=function(){return this.linenum=A(this.linenum,1)},et.$$arity=0)}(W(C,"Table"),0,C)},Opal.modules["asciidoctor/writer"]=function(e){var b,s,h,i,j,c,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.truthy,W=e.hash2;return e.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]),b=xe,s=c=[n(xe[0],"Asciidoctor")].concat(b),i=n(c[0],"Writer"),j=[i].concat(s),e.def(i,"$write",h=function(w,C){return y(C["$respond_to?"]("write"))?C.$write(function l(oe,b){return"number"==typeof oe&&"number"==typeof b?oe+b:oe["$+"](b)}(w.$chomp(),A(j,"LF"))):ie("::","File").$write(C,w,W(["mode"],{mode:A(j,"FILE_WRITE_MODE")})),Xe},h.$$arity=2),void function(t,s){var h,i=n(t,"VoidWriter"),j=[i].concat(s);i.$include(A(j,"Writer")),e.def(i,"$write",h=function(w,C){return Xe},h.$$arity=2)}(c[0],c)},Opal.modules["asciidoctor/load"]=function(e){function l(_,c){return"number"==typeof _&&"number"==typeof c?_-c:_["$-"](c)}var c,i,g,w,h,t,s,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,y=e.module,W=e.hash2,oe=e.truthy,b=e.send;return e.add_stubs(["$merge","$[]","$start","$key?","$!=","$logger","$new","$logger=","$-","$!","$===","$dup","$tap","$each","$partition","$[]=","$split","$gsub","$+","$respond_to?","$keys","$raise","$join","$ancestors","$class","$==","$at","$to_i","$mtime","$absolute_path","$path","$dirname","$basename","$extname","$read","$rewind","$drop","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load"]),c=Xe,s=[t=y(Xe[0],"Asciidoctor")].concat(c),i=e.get_singleton_class(t),h=[i].concat(s),e.def(i,"$load",g=function(B,N){var x,L,ae,Pe,ze,le,S=this,d=ie,m=ie,p=ie,z=ie,Z=ie,re=ie,ye=ie,q=ie,ee=ie,V=ie;null==N&&(N=W([],{}));try{if(N=N.$merge(),oe(d=N["$[]"]("timings"))&&d.$start("read"),oe(oe(x=N["$key?"]("logger"))?(m=N["$[]"]("logger"))["$!="]($e(h,"LoggerManager").$logger()):x)&&(p=[oe(x=m)?x:$e(h,"NullLogger").$new()],b($e(h,"LoggerManager"),"logger=",e.to_a(p)),l(p.length,1)),oe((z=N["$[]"]("attributes"))["$!"]())?z=W([],{}):oe(A("::","Hash")["$==="](z))?z=z.$merge():oe(oe(x=(ae=A("::","Java","skip_raise"))&&(L=A(ae,"JavaUtil","skip_raise"))&&A(L,"Map","skip_raise")?"constant":ie)?A(A(A("::","Java"),"JavaUtil"),"Map")["$==="](z):x)?z=z.$dup():oe(A("::","Array")["$==="](z))?z=b(W([],{}),"tap",[],((Pe=function(_e){var Te;return null==_e&&(_e=ie),b(z,"each",[],((Te=function(et){var it,Ie;return null==et&&(et=ie),Ie=et.$partition("="),it=e.to_ary(Ie),b(_e,"[]=",e.to_a(p=[it[0]??ie,it[2]??ie])),p[l(p.length,1)]}).$$s=Pe.$$s||this,Te.$$arity=1,Te))}).$$s=S,Pe.$$arity=1,Pe)):oe(A("::","String")["$==="](z))?z=b(W([],{}),"tap",[],(ze=function(_e){var Te,Me=ze.$$s||this;return null==_e&&(_e=ie),b(z.$gsub($e(h,"SpaceDelimiterRx"),function O(_,c){return"number"==typeof _&&"number"==typeof c?_+c:_["$+"](c)}("\\1",$e(h,"NULL"))).$gsub($e(h,"EscapedSpaceRx"),"\\1").$split($e(h,"NULL")),"each",[],((Te=function(et){var it,Ie;return null==et&&(et=ie),Ie=et.$partition("="),it=e.to_ary(Ie),b(_e,"[]=",e.to_a(p=[it[0]??ie,it[2]??ie])),p[l(p.length,1)]}).$$s=Me,Te.$$arity=1,Te))},ze.$$s=S,ze.$$arity=1,ze)):oe(oe(x=z["$respond_to?"]("keys"))?z["$respond_to?"]("[]"):x)?z=b(W([],{}),"tap",[],((le=function(_e){var Te,Me=le.$$s||this;return null==_e&&(_e=ie),b(z.$keys(),"each",[],((Te=function(et){return null==et&&(et=ie),p=[et,z["$[]"](et)],b(_e,"[]=",e.to_a(p)),p[l(p.length,1)]}).$$s=Me,Te.$$arity=1,Te))}).$$s=S,le.$$arity=1,le)):S.$raise(A("::","ArgumentError"),"illegal type for attributes option: "+z.$class().$ancestors().$join(" < ")),oe(A("::","File")["$==="](B)))p=["input_mtime",$e(h,"RUBY_ENGINE")["$=="]("jruby")?A("::","Time").$at(B.$mtime().$to_i()):B.$mtime()],b(N,"[]=",e.to_a(p)),l(p.length,1),p=["docfile",Z=A("::","File").$absolute_path(B.$path())],b(z,"[]=",e.to_a(p)),l(p.length,1),p=["docdir",A("::","File").$dirname(Z)],b(z,"[]=",e.to_a(p)),l(p.length,1),p=["docname",$e(h,"Helpers").$basename(Z,(p=["docfilesuffix",$e(h,"Helpers").$extname(Z)],b(z,"[]=",e.to_a(p)),p[l(p.length,1)]))],b(z,"[]=",e.to_a(p)),l(p.length,1),re=B.$read();else if(oe(B["$respond_to?"]("read"))){try{B.$rewind()}catch(_e){if(!e.rescue(_e,[$e(h,"StandardError")]))throw _e;e.pop_exception()}re=B.$read()}else oe(A("::","String")["$==="](B))?re=B:oe(A("::","Array")["$==="](B))?re=B.$drop(0):oe(B)&&S.$raise(A("::","ArgumentError"),"unsupported input type: "+B.$class());return oe(d)&&(d.$record("read"),d.$start("parse")),b(N,"[]=",e.to_a(p=["attributes",z])),l(p.length,1),ye=N["$[]"]("parse")["$=="](!1)?$e(h,"Document").$new(re,N):$e(h,"Document").$new(re,N).$parse(),oe(d)&&d.$record("parse"),ye}catch(_e){if(!e.rescue(_e,[$e(h,"StandardError")]))throw _e;q=_e;try{try{ee="asciidoctor: FAILED: "+(oe(x=z["$[]"]("docfile"))?x:"<stdin>")+": Failed to load AsciiDoc document",oe(q["$respond_to?"]("exception"))?(V=q.$exception(ee+" - "+q.$message())).$set_backtrace(q.$backtrace()):(V=q.$class().$new(ee,q),p=[q.$stack_trace()],b(V,"stack_trace=",e.to_a(p)),l(p.length,1))}catch(Me){if(!e.rescue(Me,[$e(h,"StandardError")]))throw Me;try{V=q}finally{e.pop_exception()}}return S.$raise(V)}finally{e.pop_exception()}}},g.$$arity=-2),void e.def(i,"$load_file",w=function(B,N){var x;return null==N&&(N=W([],{})),b(A("::","File"),"open",[B,$e(h,"FILE_READ_MODE")],((x=function(L){return null==L&&(L=ie),(x.$$s||this).$load(L,N)}).$$s=this,x.$$arity=1,x))},w.$$arity=-2)},Opal.modules["asciidoctor/convert"]=function(e){function l(c,t){return"number"==typeof c&&"number"==typeof t?c-t:c["$-"](t)}function O(c,t){return"number"==typeof c&&"number"==typeof t?c>=t:c["$>="](t)}var t,j,w,C,g,s,i,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.module,oe=e.hash2,b=e.truthy,_=e.send;return e.add_stubs(["$delete","$merge","$===","$absolute_path","$path","$load","$respond_to?","$[]=","$-","$key?","$fetch","$[]","$dirname","$expand_path","$join","$attributes","$outfilesuffix","$==","$raise","$pwd","$>=","$safe","$normalize_system_path","$mkdir_p","$directory?","$!","$convert","$write","$<","$attr?","$basebackend?","$attr","$uriish?","$include?","$syntax_highlighter","$write_stylesheet?","$write_primary_stylesheet","$instance","$to_s","$!=","$read_asset","$file?","$write_stylesheet","$open"]),t=ie,i=[s=W(ie[0],"Asciidoctor")].concat(t),j=e.get_singleton_class(s),g=[j].concat(i),e.def(j,"$convert",w=function(N,x){var f,L,ae,Pe,ze,S,d,m,Te,le=this,p=A,z=A,Z=A,re=A,ye=A,q=A,ee=A,V=A,_e=A,Me=A,et=A,ct=A,it=A,Ie=A,Se=A,We=A,tt=A,Qe=A,nt=A,yt=A,ut=A;if(null==x&&(x=oe([],{})),(x=x.$merge()).$delete("parse"),S=x.$delete("to_dir"),d=x.$delete("mkdirs"),m=p=x.$delete("to_file"),(!0)["$==="](m)||A["$==="](m))b(z=S)||b($e("::","File")["$==="](N))&&(Z=$e("::","File").$absolute_path(N.$path())),p=A;else if((!1)["$==="](m))p=A;else{if("/dev/null"["$==="](m))return le.$load(N,x);b(re=p["$respond_to?"]("write"))||(ye=["to_file",z=p],_(x,"[]=",e.to_a(ye)),l(ye.length,1))}return b(x["$key?"]("standalone"))||(b(b(f=Z)?f:z)?(ye=["standalone",x.$fetch("header_footer",!0)],_(x,"[]=",e.to_a(ye)),l(ye.length,1)):b(x["$key?"]("header_footer"))&&(ye=["standalone",x["$[]"]("header_footer")],_(x,"[]=",e.to_a(ye)),l(ye.length,1))),b(Z)?(ye=["to_dir",q=$e("::","File").$dirname(Z)],_(x,"[]=",e.to_a(ye)),l(ye.length,1)):b(z)&&(b(S)?b(p)?(ye=["to_dir",$e("::","File").$dirname($e("::","File").$expand_path(p,S))],_(x,"[]=",e.to_a(ye)),l(ye.length,1)):(ye=["to_dir",$e("::","File").$expand_path(S)],_(x,"[]=",e.to_a(ye)),l(ye.length,1)):b(p)&&(ye=["to_dir",$e("::","File").$dirname($e("::","File").$expand_path(p))],_(x,"[]=",e.to_a(ye)),l(ye.length,1))),ee=le.$load(N,x),b(Z)?(V=$e("::","File").$join(q,""+ee.$attributes()["$[]"]("docname")+ee.$outfilesuffix()))["$=="](Z)&&le.$raise($e("::","IOError"),"input file and output file cannot be the same: "+V):b(z)?(_e=b(x["$key?"]("base_dir"))?$e("::","File").$expand_path(x["$[]"]("base_dir")):$e("::","Dir").$pwd(),Me=b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?_e:A,b(S)?(q=ee.$normalize_system_path(S,_e,Me,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),b(p)?(V=ee.$normalize_system_path(p,q,A,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),q=$e("::","File").$dirname(V)):V=$e("::","File").$join(q,""+ee.$attributes()["$[]"]("docname")+ee.$outfilesuffix())):b(p)&&(V=ee.$normalize_system_path(p,_e,Me,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),q=$e("::","File").$dirname(V)),b(b(f=$e("::","File")["$==="](N))?V["$=="]($e("::","File").$absolute_path(N.$path())):f)&&le.$raise($e("::","IOError"),"input file and output file cannot be the same: "+V),b(d)?$(g,"Helpers").$mkdir_p(q):b($e("::","File")["$directory?"](q))||le.$raise($e("::","IOError"),"target directory does not exist: "+S+" (hint: set :mkdirs option)")):(V=p,q=A),Te=b(b(f=V)?re["$!"]():f)?ee.$convert(oe(["outfile","outdir"],{outfile:V,outdir:q})):ee.$convert(),b(V)?(ee.$write(Te,V),b(b(f=b(L=b(ae=b(Pe=b(ze=re["$!"]())?function xe(c,t){return"number"==typeof c&&"number"==typeof t?c<t:c["$<"](t)}(ee.$safe(),$e($(g,"SafeMode"),"SECURE")):ze)?ee["$attr?"]("linkcss"):Pe)?ee["$attr?"]("copycss"):ae)?ee["$basebackend?"]("html"):L)?(b(L=et=ee.$attr("stylesdir"))?$(g,"Helpers")["$uriish?"](et):L)["$!"]():f)&&(b(ct=ee.$attr("stylesheet"))&&(b($(g,"DEFAULT_STYLESHEET_KEYS")["$include?"](ct))?it=!0:b($(g,"Helpers")["$uriish?"](ct)["$!"]())&&(Ie=!0)),Se=b(f=We=ee.$syntax_highlighter())?We["$write_stylesheet?"](ee):f,b(b(f=b(L=it)?L:Ie)?f:Se)&&(tt=ee.$normalize_system_path(et,q,b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?q:A),b(d)?$(g,"Helpers").$mkdir_p(tt):b($e("::","File")["$directory?"](tt))||le.$raise($e("::","IOError"),"target stylesheet directory does not exist: "+tt+" (hint: set :mkdirs option)"),b(it)?$(g,"Stylesheets").$instance().$write_primary_stylesheet(tt):b(Ie)&&(Qe=b(b(f=(Qe=ee.$attr("copycss"))["$=="](""))?f:Qe["$=="](!0))?ee.$normalize_system_path(ct):ee.$normalize_system_path(Qe.$to_s()),nt=ee.$normalize_system_path(ct,tt,b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?q:A),b(b(f=Qe["$!="](nt))?yt=ee.$read_asset(Qe,oe(["warn_on_failure","label"],{warn_on_failure:$e("::","File")["$file?"](nt)["$!"](),label:"stylesheet"})):f)&&(b(b(f=(ut=$e("::","File").$dirname(nt))["$!="](tt))?$e("::","File")["$directory?"](ut)["$!"]():f)&&(b(d)?$(g,"Helpers").$mkdir_p(ut):le.$raise($e("::","IOError"),"target stylesheet directory does not exist: "+ut+" (hint: set :mkdirs option)")),$e("::","File").$write(nt,yt,oe(["mode"],{mode:$(g,"FILE_WRITE_MODE")})))),b(Se)&&We.$write_stylesheet(ee,tt))),ee):Te},w.$$arity=-2),e.def(j,"$convert_file",C=function(N,x){var f;return null==x&&(x=oe([],{})),_($e("::","File"),"open",[N,$(g,"FILE_READ_MODE")],((f=function(ae){return null==ae&&(ae=A),(f.$$s||this).$convert(ae,x)}).$$s=this,f.$$arity=1,f))},C.$$arity=-2),e.alias(j,"render","convert"),void e.alias(j,"render_file","convert_file")},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){var c,h,C,B,N,x,g,w,s,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.klass,W=e.send,oe=e.hash2,b=e.truthy;return e.add_stubs(["$register_for","$merge","$proc","$[]=","$-","$attr","$[]","$==","$attr?","$join","$map","$split","$lstrip"]),c=xe,h=s=[n(xe[0],"Asciidoctor")].concat(c),g=y(A(s,"SyntaxHighlighter"),ie(A(s,"SyntaxHighlighter"),"Base"),"HighlightJsAdapter"),w=[g].concat(h),g.$register_for("highlightjs","highlight.js"),e.def(g,"$initialize",C=function(L){var ze=C.$$p,S=this,d=Xe,m=Xe,p=Xe;for(ze&&(C.$$p=null),m=0,p=arguments.length,d=new Array(p);m<p;m++)d[m]=arguments[m];return e.slice.call(arguments,0,arguments.length),W(S,e.find_super_dispatcher(S,"initialize",C,!1),d,ze),S.name=S.pre_class="highlightjs"},C.$$arity=-1),e.def(g,"$format",B=function(L,ae,Pe){var ze,d=this;return B.$$p&&(B.$$p=null),W(d,e.find_super_dispatcher(d,"format",B,!1),[L,ae,Pe.$merge(oe(["transform"],{transform:W(d,"proc",[],(ze=function(m,p){var Z,re;return null==m&&(m=Xe),null==p&&(p=Xe),re=["class","language-"+(b(Z=ae)?Z:"none")+" hljs"],W(p,"[]=",e.to_a(re)),re[function l(_,c){return"number"==typeof _&&"number"==typeof c?_-c:_["$-"](c)}(re.length,1)]},ze.$$s=d,ze.$$arity=2,ze))}))],null)},B.$$arity=3),e.def(g,"$docinfo?",N=function(f){return!0},N.$$arity=1),void e.def(g,"$docinfo",x=function(L,ae,Pe){var ze,S;return S=ae.$attr("highlightjsdir",Pe["$[]"]("cdn_base_url")+"/highlight.js/"+A(w,"HIGHLIGHT_JS_VERSION")),L["$=="]("head")?'<link rel="stylesheet" href="'+S+"/styles/"+ae.$attr("highlightjs-theme","github")+'.min.css"'+Pe["$[]"]("self_closing_tag_slash")+">":'<script src="'+S+'/highlight.min.js"><\/script>\n'+(b(ae["$attr?"]("highlightjs-languages"))?W(ae.$attr("highlightjs-languages").$split(","),"map",[],(ze=function(d){return null==d&&(d=Xe),'<script src="'+S+"/languages/"+d.$lstrip()+'.min.js"><\/script>\n'},ze.$$s=this,ze.$$arity=1,ze)).$join():"")+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n<\/script>"},x.$$arity=3)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){function l(_,c){return"number"==typeof _&&"number"==typeof c?_-c:_["$-"](c)}var c,j,w,C,B,N,x,f,L,ae,Pe,le,m,S,d,h,g,s,O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.hash2,W=e.send,oe=e.truthy,b=e.klass;return e.add_stubs(["$attr_reader","$raise","$class","$extend","$private_class_method","$register","$map","$to_s","$each","$[]=","$registry","$-","$[]","$for","$===","$new","$name","$private","$include","$==","$delete","$join","$content"]),c=xe,j=s=[n(xe[0],"Asciidoctor")].concat(c),h=n(s[0],"SyntaxHighlighter"),g=[h].concat(j),h.$attr_reader("name"),e.def(h,"$initialize",w=function(le,S,d){return null==S&&(S="html5"),null==d&&(d=y([],{})),this.name=this.pre_class=le},w.$$arity=-2),e.def(h,"$docinfo?",C=function(ze){return Xe},C.$$arity=1),e.def(h,"$docinfo",B=function(le,S,d){return this.$raise(ie("::","NotImplementedError"),A(g,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},B.$$arity=3),e.def(h,"$highlight?",N=function(){return Xe},N.$$arity=0),e.def(h,"$highlight",x=function(le,S,d,m){return this.$raise(ie("::","NotImplementedError"),A(g,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},x.$$arity=4),e.def(h,"$format",f=function(le,S,d){return this.$raise(ie("::","NotImplementedError"),A(g,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},f.$$arity=3),e.def(h,"$write_stylesheet?",L=function(ze){return Xe},L.$$arity=1),e.def(h,"$write_stylesheet",ae=function(le,S){return this.$raise(ie("::","NotImplementedError"),A(g,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},ae.$$arity=2),e.defs(h,"$included",Pe=function(le){return le.$extend(A(g,"Config"))},Pe.$$arity=1),h.$private_class_method("included"),le=g,S=n(g[0],"Config"),d=[S].concat(le),e.def(S,"$register_for",m=function(z){var re,ye,q=this;return re=e.slice.call(arguments,0,arguments.length),W(A(d,"SyntaxHighlighter"),"register",[q].concat(e.to_a(W(re,"map",[],((ye=function(ee){return null==ee&&(ee=Xe),ee.$to_s()}).$$s=q,ye.$$arity=1,ye)))))},m.$$arity=-1),function(ze,le){var m,p,z,Z,S=n(ze,"Factory"),d=[S].concat(le);e.def(S,"$register",m=function(ye,q){var ee,_e,Me=this;return ee=e.slice.call(arguments,1,arguments.length),W(ee,"each",[],((_e=function(Te){var ct;return null==Te&&(Te=Xe),ct=[Te,ye],W((_e.$$s||this).$registry(),"[]=",e.to_a(ct)),ct[l(ct.length,1)]}).$$s=Me,_e.$$arity=1,_e))},m.$$arity=-2),e.def(S,"$for",p=function(re){return this.$registry()["$[]"](re)},p.$$arity=1),e.def(S,"$create",z=function(ye,q,ee){var _e=Xe;return null==q&&(q="html5"),null==ee&&(ee=y([],{})),oe(_e=this.$for(ye))?(oe(ie("::","Class")["$==="](_e))&&(_e=_e.$new(ye,q,ee)),oe(_e.$name())||this.$raise(ie("::","NameError"),_e.$class()+" must specify a value for `name'"),_e):Xe},z.$$arity=-2),S.$private(),e.def(S,"$registry",Z=function(){return this.$raise(ie("::","NotImplementedError"),A(d,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},Z.$$arity=0)}(g[0],g),function(ze,le,S){var p,d=b(ze,null,"CustomFactory"),m=[d].concat(S);d.$include(A(m,"Factory")),e.def(d,"$initialize",p=function(Z){var re;return null==Z&&(Z=Xe),this.registry=oe(re=Z)?re:y([],{})},p.$$arity=-1),d.$private(),d.$attr_reader("registry")}(g[0],0,g),function(ze,le){var m,S=n(ze,"DefaultFactory"),d=[S].concat(le);S.$include(A(d,"Factory")),e.class_variable_set(d[0],"@@registry",y([],{})),S.$private(),e.def(S,"$registry",m=function(){var z;return null==(z=d[0].$$cvars["@@registry"])?Xe:z},m.$$arity=0),A(d,"RUBY_ENGINE")["$=="]("opal")}(g[0],g),function(ze,le,S){var d=b(ze,le,"DefaultFactoryProxy"),m=[d].concat(S);d.$include(A(m,"DefaultFactory")),A(m,"RUBY_ENGINE")["$=="]("opal")}(g[0],A(g,"CustomFactory"),g),function(ze,le,S){var p,d=b(ze,null,"Base"),m=[d].concat(S);d.$$prototype.pre_class=Xe,d.$include(A(m,"SyntaxHighlighter")),e.def(d,"$format",p=function(Z,re,ye){var q,ee,_e,V=this,Me=Xe,Te=Xe,et=Xe,ct=Xe;return _e=oe(ye["$[]"]("nowrap"))?V.pre_class+" highlight nowrap":V.pre_class+" highlight",oe(Me=ye["$[]"]("transform"))?(Me["$[]"](Te=y(["class"],{class:_e}),et=oe(re)?y(["data-lang"],{"data-lang":re}):y([],{})),oe(re=et.$delete("data-lang"))&&(W(et,"[]=",e.to_a(ct=["data-lang",re])),l(ct.length,1)),"<pre"+W(Te,"map",[],(q=function(it,Ie){return null==it&&(it=Xe),null==Ie&&(Ie=Xe)," "+it+'="'+Ie+'"'},q.$$s=V,q.$$arity=2,q)).$join()+"><code"+W(et,"map",[],(ee=function(it,Ie){return null==it&&(it=Xe),null==Ie&&(Ie=Xe)," "+it+'="'+Ie+'"'},ee.$$s=V,ee.$$arity=2,ee)).$join()+">"+Z.$content()+"</code></pre>"):'<pre class="'+_e+'"><code'+(oe(re)?' data-lang="'+re+'"':"")+">"+Z.$content()+"</code></pre>"},p.$$arity=3)}(g[0],0,g),h.$extend(A(g,"DefaultFactory")),O.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),A(xe,"RUBY_ENGINE")["$=="]("opal"),Xe},Opal.modules["asciidoctor/timings"]=function(e){function l(s,i){return"number"==typeof s&&"number"==typeof i?s-i:s["$-"](i)}function O(s,i){return"number"==typeof s&&"number"==typeof i?s+i:s["$+"](i)}function xe(s,i){return"number"==typeof s&&"number"==typeof i?s>i:s["$>"](i)}var i,C,x,f,L,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,B,N,h,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,W=e.module,oe=e.klass,b=e.hash2,_=e.send,c=e.truthy,t=e.gvars;return e.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$sprintf","$to_f","$read_parse","$convert","$read_parse_convert","$private","$const_defined?","$==","$clock_gettime"]),i=ie,C=h=[W(ie[0],"Asciidoctor")].concat(i),B=oe(h[0],null,"Timings"),N=[B].concat(C),B.$$prototype.timers=B.$$prototype.log=A,e.def(B,"$initialize",x=function(){return this.log=b([],{}),this.timers=b([],{})},x.$$arity=0),e.def(B,"$start",f=function(Te){var ct;return ct=[Te,this.$now()],_(this.timers,"[]=",e.to_a(ct)),ct[l(ct.length,1)]},f.$$arity=1),e.def(B,"$record",L=function(Te){var ct;return ct=[Te,l(this.$now(),this.timers.$delete(Te))],_(this.log,"[]=",e.to_a(ct)),ct[l(ct.length,1)]},L.$$arity=1),e.def(B,"$time",ae=function(Te){var et,it,Ie=this,Se=A;return et=e.slice.call(arguments,0,arguments.length),Se=_(et,"reduce",[0],((it=function(We,tt){var nt,Qe=it.$$s||this;return null==Qe.log&&(Qe.log=A),null==We&&(We=A),null==tt&&(tt=A),O(We,c(nt=Qe.log["$[]"](tt))?nt:0)}).$$s=Ie,it.$$arity=2,it)),c(xe(Se,0))?Se:A},ae.$$arity=-1),e.def(B,"$read",Pe=function(){return this.$time("read")},Pe.$$arity=0),e.def(B,"$parse",ze=function(){return this.$time("parse")},ze.$$arity=0),e.def(B,"$read_parse",le=function(){return this.$time("read","parse")},le.$$arity=0),e.def(B,"$convert",S=function(){return this.$time("convert")},S.$$arity=0),e.def(B,"$read_parse_convert",d=function(){return this.$time("read","parse","convert")},d.$$arity=0),e.def(B,"$write",m=function(){return this.$time("write")},m.$$arity=0),e.def(B,"$total",p=function(){return this.$time("read","parse","convert","write")},p.$$arity=0),e.def(B,"$print_report",z=function(Te,et){var ct=this;return null==t.stdout&&(t.stdout=A),null==Te&&(Te=t.stdout),null==et&&(et=A),c(et)&&Te.$puts("Input file: "+et),Te.$puts("  Time to read and parse source: "+ct.$sprintf("%05.5f",ct.$read_parse().$to_f())),Te.$puts("  Time to convert document: "+ct.$sprintf("%05.5f",ct.$convert().$to_f())),Te.$puts("  Total time (read, parse and convert): "+ct.$sprintf("%05.5f",ct.$read_parse_convert().$to_f()))},z.$$arity=-1),B.$private(),void(c(c(Z=$e("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((re=$e("::","Process","skip_raise"))&&(ye=re,ye)&&(q=ye)&&((ee=q.$clock_gettime)&&!ee.$$stub||q["$respond_to_missing?"]("clock_gettime"))?"method":A)["$=="]("method"):Z)?(e.const_set(N[0],"CLOCK_ID",$e($e("::","Process"),"CLOCK_MONOTONIC")),e.def(B,"$now",V=function(){return $e("::","Process").$clock_gettime($(N,"CLOCK_ID"))},V.$$arity=0)):e.def(B,"$now",_e=function(){return $e("::","Time").$now()},_e.$$arity=0))},Opal.modules["asciidoctor/converter/composite"]=function(e){function l(_,c){return"number"==typeof _&&"number"==typeof c?_-c:_["$-"](c)}var h,C,B,N,x,g,c,s,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.klass,W=e.hash2,oe=e.send,b=e.truthy;return e.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$init_backend_traits","$backend_traits","$new","$find_converter","$[]=","$-","$convert","$converter_for","$node_name","$[]","$handles?","$raise"]),c=xe,h=s=[n(xe[0],"Asciidoctor")].concat(c),[g=y(A(s,"Converter"),ie(A(s,"Converter"),"Base"),"CompositeConverter")].concat(h),g.$$prototype.converter_cache=g.$$prototype.converters=Xe,g.$attr_reader("converters"),e.def(g,"$initialize",C=function(L,ae,Pe){var ze,le,S,d,m,p,z=this;if(ze=e.slice.call(arguments,1,arguments.length),null==(le=e.extract_kwargs(ze)))le=W([],{});else if(!le.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return S=ze,null==(d=le.$$smap.backend_traits_source)&&(d=Xe),z.backend=L,oe(z.converters=S,"each",[],((m=function(Z){var re=m.$$s||this;return null==Z&&(Z=Xe),b(Z["$respond_to?"]("composed"))?Z.$composed(re):Xe}).$$s=z,m.$$arity=1,m)),b(d)&&z.$init_backend_traits(d.$backend_traits()),z.converter_cache=oe(ie("::","Hash"),"new",[],((p=function(Z,re){var q;return null==Z&&(Z=Xe),null==re&&(re=Xe),q=[re,(p.$$s||this).$find_converter(re)],oe(Z,"[]=",e.to_a(q)),q[l(q.length,1)]}).$$s=z,p.$$arity=2,p))},C.$$arity=-2),e.def(g,"$convert",B=function(L,ae,Pe){var ze;return null==ae&&(ae=Xe),null==Pe&&(Pe=Xe),this.$converter_for(ae=b(ze=ae)?ze:L.$node_name()).$convert(L,ae,Pe)},B.$$arity=-2),e.def(g,"$converter_for",N=function(L){return this.converter_cache["$[]"](L)},N.$$arity=1),void e.def(g,"$find_converter",x=function(L){try{var ae;return oe(this.converters,"each",[],((ae=function(ze){if(null==ze&&(ze=Xe),!b(ze["$handles?"](L)))return Xe;e.ret(ze)}).$$s=this,ae.$$arity=1,ae)),this.$raise("Could not find a converter to handle transform: "+L)}catch(ze){if(ze===e.returner)return ze.$v;throw ze}},x.$$arity=1)},Opal.modules["asciidoctor/converter/html5"]=function(e){function l(h,g){return"number"==typeof h&&"number"==typeof g?h-g:h["$-"](g)}function O(h,g){return"number"==typeof h&&"number"==typeof g?h>g:h["$>"](g)}function xe(h,g){return"number"==typeof h&&"number"==typeof g?h+g:h["$+"](g)}function Xe(h,g){return"number"==typeof h&&"number"==typeof g?h<=g:h["$<="](g)}function ie(h,g){return"number"==typeof h&&"number"==typeof g?h<g:h["$<"](g)}var g,x,ae,Pe,ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be,je,Fe,Ke,we,ot,at,vt,Dt,bt,ce,Ee,f,L,C,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,_=e.module,c=e.klass,t=e.send,s=e.hash2,i=e.truthy,j=e.gvars;return e.add_stubs(["$register_for","$default=","$-","$==","$[]","$init_backend_traits","$node_name","$===","$convert_inline_quoted","$convert_paragraph","$convert_inline_anchor","$convert_section","$convert_listing","$convert_literal","$convert_ulist","$convert_olist","$convert_dlist","$convert_admonition","$convert_colist","$convert_embedded","$convert_example","$convert_floating_title","$convert_image","$convert_inline_break","$convert_inline_button","$convert_inline_callout","$convert_inline_footnote","$convert_inline_image","$convert_inline_indexterm","$convert_inline_kbd","$convert_inline_menu","$convert_open","$convert_page_break","$convert_preamble","$convert_quote","$convert_sidebar","$convert_stem","$convert_table","$convert_thematic_break","$convert_verse","$convert_video","$convert_document","$convert_toc","$convert_pass","$convert_audio","$empty?","$attr","$attr?","$<<","$include?","$sub_replacements","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$primary_stylesheet_data","$instance","$read_contents","$syntax_highlighter","$size","$docinfo","$id","$sections?","$doctype","$role?","$role","$join","$noheader","$convert","$converter","$generate_manname_section","$header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$docinfo?","$[]=","$delete_at","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$convert_outline","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_attribute_value","$append_link_constraint_attrs","$highlight?","$to_sym","$format","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$columns","$to_h","$rows","$colspan","$rowspan","$unshift","$shift","$split","$pop","$nil_or_empty?","$type","$catalog","$get_root_document","$xreftext","$target","$reftext","$chop","$sub","$match","$private","$upcase","$nested?","$parent_document","$to_s","$handles?","$send"]),g=$,x=C=[_($[0],"Asciidoctor")].concat(g),f=c(W(C,"Converter"),y(W(C,"Converter"),"Base"),"Html5Converter"),L=[f].concat(x),f.$$prototype.void_element_slash=f.$$prototype.xml_mode=f.$$prototype.refs=f.$$prototype.resolving_xref=n,f.$register_for("html5"),Ee=[["",""]],t(e.const_set(L[0],"QUOTE_TAGS",s(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",e.to_a(Ee)),l(Ee.length,1),e.const_set(L[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),e.const_set(L[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),W(L,"RUBY_ENGINE")["$=="]("opal")&&(e.const_set(L[0],"SvgPreambleRx",new RegExp("^"+W(L,"CC_ALL")+"*?(?=<svg[\\s>])")),e.const_set(L[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)),e.const_set(L[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+W(L,"CC_ANY")+"*?\\1")),e.def(f,"$initialize",ae=function(o,H){var Y=this,Q=n;return null==H&&(H=s([],{})),Y.backend=o,H["$[]"]("htmlsyntax")["$=="]("xml")?(Q="xml",Y.xml_mode=!0,Y.void_element_slash="/"):(Q="html",Y.xml_mode=n,Y.void_element_slash=""),Y.$init_backend_traits(s(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:Q,outfilesuffix:".html",supports_templates:!0}))},ae.$$arity=-2),e.def(f,"$convert",Pe=function(o,H,Y){var Q=Pe.$$p,k=this,a=n,E=n,T=n,M=n;for(Q&&(Pe.$$p=null),T=0,M=arguments.length,E=new Array(M);T<M;T++)E[T]=arguments[T];return null==H&&(H=o.$node_name()),null==Y&&(Y=n),"inline_quoted"["$==="](a=H)?k.$convert_inline_quoted(o):"paragraph"["$==="](a)?k.$convert_paragraph(o):"inline_anchor"["$==="](a)?k.$convert_inline_anchor(o):"section"["$==="](a)?k.$convert_section(o):"listing"["$==="](a)?k.$convert_listing(o):"literal"["$==="](a)?k.$convert_literal(o):"ulist"["$==="](a)?k.$convert_ulist(o):"olist"["$==="](a)?k.$convert_olist(o):"dlist"["$==="](a)?k.$convert_dlist(o):"admonition"["$==="](a)?k.$convert_admonition(o):"colist"["$==="](a)?k.$convert_colist(o):"embedded"["$==="](a)?k.$convert_embedded(o):"example"["$==="](a)?k.$convert_example(o):"floating_title"["$==="](a)?k.$convert_floating_title(o):"image"["$==="](a)?k.$convert_image(o):"inline_break"["$==="](a)?k.$convert_inline_break(o):"inline_button"["$==="](a)?k.$convert_inline_button(o):"inline_callout"["$==="](a)?k.$convert_inline_callout(o):"inline_footnote"["$==="](a)?k.$convert_inline_footnote(o):"inline_image"["$==="](a)?k.$convert_inline_image(o):"inline_indexterm"["$==="](a)?k.$convert_inline_indexterm(o):"inline_kbd"["$==="](a)?k.$convert_inline_kbd(o):"inline_menu"["$==="](a)?k.$convert_inline_menu(o):"open"["$==="](a)?k.$convert_open(o):"page_break"["$==="](a)?k.$convert_page_break(o):"preamble"["$==="](a)?k.$convert_preamble(o):"quote"["$==="](a)?k.$convert_quote(o):"sidebar"["$==="](a)?k.$convert_sidebar(o):"stem"["$==="](a)?k.$convert_stem(o):"table"["$==="](a)?k.$convert_table(o):"thematic_break"["$==="](a)?k.$convert_thematic_break(o):"verse"["$==="](a)?k.$convert_verse(o):"video"["$==="](a)?k.$convert_video(o):"document"["$==="](a)?k.$convert_document(o):"toc"["$==="](a)?k.$convert_toc(o):"pass"["$==="](a)?k.$convert_pass(o):"audio"["$==="](a)?k.$convert_audio(o):t(k,e.find_super_dispatcher(k,"convert",Pe,!1),E,Q)},Pe.$$arity=-2),e.def(f,"$convert_document",ze=function(o){var H,Y,Q,ne,k,E,T,te,X,Ae,mt,Zt,rr,a=this,M=n,me=n,dt=n,He=n,kt=n,$t=n,Tt=n,rt=n,Lt=n,Yt=n,_t=n,nr=n,sr=n,tr=n,hr=n,fr=n,mr=n;return E="<br"+(T=a.void_element_slash)+">",i((M=o.$attr("asset-uri-scheme","https"))["$empty?"]())||(M+=":"),te=M+"//cdnjs.cloudflare.com/ajax/libs",X=o["$attr?"]("linkcss"),Ae=i(o["$attr?"]("max-width"))?' style="max-width: '+o.$attr("max-width")+';"':"",me=["<!DOCTYPE html>"],mt=i(o["$attr?"]("nolang"))?"":' lang="'+o.$attr("lang","en")+'"',me["$<<"]("<html"+(i(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+mt+">"),me["$<<"]('<head>\n<meta charset="'+o.$attr("encoding","UTF-8")+'"'+T+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+T+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+T+'>\n<meta name="generator" content="Asciidoctor '+o.$attr("asciidoctor-version")+'"'+T+">"),i(o["$attr?"]("app-name"))&&me["$<<"]('<meta name="application-name" content="'+o.$attr("app-name")+'"'+T+">"),i(o["$attr?"]("description"))&&me["$<<"]('<meta name="description" content="'+o.$attr("description")+'"'+T+">"),i(o["$attr?"]("keywords"))&&me["$<<"]('<meta name="keywords" content="'+o.$attr("keywords")+'"'+T+">"),i(o["$attr?"]("authors"))&&me["$<<"]('<meta name="author" content="'+(i((dt=o.$sub_replacements(o.$attr("authors")))["$include?"]("<"))?dt.$gsub(W(L,"XmlSanitizeRx"),""):dt)+'"'+T+">"),i(o["$attr?"]("copyright"))&&me["$<<"]('<meta name="copyright" content="'+o.$attr("copyright")+'"'+T+">"),i(o["$attr?"]("favicon"))&&(i((He=o.$attr("favicon"))["$empty?"]())?(He="favicon.ico",kt="image/x-icon"):kt=i($t=W(L,"Helpers").$extname(He,n))?$t["$=="](".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length()):"image/x-icon",me["$<<"]('<link rel="icon" type="'+kt+'" href="'+He+'"'+T+">")),me["$<<"]("<title>"+o.$doctitle(s(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),i(W(L,"DEFAULT_STYLESHEET_KEYS")["$include?"](o.$attr("stylesheet")))?(i(Tt=o.$attr("webfonts"))&&me["$<<"]('<link rel="stylesheet" href="'+M+"//fonts.googleapis.com/css?family="+(i(Tt["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":Tt)+'"'+T+">"),i(X)?me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(W(L,"DEFAULT_STYLESHEET_NAME"),o.$attr("stylesdir",""),!1)+'"'+T+">"):me["$<<"]("<style>\n"+W(L,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):i(o["$attr?"]("stylesheet"))&&(i(X)?me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(o.$attr("stylesheet"),o.$attr("stylesdir",""))+'"'+T+">"):me["$<<"]("<style>\n"+o.$read_contents(o.$attr("stylesheet"),s(["start","warn_on_failure","label"],{start:o.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),i(o["$attr?"]("icons","font"))&&(i(o["$attr?"]("iconfont-remote"))?me["$<<"]('<link rel="stylesheet" href="'+o.$attr("iconfont-cdn",te+"/font-awesome/"+W(L,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+T+">"):(rt=o.$attr("iconfont-name","font-awesome")+".css",me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(rt,o.$attr("stylesdir",""),!1)+'"'+T+">"))),i(Lt=o.$syntax_highlighter())&&me["$<<"](Yt=me.$size()),i((_t=o.$docinfo())["$empty?"]())||me["$<<"](_t),me["$<<"]("</head>"),Zt=i(o.$id())?' id="'+o.$id()+'"':"",nr=i(i(H=i(Y=i(Q=rr=o["$sections?"]())?o["$attr?"]("toc-class"):Q)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)?[o.$doctype(),o.$attr("toc-class"),"toc-"+o.$attr("toc-position","header")]:[o.$doctype()],i(o["$role?"]())&&nr["$<<"](o.$role()),me["$<<"]("<body"+Zt+' class="'+nr.$join(" ")+'">'),i((_t=o.$docinfo("header"))["$empty?"]())||me["$<<"](_t),i(o.$noheader())||(me["$<<"]('<div id="header"'+Ae+">"),o.$doctype()["$=="]("manpage")?(me["$<<"]("<h1>"+o.$doctitle()+" Manual Page</h1>"),i(i(H=i(Y=rr)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)&&me["$<<"]('<div id="toc" class="'+o.$attr("toc-class","toc")+'">\n<div id="toctitle">'+o.$attr("toc-title")+"</div>\n"+o.$converter().$convert(o,"outline")+"\n</div>"),i(o["$attr?"]("manpurpose"))&&me["$<<"](a.$generate_manname_section(o))):(i(o["$header?"]())&&(i(o.$notitle())||me["$<<"]("<h1>"+o.$header().$title()+"</h1>"),sr=[],tr=1,t(o.$authors(),"each",[],((ne=function(ir){return null==ir&&(ir=n),sr["$<<"]('<span id="author'+(i(O(tr,1))?tr:"")+'" class="author">'+o.$sub_replacements(ir.$name())+"</span>"+E),i(ir.$email())&&sr["$<<"]('<span id="email'+(i(O(tr,1))?tr:"")+'" class="email">'+o.$sub_macros(ir.$email())+"</span>"+E),tr=xe(tr,1)}).$$s=a,ne.$$arity=1,ne)),i(o["$attr?"]("revnumber"))&&sr["$<<"]('<span id="revnumber">'+(i(H=o.$attr("version-label"))?H:"").$downcase()+" "+o.$attr("revnumber")+(i(o["$attr?"]("revdate"))?",":"")+"</span>"),i(o["$attr?"]("revdate"))&&sr["$<<"]('<span id="revdate">'+o.$attr("revdate")+"</span>"),i(o["$attr?"]("revremark"))&&sr["$<<"](E+'<span id="revremark">'+o.$attr("revremark")+"</span>"),i(sr["$empty?"]())||(me["$<<"]('<div class="details">'),me.$concat(sr),me["$<<"]("</div>"))),i(i(H=i(Y=rr)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)&&me["$<<"]('<div id="toc" class="'+o.$attr("toc-class","toc")+'">\n<div id="toctitle">'+o.$attr("toc-title")+"</div>\n"+o.$converter().$convert(o,"outline")+"\n</div>")),me["$<<"]("</div>")),me["$<<"]('<div id="content"'+Ae+">\n"+o.$content()+"\n</div>"),i(i(H=o["$footnotes?"]())?o["$attr?"]("nofootnotes")["$!"]():H)&&(me["$<<"]('<div id="footnotes"'+Ae+">\n<hr"+T+">"),t(o.$footnotes(),"each",[],((k=function(ir){return null==ir&&(ir=n),me["$<<"]('<div class="footnote" id="_footnotedef_'+ir.$index()+'">\n<a href="#_footnoteref_'+ir.$index()+'">'+ir.$index()+"</a>. "+ir.$text()+"\n</div>")}).$$s=a,k.$$arity=1,k)),me["$<<"]("</div>")),i(o.$nofooter())||(me["$<<"]('<div id="footer"'+Ae+">"),me["$<<"]('<div id="footer-text">'),i(o["$attr?"]("revnumber"))&&me["$<<"](o.$attr("version-label")+" "+o.$attr("revnumber")+E),i(i(H=o["$attr?"]("last-update-label"))?o["$attr?"]("reproducible")["$!"]():H)&&me["$<<"](o.$attr("last-update-label")+" "+o.$attr("docdatetime")),me["$<<"]("</div>"),me["$<<"]("</div>")),i(Lt)&&(i(Lt["$docinfo?"]("head"))?(hr=[Yt,Lt.$docinfo("head",o,s(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:te,linkcss:X,self_closing_tag_slash:T}))],t(me,"[]=",e.to_a(hr)),l(hr.length,1)):me.$delete_at(Yt),i(Lt["$docinfo?"]("footer"))&&me["$<<"](Lt.$docinfo("footer",o,s(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:te,linkcss:X,self_closing_tag_slash:T})))),i(o["$attr?"]("stem"))&&(fr=o.$attr("eqnums","none"),i(fr["$empty?"]())&&(fr="AMS"),mr=' equationNumbers: { autoNumber: "'+fr+'" } ',me["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+W(L,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+W(L,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+W(L,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+mr+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+te+"/mathjax/"+W(L,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),i((_t=o.$docinfo("footer"))["$empty?"]())||me["$<<"](_t),me["$<<"]("</body>"),me["$<<"]("</html>"),me.$join(W(L,"LF"))},ze.$$arity=1),e.def(f,"$convert_embedded",le=function(o){var H,Y,Q,ne,k=this,a=n,E=n,T=n;return a=[],o.$doctype()["$=="]("manpage")?(i(o.$notitle())||(E=i(o.$id())?' id="'+o.$id()+'"':"",a["$<<"]("<h1"+E+">"+o.$doctitle()+" Manual Page</h1>")),i(o["$attr?"]("manpurpose"))&&a["$<<"](k.$generate_manname_section(o))):i(i(H=o["$header?"]())?o.$notitle()["$!"]():H)&&(E=i(o.$id())?' id="'+o.$id()+'"':"",a["$<<"]("<h1"+E+">"+o.$header().$title()+"</h1>")),i(i(H=i(Y=i(Q=o["$sections?"]())?o["$attr?"]("toc"):Q)?(T=o.$attr("toc-placement"))["$!="]("macro"):Y)?T["$!="]("preamble"):H)&&a["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+o.$attr("toc-title")+"</div>\n"+o.$converter().$convert(o,"outline")+"\n</div>"),a["$<<"](o.$content()),i(i(H=o["$footnotes?"]())?o["$attr?"]("nofootnotes")["$!"]():H)&&(a["$<<"]('<div id="footnotes">\n<hr'+k.void_element_slash+">"),t(o.$footnotes(),"each",[],((ne=function(M){return null==M&&(M=n),a["$<<"]('<div class="footnote" id="_footnotedef_'+M.$index()+'">\n<a href="#_footnoteref_'+M.$index()+'">'+M.$index()+"</a>. "+M.$text()+"\n</div>")}).$$s=k,ne.$$arity=1,ne)),a["$<<"]("</div>")),a.$join(W(L,"LF"))},le.$$arity=1),e.def(f,"$convert_outline",S=function(o,H){var Y,Q,ne,a=n,E=n,T=n,M=n;return null==H&&(H=s([],{})),i(o["$sections?"]())?(a=i(Y=H["$[]"]("sectnumlevels"))?Y:(i(Q=o.$document().$attributes()["$[]"]("sectnumlevels"))?Q:3).$to_i(),E=i(Y=H["$[]"]("toclevels"))?Y:(i(Q=o.$document().$attributes()["$[]"]("toclevels"))?Q:2).$to_i(),T=o.$sections(),M=['<ul class="sectlevel'+T["$[]"](0).$level()+'">'],t(T,"each",[],((ne=function(te){var Ae,me,X=ne.$$s||this,mt=n,dt=n,He=n,kt=n;return null==te&&(te=n),me=te.$level(),i(te.$caption())?mt=te.$captioned_title():i(i(Ae=te.$numbered())?Xe(me,a):Ae)?i(i(Ae=ie(me,2))?o.$document().$doctype()["$=="]("book"):Ae)?(dt=te.$sectname(),mt="chapter"["$==="](dt)?(i(He=o.$document().$attributes()["$[]"]("chapter-signifier"))?He+" ":"")+te.$sectnum()+" "+te.$title():"part"["$==="](dt)?(i(He=o.$document().$attributes()["$[]"]("part-signifier"))?He+" ":"")+te.$sectnum(n,":")+" "+te.$title():te.$sectnum()+" "+te.$title()):mt=te.$sectnum()+" "+te.$title():mt=te.$title(),i(mt["$include?"]("<a"))&&(mt=mt.$gsub(W(L,"DropAnchorRx"),"")),i(i(Ae=ie(me,E))?kt=X.$convert_outline(te,s(["toclevels","sectnumlevels"],{toclevels:E,sectnumlevels:a})):Ae)?(M["$<<"]('<li><a href="#'+te.$id()+'">'+mt+"</a>"),M["$<<"](kt),M["$<<"]("</li>")):M["$<<"]('<li><a href="#'+te.$id()+'">'+mt+"</a></li>")}).$$s=this,ne.$$arity=1,ne)),M["$<<"]("</ul>"),M.$join(W(L,"LF"))):n},S.$$arity=-2),e.def(f,"$convert_section",d=function(o){var H,Y,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return ne=o.$document().$attributes(),k=o.$level(),i(o.$caption())?a=o.$captioned_title():i(i(H=o.$numbered())?Xe(k,(i(Y=ne["$[]"]("sectnumlevels"))?Y:3).$to_i()):H)?i(i(H=ie(k,2))?o.$document().$doctype()["$=="]("book"):H)?(E=o.$sectname(),a="chapter"["$==="](E)?(i(T=ne["$[]"]("chapter-signifier"))?T+" ":"")+o.$sectnum()+" "+o.$title():"part"["$==="](E)?(i(T=ne["$[]"]("part-signifier"))?T+" ":"")+o.$sectnum(n,":")+" "+o.$title():o.$sectnum()+" "+o.$title()):a=o.$sectnum()+" "+o.$title():a=o.$title(),i(o.$id())?(M=' id="'+(te=o.$id())+'"',i(ne["$[]"]("sectlinks"))&&(a='<a class="link" href="#'+te+'">'+a+"</a>"),i(ne["$[]"]("sectanchors"))&&(a=ne["$[]"]("sectanchors")["$=="]("after")?a+'<a class="anchor" href="#'+te+'"></a>':'<a class="anchor" href="#'+te+'"></a>'+a)):M="",k["$=="](0)?"<h1"+M+' class="sect0'+(i(X=o.$role())?" "+X:"")+'">'+a+"</h1>\n"+o.$content():'<div class="sect'+k+(i(X=o.$role())?" "+X:"")+'">\n<h'+xe(k,1)+M+">"+a+"</h"+xe(k,1)+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+o.$content()+"\n</div>":o.$content())+"\n</div>"},d.$$arity=1),e.def(f,"$convert_admonition",m=function(o){var H,Q,ne,k,a,E;return Q=i(o.$id())?' id="'+o.$id()+'"':"",ne=o.$attr("name"),k=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"",a=i(o.$document()["$attr?"]("icons"))?i(i(H=o.$document()["$attr?"]("icons","font"))?o["$attr?"]("icon")["$!"]():H)?'<i class="fa icon-'+ne+'" title="'+o.$attr("textlabel")+'"></i>':'<img src="'+o.$icon_uri(ne)+'" alt="'+o.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+o.$attr("textlabel")+"</div>","<div"+Q+' class="admonitionblock '+ne+(i(E=o.$role())?" "+E:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+a+'\n</td>\n<td class="content">\n'+k+o.$content()+"\n</td>\n</tr>\n</table>\n</div>"},m.$$arity=1),e.def(f,"$convert_audio",p=function(o){var H,Q,ne,a,E,T,M,te,Y=this;return Q=Y.xml_mode,ne=i(o.$id())?' id="'+o.$id()+'"':"",a=' class="'+["audioblock",o.$role()].$compact().$join(" ")+'"',E=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"",T=o.$attr("start"),M=o.$attr("end"),te=i(i(H=T)?H:M)?"#t="+(i(H=T)?H:"")+(i(M)?","+M:""):"","<div"+ne+a+">\n"+E+'<div class="content">\n<audio src="'+o.$media_uri(o.$attr("target"))+te+'"'+(i(o["$option?"]("autoplay"))?Y.$append_boolean_attribute("autoplay",Q):"")+(i(o["$option?"]("nocontrols"))?"":Y.$append_boolean_attribute("controls",Q))+(i(o["$option?"]("loop"))?Y.$append_boolean_attribute("loop",Q):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},p.$$arity=1),e.def(f,"$convert_colist",z=function(o){var H,Y,Q,a,T,k=n,M=n,te=n;return k=[],a=i(o.$id())?' id="'+o.$id()+'"':"",T=' class="'+["colist",o.$style(),o.$role()].$compact().$join(" ")+'"',k["$<<"]("<div"+a+T+">"),i(o["$title?"]())&&k["$<<"]('<div class="title">'+o.$title()+"</div>"),i(o.$document()["$attr?"]("icons"))?(k["$<<"]("<table>"),H=[o.$document()["$attr?"]("icons","font"),0],M=H[0],te=H[1],t(o.$items(),"each",[],((Y=function(X){var me,Ae=Y.$$s||this;return null==Ae.void_element_slash&&(Ae.void_element_slash=n),null==X&&(X=n),te=xe(te,1),me=i(M)?'<i class="conum" data-value="'+te+'"></i><b>'+te+"</b>":'<img src="'+o.$icon_uri("callouts/"+te)+'" alt="'+te+'"'+Ae.void_element_slash+">",k["$<<"]("<tr>\n<td>"+me+"</td>\n<td>"+X.$text()+(i(X["$blocks?"]())?xe(W(L,"LF"),X.$content()):"")+"</td>\n</tr>")}).$$s=this,Y.$$arity=1,Y)),k["$<<"]("</table>")):(k["$<<"]("<ol>"),t(o.$items(),"each",[],((Q=function(X){return null==X&&(X=n),k["$<<"]("<li>\n<p>"+X.$text()+"</p>"+(i(X["$blocks?"]())?xe(W(L,"LF"),X.$content()):"")+"\n</li>")}).$$s=this,Q.$$arity=1,Q)),k["$<<"]("</ol>")),k["$<<"]("</div>"),k.$join(W(L,"LF"))},z.$$arity=1),e.def(f,"$convert_dlist",Z=function(o){var H,Y,Q,ne,E,te,k=this,a=n,T=n,X=n,Ae=n,me=n;return a=[],E=i(o.$id())?' id="'+o.$id()+'"':"",T=o.$style(),te=' class="'+("qanda"["$==="](T)?["qlist","qanda",o.$role()]:"horizontal"["$==="](T)?["hdlist",o.$role()]:["dlist",o.$style(),o.$role()]).$compact().$join(" ")+'"',a["$<<"]("<div"+E+te+">"),i(o["$title?"]())&&a["$<<"]('<div class="title">'+o.$title()+"</div>"),T=o.$style(),"qanda"["$==="](T)?(a["$<<"]("<ol>"),t(o.$items(),"each",[],((H=function(mt,dt){var kt,He=H.$$s||this;return null==mt&&(mt=n),null==dt&&(dt=n),a["$<<"]("<li>"),t(mt,"each",[],((kt=function($t){return null==$t&&($t=n),a["$<<"]("<p><em>"+$t.$text()+"</em></p>")}).$$s=He,kt.$$arity=1,kt)),i(dt)&&(i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content())),a["$<<"]("</li>")}).$$s=k,H.$$arity=2,H)),a["$<<"]("</ol>")):"horizontal"["$==="](T)?(X=k.void_element_slash,a["$<<"]("<table>"),i(i(Y=o["$attr?"]("labelwidth"))?Y:o["$attr?"]("itemwidth"))&&(a["$<<"]("<colgroup>"),Ae=i(o["$attr?"]("labelwidth"))?' style="width: '+o.$attr("labelwidth").$chomp("%")+'%;"':"",a["$<<"]("<col"+Ae+X+">"),Ae=i(o["$attr?"]("itemwidth"))?' style="width: '+o.$attr("itemwidth").$chomp("%")+'%;"':"",a["$<<"]("<col"+Ae+X+">"),a["$<<"]("</colgroup>")),t(o.$items(),"each",[],((Q=function(mt,dt){var kt,He=Q.$$s||this,$t=n;return null==mt&&(mt=n),null==dt&&(dt=n),a["$<<"]("<tr>"),a["$<<"]('<td class="hdlist1'+(i(o["$option?"]("strong"))?" strong":"")+'">'),$t=!0,t(mt,"each",[],((kt=function(Tt){return null==Tt&&(Tt=n),i($t)||a["$<<"]("<br"+X+">"),a["$<<"](Tt.$text()),$t=n}).$$s=He,kt.$$arity=1,kt)),a["$<<"]("</td>"),a["$<<"]('<td class="hdlist2">'),i(dt)&&(i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content())),a["$<<"]("</td>"),a["$<<"]("</tr>")}).$$s=k,Q.$$arity=2,Q)),a["$<<"]("</table>")):(a["$<<"]("<dl>"),me=i(o.$style())?"":' class="hdlist1"',t(o.$items(),"each",[],((ne=function(mt,dt){var kt;return null==mt&&(mt=n),null==dt&&(dt=n),t(mt,"each",[],((kt=function($t){return null==$t&&($t=n),a["$<<"]("<dt"+me+">"+$t.$text()+"</dt>")}).$$s=ne.$$s||this,kt.$$arity=1,kt)),i(dt)?(a["$<<"]("<dd>"),i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content()),a["$<<"]("</dd>")):n}).$$s=k,ne.$$arity=2,ne)),a["$<<"]("</dl>")),a["$<<"]("</div>"),a.$join(W(L,"LF"))},Z.$$arity=1),e.def(f,"$convert_example",re=function(o){var Y,Q=n,ne=n,k=n,a=n;return Y=i(o.$id())?' id="'+o.$id()+'"':"",i(o["$option?"]("collapsible"))?(Q=i(o.$role())?' class="'+o.$role()+'"':"",ne=i(o["$title?"]())?'<summary class="title">'+o.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+Y+Q+(i(o["$option?"]("open"))?" open":"")+">\n"+ne+'\n<div class="content">\n'+o.$content()+"\n</div>\n</details>"):(k=i(o["$title?"]())?'<div class="title">'+o.$captioned_title()+"</div>\n":"","<div"+Y+' class="exampleblock'+(i(a=o.$role())?" "+a:"")+'">\n'+k+'<div class="content">\n'+o.$content()+"\n</div>\n</div>")},re.$$arity=1),e.def(f,"$convert_floating_title",ye=function(o){var Y;return"<"+(Y="h"+xe(o.$level(),1))+(i(o.$id())?' id="'+o.$id()+'"':"")+' class="'+[o.$style(),o.$role()].$compact().$join(" ")+'">'+o.$title()+"</"+Y+">"},ye.$$arity=1),e.def(f,"$convert_image",q=function(o){var H,Y,k,a,M,Q=this,ne=n,E=n,T=n,te=n;return ne=o.$attr("target"),k=i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':"",a=i(o["$attr?"]("height"))?' height="'+o.$attr("height")+'"':"",i(i(H=i(Y=o["$attr?"]("format","svg"))?Y:ne["$include?"](".svg"))?ie(o.$document().$safe(),y(W(L,"SafeMode"),"SECURE")):H)?i(o["$option?"]("inline"))?E=i(H=Q.$read_svg_contents(o,ne))?H:'<span class="alt">'+o.$alt()+"</span>":i(o["$option?"]("interactive"))?(T=i(o["$attr?"]("fallback"))?'<img src="'+o.$image_uri(o.$attr("fallback"))+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">":'<span class="alt">'+o.$alt()+"</span>",E='<object type="image/svg+xml" data="'+o.$image_uri(ne)+'"'+k+a+">"+T+"</object>"):E='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">":E='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">",i(o["$attr?"]("link"))&&(E='<a class="image" href="'+o.$attr("link")+'"'+Q.$append_link_constraint_attrs(o).$join()+">"+E+"</a>"),M=i(o.$id())?' id="'+o.$id()+'"':"",te=["imageblock"],i(o["$attr?"]("float"))&&te["$<<"](o.$attr("float")),i(o["$attr?"]("align"))&&te["$<<"]("text-"+o.$attr("align")),i(o.$role())&&te["$<<"](o.$role()),"<div"+M+' class="'+te.$join(" ")+'">\n<div class="content">\n'+E+"\n</div>"+(i(o["$title?"]())?'\n<div class="title">'+o.$captioned_title()+"</div>":"")+"\n</div>"},q.$$arity=1),e.def(f,"$convert_listing",ee=function(o){var H,Q,X,Ae,me,ne=n,k=n,a=n,E=n,T=n,M=n,te=n;return Q=i(H=o["$option?"]("nowrap"))?H:o.$document()["$attr?"]("prewrap")["$!"](),o.$style()["$=="]("source")?(ne=o.$attr("language"),i(k=o.$document().$syntax_highlighter())?(a=i(k["$highlight?"]())?s(["css_mode","style"],{css_mode:(i(H=(E=o.$document().$attributes())["$[]"](k.$name()+"-css"))?H:"class").$to_sym(),style:E["$[]"](k.$name()+"-style")}):s([],{}),t(a,"[]=",e.to_a(T=["nowrap",Q])),l(T.length,1)):(M='<pre class="highlight'+(i(Q)?" nowrap":"")+'"><code'+(i(ne)?' class="language-'+ne+'" data-lang="'+ne+'"':"")+">",te="</code></pre>")):(M="<pre"+(i(Q)?' class="nowrap"':"")+">",te="</pre>"),X=i(o.$id())?' id="'+o.$id()+'"':"",Ae=i(o["$title?"]())?'<div class="title">'+o.$captioned_title()+"</div>\n":"","<div"+X+' class="listingblock'+(i(me=o.$role())?" "+me:"")+'">\n'+Ae+'<div class="content">\n'+(i(k)?k.$format(o,ne,a):xe(xe(M,i(H=o.$content())?H:""),te))+"\n</div>\n</div>"},ee.$$arity=1),e.def(f,"$convert_literal",V=function(o){var H,Q,ne,k,a;return Q=i(o.$id())?' id="'+o.$id()+'"':"",ne=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"",k=i(H=o.$document()["$attr?"]("prewrap")["$!"]())?H:o["$option?"]("nowrap"),"<div"+Q+' class="literalblock'+(i(a=o.$role())?" "+a:"")+'">\n'+ne+'<div class="content">\n<pre'+(i(k)?' class="nowrap"':"")+">"+o.$content()+"</pre>\n</div>\n</div>"},V.$$arity=1),e.def(f,"$convert_stem",_e=function(o){var H,Y,Q,k,a,T,M,Ae,E=n,te=n,X=n;return k=i(o.$id())?' id="'+o.$id()+'"':"",a=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"",Y=W(L,"BLOCK_MATH_DELIMITERS")["$[]"](E=o.$style().$to_sym()),H=e.to_ary(Y),T=H[0]??n,M=H[1]??n,i(te=o.$content())?(i((H=E["$=="]("asciimath"))?te["$include?"](W(L,"LF")):E["$=="]("asciimath"))&&(X=W(L,"LF")+"<br"+this.void_element_slash+">",te=t(te,"gsub",[W(L,"StemBreakRx")],(Q=function(){var mt;return""+M+function A(h,g){return"number"==typeof h&&"number"==typeof g?h*g:h["$*"](g)}(X,l(((mt=j["~"])===n?n:mt["$[]"](0)).$count(W(L,"LF")),1))+W(L,"LF")+T},Q.$$s=this,Q.$$arity=0,Q))),i(i(H=te["$start_with?"](T))?te["$end_with?"](M):H)||(te=""+T+te+M)):te="","<div"+k+' class="stemblock'+(i(Ae=o.$role())?" "+Ae:"")+'">\n'+a+'<div class="content">\n'+te+"\n</div>\n</div>"},_e.$$arity=1),e.def(f,"$convert_olist",Me=function(o){var H,ne,a,E,M,te,T,Y=this,Q=n;return Q=[],ne=i(o.$id())?' id="'+o.$id()+'"':"",a=' class="'+["olist",o.$style(),o.$role()].$compact().$join(" ")+'"',Q["$<<"]("<div"+ne+a+">"),i(o["$title?"]())&&Q["$<<"]('<div class="title">'+o.$title()+"</div>"),E=i(T=o.$list_marker_keyword())?' type="'+T+'"':"",M=i(o["$attr?"]("start"))?' start="'+o.$attr("start")+'"':"",te=i(o["$option?"]("reversed"))?Y.$append_boolean_attribute("reversed",Y.xml_mode):"",Q["$<<"]('<ol class="'+o.$style()+'"'+E+M+te+">"),t(o.$items(),"each",[],((H=function(X){return null==X&&(X=n),i(X.$id())?Q["$<<"]('<li id="'+X.$id()+'"'+(i(X.$role())?' class="'+X.$role()+'"':"")+">"):i(X.$role())?Q["$<<"]('<li class="'+X.$role()+'">'):Q["$<<"]("<li>"),Q["$<<"]("<p>"+X.$text()+"</p>"),i(X["$blocks?"]())&&Q["$<<"](X.$content()),Q["$<<"]("</li>")}).$$s=Y,H.$$arity=1,H)),Q["$<<"]("</ol>"),Q["$<<"]("</div>"),Q.$join(W(L,"LF"))},Me.$$arity=1),e.def(f,"$convert_open",Te=function(o){var H,Y,Q,k=n,a=n,E=n,T=n;return(k=o.$style())["$=="]("abstract")?i((H=o.$parent()["$=="](o.$document()))?o.$document().$doctype()["$=="]("book"):o.$parent()["$=="](o.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(a=i(o.$id())?' id="'+o.$id()+'"':"",E=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"","<div"+a+' class="quoteblock abstract'+(i(T=o.$role())?" "+T:"")+'">\n'+E+"<blockquote>\n"+o.$content()+"\n</blockquote>\n</div>"):i((H=k["$=="]("partintro"))?i(Y=i(Q=O(o.$level(),0))?Q:o.$parent().$context()["$!="]("section"))?Y:o.$document().$doctype()["$!="]("book"):k["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(a=i(o.$id())?' id="'+o.$id()+'"':"",E=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"","<div"+a+' class="openblock'+(i(i(H=k)?k["$!="]("open"):H)?" "+k:"")+(i(T=o.$role())?" "+T:"")+'">\n'+E+'<div class="content">\n'+o.$content()+"\n</div>\n</div>")},Te.$$arity=1),e.def(f,"$convert_page_break",et=function(o){return'<div style="page-break-after: always;"></div>'},et.$$arity=1),e.def(f,"$convert_paragraph",ct=function(o){var Y;return Y=i(o.$role())?(i(o.$id())?' id="'+o.$id()+'"':"")+' class="paragraph '+o.$role()+'"':i(o.$id())?' id="'+o.$id()+'" class="paragraph"':' class="paragraph"',i(o["$title?"]())?"<div"+Y+'>\n<div class="title">'+o.$title()+"</div>\n<p>"+o.$content()+"</p>\n</div>":"<div"+Y+">\n<p>"+o.$content()+"</p>\n</div>"},ct.$$arity=1),e.alias(f,"convert_pass","content_only"),e.def(f,"$convert_preamble",it=function(o){var H,Y,k,ne=n;return k=i(i(H=i(Y=(ne=o.$document())["$attr?"]("toc-placement","preamble"))?ne["$sections?"]():Y)?ne["$attr?"]("toc"):H)?'\n<div id="toc" class="'+ne.$attr("toc-class","toc")+'">\n<div id="toctitle">'+ne.$attr("toc-title")+"</div>\n"+ne.$converter().$convert(ne,"outline")+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+o.$content()+"\n</div>"+k+"\n</div>"},it.$$arity=1),e.def(f,"$convert_quote",Ie=function(o){var H,Q,k,a,E,T,M=n,X=n;return Q=i(o.$id())?' id="'+o.$id()+'"':"",k=' class="'+["quoteblock",o.$role()].$compact().$join(" ")+'"',a=i(o["$title?"]())?'\n<div class="title">'+o.$title()+"</div>":"",E=i(o["$attr?"]("attribution"))?o.$attr("attribution"):n,T=i(o["$attr?"]("citetitle"))?o.$attr("citetitle"):n,i(i(H=E)?H:T)?(M=i(T)?"<cite>"+T+"</cite>":"",X='\n<div class="attribution">\n'+(i(E)?"&#8212; "+E+(i(T)?"<br"+this.void_element_slash+">\n":""):"")+M+"\n</div>"):X="","<div"+Q+k+">"+a+"\n<blockquote>\n"+o.$content()+"\n</blockquote>"+X+"\n</div>"},Ie.$$arity=1),e.def(f,"$convert_thematic_break",Se=function(o){return"<hr"+this.void_element_slash+">"},Se.$$arity=1),e.def(f,"$convert_sidebar",We=function(o){var Y,Q,ne;return Y=i(o.$id())?' id="'+o.$id()+'"':"",Q=i(o["$title?"]())?'<div class="title">'+o.$title()+"</div>\n":"","<div"+Y+' class="sidebarblock'+(i(ne=o.$role())?" "+ne:"")+'">\n<div class="content">\n'+Q+o.$content()+"\n</div>\n</div>"},We.$$arity=1),e.def(f,"$convert_table",tt=function(o){var H,Y,Q,a,M,X,me,mt,k=n,E=n,T=n,te=n,Ae=n,dt=n;return k=[],a=i(o.$id())?' id="'+o.$id()+'"':"",(E=o.$attr("frame","all","table-frame"))["$=="]("topbot")&&(E="ends"),T=["tableblock","frame-"+E,"grid-"+o.$attr("grid","all","table-grid")],i(M=o.$attr("stripes",n,"table-stripes"))&&T["$<<"]("stripes-"+M),te="",i(i(H=X=o["$option?"]("autowidth"))?o["$attr?"]("width")["$!"]():H)?T["$<<"]("fit-content"):(Ae=o.$attr("tablepcwidth"))["$=="](100)?T["$<<"]("stretch"):te=' style="width: '+Ae+'%;"',i(o["$attr?"]("float"))&&T["$<<"](o.$attr("float")),i(me=o.$role())&&T["$<<"](me),mt=' class="'+T.$join(" ")+'"',k["$<<"]("<table"+a+mt+te+">"),i(o["$title?"]())&&k["$<<"]('<caption class="title">'+o.$captioned_title()+"</caption>"),i(O(o.$attr("rowcount"),0))&&(dt=this.void_element_slash,k["$<<"]("<colgroup>"),i(X)?k=xe(k,W(L,"Array").$new(o.$columns().$size(),"<col"+dt+">")):t(o.$columns(),"each",[],((Y=function(He){return null==He&&(He=n),k["$<<"](i(He["$option?"]("autowidth"))?"<col"+dt+">":'<col style="width: '+He.$attr("colpcwidth")+'%;"'+dt+">")}).$$s=this,Y.$$arity=1,Y)),k["$<<"]("</colgroup>"),t(o.$rows().$to_h(),"each",[],((Q=function(He,kt){var Tt,$t=Q.$$s||this;return null==He&&(He=n),null==kt&&(kt=n),i(kt["$empty?"]())?n:(k["$<<"]("<t"+He+">"),t(kt,"each",[],((Tt=function(rt){var Yt,Lt=Tt.$$s||this;return null==rt&&(rt=n),k["$<<"]("<tr>"),t(rt,"each",[],((Yt=function(_t){var rr,tr,hr,fr,mr,ir,nr=n,sr=n;return null==_t&&(_t=n),He["$=="]("head")?nr=_t.$text():(sr=_t.$style(),nr="asciidoc"["$==="](sr)?'<div class="content">'+_t.$content()+"</div>":"literal"["$==="](sr)?'<div class="literal"><pre>'+_t.$text()+"</pre></div>":i((nr=_t.$content())["$empty?"]())?"":'<p class="tableblock">'+nr.$join('</p>\n<p class="tableblock">')+"</p>"),tr=i(i(rr=He["$=="]("head"))?rr:_t.$style()["$=="]("header"))?"th":"td",hr=' class="tableblock halign-'+_t.$attr("halign")+" valign-"+_t.$attr("valign")+'"',fr=i(_t.$colspan())?' colspan="'+_t.$colspan()+'"':"",mr=i(_t.$rowspan())?' rowspan="'+_t.$rowspan()+'"':"",ir=i(o.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+o.$document().$attr("cellbgcolor")+';"':"",k["$<<"]("<"+tr+hr+fr+mr+ir+">"+nr+"</"+tr+">")}).$$s=Lt,Yt.$$arity=1,Yt)),k["$<<"]("</tr>")}).$$s=$t,Tt.$$arity=1,Tt)),k["$<<"]("</t"+He+">"))}).$$s=this,Q.$$arity=2,Q))),k["$<<"]("</table>"),k.$join(W(L,"LF"))},tt.$$arity=1),e.def(f,"$convert_toc",Qe=function(o){var H,Y,ne=n,k=n,a=n,E=n,T=n;return i(i(H=i(Y=(ne=o.$document())["$attr?"]("toc-placement","macro"))?ne["$sections?"]():Y)?ne["$attr?"]("toc"):H)?(i(o.$id())?(k=' id="'+o.$id()+'"',a=' id="'+o.$id()+'title"'):(k=' id="toc"',a=' id="toctitle"'),E=i(o["$title?"]())?o.$title():ne.$attr("toc-title"),T=i(o["$attr?"]("levels"))?o.$attr("levels").$to_i():n,"<div"+k+' class="'+(i(o["$role?"]())?o.$role():ne.$attr("toc-class","toc"))+'">\n<div'+a+' class="title">'+E+"</div>\n"+ne.$converter().$convert(ne,"outline",s(["toclevels"],{toclevels:T}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},Qe.$$arity=1),e.def(f,"$convert_ulist",nt=function(o){var H,ne,T,Q=n,k=n,a=n,E=n,M=n;return Q=[],ne=i(o.$id())?' id="'+o.$id()+'"':"",k=["ulist",o.$style(),o.$role()].$compact(),a=E="",i(T=o["$option?"]("checklist"))?(k.$unshift(k.$shift(),"checklist"),M=' class="checklist"',i(o["$option?"]("interactive"))?i(this.xml_mode)?(a='<input type="checkbox" data-item-complete="1" checked="checked"/> ',E='<input type="checkbox" data-item-complete="0"/> '):(a='<input type="checkbox" data-item-complete="1" checked> ',E='<input type="checkbox" data-item-complete="0"> '):i(o.$document()["$attr?"]("icons","font"))?(a='<i class="fa fa-check-square-o"></i> ',E='<i class="fa fa-square-o"></i> '):(a="&#10003; ",E="&#10063; ")):M=i(o.$style())?' class="'+o.$style()+'"':"",Q["$<<"]("<div"+ne+' class="'+k.$join(" ")+'">'),i(o["$title?"]())&&Q["$<<"]('<div class="title">'+o.$title()+"</div>"),Q["$<<"]("<ul"+M+">"),t(o.$items(),"each",[],((H=function(te){var Ae;return null==te&&(te=n),i(te.$id())?Q["$<<"]('<li id="'+te.$id()+'"'+(i(te.$role())?' class="'+te.$role()+'"':"")+">"):i(te.$role())?Q["$<<"]('<li class="'+te.$role()+'">'):Q["$<<"]("<li>"),i(i(Ae=T)?te["$attr?"]("checkbox"):Ae)?Q["$<<"]("<p>"+(i(te["$attr?"]("checked"))?a:E)+te.$text()+"</p>"):Q["$<<"]("<p>"+te.$text()+"</p>"),i(te["$blocks?"]())&&Q["$<<"](te.$content()),Q["$<<"]("</li>")}).$$s=this,H.$$arity=1,H)),Q["$<<"]("</ul>"),Q["$<<"]("</div>"),Q.$join(W(L,"LF"))},nt.$$arity=1),e.def(f,"$convert_verse",yt=function(o){var H,Q,k,a,E,T,M=n,X=n;return Q=i(o.$id())?' id="'+o.$id()+'"':"",k=' class="'+["verseblock",o.$role()].$compact().$join(" ")+'"',a=i(o["$title?"]())?'\n<div class="title">'+o.$title()+"</div>":"",E=i(o["$attr?"]("attribution"))?o.$attr("attribution"):n,T=i(o["$attr?"]("citetitle"))?o.$attr("citetitle"):n,i(i(H=E)?H:T)?(M=i(T)?"<cite>"+T+"</cite>":"",X='\n<div class="attribution">\n'+(i(E)?"&#8212; "+E+(i(T)?"<br"+this.void_element_slash+">\n":""):"")+M+"\n</div>"):X="","<div"+Q+k+">"+a+'\n<pre class="content">'+o.$content()+"</pre>"+X+"\n</div>"},yt.$$arity=1),e.def(f,"$convert_video",ut=function(o){var H,Y,ne,k,E,T,M,te,X,Q=this,a=n,Ae=n,me=n,mt=n,dt=n,He=n,$t=n,Tt=n,Lt=n,Yt=n,_t=n,Zt=n,rr=n,nr=n,sr=n,tr=n,hr=n,fr=n,mr=n,ir=n,pr=n,vr=n,br=n,yr=n,ur=n,_r=n,xr=n,lr=n;return ne=Q.xml_mode,k=i(o.$id())?' id="'+o.$id()+'"':"",a=["videoblock"],i(o["$attr?"]("float"))&&a["$<<"](o.$attr("float")),i(o["$attr?"]("align"))&&a["$<<"]("text-"+o.$attr("align")),i(o.$role())&&a["$<<"](o.$role()),E=' class="'+a.$join(" ")+'"',T=i(o["$title?"]())?'\n<div class="title">'+o.$title()+"</div>":"",M=i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':"",te=i(o["$attr?"]("height"))?' height="'+o.$attr("height")+'"':"",X=o.$attr("poster"),"vimeo"["$==="](X)?(i((Ae=o.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ae+=":"),me=i(o["$attr?"]("start"))?"#at="+o.$attr("start"):"",mt=["?"],Y=o.$attr("target").$split("/",2),"<div"+k+E+">"+T+'\n<div class="content">\n<iframe'+M+te+' src="'+Ae+"//player.vimeo.com/video/"+(dt=(H=e.to_ary(Y))[0]??n)+(i(He=i(H=He=H[1]??n)?H:o.$attr("hash"))?(i(H=mt.$pop())?H:"&amp;")+"h="+He:"")+($t=i(o["$option?"]("autoplay"))?(i(H=mt.$pop())?H:"&amp;")+"autoplay=1":"")+(Tt=i(o["$option?"]("loop"))?(i(H=mt.$pop())?H:"&amp;")+"loop=1":"")+(i(o["$option?"]("muted"))?(i(H=mt.$pop())?H:"&amp;")+"muted=1":"")+me+'" frameborder="0"'+(i(o["$option?"]("nofullscreen"))?"":Q.$append_boolean_attribute("allowfullscreen",ne))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](X)?(i((Ae=o.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ae+=":"),Lt=i(o["$option?"]("related"))?1:0,Yt=i(o["$attr?"]("start"))?"&amp;start="+o.$attr("start"):"",_t=i(o["$attr?"]("end"))?"&amp;end="+o.$attr("end"):"",$t=i(o["$option?"]("autoplay"))?"&amp;autoplay=1":"",Tt=i(Zt=o["$option?"]("loop"))?"&amp;loop=1":"",rr=i(o["$option?"]("muted"))?"&amp;mute=1":"",nr=i(o["$option?"]("nocontrols"))?"&amp;controls=0":"",i(o["$option?"]("nofullscreen"))?(sr="&amp;fs=0",tr=""):(sr="",tr=Q.$append_boolean_attribute("allowfullscreen",ne)),hr=i(o["$option?"]("modest"))?"&amp;modestbranding=1":"",fr=i(o["$attr?"]("theme"))?"&amp;theme="+o.$attr("theme"):"",mr=i(o["$attr?"]("lang"))?"&amp;hl="+o.$attr("lang"):"",Y=o.$attr("target").$split("/",2),dt=(H=e.to_ary(Y))[0]??n,i(ir=i(H=ir=H[1]??n)?H:o.$attr("list"))?pr="&amp;list="+ir:(Y=dt.$split(",",2),dt=(H=e.to_ary(Y))[0]??n,pr=i(vr=i(H=vr=H[1]??n)?H:o.$attr("playlist"))?"&amp;playlist="+dt+","+vr:i(Zt)?"&amp;playlist="+dt:""),"<div"+k+E+">"+T+'\n<div class="content">\n<iframe'+M+te+' src="'+Ae+"//www.youtube.com/embed/"+dt+"?rel="+Lt+Yt+_t+$t+Tt+rr+nr+pr+sr+hr+fr+mr+'" frameborder="0"'+tr+"></iframe>\n</div>\n</div>"):(br=i((yr=o.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+o.$media_uri(yr)+'"',ur=i((yr=o.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+yr+'"',_r=o.$attr("start"),xr=o.$attr("end"),lr=i(i(H=_r)?H:xr)?"#t="+(i(H=_r)?H:"")+(i(xr)?","+xr:""):"","<div"+k+E+">"+T+'\n<div class="content">\n<video src="'+o.$media_uri(o.$attr("target"))+lr+'"'+M+te+br+(i(o["$option?"]("autoplay"))?Q.$append_boolean_attribute("autoplay",ne):"")+(i(o["$option?"]("muted"))?Q.$append_boolean_attribute("muted",ne):"")+(i(o["$option?"]("nocontrols"))?"":Q.$append_boolean_attribute("controls",ne))+(i(o["$option?"]("loop"))?Q.$append_boolean_attribute("loop",ne):"")+ur+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},ut.$$arity=1),e.def(f,"$convert_inline_anchor",K=function(o){var H,Y,ne,Q=this,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return ne=o.$type(),"xref"["$==="](ne)?(i(k=o.$attributes()["$[]"]("path"))?(a=Q.$append_link_constraint_attrs(o,i(o.$role())?[' class="'+o.$role()+'"']:[]).$join(),E=i(H=o.$text())?H:k):(a=i(o.$role())?' class="'+o.$role()+'"':"",i(E=o.$text())||(i(W(L,"AbstractNode")["$==="](T=i(H=(Q.refs=i(Y=Q.refs)?Y:o.$document().$catalog()["$[]"]("refs"))["$[]"](M=o.$attributes()["$[]"]("refid")))?H:i(M["$nil_or_empty?"]())?te=Q.$get_root_document(o):n))?i(i(H=Q.resolving_xref=i(Y=Q.resolving_xref)?Y:X=!0)?X:H)?(i(E=T.$xreftext(o.$attr("xrefstyle",n,!0)))?i(E["$include?"]("<a"))&&(E=E.$gsub(W(L,"DropAnchorRx"),"")):E=i(te)?"[^top]":"["+M+"]",Q.resolving_xref=n):E=i(te)?"[^top]":"["+M+"]":E="["+M+"]")),'<a href="'+o.$target()+'"'+a+">"+E+"</a>"):"ref"["$==="](ne)?'<a id="'+o.$id()+'"></a>':"link"["$==="](ne)?(a=i(o.$id())?[' id="'+o.$id()+'"']:[],i(o.$role())&&a["$<<"](' class="'+o.$role()+'"'),i(o["$attr?"]("title"))&&a["$<<"](' title="'+o.$attr("title")+'"'),'<a href="'+o.$target()+'"'+Q.$append_link_constraint_attrs(o,a).$join()+">"+o.$text()+"</a>"):"bibref"["$==="](ne)?'<a id="'+o.$id()+'"></a>['+(i(H=o.$reftext())?H:o.$id())+"]":(Q.$logger().$warn("unknown anchor type: "+o.$type().$inspect()),n)},K.$$arity=1),e.def(f,"$convert_inline_break",u=function(o){return o.$text()+"<br"+this.void_element_slash+">"},u.$$arity=1),e.def(f,"$convert_inline_button",v=function(o){return'<b class="button">'+o.$text()+"</b>"},v.$$arity=1),e.def(f,"$convert_inline_callout",I=function(o){var Q=n;return i(o.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+o.$text()+'"></i><b>('+o.$text()+")</b>":i(o.$document()["$attr?"]("icons"))?'<img src="'+o.$icon_uri("callouts/"+o.$text())+'" alt="'+o.$text()+'"'+this.void_element_slash+">":i(y("::","Array")["$==="](Q=o.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+o.$text()+")</b>--&gt;":Q+'<b class="conum">('+o.$text()+")</b>"},I.$$arity=1),e.def(f,"$convert_inline_footnote",U=function(o){var Y;return i(Y=o.$attr("index"))?o.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+Y+'" title="View footnote.">'+Y+"</a>]</sup>":'<sup class="footnote"'+(i(o.$id())?' id="_footnote_'+o.$id()+'"':"")+'>[<a id="_footnoteref_'+Y+'" class="footnote" href="#_footnotedef_'+Y+'" title="View footnote.">'+Y+"</a>]</sup>":o.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+o.$text()+"]</sup>":n},U.$$arity=1),e.def(f,"$convert_inline_image",P=function(o){var H,Y,Ae,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return ne=o.$target(),(k=i(H=o.$type())?H:"image")["$=="]("icon")?(a=o.$document().$attr("icons"))["$=="]("font")?(E="fa fa-"+ne,i(o["$attr?"]("size"))&&(E=E+" fa-"+o.$attr("size")),i(o["$attr?"]("flip"))?E=E+" fa-flip-"+o.$attr("flip"):i(o["$attr?"]("rotate"))&&(E=E+" fa-rotate-"+o.$attr("rotate")),M='<i class="'+E+'"'+(T=i(o["$attr?"]("title"))?' title="'+o.$attr("title")+'"':"")+"></i>"):i(a)?(T=i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':"",i(o["$attr?"]("height"))&&(T=T+' height="'+o.$attr("height")+'"'),i(o["$attr?"]("title"))&&(T=T+' title="'+o.$attr("title")+'"'),M='<img src="'+o.$icon_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">"):M="["+o.$alt()+"&#93;":(T=i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':"",i(o["$attr?"]("height"))&&(T=T+' height="'+o.$attr("height")+'"'),i(o["$attr?"]("title"))&&(T=T+' title="'+o.$attr("title")+'"'),i(i(H=i(Y=o["$attr?"]("format","svg"))?Y:ne["$include?"](".svg"))?ie(o.$document().$safe(),y(W(L,"SafeMode"),"SECURE")):H)?i(o["$option?"]("inline"))?M=i(H=Q.$read_svg_contents(o,ne))?H:'<span class="alt">'+o.$alt()+"</span>":i(o["$option?"]("interactive"))?(te=i(o["$attr?"]("fallback"))?'<img src="'+o.$image_uri(o.$attr("fallback"))+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">":'<span class="alt">'+o.$alt()+"</span>",M='<object type="image/svg+xml" data="'+o.$image_uri(ne)+'"'+T+">"+te+"</object>"):M='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">":M='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">"),i(o["$attr?"]("link"))&&(M='<a class="image" href="'+o.$attr("link")+'"'+Q.$append_link_constraint_attrs(o).$join()+">"+M+"</a>"),X=k,i(Ae=o.$role())?X=i(o["$attr?"]("float"))?X+" "+o.$attr("float")+" "+Ae:X+" "+Ae:i(o["$attr?"]("float"))&&(X=X+" "+o.$attr("float")),'<span class="'+X+'">'+M+"</span>"},P.$$arity=1),e.def(f,"$convert_inline_indexterm",de=function(o){return o.$type()["$=="]("visible")?o.$text():""},de.$$arity=1),e.def(f,"$convert_inline_kbd",be=function(o){var Y=n;return(Y=o.$attr("keys")).$size()["$=="](1)?"<kbd>"+Y["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+Y.$join("</kbd>+<kbd>")+"</kbd></span>"},be.$$arity=1),e.def(f,"$convert_inline_menu",je=function(o){var Y,Q,ne,k=n,a=n;return Q="</b>"+(Y=i(o.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',ne=o.$attr("menu"),i((k=o.$attr("submenus"))["$empty?"]())?i(a=o.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+ne+"</b>"+Y+'<b class="menuitem">'+a+"</b></span>":'<b class="menuref">'+ne+"</b>":'<span class="menuseq"><b class="menu">'+ne+"</b>"+Y+'<b class="submenu">'+k.$join(Q)+"</b>"+Y+'<b class="menuitem">'+o.$attr("menuitem")+"</b></span>"},je.$$arity=1),e.def(f,"$convert_inline_quoted",Fe=function(o){var H,Y,k,a,ne=n,E=n;return Y=W(L,"QUOTE_TAGS")["$[]"](o.$type()),ne=(H=e.to_ary(Y))[0]??n,k=H[1]??n,a=H[2]??n,i(o.$id())?(E=i(o.$role())?' class="'+o.$role()+'"':"",i(a)?ne.$chop()+' id="'+o.$id()+'"'+E+">"+o.$text()+k:'<span id="'+o.$id()+'"'+E+">"+ne+o.$text()+k+"</span>"):i(o.$role())?i(a)?ne.$chop()+' class="'+o.$role()+'">'+o.$text()+k:'<span class="'+o.$role()+'">'+ne+o.$text()+k+"</span>":""+ne+o.$text()+k},Fe.$$arity=1),e.def(f,"$read_svg_contents",Ke=function(o,H){var Y,ne=n,k=n,a=n,E=n;if(i(ne=o.$read_contents(H,s(["start","normalize","label","warn_if_empty"],{start:o.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(i(ne["$empty?"]()))return n;i(ne["$start_with?"]("<svg"))||(ne=ne.$sub(W(L,"SvgPreambleRx"),"")),k=a=E=n,t(["width","height"],"each",[],((Y=function(T){var te,X;if(null==T&&(T=n),!i(o["$attr?"](T)))return n;if(!i(a)){if((E=i(te=E)?te:i(X=ne.$match(W(L,"SvgStartTagRx")))?X:"no_match")["$=="]("no_match"))return n;a=(k=E["$[]"](0)).$gsub(W(L,"DimensionAttributeRx"),"")}return a=a.$chop()+" "+T+'="'+o.$attr(T)+'">'}).$$s=this,Y.$$arity=1,Y)),i(a)&&(ne=""+a+ne["$[]"](e.Range.$new(k.$length(),-1,!1)))}return ne},Ke.$$arity=2),f.$private(),e.def(f,"$append_boolean_attribute",we=function(o,H){return i(H)?" "+o+'="'+o+'"':" "+o},we.$$arity=2),e.def(f,"$append_link_constraint_attrs",ot=function(o,H){var Y,ne=n,k=n;return null==H&&(H=[]),i(o["$option?"]("nofollow"))&&(ne="nofollow"),i(k=o.$attributes()["$[]"]("window"))?(H["$<<"](' target="'+k+'"'),i(i(Y=k["$=="]("_blank"))?Y:o["$option?"]("noopener"))&&H["$<<"](i(ne)?' rel="'+ne+' noopener"':' rel="noopener"')):i(ne)&&H["$<<"](' rel="'+ne+'"'),H},ot.$$arity=-2),e.def(f,"$encode_attribute_value",at=function(o){return i(o["$include?"]('"'))?o.$gsub('"',"&quot;"):o},at.$$arity=1),e.def(f,"$generate_manname_section",vt=function(o){var H,E,Q=n,ne=n,k=n;return Q=o.$attr("manname-title","Name"),i(i(H=ne=o.$sections()["$[]"](0))?(k=ne.$title())["$=="](k.$upcase()):H)&&(Q=Q.$upcase()),"<h2"+(i(E=o.$attr("manname-id"))?' id="'+E+'"':"")+">"+Q+'</h2>\n<div class="sectionbody">\n<p>'+o.$attr("mannames").$join(", ")+" - "+o.$attr("manpurpose")+"</p>\n</div>"},vt.$$arity=1),e.def(f,"$get_root_document",Dt=function(o){for(;i((o=o.$document())["$nested?"]());)o=o.$parent_document();return o},Dt.$$arity=1),e.def(f,"$method_missing",bt=function(o,H){var Q,ne,k=bt.$$p,E=this,T=n,M=n,te=n,X=n;for(k&&(bt.$$p=null),te=0,X=arguments.length,M=new Array(X);te<X;te++)M[te]=arguments[te];return Q=e.slice.call(arguments,1,arguments.length),i(i(ne=(T=o.$to_s())["$start_with?"]("convert_")["$!"]())?E["$handles?"](T):ne)?t(E,"send",["convert_"+T].concat(e.to_a(Q))):t(E,e.find_super_dispatcher(E,"method_missing",bt,!1),M,k)},bt.$$arity=-2),void e.def(f,"$respond_to_missing?",ce=function(fe,o){var Q,ne=this,k=n;return e.slice.call(arguments,1,arguments.length),i(Q=(k=fe.$to_s())["$start_with?"]("convert_")["$!"]())?ne["$handles?"](k):Q},ce.$$arity=-2)},Opal.modules["asciidoctor/extensions"]=function(e){function l(i,j){return"number"==typeof i&&"number"==typeof j?i-j:i["$-"](j)}function O(i,j){return"number"==typeof i&&"number"==typeof j?i+j:i["$+"](j)}function xe(i,j){return"number"==typeof i&&"number"==typeof j?i>j:i["$>"](j)}function Xe(i,j){return"number"==typeof i&&"number"==typeof j?i<j:i["$<"](j)}var j,C,V,Te,et,ct,L,ze,le,S,d,m,p,z,Z,re,ye,q,ee,ae,Pe,B,N,g,A=[],$e=e.nil,$=e.const_get_qualified,n=e.const_get_relative,oe=e.module,b=e.klass,_=e.truthy,c=e.hash2,t=e.send,s=e.hash;return e.add_stubs(["$==","$[]=","$config","$-","$const_defined?","$singleton_class?","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$parse_blocks","$empty?","$include?","$sub_attributes","$parse","$each","$define_method","$unshift","$shift","$send","$size","$binding","$receiver","$define_singleton_method","$instance_exec","$to_proc","$call","$option","$flatten","$respond_to?","$to_s","$partition","$to_i","$<<","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$split","$capitalize","$instance_variable_set","$resolve_args","$enable_dsl","$singleton_class","$process_block_given?","$source_location","$freeze","$resolve_class","$<","$update_config","$as_symbol","$name","$name=","$pop","$-@","$next_auto_id","$generate_name"]),n(A,"RUBY_ENGINE")["$=="]("opal"),j=A,C=g=[oe(A[0],"Asciidoctor")].concat(j),L=N=[B=oe(g[0],"Extensions")].concat(C),ae=b(N[0],null,"Processor"),Pe=[ae].concat(L),ae.$$prototype.config=$e,[V=e.get_singleton_class(ae)].concat(Pe),e.def(V,"$config",Te=function(){var Ie;return null==this.config&&(this.config=$e),this.config=_(Ie=this.config)?Ie:c([],{})},Te.$$arity=0),e.def(V,"$option",et=function(Ie,Se){var tt;return tt=[Ie,Se],t(this.$config(),"[]=",e.to_a(tt)),tt[l(tt.length,1)]},et.$$arity=2),e.def(V,"$enable_dsl",ct=function(){var Ie=this;return _(Ie["$const_defined?"]("DSL"))?_(Ie["$singleton_class?"]())?Ie.$include(Ie.$const_get("DSL")):Ie.$extend(Ie.$const_get("DSL")):$e},ct.$$arity=0),e.alias(V,"use_dsl","enable_dsl"),ae.$attr_reader("config"),e.def(ae,"$initialize",ze=function(_e){return null==_e&&(_e=c([],{})),this.config=this.$class().$config().$merge(_e)},ze.$$arity=-1),e.def(ae,"$update_config",le=function(_e){return this.config.$update(_e)},le.$$arity=1),e.def(ae,"$process",S=function(_e){var et=this;return e.slice.call(arguments,0,arguments.length),et.$raise($("::","NotImplementedError"),n(Pe,"Processor")+" subclass "+et.$class()+" must implement the #process method")},S.$$arity=-1),e.def(ae,"$create_section",d=function(_e,Me,Te,et){var ct,Se,Ie=$e,We=$e,tt=$e,Qe=$e,nt=$e,yt=$e,ut=$e,K=$e,u=$e;return null==et&&(et=c([],{})),Se=(We=(Ie=_e.$document()).$doctype())["$=="]("book"),tt=_(ct=et["$[]"]("level"))?ct:O(_e.$level(),1),_(Qe=Te.$delete("style"))?_(_(ct=Se)?Qe["$=="]("abstract"):ct)?(nt=(ct=["chapter",1])[0],tt=ct[1]):(nt=(ct=[Qe,!0])[0],yt=ct[1],tt["$=="](0)&&(tt=1)):_(Se)?nt=tt["$=="](0)?"part":_(xe(tt,1))?"section":"chapter":_((ct=We["$=="]("manpage"))?Me.$casecmp("synopsis")["$=="](0):We["$=="]("manpage"))?(nt=(ct=["synopsis",!0])[0],yt=ct[1]):nt="section",(ut=n(Pe,"Section").$new(_e,tt))["$title="]((ct=[Me,nt])[0]),ut["$sectname="](ct[1]),_(yt)?(t(ut,"special=",e.to_a(K=[!0])),l(K.length,1),_(et.$fetch("numbered",Qe["$=="]("appendix")))?(t(ut,"numbered=",e.to_a(K=[!0])),l(K.length,1)):_(_(ct=et["$key?"]("numbered")["$!"]())?Ie["$attr?"]("sectnums","all"):ct)&&(K=[!_(_(ct=Se)?tt["$=="](1):ct)||"chapter"],t(ut,"numbered=",e.to_a(K)),l(K.length,1))):_(xe(tt,0))?_(et.$fetch("numbered",Ie["$attr?"]("sectnums")))&&(K=[!_(ut.$special())||!!_(ct=_e.$numbered())||ct],t(ut,"numbered=",e.to_a(K)),l(K.length,1)):_(et.$fetch("numbered",_(ct=Se)?Ie["$attr?"]("partnums"):ct))&&(t(ut,"numbered=",e.to_a(K=[!0])),l(K.length,1)),(u=Te["$[]"]("id"))["$=="](!1)?Te.$delete("id"):(K=[(K=["id",_(ct=u)?ct:_(Ie["$attr?"]("sectids"))?n(Pe,"Section").$generate_id(ut.$title(),Ie):$e],t(Te,"[]=",e.to_a(K)),K[l(K.length,1)])],t(ut,"id=",e.to_a(K)),l(K.length,1)),ut.$update_attributes(Te),ut},d.$$arity=-4),e.def(ae,"$create_block",m=function(_e,Me,Te,et,ct){return null==ct&&(ct=c([],{})),n(Pe,"Block").$new(_e,Me,c(["source","attributes"],{source:Te,attributes:et}).$merge(ct))},m.$$arity=-5),e.def(ae,"$create_list",p=function(_e,Me,Te){var ct=$e;return null==Te&&(Te=$e),ct=n(Pe,"List").$new(_e,Me),_(Te)&&ct.$update_attributes(Te),ct},p.$$arity=-3),e.def(ae,"$create_list_item",z=function(_e,Me){return null==Me&&(Me=$e),n(Pe,"ListItem").$new(_e,Me)},z.$$arity=-2),e.def(ae,"$create_image_block",Z=function(_e,Me,Te){var it,Se,Ie=$e,We=$e;return null==Te&&(Te=c([],{})),_(it=Me["$[]"]("target"))||this.$raise($("::","ArgumentError"),"Unable to create an image block, target attribute is required"),_(Me["$[]"]("alt"))||(Ie=["alt",(Ie=["default-alt",n(Pe,"Helpers").$basename(it,!0).$tr("_-"," ")],t(Me,"[]=",e.to_a(Ie)),Ie[l(Ie.length,1)])],t(Me,"[]=",e.to_a(Ie)),l(Ie.length,1)),Se=_(Me["$key?"]("title"))?Me.$delete("title"):$e,We=this.$create_block(_e,"image",$e,Me,Te),_(Se)&&(t(We,"title=",e.to_a(Ie=[Se])),l(Ie.length,1),We.$assign_caption(Me.$delete("caption"),"figure")),We},Z.$$arity=-3),e.def(ae,"$create_inline",re=function(_e,Me,Te,et){return null==et&&(et=c([],{})),n(Pe,"Inline").$new(_e,Me,Te,Me["$=="]("quoted")?c(["type"],{type:"unquoted"}).$merge(et):et)},re.$$arity=-4),e.def(ae,"$parse_content",ye=function(_e,Me,Te){var ct;return null==Te&&(Te=$e),ct=_(n(Pe,"Reader")["$==="](Me))?Me:n(Pe,"Reader").$new(Me),n(Pe,"Parser").$parse_blocks(ct,_e,Te),_e},ye.$$arity=-3),e.def(ae,"$parse_attributes",q=function(_e,Me,Te){var et;return null==Te&&(Te=c([],{})),_(!_(Me)||Me["$empty?"]())?c([],{}):(_(_(et=Te["$[]"]("sub_attributes"))?Me["$include?"](n(Pe,"ATTR_REF_HEAD")):et)&&(Me=_e.$sub_attributes(Me)),n(Pe,"AttributeList").$new(Me).$parse(_(et=Te["$[]"]("positional_attributes"))?et:[]))},q.$$arity=-3),t([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(ee=function(V,_e,Me){var et,Te=ee.$$s||this;return null==V&&(V=$e),null==_e&&(_e=$e),null==Me&&(Me=$e),t(Te,"define_method",[V],(et=function(ct){var Se,it=et.$$s||this;return(Se=e.slice.call(arguments,0,arguments.length)).$unshift(Se.$shift(),Me),t(it,"send",[_e].concat(e.to_a(Se)))},et.$$s=Te,et.$$arity=-1,et))},ee.$$s=ae,ee.$$arity=3,ee)),function(x,f){var Pe,ze,le,L=oe(x,"ProcessorDsl");[L].concat(f),e.def(L,"$option",Pe=function(d,m){var z;return z=[d,m],t(this.$config(),"[]=",e.to_a(z)),z[l(z.length,1)]},Pe.$$arity=2),e.def(L,"$process",ze=function(d){var Z,re,ye,m=ze.$$p,p=m||$e,q=this,ee=$e;return null==q.process_block&&(q.process_block=$e),m&&(ze.$$p=null),m&&(ze.$$p=null),Z=e.slice.call(arguments,0,arguments.length),p!==$e?(_(Z["$empty?"]())||q.$raise($("::","ArgumentError"),"wrong number of arguments (given "+Z.$size()+", expected 0)"),_(_(re=p.$binding())?q["$=="](p.$binding().$receiver()):re)||(ee=q,t(p,"define_singleton_method",["call"],(ye=function(V){var Me;return Me=e.slice.call(arguments,0,arguments.length),t(ee,"instance_exec",e.to_a(Me),p.$to_proc())},ye.$$s=q,ye.$$arity=-1,ye))),q.process_block=p):_(null!=(re=q.process_block)&&re!==$e?"instance-variable":$e)?t(q.process_block,"call",e.to_a(Z)):q.$raise($("::","NotImplementedError"),q.$class()+" #process method called before being registered")},ze.$$arity=-1),e.def(L,"$process_block_given?",le=function(){var S;return null!=(S=this.process_block)&&S!==$e?"instance-variable":$e},le.$$arity=0)}(N[0],N),function(x,f){var Pe,L=oe(x,"DocumentProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"ProcessorDsl")),e.def(L,"$prefer",Pe=function(){return this.$option("position",">>")},Pe.$$arity=0)}(N[0],N),function(x,f){var Pe,ze,le,S,d,L=oe(x,"SyntaxProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"ProcessorDsl")),e.def(L,"$named",Pe=function(p){var z=this;return _(n(ae,"Processor")["$==="](z))?z.name=p:z.$option("name",p)},Pe.$$arity=1),e.def(L,"$content_model",ze=function(p){return this.$option("content_model",p)},ze.$$arity=1),e.alias(L,"parse_content_as","content_model"),e.def(L,"$positional_attributes",le=function(p){var z,re=this;return z=e.slice.call(arguments,0,arguments.length),re.$option("positional_attrs",z.$flatten())},le.$$arity=-1),e.alias(L,"name_positional_attributes","positional_attributes"),e.alias(L,"positional_attrs","positional_attributes"),e.def(L,"$default_attributes",S=function(p){return this.$option("default_attrs",p)},S.$$arity=1),e.alias(L,"default_attrs","default_attributes"),e.def(L,"$resolve_attributes",d=function(p){var z,Z,re,ye,q,ee=this,V=$e,_e=$e,Me=$e;return z=e.slice.call(arguments,0,arguments.length),_(xe((Z=z).$size(),1))||_((Z=Z.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(Z=[Z]),(!0)["$==="](V=Z)?(ee.$option("positional_attrs",[]),ee.$option("default_attrs",c([],{}))):$("::","Array")["$==="](V)?(re=[[],c([],{})],_e=re[0],Me=re[1],t(Z,"each",[],((ye=function(Te){var ct,it,Ie=$e,We=$e,tt=$e,Qe=$e;return null==Te&&(Te=$e),_((Te=Te.$to_s())["$include?"]("="))?(it=Te.$partition("="),We=(ct=e.to_ary(it))[2]??$e,_((Ie=ct[0]??$e)["$include?"](":"))&&(it=Ie.$partition(":"),Ie=(ct=e.to_ary(it))[2]??$e,tt=(tt=ct[0]??$e)["$=="]("@")?_e.$size():tt.$to_i(),t(_e,"[]=",e.to_a(Qe=[tt,Ie])),l(Qe.length,1)),t(Me,"[]=",e.to_a(Qe=[Ie,We])),Qe[l(Qe.length,1)]):_(Te["$include?"](":"))?(it=Te.$partition(":"),Ie=(ct=e.to_ary(it))[2]??$e,tt=(tt=ct[0]??$e)["$=="]("@")?_e.$size():tt.$to_i(),t(_e,"[]=",e.to_a(Qe=[tt,Ie])),Qe[l(Qe.length,1)]):_e["$<<"](Te)}).$$s=ee,ye.$$arity=1,ye)),ee.$option("positional_attrs",_e.$compact()),ee.$option("default_attrs",Me)):$("::","Hash")["$==="](V)?(re=[[],c([],{})],_e=re[0],Me=re[1],t(Z,"each",[],((q=function(Te,et){var it,Ie,Se=$e,We=$e,Qe=$e;return null==Te&&(Te=$e),null==et&&(et=$e),_((Se=Te.$to_s())["$include?"](":"))&&(Ie=Se.$partition(":"),Se=(it=e.to_ary(Ie))[2]??$e,We=(We=it[0]??$e)["$=="]("@")?_e.$size():We.$to_i(),t(_e,"[]=",e.to_a(Qe=[We,Se])),l(Qe.length,1)),_(et)?(t(Me,"[]=",e.to_a(Qe=[Se,et])),Qe[l(Qe.length,1)]):$e}).$$s=ee,q.$$arity=2,q)),ee.$option("positional_attrs",_e.$compact()),ee.$option("default_attrs",Me)):ee.$raise($("::","ArgumentError"),"unsupported attributes specification for macro: "+Z.$inspect())},d.$$arity=-1),e.alias(L,"resolves_attributes","resolve_attributes")}(N[0],N),function(x,f,L){var ze,ae=b(x,f,"Preprocessor"),Pe=[ae].concat(L);e.def(ae,"$process",ze=function(S,d){return this.$raise($("::","NotImplementedError"),n(Pe,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},ze.$$arity=2)}(N[0],n(N,"Processor"),N),e.const_set(n(N,"Preprocessor"),"DSL",n(N,"DocumentProcessorDsl")),function(x,f,L){var ze,ae=b(x,f,"TreeProcessor"),Pe=[ae].concat(L);e.def(ae,"$process",ze=function(S){return this.$raise($("::","NotImplementedError"),n(Pe,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},ze.$$arity=1)}(N[0],n(N,"Processor"),N),e.const_set(n(N,"TreeProcessor"),"DSL",n(N,"DocumentProcessorDsl")),e.const_set(N[0],"Treeprocessor",n(N,"TreeProcessor")),function(x,f,L){var ze,ae=b(x,f,"Postprocessor"),Pe=[ae].concat(L);e.def(ae,"$process",ze=function(S,d){return this.$raise($("::","NotImplementedError"),n(Pe,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},ze.$$arity=2)}(N[0],n(N,"Processor"),N),e.const_set(n(N,"Postprocessor"),"DSL",n(N,"DocumentProcessorDsl")),function(x,f,L){var ze,le,ae=b(x,f,"IncludeProcessor"),Pe=[ae].concat(L);e.def(ae,"$process",ze=function(d,m,p,z){return this.$raise($("::","NotImplementedError"),n(Pe,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},ze.$$arity=4),e.def(ae,"$handles?",le=function(S){return!0},le.$$arity=1)}(N[0],n(N,"Processor"),N),function(x,f){var Pe,L=oe(x,"IncludeProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"DocumentProcessorDsl")),e.def(L,"$handles?",Pe=function(ze){var m,p,le=Pe.$$p,S=le||$e,z=this;return null==z.handles_block&&(z.handles_block=$e),le&&(Pe.$$p=null),le&&(Pe.$$p=null),m=e.slice.call(arguments,0,arguments.length),S!==$e?(_(m["$empty?"]())||z.$raise($("::","ArgumentError"),"wrong number of arguments (given "+m.$size()+", expected 0)"),z.handles_block=S):!_((p=z.handles_block,null!=p&&p!==$e?"instance-variable":$e))||z.handles_block.$call(m["$[]"](0))},Pe.$$arity=-1)}(N[0],N),e.const_set(n(N,"IncludeProcessor"),"DSL",n(N,"IncludeProcessorDsl")),function(x,f,L){var ze,le,ae=b(x,f,"DocinfoProcessor"),Pe=[ae].concat(L);ae.$$prototype.config=$e,e.def(ae,"$initialize",ze=function(d){var m,Z=this,re=$e;return ze.$$p&&(ze.$$p=null),null==d&&(d=c([],{})),t(Z,e.find_super_dispatcher(Z,"initialize",ze,!1),[d],null),_(m=Z.config["$[]"]("location"))?m:(t(Z.config,"[]=",e.to_a(re=["location","head"])),re[l(re.length,1)])},ze.$$arity=-1),e.def(ae,"$process",le=function(d){return this.$raise($("::","NotImplementedError"),n(Pe,"DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")},le.$$arity=1)}(N[0],n(N,"Processor"),N),function(x,f){var Pe,L=oe(x,"DocinfoProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"DocumentProcessorDsl")),e.def(L,"$at_location",Pe=function(le){return this.$option("location",le)},Pe.$$arity=1)}(N[0],N),e.const_set(n(N,"DocinfoProcessor"),"DSL",n(N,"DocinfoProcessorDsl")),function(x,f,L){var ze,le,ae=b(x,f,"BlockProcessor"),Pe=[ae].concat(L);ae.$$prototype.config=$e,ae.$attr_accessor("name"),e.def(ae,"$initialize",ze=function(d,m){var p,ye,re=this,q=$e;return ze.$$p&&(ze.$$p=null),null==d&&(d=$e),null==m&&(m=c([],{})),t(re,e.find_super_dispatcher(re,"initialize",ze,!1),[m],null),re.name=_(p=d)?p:re.config["$[]"]("name"),ye=re.config["$[]"]("contexts"),$("::","NilClass")["$==="](ye)?_(p=re.config["$[]"]("contexts"))||(q=["contexts",["open","paragraph"].$to_set()],t(re.config,"[]=",e.to_a(q)),l(q.length,1)):$("::","Symbol")["$==="](ye)?(q=["contexts",[re.config["$[]"]("contexts")].$to_set()],t(re.config,"[]=",e.to_a(q)),l(q.length,1)):(q=["contexts",re.config["$[]"]("contexts").$to_set()],t(re.config,"[]=",e.to_a(q)),l(q.length,1)),_(p=re.config["$[]"]("content_model"))?p:(t(re.config,"[]=",e.to_a(q=["content_model","compound"])),q[l(q.length,1)])},ze.$$arity=-1),e.def(ae,"$process",le=function(d,m,p){return this.$raise($("::","NotImplementedError"),n(Pe,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},le.$$arity=3)}(N[0],n(N,"Processor"),N),function(x,f){var Pe,L=oe(x,"BlockProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"SyntaxProcessorDsl")),e.def(L,"$contexts",Pe=function(le){var S,m=this;return S=e.slice.call(arguments,0,arguments.length),m.$option("contexts",S.$flatten().$to_set())},Pe.$$arity=-1),e.alias(L,"on_contexts","contexts"),e.alias(L,"on_context","contexts"),e.alias(L,"bind_to","contexts")}(N[0],N),e.const_set(n(N,"BlockProcessor"),"DSL",n(N,"BlockProcessorDsl")),function(x,f,L){var ze,le,ae=b(x,f,"MacroProcessor"),Pe=[ae].concat(L);ae.$$prototype.config=$e,ae.$attr_accessor("name"),e.def(ae,"$initialize",ze=function(d,m){var p,re=this,ye=$e;return ze.$$p&&(ze.$$p=null),null==d&&(d=$e),null==m&&(m=c([],{})),t(re,e.find_super_dispatcher(re,"initialize",ze,!1),[m],null),re.name=_(p=d)?p:re.config["$[]"]("name"),_(p=re.config["$[]"]("content_model"))?p:(t(re.config,"[]=",e.to_a(ye=["content_model","attributes"])),ye[l(ye.length,1)])},ze.$$arity=-1),e.def(ae,"$process",le=function(d,m,p){return this.$raise($("::","NotImplementedError"),n(Pe,"MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")},le.$$arity=3)}(N[0],n(N,"Processor"),N),function(x,f){var Pe,L=oe(x,"MacroProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"SyntaxProcessorDsl")),e.def(L,"$resolve_attributes",Pe=function(le){var S,d,p=Pe.$$p,Z=this,re=$e,ye=$e,q=$e;for(p&&(Pe.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return S=e.slice.call(arguments,0,arguments.length),_((d=S).$size()["$=="](1)?d["$[]"](0)["$!"]():d.$size()["$=="](1))?Z.$option("content_model","text"):(t(Z,e.find_super_dispatcher(Z,"resolve_attributes",Pe,!1),re,p),Z.$option("content_model","attributes"))},Pe.$$arity=-1),e.alias(L,"resolves_attributes","resolve_attributes")}(N[0],N),function(x,f,L){var ze,ae=b(x,f,"BlockMacroProcessor"),Pe=[ae].concat(L);ae.$$prototype.name=$e,e.def(ae,"$name",ze=function(){var S=this;return _(n(Pe,"MacroNameRx")["$match?"](S.name.$to_s()))||S.$raise($("::","ArgumentError"),"invalid name for block macro: "+S.name),S.name},ze.$$arity=0)}(N[0],n(N,"MacroProcessor"),N),e.const_set(n(N,"BlockMacroProcessor"),"DSL",n(N,"MacroProcessorDsl")),function(x,f,L){var ze,le,ae=b(x,f,"InlineMacroProcessor"),Pe=[ae].concat(L);ae.$$prototype.config=ae.$$prototype.name=$e,e.class_variable_set(Pe[0],"@@rx_cache",c([],{})),e.def(ae,"$regexp",ze=function(){var d,m=this,p=$e;return _(d=m.config["$[]"]("regexp"))?d:(p=["regexp",m.$resolve_regexp(m.name.$to_s(),m.config["$[]"]("format"))],t(m.config,"[]=",e.to_a(p)),p[l(p.length,1)])},ze.$$arity=0),e.def(ae,"$resolve_regexp",le=function(d,m){var p,z,re=$e;return _(n(Pe,"MacroNameRx")["$match?"](d))||this.$raise($("::","ArgumentError"),"invalid name for inline macro: "+d),_(p=(null==(z=Pe[0].$$cvars["@@rx_cache"])?$e:z)["$[]"]([d,m]))?p:(re=[[d,m],new RegExp("\\\\?"+d+":"+(m["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+n(Pe,"CC_ANY")+"*?[^\\\\])\\]")],t(null==(z=Pe[0].$$cvars["@@rx_cache"])?$e:z,"[]=",e.to_a(re)),re[l(re.length,1)])},le.$$arity=2)}(N[0],n(N,"MacroProcessor"),N),function(x,f){var Pe,ze,L=oe(x,"InlineMacroProcessorDsl"),ae=[L].concat(f);L.$include(n(ae,"MacroProcessorDsl")),e.def(L,"$format",Pe=function(S){return this.$option("format",S)},Pe.$$arity=1),e.alias(L,"match_format","format"),e.alias(L,"using_format","format"),e.def(L,"$match",ze=function(S){return this.$option("regexp",S)},ze.$$arity=1)}(N[0],N),e.const_set(n(N,"InlineMacroProcessor"),"DSL",n(N,"InlineMacroProcessorDsl")),function(x,f,L){var ze,ae=b(x,null,"Extension");[ae].concat(L),ae.$attr_reader("kind"),ae.$attr_reader("config"),ae.$attr_reader("instance"),e.def(ae,"$initialize",ze=function(S,d,m){var p=this;return p.kind=S,p.instance=d,p.config=m},ze.$$arity=3)}(N[0],0,N),function(x,f,L){var ze,ae=b(x,f,"ProcessorExtension");[ae].concat(L),ae.$attr_reader("process_method"),e.def(ae,"$initialize",ze=function(S,d,m){var p;return ze.$$p&&(ze.$$p=null),null==m&&(m=$e),t(this,e.find_super_dispatcher(this,"initialize",ze,!1),[S,d,d.$config()],null),this.process_method=_(p=m)?p:d.$method("process")},ze.$$arity=-3)}(N[0],n(N,"Extension"),N),function(x,f,L){var ze,ae=b(x,null,"Group"),Pe=[ae].concat(L);(function(le,S){var m,d=[le].concat(S);e.def(le,"$register",m=function(z){return null==z&&(z=$e),n(d,"Extensions").$register(z,this)},m.$$arity=-1)})(e.get_singleton_class(ae),Pe),e.def(ae,"$activate",ze=function(S){return this.$raise($("::","NotImplementedError"))},ze.$$arity=1)}(N[0],0,N),function(x,f,L){var ze,le,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ie,Se,We,tt,Qe,nt,yt,ut,K,u,v,I,U,P,de,be,ae=b(x,null,"Registry"),Pe=[ae].concat(L);ae.$$prototype.groups=ae.$$prototype.preprocessor_extensions=ae.$$prototype.tree_processor_extensions=ae.$$prototype.postprocessor_extensions=ae.$$prototype.include_processor_extensions=ae.$$prototype.docinfo_processor_extensions=ae.$$prototype.block_extensions=ae.$$prototype.block_macro_extensions=ae.$$prototype.inline_macro_extensions=$e,ae.$attr_reader("document"),ae.$attr_reader("groups"),e.def(ae,"$initialize",ze=function(Fe){var Ke=this;return null==Fe&&(Fe=c([],{})),Ke.groups=Fe,Ke.preprocessor_extensions=Ke.tree_processor_extensions=Ke.postprocessor_extensions=Ke.include_processor_extensions=Ke.docinfo_processor_extensions=Ke.block_extensions=Ke.block_macro_extensions=Ke.inline_macro_extensions=$e,Ke.document=$e},ze.$$arity=-1),e.def(ae,"$activate",le=function(Fe){var Ke,ot=$e;return this.document=Fe,_((ot=O(n(Pe,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||t(ot,"each",[],((Ke=function(at){var vt=Ke.$$s||this,Dt=$e;return null==at&&(at=$e),Dt=at,$("::","Proc")["$==="](Dt)?(Dt=at.$arity(),(0)["$==="](Dt)||(-1)["$==="](Dt)?t(vt,"instance_exec",[],at.$to_proc()):1["$==="](Dt)?at.$call(vt):$e):$("::","Class")["$==="](Dt)?at.$new().$activate(vt):at.$activate(vt)}).$$s=this,Ke.$$arity=1,Ke)),this},le.$$arity=1),e.def(ae,"$preprocessor",S=function(Fe){var ot,Ke=S.$$p,we=Ke||$e,vt=this;return Ke&&(S.$$p=null),Ke&&(S.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_document_processor",["preprocessor",ot],we.$to_proc())},S.$$arity=-1),e.def(ae,"$preprocessors?",d=function(){return this.preprocessor_extensions["$!"]()["$!"]()},d.$$arity=0),e.def(ae,"$preprocessors",m=function(){return this.preprocessor_extensions},m.$$arity=0),e.def(ae,"$tree_processor",p=function(Fe){var ot,Ke=p.$$p,we=Ke||$e,vt=this;return Ke&&(p.$$p=null),Ke&&(p.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_document_processor",["tree_processor",ot],we.$to_proc())},p.$$arity=-1),e.def(ae,"$tree_processors?",z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},z.$$arity=0),e.def(ae,"$tree_processors",Z=function(){return this.tree_processor_extensions},Z.$$arity=0),e.alias(ae,"treeprocessor","tree_processor"),e.alias(ae,"treeprocessors?","tree_processors?"),e.alias(ae,"treeprocessors","tree_processors"),e.def(ae,"$postprocessor",re=function(Fe){var ot,Ke=re.$$p,we=Ke||$e,vt=this;return Ke&&(re.$$p=null),Ke&&(re.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_document_processor",["postprocessor",ot],we.$to_proc())},re.$$arity=-1),e.def(ae,"$postprocessors?",ye=function(){return this.postprocessor_extensions["$!"]()["$!"]()},ye.$$arity=0),e.def(ae,"$postprocessors",q=function(){return this.postprocessor_extensions},q.$$arity=0),e.def(ae,"$include_processor",ee=function(Fe){var ot,Ke=ee.$$p,we=Ke||$e,vt=this;return Ke&&(ee.$$p=null),Ke&&(ee.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_document_processor",["include_processor",ot],we.$to_proc())},ee.$$arity=-1),e.def(ae,"$include_processors?",V=function(){return this.include_processor_extensions["$!"]()["$!"]()},V.$$arity=0),e.def(ae,"$include_processors",_e=function(){return this.include_processor_extensions},_e.$$arity=0),e.def(ae,"$docinfo_processor",Me=function(Fe){var ot,Ke=Me.$$p,we=Ke||$e,vt=this;return Ke&&(Me.$$p=null),Ke&&(Me.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_document_processor",["docinfo_processor",ot],we.$to_proc())},Me.$$arity=-1),e.def(ae,"$docinfo_processors?",Te=function(je){var Fe;return null==je&&(je=$e),!!_(this.docinfo_processor_extensions)&&(!_(je)||t(this.docinfo_processor_extensions,"any?",[],((Fe=function(we){return null==we&&(we=$e),we.$config()["$[]"]("location")["$=="](je)}).$$s=this,Fe.$$arity=1,Fe)))},Te.$$arity=-1),e.def(ae,"$docinfo_processors",et=function(Fe){var Ke;return null==Fe&&(Fe=$e),_(this.docinfo_processor_extensions)?_(Fe)?t(this.docinfo_processor_extensions,"select",[],((Ke=function(ot){return null==ot&&(ot=$e),ot.$config()["$[]"]("location")["$=="](Fe)}).$$s=this,Ke.$$arity=1,Ke)):this.docinfo_processor_extensions:$e},et.$$arity=-1),e.def(ae,"$block",ct=function(Fe){var ot,Ke=ct.$$p,we=Ke||$e,vt=this;return Ke&&(ct.$$p=null),Ke&&(ct.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_syntax_processor",["block",ot],we.$to_proc())},ct.$$arity=-1),e.def(ae,"$blocks?",it=function(){return this.block_extensions["$!"]()["$!"]()},it.$$arity=0),e.def(ae,"$registered_for_block?",Ie=function(je,Fe){var we=$e;return!(!_(we=this.block_extensions["$[]"](je.$to_sym()))||!_(we.$config()["$[]"]("contexts")["$include?"](Fe)))&&we},Ie.$$arity=2),e.def(ae,"$find_block_extension",Se=function(Fe){return this.block_extensions["$[]"](Fe.$to_sym())},Se.$$arity=1),e.def(ae,"$block_macro",We=function(Fe){var ot,Ke=We.$$p,we=Ke||$e,vt=this;return Ke&&(We.$$p=null),Ke&&(We.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_syntax_processor",["block_macro",ot],we.$to_proc())},We.$$arity=-1),e.def(ae,"$block_macros?",tt=function(){return this.block_macro_extensions["$!"]()["$!"]()},tt.$$arity=0),e.def(ae,"$registered_for_block_macro?",Qe=function(je){var Ke;return!!_(Ke=this.block_macro_extensions["$[]"](je.$to_sym()))&&Ke},Qe.$$arity=1),e.def(ae,"$find_block_macro_extension",nt=function(Fe){return this.block_macro_extensions["$[]"](Fe.$to_sym())},nt.$$arity=1),e.def(ae,"$inline_macro",yt=function(Fe){var ot,Ke=yt.$$p,we=Ke||$e,vt=this;return Ke&&(yt.$$p=null),Ke&&(yt.$$p=null),ot=e.slice.call(arguments,0,arguments.length),t(vt,"add_syntax_processor",["inline_macro",ot],we.$to_proc())},yt.$$arity=-1),e.def(ae,"$inline_macros?",ut=function(){return this.inline_macro_extensions["$!"]()["$!"]()},ut.$$arity=0),e.def(ae,"$registered_for_inline_macro?",K=function(je){var Ke;return!!_(Ke=this.inline_macro_extensions["$[]"](je.$to_sym()))&&Ke},K.$$arity=1),e.def(ae,"$find_inline_macro_extension",u=function(Fe){return this.inline_macro_extensions["$[]"](Fe.$to_sym())},u.$$arity=1),e.def(ae,"$inline_macros",v=function(){return this.inline_macro_extensions.$values()},v.$$arity=0),e.def(ae,"$prefer",I=function(Fe){var at,Ke=I.$$p,we=Ke||$e,vt=this,Dt=$e,bt=$e,ce=$e;return Ke&&(I.$$p=null),Ke&&(I.$$p=null),at=e.slice.call(arguments,0,arguments.length),Dt=_(n(Pe,"ProcessorExtension")["$==="](bt=at.$shift()))?bt:t(vt,"send",[bt].concat(e.to_a(at)),we.$to_proc()),(ce=vt.$instance_variable_get(("@"+Dt.$kind()+"_extensions").$to_sym())).$unshift(ce.$delete(Dt)),Dt},I.$$arity=-1),ae.$private(),e.def(ae,"$add_document_processor",U=function(Fe,Ke){var at,Dt,bt,fe,we=U.$$p,ot=we||$e,ce=this,Ee=$e,o=$e,H=$e,Y=$e,Q=$e,ne=$e,k=$e,a=$e,E=$e;return we&&(U.$$p=null),we&&(U.$$p=null),Ee=Fe.$to_s().$tr("_"," "),fe=t(Ee.$split(),"map",[],(at=function(T){return null==T&&(T=$e),T.$capitalize()},at.$$s=ce,at.$$arity=1,at)).$join().$to_sym(),o=n(Pe,"Extensions").$const_get(fe,!1),H=_($("::","AsciidoctorJ","skip_raise")?"constant":$e)?$($("::","AsciidoctorJ"),"Extensions").$const_get(fe,!1):$e,Y=_(Dt=ce.$instance_variable_get(("@"+Fe+"_extensions").$to_sym()))?Dt:ce.$instance_variable_set(("@"+Fe+"_extensions").$to_sym(),[]),ot!==$e?(Q=ce.$resolve_args(Ke,1),(ne=o.$new(Q)).$singleton_class().$enable_dsl(),ot.$arity()["$=="](0)?t(ne,"instance_exec",[],ot.$to_proc()):e.yield1(ot,ne),_(ne["$process_block_given?"]())||ce.$raise($("::","ArgumentError"),"No block specified to process "+Ee+" extension at "+ot.$source_location()),ne.$freeze(),k=n(Pe,"ProcessorExtension").$new(Fe,ne)):(bt=ce.$resolve_args(Ke,2),ne=(Dt=e.to_ary(bt))[0]??$e,Q=Dt[1]??$e,_(a=n(Pe,"Helpers").$resolve_class(ne))?(_(_(Dt=Xe(a,o))?Dt:_(bt=H)?Xe(a,H):bt)||ce.$raise($("::","ArgumentError"),"Invalid type for "+Ee+" extension: "+ne),(E=a.$new(Q)).$freeze(),k=n(Pe,"ProcessorExtension").$new(Fe,E)):_(_(Dt=o["$==="](ne))?Dt:_(bt=H)?H["$==="](ne):bt)?(ne.$update_config(Q),ne.$freeze(),k=n(Pe,"ProcessorExtension").$new(Fe,ne)):ce.$raise($("::","ArgumentError"),"Invalid arguments specified for registering "+Ee+" extension: "+Ke)),k.$config()["$[]"]("position")["$=="](">>")?Y.$unshift(k):Y["$<<"](k),k},U.$$arity=2),e.def(ae,"$add_syntax_processor",P=function(Fe,Ke){var at,Dt,bt,fe,Y,we=P.$$p,ot=we||$e,ce=this,Ee=$e,o=$e,H=$e,Q=$e,ne=$e,k=$e,a=$e,E=$e,T=$e;return we&&(P.$$p=null),we&&(P.$$p=null),Ee=Fe.$to_s().$tr("_"," "),fe=t(Ee.$split(),"map",[],(at=function(M){return null==M&&(M=$e),M.$capitalize()},at.$$s=ce,at.$$arity=1,at))["$<<"]("Processor").$join().$to_sym(),o=n(Pe,"Extensions").$const_get(fe,!1),H=_($("::","AsciidoctorJ","skip_raise")?"constant":$e)?$($("::","AsciidoctorJ"),"Extensions").$const_get(fe,!1):$e,Y=_(Dt=ce.$instance_variable_get(("@"+Fe+"_extensions").$to_sym()))?Dt:ce.$instance_variable_set(("@"+Fe+"_extensions").$to_sym(),c([],{})),ot!==$e?(bt=ce.$resolve_args(Ke,2),ne=(Dt=e.to_ary(bt))[1]??$e,(k=o.$new(ce.$as_symbol(Q=Dt[0]??$e),ne)).$singleton_class().$enable_dsl(),ot.$arity()["$=="](0)?t(k,"instance_exec",[],ot.$to_proc()):e.yield1(ot,k),_(Q=ce.$as_symbol(k.$name()))||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension at "+ot.$source_location()),_(k["$process_block_given?"]())||ce.$raise($("::","NoMethodError"),"No block specified to process "+Ee+" extension at "+ot.$source_location()),k.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Fe,k)],t(Y,"[]=",e.to_a(a)),a[l(a.length,1)]):(bt=ce.$resolve_args(Ke,3),k=(Dt=e.to_ary(bt))[0]??$e,Q=Dt[1]??$e,ne=Dt[2]??$e,_(E=n(Pe,"Helpers").$resolve_class(k))?(_(_(Dt=Xe(E,o))?Dt:_(bt=H)?Xe(E,H):bt)||ce.$raise($("::","ArgumentError"),"Class specified for "+Ee+" extension does not inherit from "+o+": "+k),T=E.$new(ce.$as_symbol(Q),ne),_(Q=ce.$as_symbol(T.$name()))||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension: "+k),T.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Fe,T)],t(Y,"[]=",e.to_a(a)),a[l(a.length,1)]):_(_(Dt=o["$==="](k))?Dt:_(bt=H)?H["$==="](k):bt)?(k.$update_config(ne),_(Q=_(Q)?(a=[ce.$as_symbol(Q)],t(k,"name=",e.to_a(a)),a[l(a.length,1)]):ce.$as_symbol(k.$name()))||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension: "+k),k.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Fe,k)],t(Y,"[]=",e.to_a(a)),a[l(a.length,1)]):ce.$raise($("::","ArgumentError"),"Invalid arguments specified for registering "+Ee+" extension: "+Ke))},P.$$arity=2),e.def(ae,"$resolve_args",de=function(Fe,Ke){var ot,at=$e;return ot=_($("::","Hash")["$==="](Fe["$[]"](-1)))?Fe.$pop():c([],{}),Ke["$=="](1)?ot:(_(xe(at=l(l(Ke,1),Fe.$size()),0))?Fe=O(Fe,$("::","Array").$new(at)):_(Xe(at,0))&&Fe.$pop(at["$-@"]()),Fe["$<<"](ot),Fe)},de.$$arity=2),e.def(ae,"$as_symbol",be=function(Fe){return _(Fe)?Fe.$to_sym():$e},be.$$arity=1)}(N[0],0,N),void function(x,f){var ae,Pe,ze,le,S,d,m,L=[x].concat(f);e.def(x,"$generate_name",ae=function(){return"extgrp"+this.$next_auto_id()},ae.$$arity=0),e.def(x,"$next_auto_id",Pe=function(){var z,Z=this;return null==Z.auto_id&&(Z.auto_id=$e),Z.auto_id=_(z=Z.auto_id)?z:-1,Z.auto_id=O(Z.auto_id,1)},Pe.$$arity=0),e.def(x,"$groups",ze=function(){var z,Z=this;return null==Z.groups&&(Z.groups=$e),Z.groups=_(z=Z.groups)?z:c([],{})},ze.$$arity=0),e.def(x,"$create",le=function(z){var ye,Z=le.$$p,re=Z||$e;return Z&&(le.$$p=null),Z&&(le.$$p=null),null==z&&(z=$e),re!==$e?n(L,"Registry").$new(s(_(ye=z)?ye:this.$generate_name(),re)):n(L,"Registry").$new()},le.$$arity=-1),e.def(x,"$register",S=function(z){var q,ee,Z=S.$$p,re=Z||$e,V=this,_e=$e,Me=$e,Te=$e,et=$e,ct=$e;return Z&&(S.$$p=null),Z&&(S.$$p=null),_e=(q=e.slice.call(arguments,0,arguments.length)).$size(),re!==$e?Me=re:_(Te=q.$pop())?Me=_(ee=n(L,"Helpers").$resolve_class(Te))?ee:Te:V.$raise($("::","ArgumentError"),"Extension group to register not specified"),et=_(ee=q.$pop())?ee:V.$generate_name(),_(q["$empty?"]())||V.$raise($("::","ArgumentError"),"Wrong number of arguments ("+_e+" for 1..2)"),ct=[et.$to_sym(),Me],t(V.$groups(),"[]=",e.to_a(ct)),ct[l(ct.length,1)]},S.$$arity=-1),e.def(x,"$unregister_all",d=function(){return this.groups=c([],{}),$e},d.$$arity=0),e.def(x,"$unregister",m=function(z){var Z,ye,q=this;return Z=e.slice.call(arguments,0,arguments.length),t(Z,"each",[],(ye=function(ee){var V=ye.$$s||this;return null==V.groups&&(V.groups=$e),null==ee&&(ee=$e),V.groups.$delete(ee.$to_sym())},ye.$$s=q,ye.$$arity=1,ye)),$e},m.$$arity=-1)}(e.get_singleton_class(B),N)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var s,h,i,oe,_,O=[],xe=e.nil,Xe=e.const_get_qualified,$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$rstrip","$read","$join"]),oe=O,s=_=[$(O[0],"Asciidoctor")].concat(oe),[i=n(_[0],null,"Stylesheets")].concat(s),i.$$prototype.primary_stylesheet_data=xe,void e.def(i,"$primary_stylesheet_data",h=function(){var w;return this.primary_stylesheet_data=y(w=this.primary_stylesheet_data)?w:Xe("::","IO").$read(Xe("::","File").$join("css","asciidoctor.css")).$rstrip()},h.$$arity=0)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var t,j,s,W,b,O=[],ie=e.const_get_relative,n=e.klass;return W=O,t=b=[(0,e.module)(O[0],"Asciidoctor")].concat(W),[s=n(b[0],ie(b,"AbstractBlock"),"Document")].concat(t),void e.def(s,"$fill_datetime_attributes",j=function(g,w){var f,L,ae,Pe,ze,S,d,B=e.truthy,N=e.falsy,x=e.nil,m=function(tt,Qe){return 0===Qe?tt.getUTCFullYear():tt.getFullYear()},p=function(tt,Qe){return 0===Qe?tt.getUTCMonth():tt.getMonth()},z=function(tt,Qe){return 0===Qe?tt.getUTCDate():tt.getDate()},Z=function(tt,Qe){return 0===Qe?tt.getUTCHours():tt.getHours()},re=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(re.setTime(1e3*parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),L=re,f=0):f=-re.getTimezoneOffset()/60,B(ae=g["$[]"]("localdate")))N(Pe=g["$[]"]("localyear"))&&(Pe=4===ae.indexOf("-")?ae.substring(0,4):x,g["$[]="]("localyear",Pe));else{var ye=m(re,f).toString(),q=("0"+(p(re,f)+1)).slice(-2),ee=("0"+z(re,f)).slice(-2);g["$[]="]("localdate",ae=ye+"-"+q+"-"+ee),Pe=ye,g["$[]="]("localyear",ye)}if(N(ze=g["$[]"]("localtime"))){var V=("0"+Z(re,f)).slice(-2),_e=("0"+re.getMinutes()).slice(-2),Me=("0"+re.getSeconds()).slice(-2);Te=0===f?"UTC":f>0?("+0"+100*f).slice(-5):("-0"+100*-f).slice(-5),g["$[]="]("localtime",ze=V+":"+_e+":"+Me+" "+Te)}if(N(g["$[]"]("localdatetime"))&&g["$[]="]("localdatetime",ae+" "+ze),B(L)?w=L:B(w)?f=-w.getTimezoneOffset()/60:w=re,B(S=g["$[]"]("docdate")))g["$[]="]("docyear",4===S.indexOf("-")?S.substring(0,4):x);else{var et=m(w,f).toString(),ct=("0"+(p(w,f)+1)).slice(-2),it=("0"+z(w,f)).slice(-2);g["$[]="]("docdate",S=et+"-"+ct+"-"+it),N(g["$[]"]("docyear"))&&g["$[]="]("docyear",et)}if(N(d=g["$[]"]("doctime"))){var Te,Ie=("0"+Z(w,f)).slice(-2),Se=("0"+w.getMinutes()).slice(-2),We=("0"+w.getSeconds()).slice(-2);Te=0===f?"UTC":f>0?("+0"+100*f).slice(-5):("-0"+100*-f).slice(-5),g["$[]="]("doctime",d=Ie+":"+Se+":"+We+" "+Te)}return N(g["$[]"]("docdatetime"))&&g["$[]="]("docdatetime",S+" "+d),x},j.$$arity=2)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var _,s,c,y,oe,O=[],$=e.module;return y=O,_=oe=[$(O[0],"Asciidoctor")].concat(y),[c=$(oe[0],"Substitutors")].concat(_),void e.def(c,"$sub_placeholder",s=function(j,h){return j.replace("%s",h)},s.$$arity=2)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var s,h,g,i,oe,_,O=[],n=e.klass,y=e.truthy;return oe=O,s=_=[(0,e.module)(O[0],"Asciidoctor")].concat(oe),[i=n(_[0],null,"Parser")].concat(s),void(y(String.prototype.repeat)?e.defs(i,"$uniform?",h=function(w,C,B){return C.repeat(B)===w},h.$$arity=3):e.defs(i,"$uniform?",g=function(w,C,B){return Array.apply(null,{length:B}).map(function(){return C}).join("")===w},g.$$arity=3))},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var W,c,j,w,h,g,s,b,O=[],xe=e.nil,ie=e.const_get_relative,$=e.module,n=e.truthy;return e.add_stubs(["$key?","$registry","$[]","$include?","$include","$empty?","$debug","$logger","$join","$keys"]),W=O,c=b=[$(O[0],"Asciidoctor")].concat(W),j=s=[$(b[0],"SyntaxHighlighter")].concat(c),h=$(s[0],"Factory"),g=[h].concat(j),void e.def(h,"$for",w=function(C){var B=this;return n(B.$registry()["$key?"](C))?B.$registry()["$[]"](C):(n(B["$include?"](ie(g,"Logging")))||B.$include(ie(g,"Logging")),n(B.$registry()["$empty?"]())?B.$logger().$debug("no syntax highlighter available, functionality disabled."):B.$logger().$debug("syntax highlighter named '"+C+"' is not available, must be one of: '"+B.$registry().$keys().$join("', '")+"'."),xe)},w.$$arity=1)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var l=e.top;e.add_stubs(["$require"]),l.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),l.$require("asciidoctor/js/asciidoctor_ext/document"),l.$require("asciidoctor/js/asciidoctor_ext/substitutors"),l.$require("asciidoctor/js/asciidoctor_ext/parser"),l.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),l.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){var j,w,h,b,t,_,c,xe=[],Xe=e.nil,A=e.const_get_relative,n=e.klass,y=e.truthy;return e.add_stubs(["$chr","$rjust","$message_as_string","$<","$write","$call","$[]"]),b=xe,_=n(xe[0],null,"Logger"),c=[_].concat(b),_.$$prototype.level=_.$$prototype.progname=_.$$prototype.pipe=_.$$prototype.formatter=Xe,j=c,[h=n(c[0],null,"Formatter")].concat(j),e.def(h,"$call",w=function(B,N,x,f){var ae;return ae=N.getFullYear()+"-"+("0"+(N.getMonth()+1)).slice(-2)+"-"+("0"+N.getDate()).slice(-2)+"T"+("0"+N.getHours()).slice(-2)+":"+("0"+N.getMinutes()).slice(-2)+":"+("0"+N.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),B.$chr()+", ["+ae+"] "+B.$rjust(5)+" -- "+x+": "+this.$message_as_string(f)},w.$$arity=4),e.def(_,"$add",t=function(i,j,h){var C,g=t.$$p,w=g||Xe,B=this;return g&&(t.$$p=null),g&&(t.$$p=null),null==j&&(j=Xe),null==h&&(h=Xe),y(function l(W,oe){return"number"==typeof W&&"number"==typeof oe?W<oe:W["$<"](oe)}(i=y(C=i)?C:A(c,"UNKNOWN"),B.level))||(h=y(C=h)?C:B.progname,y(j)||(w!==Xe?j=e.yieldX(w,[]):(j=h,h=B.progname)),B.pipe.$write(B.formatter.$call(y(C=A(c,"SEVERITY_LABELS")["$[]"](i))?C:"ANY",new Date,h,j))),!0},t.$$arity=-2),Xe&&"add"},Opal.modules["asciidoctor/js/postscript"]=function(e){var l=e.top;return e.add_stubs(["$require"]),l.$require("asciidoctor/converter/composite"),l.$require("asciidoctor/converter/html5"),l.$require("asciidoctor/extensions"),l.$require("asciidoctor/js/asciidoctor_ext"),l.$require("asciidoctor/js/opal_ext/logger")},function(e){function l(b,_){return"number"==typeof b&&"number"==typeof _?b-_:b["$-"](_)}var _,i,j,h,g,w,N,L,ae,Pe,ze,le,x,f,c,t,C,O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,n=e.module,y=e.send,W=e.truthy,oe=e.hash2;e.add_stubs(["$require","$==","$to_h","$sort","$map","$constants","$const_get","$downcase","$to_s","$<=>","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$singleton_class","$<<","$define","$dirname","$absolute_path","$__dir__","$join","$home","$pwd","$to_set","$tap","$each","$chr","$each_key","$slice","$[]=","$-","$length","$merge","$default=","$drop","$insert"]),O.$require("set"),A(xe,"RUBY_ENGINE")["$=="]("opal")&&O.$require("asciidoctor/js"),_=xe,c=n(xe[0],"Asciidoctor"),t=[c].concat(_),C=Xe,e.const_set(t[0],"RUBY_ENGINE_OPAL",e.const_set(t[0],"RUBY_ENGINE",ie("::","RUBY_ENGINE"))["$=="]("opal")),N=t,f=[x=n(t[0],"SafeMode")].concat(N),e.const_set(f[0],"UNSAFE",0),e.const_set(f[0],"SAFE",1),e.const_set(f[0],"SERVER",10),e.const_set(f[0],"SECURE",20),x.names_by_value=y(y(x.$constants(!1),"map",[],(L=function(S){return null==S&&(S=Xe),[(L.$$s||this).$const_get(S),S.$to_s().$downcase()]},L.$$s=x,L.$$arity=1,L)),"sort",[],(ae=function(S,d){var p,Z=Xe;return null==S&&(S=Xe),null==d&&(d=Xe),Z=e.to_ary(S)[0]??Xe,p=e.to_ary(d),Z["$<=>"](p[0]??Xe)},ae.$$s=x,ae.$$arity=2,ae.$$has_top_level_mlhs_arg=!0,ae)).$to_h(),e.defs(x,"$value_for_name",Pe=function(d){return this.$const_get(d.$upcase(),!1)},Pe.$$arity=1),e.defs(x,"$name_for_value",ze=function(d){var m=this;return null==m.names_by_value&&(m.names_by_value=Xe),m.names_by_value["$[]"](d)},ze.$$arity=1),e.defs(x,"$names",le=function(){var d=this;return null==d.names_by_value&&(d.names_by_value=Xe),d.names_by_value.$values()},le.$$arity=0),function(B,N){var x=n(B,"Compliance"),f=[x].concat(N);x.keys=ie("::","Set").$new(),function(L,ae){var ze;[L].concat(ae),L.$attr_reader("keys"),e.def(L,"$define",ze=function(S,d){var m=this;return null==m.keys&&(m.keys=Xe),m.$instance_variable_set("@"+S,d),m.$singleton_class().$send("attr_accessor",S),m.keys["$<<"](S),Xe},ze.$$arity=2)}(e.get_singleton_class(x),f),x.$define("block_terminates_paragraph",!0),x.$define("strict_verbatim_paragraphs",!0),x.$define("underline_style_section_titles",!0),x.$define("unwrap_standalone_preamble",!0),x.$define("attribute_missing","skip"),x.$define("attribute_undefined","drop-line"),x.$define("shorthand_property_syntax",!0),x.$define("natural_xrefs",!0),x.$define("unique_id_start_index",2),x.$define("markdown_syntax",!0)}(t[0],t),W(A(t,"ROOT_DIR","skip_raise")?"constant":Xe)||e.const_set(t[0],"ROOT_DIR",ie("::","File").$dirname(ie("::","File").$absolute_path(c.$__dir__()))),e.const_set(t[0],"LIB_DIR",ie("::","File").$join(A(t,"ROOT_DIR"),"lib")),e.const_set(t[0],"DATA_DIR",ie("::","File").$join(A(t,"ROOT_DIR"),"data")),e.const_set(t[0],"USER_HOME",function(){try{return ie("::","Dir").$home()}catch(B){if(!e.rescue(B,[A(t,"StandardError")]))throw B;try{return W(i=ie("::","ENV")["$[]"]("HOME"))?i:ie("::","Dir").$pwd()}finally{e.pop_exception()}}}()),e.const_set(t[0],"LF","\n"),e.const_set(t[0],"NULL","\0"),e.const_set(t[0],"TAB","\t"),e.const_set(t[0],"MAX_INT",9007199254740991),e.const_set(t[0],"UTF_8",ie(ie("::","Encoding"),"UTF_8")),e.const_set(t[0],"BOM_BYTES_UTF_8",[239,187,191]),e.const_set(t[0],"BOM_BYTES_UTF_16LE",[255,254]),e.const_set(t[0],"BOM_BYTES_UTF_16BE",[254,255]),e.const_set(t[0],"FILE_READ_MODE",W(A(t,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),e.const_set(t[0],"URI_READ_MODE",A(t,"FILE_READ_MODE")),e.const_set(t[0],"FILE_WRITE_MODE",W(A(t,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),e.const_set(t[0],"DEFAULT_DOCTYPE","article"),e.const_set(t[0],"DEFAULT_BACKEND","html5"),e.const_set(t[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),e.const_set(t[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.const_set(t[0],"BACKEND_ALIASES",oe(["html","docbook"],{html:"html5",docbook:"docbook5"})),e.const_set(t[0],"DEFAULT_PAGE_WIDTHS",oe(["docbook"],{docbook:425})),e.const_set(t[0],"DEFAULT_EXTENSIONS",oe(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),e.const_set(t[0],"ASCIIDOC_EXTENSIONS",oe([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),e.const_set(t[0],"SETEXT_SECTION_LEVELS",oe(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),e.const_set(t[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),e.const_set(t[0],"ADMONITION_STYLE_HEADS",y(ie("::","Set").$new(),"tap",[],(j=function(B){var x,N=j.$$s||this;return null==B&&(B=Xe),y(A(t,"ADMONITION_STYLES"),"each",[],(x=function(f){return null==f&&(f=Xe),B["$<<"](f.$chr())},x.$$s=N,x.$$arity=1,x))},j.$$s=c,j.$$arity=1,j))),e.const_set(t[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),e.const_set(t[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),e.const_set(t[0],"DELIMITED_BLOCKS",oe(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",ie("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",ie("::","Set").$new()],",===":["table",ie("::","Set").$new()],":===":["table",ie("::","Set").$new()],"!===":["table",ie("::","Set").$new()],"////":["comment",ie("::","Set").$new()],"```":["fenced_code",ie("::","Set").$new()]})),e.const_set(t[0],"DELIMITED_BLOCK_HEADS",y(oe([],{}),"tap",[],(h=function(B){var x,N=h.$$s||this;return null==B&&(B=Xe),y(A(t,"DELIMITED_BLOCKS"),"each_key",[],(x=function(f){var ae;return null==f&&(f=Xe),ae=[f.$slice(0,2),!0],y(B,"[]=",e.to_a(ae)),ae[l(ae.length,1)]},x.$$s=N,x.$$arity=1,x))},h.$$s=c,h.$$arity=1,h))),e.const_set(t[0],"DELIMITED_BLOCK_TAILS",y(oe([],{}),"tap",[],(g=function(B){var x,N=g.$$s||this;return null==B&&(B=Xe),y(A(t,"DELIMITED_BLOCKS"),"each_key",[],(x=function(f){var ae=Xe;return null==f&&(f=Xe),f.$length()["$=="](4)?(ae=[f,f["$[]"](l(f.$length(),1))],y(B,"[]=",e.to_a(ae)),ae[l(ae.length,1)]):Xe},x.$$s=N,x.$$arity=1,x))},g.$$s=c,g.$$arity=1,g))),e.const_set(t[0],"CAPTION_ATTRIBUTE_NAMES",oe(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),e.const_set(t[0],"LAYOUT_BREAK_CHARS",oe(["'","<"],{"'":"thematic_break","<":"page_break"})),e.const_set(t[0],"MARKDOWN_THEMATIC_BREAK_CHARS",oe(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),e.const_set(t[0],"HYBRID_LAYOUT_BREAK_CHARS",A(t,"LAYOUT_BREAK_CHARS").$merge(A(t,"MARKDOWN_THEMATIC_BREAK_CHARS"))),e.const_set(t[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),e.const_set(t[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),e.const_set(t[0],"ORDERED_LIST_KEYWORDS",oe(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),e.const_set(t[0],"ATTR_REF_HEAD","{"),e.const_set(t[0],"LIST_CONTINUATION","+"),e.const_set(t[0],"HARD_LINE_BREAK"," +"),e.const_set(t[0],"LINE_CONTINUATION"," \\"),e.const_set(t[0],"LINE_CONTINUATION_LEGACY"," +"),e.const_set(t[0],"BLOCK_MATH_DELIMITERS",oe(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),e.const_set(t[0],"INLINE_MATH_DELIMITERS",oe(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),C=["asciimath"],y(e.const_set(t[0],"STEM_TYPE_ALIASES",oe(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",e.to_a(C)),l(C.length,1),e.const_set(t[0],"FONT_AWESOME_VERSION","4.7.0"),e.const_set(t[0],"HIGHLIGHT_JS_VERSION","9.18.3"),e.const_set(t[0],"MATHJAX_VERSION","2.7.9"),e.const_set(t[0],"DEFAULT_ATTRIBUTES",oe(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),e.const_set(t[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),e.const_set(t[0],"INTRINSIC_ATTRIBUTES",oe(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),A(t,"RUBY_ENGINE")["$=="]("opal"),e.const_set(t[0],"QUOTE_SUBS",y(oe([],{}),"tap",[],(w=function(B){var x=Xe,f=Xe;return null==B&&(B=Xe),C=[!1,x=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+A(t,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)\\*(?!"+A(t,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+A(t,"CC_ALL")+'*?\\S)`"(?!'+A(t,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)`'(?!"+A(t,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+A(t,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)`(?!["+A(t,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+A(t,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)_(?!"+A(t,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+A(t,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)#(?!"+A(t,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]],y(B,"[]=",e.to_a(C)),l(C.length,1),C=[!0,f=x.$drop(0)],y(B,"[]=",e.to_a(C)),l(C.length,1),C=[2,["double","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)''(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),l(C.length,1),C=[3,["single","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)'(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),l(C.length,1),C=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+A(t,"CC_ALL")+"+?)\\+\\+","m")]],y(f,"[]=",e.to_a(C)),l(C.length,1),C=[5,["monospaced","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)\\+(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),l(C.length,1),f.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)'(?!"+A(t,"CG_WORD")+")","m")])},w.$$s=c,w.$$arity=1,w))),e.const_set(t[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+A(t,"CG_WORD")+")\\\\?--(?="+A(t,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+A(t,"CG_ALNUM")+")\\\\?'(?="+A(t,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),A(t,"RUBY_ENGINE")["$=="]("opal"),A(t,"RUBY_ENGINE")["$=="]("opal"),O.$require("asciidoctor.rb/../asciidoctor/core_ext"),O.$require("asciidoctor.rb/../asciidoctor/helpers"),O.$require("asciidoctor.rb/../asciidoctor/logging"),O.$require("asciidoctor.rb/../asciidoctor/rx"),O.$require("asciidoctor.rb/../asciidoctor/substitutors"),O.$require("asciidoctor.rb/../asciidoctor/version"),O.$require("asciidoctor.rb/../asciidoctor/abstract_node"),O.$require("asciidoctor.rb/../asciidoctor/abstract_block"),O.$require("asciidoctor.rb/../asciidoctor/attribute_list"),O.$require("asciidoctor.rb/../asciidoctor/block"),O.$require("asciidoctor.rb/../asciidoctor/callouts"),O.$require("asciidoctor.rb/../asciidoctor/converter"),O.$require("asciidoctor.rb/../asciidoctor/document"),O.$require("asciidoctor.rb/../asciidoctor/inline"),O.$require("asciidoctor.rb/../asciidoctor/list"),O.$require("asciidoctor.rb/../asciidoctor/parser"),O.$require("asciidoctor.rb/../asciidoctor/path_resolver"),O.$require("asciidoctor.rb/../asciidoctor/reader"),O.$require("asciidoctor.rb/../asciidoctor/section"),O.$require("asciidoctor.rb/../asciidoctor/stylesheets"),O.$require("asciidoctor.rb/../asciidoctor/table"),O.$require("asciidoctor.rb/../asciidoctor/writer"),O.$require("asciidoctor.rb/../asciidoctor/load"),O.$require("asciidoctor.rb/../asciidoctor/convert"),A(xe,"RUBY_ENGINE")["$=="]("opal")&&(O.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),O.$require("asciidoctor.rb/../asciidoctor/timings"),O.$require("asciidoctor/js/postscript"))}(Opal);var Ne=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},Je=function(e){var l={};if(e){var O=e.$$smap;for(var xe in O){var Xe=O[xe];l[xe]=Xe===Opal.nil?void 0:Xe}var ie=e.$$map;if(ie){var A=[];for(var $e in ie){var $=ie[$e],n=$.value;A[$.key-1]=n===Opal.nil?void 0:n}A.length>0&&(l.$positional=A)}}return l},Ze=function(e){var l={};if(e){var O=e.$$keys;for(var xe in O){var Xe=O[xe].value;l[xe.toString()]=Xe===Opal.nil?void 0:Xe}}return l},Be=function(e){if(e=Ne(e)){var l=e["$[]"]("attributes");l&&"object"==typeof l&&"Object"===l.constructor.name&&(e=e.$dup())["$[]="]("attributes",Ne(l))}return e};function he(e,l,O,xe,Xe){var A,$e,$,W,ie=Opal.klass(Opal.Object,e,l,function(){}),n={};for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&function(b){var _=O[b];"postConstruct"===b?A=_:"initialize"===b?$e=_:"constructor"===b?$=_:(xe&&Object.prototype.hasOwnProperty.call(xe,b)&&(n[b]=!0),Opal.def(ie,"$"+b,function(){var c;return c=Xe&&Object.prototype.hasOwnProperty.call(Xe,b)?Xe[b](arguments):arguments,_.apply(this,c)}))}(y);if(W="function"==typeof $?function(){for(var b=Array.from(arguments),_=0;_<b.length;_++)"object"==typeof b[_]&&"$$smap"in b[_]&&(b[_]=Je(b[_]));b.unshift(null);var c=new(Function.prototype.bind.apply($,b));Object.assign(this,c),"function"==typeof A&&A.bind(this)()}:"function"==typeof $e?function(){for(var b=Array.from(arguments),_=0;_<b.length;_++)"object"==typeof b[_]&&"$$smap"in b[_]&&(b[_]=Je(b[_]));$e.apply(this,b),"function"==typeof A&&A.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",W)),"function"==typeof A&&A.bind(this)()},Opal.def(ie,"$initialize",W),Opal.def(ie,"super",function(b){if("function"==typeof b)Opal.send(this,Opal.find_super_dispatcher(this,b.name,b));else{for(var _=Array.from(arguments),c=0;c<_.length;c++)"object"==typeof _[c]&&(_[c]=Ne(_[c]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",W),_)}}),xe)for(var oe in xe)Object.prototype.hasOwnProperty.call(xe,oe)&&!Object.prototype.hasOwnProperty.call(n,oe)&&function(b){var _=xe[b];Opal.def(ie,"$"+b,function(){return _.apply(this,arguments)})}(oe);return ie}var gt=Opal.Asciidoctor.$$class;gt.prototype.getCoreVersion=function(){return this.$$const.VERSION},gt.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},gt.prototype.convert=function(e,l){"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8"));var O=this.$convert(e,Be(l));return O===Opal.nil?"":O},gt.prototype.convertFile=function(e,l){return this.$convert_file(e,Be(l))},gt.prototype.load=function(e,l){return"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8")),this.$load(e,Be(l))},gt.prototype.loadFile=function(e,l){return this.$load_file(e,Be(l))};var Re=Opal.Asciidoctor.AbstractBlock;Re.prototype.append=function(e){return this.$append(e),this},Re.prototype.getTitle=function(){var e=this.$title();return e===Opal.nil?void 0:e},Re.prototype.setTitle=function(e){return e=typeof e>"u"?Opal.nil:e,this["$title="](e)},Re.prototype.assignCaption=function(e,l){e=typeof e>"u"?Opal.nil:e,this.$assign_caption(e,l=typeof l>"u"?null:l)},Re.prototype.getCaptionedTitle=function(){return this.$captioned_title()},Re.prototype.getStyle=function(){var e=this.style;return e===Opal.nil?void 0:e},Re.prototype.setStyle=function(e){this.style=e},Re.prototype.getSourceLocation=function(){var e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){var l=this.file;return l===Opal.nil?void 0:l},e.getDirectory=function(){var l=this.dir;return l===Opal.nil?void 0:l},e.getPath=function(){var l=this.path;return l===Opal.nil?void 0:l},e.getLineNumber=function(){var l=this.lineno;return l===Opal.nil?void 0:l},e},Re.prototype.getCaption=function(){var e=this.$caption();return e===Opal.nil?void 0:e},Re.prototype.setCaption=function(e){this.caption=typeof e>"u"?Opal.nil:e},Re.prototype.getLevel=function(){var e=this.level;return e===Opal.nil?void 0:e},Re.prototype.getSubstitutions=function(){return this.subs},Re.prototype.hasSubstitution=function(e){return this["$sub?"](e)},Re.prototype.removeSubstitution=function(e){this.$remove_sub(e)},Re.prototype.hasBlocks=function(){return this.blocks.length>0},Re.prototype.getBlocks=function(){return this.blocks},Re.prototype.getContent=function(){return this.$content()},Re.prototype.convert=function(){return this.$convert()},Re.prototype.findBy=function(e,l){return typeof l>"u"&&"function"==typeof e?Opal.send(this,"find_by",null,e):"function"==typeof l?Opal.send(this,"find_by",[Ne(e)],l):this.$find_by(Ne(e))},Re.prototype.getLineNumber=function(){var e=this.$lineno();return e===Opal.nil?void 0:e},Re.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},Re.prototype.getSections=function(){return this.$sections()},Re.prototype.getNumeral=function(){return this.$numeral()},Re.prototype.setNumeral=function(e){this["$numeral="](e)},Re.prototype.hasTitle=function(){return this["$title?"]()},Re.prototype.getAlt=function(){return this.$alt()};var R=Opal.Asciidoctor.Section;R.create=function(e,l,O,xe){return xe&&xe.attributes&&(xe.attributes=Ne(xe.attributes)),this.$new(e,l,O,Ne(xe))},R.prototype.setLevel=function(e){this.level=e},R.prototype.getIndex=function(){return this.index},R.prototype.setIndex=function(e){this.index=e},R.prototype.getSectionName=function(){var e=this.sectname;return e===Opal.nil?void 0:e},R.prototype.setSectionName=function(e){this.sectname=e},R.prototype.isSpecial=function(){return this.special},R.prototype.setSpecial=function(e){this.special=e},R.prototype.isNumbered=function(){return this.numbered},R.prototype.getCaption=function(){var e=this.caption;return e===Opal.nil?void 0:e},R.prototype.getName=function(){return this.getTitle()};var Gt=Opal.Asciidoctor.Block;Gt.create=function(e,l,O){return O&&O.attributes&&(O.attributes=Ne(O.attributes)),this.$new(e,l,Ne(O))},Gt.prototype.getSource=function(){return this.$source()},Gt.prototype.getSourceLines=function(){return this.lines};var F=Opal.Asciidoctor.AbstractNode;F.prototype.applySubstitutions=function(e,l){return this.$apply_subs(e,l)},F.prototype.resolveSubstitutions=function(e,l,O,xe){typeof l>"u"&&(l="block"),typeof O>"u"&&(O=Opal.nil),typeof xe>"u"&&(xe=Opal.nil);const Xe=this.$resolve_subs(e,l,O,xe);return Xe===Opal.nil?void 0:Xe},F.prototype.resolveBlockSubstitutions=function(e,l,O){return this.resolveSubstitutions(e,"block",l,O)},F.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},F.prototype.getNodeName=function(){return this.node_name},F.prototype.getAttributes=function(){return Je(this.attributes)},F.prototype.getAttribute=function(e,l,O){var xe=this.$attr(e,l,O);return xe===Opal.nil?void 0:xe},F.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},F.prototype.isAttribute=function(e,l,O){var xe=this["$attr?"](e,l,O);return xe!==Opal.nil&&xe},F.prototype.setAttribute=function(e,l,O){return typeof O>"u"&&(O=!0),this.$set_attr(e,l,O)},F.prototype.removeAttribute=function(e){var l=this.$remove_attr(e);return l===Opal.nil?void 0:l},F.prototype.getDocument=function(){return this.document},F.prototype.getParent=function(){var e=this.parent;return e===Opal.nil?void 0:e},F.prototype.isInline=function(){return this["$inline?"]()},F.prototype.isBlock=function(){return this["$block?"]()},F.prototype.isRole=function(e){return this["$role?"](e)},F.prototype.getRole=function(){return this.$role()},F.prototype.hasRole=function(e){return this["$has_role?"](e)},F.prototype.getRoles=function(){return this.$roles()},F.prototype.addRole=function(e){return this.$add_role(e)},F.prototype.removeRole=function(e){return this.$remove_role(e)},F.prototype.isReftext=function(){return this["$reftext?"]()},F.prototype.getReftext=function(){var e=this.$reftext();return e===Opal.nil?void 0:e},F.prototype.getContext=function(){var e=this.context;return"string"==typeof e?e:e.toString()},F.prototype.getId=function(){var e=this.id;return e===Opal.nil?void 0:e},F.prototype.setId=function(e){this.id=e},F.prototype.isOption=function(e){return this["$option?"](e)},F.prototype.setOption=function(e){return this.$set_option(e)},F.prototype.getIconUri=function(e){return this.$icon_uri(e)},F.prototype.getMediaUri=function(e,l){return this.$media_uri(e,l)},F.prototype.getImageUri=function(e,l){return this.$image_uri(e,l)},F.prototype.getConverter=function(){return this.$converter()},F.prototype.readContents=function(e,l){return this.$read_contents(e,Ne(l))},F.prototype.readAsset=function(e,l){var O=this.$read_asset(e,Ne(l));return O===Opal.nil?void 0:O},F.prototype.normalizeWebPath=function(e,l,O){return this.$normalize_web_path(e,l,O)},F.prototype.normalizeSystemPath=function(e,l,O,xe){return this.$normalize_system_path(e,l,O,Ne(xe))},F.prototype.normalizeAssetPath=function(e,l,O){return this.$normalize_asset_path(e,l,O)};var ke=Opal.Asciidoctor.Document;ke.prototype.getRefs=function(){return Je(this.catalog.$$smap.refs)},ke.prototype.getImages=function(){return this.catalog.$$smap.images},ke.prototype.getLinks=function(){return this.catalog.$$smap.links},ke.prototype.hasFootnotes=function(){return this["$footnotes?"]()},ke.prototype.getFootnotes=function(){return this.$footnotes()},ke.prototype.getHeader=function(){return this.header},ke.prototype.setAttribute=function(e,l){return this.$set_attribute(e,l)},ke.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},ke.prototype.convert=function(e){var l=this.$convert(Ne(e));return l===Opal.nil?"":l},ke.prototype.write=function(e,l){return this.$write(e,l)},ke.prototype.getAuthor=function(){return this.$author()},ke.prototype.getSource=function(){return this.$source()},ke.prototype.getSourceLines=function(){return this.$source_lines()},ke.prototype.isNested=function(){return this["$nested?"]()},ke.prototype.isEmbedded=function(){return this["$embedded?"]()},ke.prototype.hasExtensions=function(){return this["$extensions?"]()},ke.prototype.getDoctype=function(){return this.doctype},ke.prototype.getBackend=function(){return this.backend},ke.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},ke.prototype.getTitle=function(){var e=this.$title();return e===Opal.nil?void 0:e},ke.prototype.setTitle=function(e){return this["$title="](e)},ke.prototype.getDocumentTitle=function(e){var l=this.$doctitle(Ne(e));return l===Opal.nil?void 0:l},ke.prototype.getDoctitle=ke.prototype.getDocumentTitle,ke.prototype.getCatalog=function(){return Je(this.catalog)},ke.prototype.getReferences=ke.prototype.getCatalog,ke.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},ke.prototype.getRevdate=function(){return this.getRevisionDate()},ke.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},ke.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},ke.prototype.setHeaderAttribute=function(e,l,O){return typeof O>"u"&&(O=!0),typeof l>"u"&&(l=""),this.$set_header_attribute(e,l,O)},ke.prototype.getAuthors=function(){return this.$authors()};var st=ke.Footnote;st.prototype.getIndex=function(){var e=this.$$data.index;return e===Opal.nil?void 0:e},st.prototype.getId=function(){var e=this.$$data.id;return e===Opal.nil?void 0:e},st.prototype.getText=function(){var e=this.$$data.text;return e===Opal.nil?void 0:e};var Ge=ke.ImageReference;Ge.prototype.getTarget=function(){return this.$$data.target},Ge.prototype.getImagesDirectory=function(){var e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};var zt=ke.Author;zt.prototype.getName=function(){var e=this.$$data.name;return e===Opal.nil?void 0:e},zt.prototype.getFirstName=function(){var e=this.$$data.firstname;return e===Opal.nil?void 0:e},zt.prototype.getMiddleName=function(){var e=this.$$data.middlename;return e===Opal.nil?void 0:e},zt.prototype.getLastName=function(){var e=this.$$data.lastname;return e===Opal.nil?void 0:e},zt.prototype.getInitials=function(){var e=this.$$data.initials;return e===Opal.nil?void 0:e},zt.prototype.getEmail=function(){var e=this.$$data.email;return e===Opal.nil?void 0:e},ke.RevisionInfo=function(e,l,O){this.date=e,this.number=l,this.remark=O};var Oe=ke.RevisionInfo;Oe.prototype.getDate=function(){return this.date},Oe.prototype.getNumber=function(){return this.number},Oe.prototype.getRemark=function(){return this.remark},Oe.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};var ve=Opal.Asciidoctor.SafeMode;ve.getValueForName=function(e){return this.$value_for_name(e)},ve.getNameForValue=function(e){var l=this.$name_for_value(e);return l===Opal.nil?void 0:l},ve.getNames=function(){return this.$names()};var J=Opal.Asciidoctor.Callouts;J.create=function(){return this.$new()},J.prototype.register=function(e){return this.$register(e)},J.prototype.readNextId=function(){return this.$read_next_id()},J.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},J.prototype.getLists=function(){var e=this.lists;if(e&&e.length>0)for(var l=0;l<e.length;l++){var O=e[l];if(O&&O.length>0)for(var xe=0;xe<O.length;xe++)"object"==typeof O[xe]&&"$$smap"in O[xe]&&(O[xe]=Je(O[xe]))}return e},J.prototype.getListIndex=function(){return this.list_index},J.prototype.getCurrentList=function(){var e=this.$current_list();if(e&&e.length>0)for(var l=0;l<e.length;l++)"object"==typeof e[l]&&"$$smap"in e[l]&&(e[l]=Je(e[l]));return e},J.prototype.nextList=function(){return this.$nextList()},J.prototype.rewind=function(){return this.$rewind()},ke.prototype.getRevisionInfo=function(){return new ke.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},ke.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},ke.prototype.getNotitle=function(){return this.$notitle()},ke.prototype.getNoheader=function(){return this.$noheader()},ke.prototype.getNofooter=function(){return this.$nofooter()},ke.prototype.hasHeader=function(){return this["$header?"]()},ke.prototype.playbackAttributes=function(e){if(e=Ne(e)){var l=e["$[]"]("attribute_entries");if(l&&Array.isArray(l)){for(var O=[],xe=0;xe<l.length;xe++){var Xe=l[xe];Xe&&"object"==typeof Xe&&"Object"===Xe.constructor.name&&(Xe.$name=function(){return this.name},Xe.$value=function(){return this.value},Xe.$negate=function(){return this.negate}),O.push(Xe)}e["$[]="]("attribute_entries",O)}}this.$playback_attributes(e)},ke.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},ke.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},ke.prototype.restoreAttributes=function(){return this.$restore_attributes()},ke.prototype.parse=function(e){return this.$parse(e)},ke.prototype.getDocinfo=function(e,l){return this.$docinfo(e,l)},ke.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},ke.prototype.incrementAndStoreCounter=function(e,l){return this.$increment_and_store_counter(e,l)},ke.prototype.counterIncrement=ke.prototype.incrementAndStoreCounter,ke.prototype.counter=function(e,l){return this.$counter(e,l)},ke.prototype.getSafe=function(){return this.safe},ke.prototype.getCompatMode=function(){return this.compat_mode},ke.prototype.getSourcemap=function(){var e=this.sourcemap;return e!==Opal.nil&&e},ke.prototype.setSourcemap=function(e){this.sourcemap=e},ke.prototype.getCounters=function(){return Je(this.counters)},ke.prototype.getCallouts=function(){return this.$callouts()},ke.prototype.getBaseDir=function(){return this.base_dir},ke.prototype.getOptions=function(){return Je(this.options)},ke.prototype.getOutfilesuffix=function(){return this.outfilesuffix},ke.prototype.getParentDocument=function(){var e=this.parent_document;return e===Opal.nil?void 0:e},ke.prototype.getReader=function(){return this.reader},ke.prototype.getConverter=function(){return this.converter},ke.prototype.getExtensions=function(){var e=this.extensions;return e===Opal.nil?void 0:e};var G=ke.Title;G.prototype.getMain=function(){return this.main},G.prototype.getCombined=function(){return this.combined},G.prototype.getSubtitle=function(){var e=this.subtitle;return e===Opal.nil?void 0:e},G.prototype.isSanitized=function(){var e=this["$sanitized?"]();return e!==Opal.nil&&e},G.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var Ve=Opal.Asciidoctor.Inline;Ve.create=function(e,l,O,xe){return this.$new(e,l,O,Be(xe))},Ve.prototype.convert=function(){return this.$convert()},Ve.prototype.getText=function(){var e=this.$text();return e===Opal.nil?void 0:e},Ve.prototype.getType=function(){return this.$type()},Ve.prototype.getTarget=function(){var e=this.$target();return e===Opal.nil?void 0:e},Ve.prototype.getAlt=function(){return this.$alt()};var ft=Opal.Asciidoctor.List;ft.prototype.hasItems=function(){return this["$items?"]()},ft.prototype.getItems=function(){return this.blocks};var Ye=Opal.Asciidoctor.ListItem;Ye.prototype.getText=function(){return this.$text()},Ye.prototype.setText=function(e){return this["$text="](e)},Ye.prototype.hasText=function(){return this["$text?"]()},Ye.prototype.getMarker=function(){return this.marker},Ye.prototype.setMarker=function(e){this.marker=e},Ye.prototype.getList=function(){return this.$list()},Ye.prototype.getParent=Ye.prototype.getList;var pe=Opal.Asciidoctor.Reader;pe.prototype.pushInclude=function(e,l,O,xe,Xe){return this.$push_include(e,l,O,xe,Ne(Xe))},pe.prototype.getCursor=function(){return this.$cursor()},pe.prototype.getLines=function(){return this.$lines()},pe.prototype.getString=function(){return this.$string()},pe.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},pe.prototype.isEmpty=function(){return this["$empty?"]()},pe.prototype.peekLine=function(e){var l=this.$peek_line(e=e||!1);return l===Opal.nil?void 0:l},pe.prototype.readLine=function(){var e=this.$read_line();return e===Opal.nil?void 0:e},pe.prototype.readLines=function(){return this.$read_lines()},pe.prototype.read=function(){return this.$read()},pe.prototype.advance=function(){return this.$advance()};var De=Opal.Asciidoctor.Reader.Cursor;De.prototype.getFile=function(){var e=this.file;return e===Opal.nil?void 0:e},De.prototype.getDirectory=function(){var e=this.dir;return e===Opal.nil?void 0:e},De.prototype.getPath=function(){var e=this.path;return e===Opal.nil?void 0:e},De.prototype.getLineNumber=function(){return this.lineno};var xt=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=xt,xt.getLogger=function(){return this.$logger()},xt.setLogger=function(e){this["$logger="](e)},xt.newLogger=function(e,l){return function lt(e,l){return he(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),e,l,{},{add:function(xe){if(xe.length>=2&&"object"==typeof xe[2]&&"$$smap"in xe[2]){var ie=Je(xe[2]);ie.getText=function(){return this.text},ie.getSourceLocation=function(){return this.source_location},ie.$inspect=function(){var A=this.getSourceLocation();return A?A.getPath()+": line "+A.getLineNumber()+": "+this.getText():this.getText()},xe[2]=ie}return xe.length>=1&&(xe[1]=xe[1]===Opal.nil?void 0:xe[1]),xe}})}(e,l).$new()},xt.newFormatter=function(e,l){return function Ce(e,l){return he(Opal.const_get_qualified(Opal.Logger,"Formatter"),e,l,{},{call:function(xe){for(var Xe=0;Xe<xe.length;Xe++)"object"==typeof xe[Xe]&&"$$smap"in xe[Xe]&&(xe[Xe]=Je(xe[Xe]));return xe}})}(e,l).$new()};var At=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=At,At.get=function(e){return At.$constants()[e]};var ht=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=ht,ht.prototype.call=function(e,l,O,xe){return this.$call(At.get(e),l,O,xe)};var pt=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=pt,pt.create=function(){return this.$new()},pt.prototype.getMessages=function(){for(var e=this.messages,l=[],O=0;O<e.length;O++){var Xe=Je(e[O]);"string"==typeof Xe.message?Xe.getText=function(){return this.message}:(Xe.message=Je(Xe.message),Xe.getText=function(){return this.message.text}),Xe.getSeverity=function(){return this.severity.toString()},Xe.getSourceLocation=function(){return this.message.source_location},l.push(Xe)}return l};var St=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=St,St.getLogger=function(){return xt.$logger()},St.createLogMessage=function(e,l){return St.prototype.$message_with_context(e,Ne(l))},pe.prototype.getLogger=St.getLogger,pe.prototype.createLogMessage=St.createLogMessage,F.prototype.getLogger=St.getLogger,F.prototype.createLogMessage=St.createLogMessage;var Rt=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=Rt,Rt.prototype.getMaxSeverity=function(){var e=this.max_severity;return e===Opal.nil?void 0:e},Rt.prototype.getFormatter=function(){return this.formatter},Rt.prototype.setFormatter=function(e){this.formatter=e},Rt.prototype.getLevel=function(){return this.level},Rt.prototype.setLevel=function(e){this.level=e},Rt.prototype.getProgramName=function(){return this.progname},Rt.prototype.setProgramName=function(e){this.progname=e};var Et=Opal.const_get_qualified("::","Logger"),Ft=function(e,l,O){e["$"+l](O)};Et.prototype.add=function(e,l,O){var xe="string"==typeof e?At[e.toUpperCase()]:e;this.$add(xe,l,O)},Et.prototype.log=Et.prototype.add,Et.prototype.debug=function(e){Ft(this,"debug",e)},Et.prototype.info=function(e){Ft(this,"info",e)},Et.prototype.warn=function(e){Ft(this,"warn",e)},Et.prototype.error=function(e){Ft(this,"error",e)},Et.prototype.fatal=function(e){Ft(this,"fatal",e)},Et.prototype.isDebugEnabled=function(){return this["$debug?"]()},Et.prototype.isInfoEnabled=function(){return this["$info?"]()},Et.prototype.isWarnEnabled=function(){return this["$warn?"]()},Et.prototype.isErrorEnabled=function(){return this["$error?"]()},Et.prototype.isFatalEnabled=function(){return this["$fatal?"]()};var qt=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=qt,qt.create=function(){return this.$new()},qt.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;var Ct=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=Ct,Ct.create=function(){return this.$new()},Ct.prototype.printReport=function(e,l){var O;if(e)if("function"==typeof e.$add)O=function(xe){e.$add(1,xe)};else if("function"==typeof e.log)O=e.log;else{if("function"!=typeof e.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");O=function(xe){e.write(xe,"utf-8")}}else O=function(xe){Opal.gvars.stdout.$write(xe)};l&&O("Input file: "+l),O(" Time to read and parse source: "+this.$read_parse().toFixed(2)),O(" Time to convert document: "+this.$convert().toFixed(2)),O(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var It=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=It,It.register=function(e,l){var O="string"==typeof e?e:e[0];if("function"==typeof l){var Xe=l.prototype,ie=Object.getOwnPropertyNames(Xe);for(var A in l={},ie){var $e=ie[A];l[$e]=Xe[$e]}}var $=he(Pt,O,l,{},{format:function(y){return y.length>=2&&"object"==typeof y[2]&&"$$smap"in y[2]&&(y[2]=Je(y[2])),y.length>=1&&(y[1]=y[1]===Opal.nil?void 0:y[1]),y},highlight:function(y){if(y.length>=3&&"object"==typeof y[3]&&"$$smap"in y[3]){var W=y[3];for(var oe in W=Je(W)){var b=W[oe];if("callouts"===oe){var _=Ze(b);for(var c in _)for(var t=_[c],s=0;s<t.length;s++)for(var i=t[s],j=0;j<i.length;j++)i[j]=i[j]===Opal.nil?void 0:i[j];W[oe]=_}else W[oe]=b===Opal.nil?void 0:b}y[3]=W}return y.length>=2&&(y[2]=y[2]===Opal.nil?void 0:y[2]),y}});for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&function(y){var W=l[y];"handlesHighlighting"===y?Opal.def($,"$highlight?",function(){return W.call()}):"hasDocinfo"===y&&Opal.def($,"$docinfo?",function(oe){return W.apply(this,[oe])})}(n);return Opal.def($,"$name",function(){return O}),It.$register($,e),$},It.get=function(e){var l=It.$for(e);return l===Opal.nil?void 0:l},It.for=It.get;var Pt=Opal.const_get_qualified(It,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=Pt,Pt.prototype.registerFor=function(e){It.$register(this,e)};var Mt=Opal.Asciidoctor.Table;Mt.create=function(e,l){return this.$new(e,Ne(l))},Mt.prototype.getCaption=function(){return this.caption},Mt.prototype.getRows=function(){return this.rows},Mt.prototype.getColumns=function(){return this.columns},Mt.prototype.getHeadRows=function(){return this.rows.head},Mt.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},Mt.prototype.getBodyRows=function(){return this.rows.body},Mt.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},Mt.prototype.getFootRows=function(){return this.rows.foot},Mt.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},Mt.prototype.hasHeaderOption=function(){return this.has_header_option},Mt.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]},Mt.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]},Mt.prototype.getRowCount=function(){return this.getAttribute("rowcount")},Mt.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},Mt.prototype.getColumnCount=function(){return this.getAttribute("colcount")},Mt.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};var jt=Opal.Asciidoctor.Table.Rows;jt.create=function(e,l,O){return this.$new(e,l,O)},jt.prototype.getHead=function(){return this.head},jt.prototype.getFoot=function(){return this.foot},jt.prototype.getBody=function(){return this.body},jt.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};var D=Opal.Asciidoctor.Table.Column;D.create=function(e,l,O){return this.$new(e,l,Ne(O))},D.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},D.prototype.getWidth=function(){return this.getAttribute("width")},D.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},D.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},D.prototype.getStyle=function(){var e=this.style;return e===Opal.nil?void 0:e};var se=Opal.Asciidoctor.Table.Cell;se.create=function(e,l,O,xe){return this.$new(e,l,Ne(O),Ne(xe))},se.prototype.getColumnSpan=function(){var e=this.colspan;return e===Opal.nil?void 0:e},se.prototype.setColumnSpan=function(e){return this["$colspan="](e)},se.prototype.getRowSpan=function(){var e=this.rowspan;return e===Opal.nil?void 0:e},se.prototype.setRowSpan=function(e){return this["$rowspan="](e)},se.prototype.getContent=function(){return this.$content()},se.prototype.getText=function(){return this.$text()},se.prototype.getSource=function(){return this.$source()},se.prototype.getLines=function(){return this.$lines()},se.prototype.getLineNumber=function(){var e=this.$lineno();return e===Opal.nil?void 0:e},se.prototype.getFile=function(){var e=this.$file();return e===Opal.nil?void 0:e},se.prototype.getStyle=function(){var e=this.$style();return e===Opal.nil?void 0:e},se.prototype.getColumn=function(){var e=this.$column();return e===Opal.nil?void 0:e},se.prototype.getWidth=function(){return this.getAttribute("width")},se.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},se.prototype.getInnerDocument=function(){var e=this.inner_document;return e===Opal.nil?void 0:e};var ue=Opal.Asciidoctor.Converter.TemplateConverter;if(ue){Opal.Asciidoctor.TemplateConverter=ue,ue.create=function(e,l,O){O&&O.template_cache&&(O.template_cache=Ne(O.template_cache)),this.$new(e,l,Ne(O))},ue.getCache=function(){var e=Je(this.caches);if(e){if(e.scans)for(var l in e.scans=Je(e.scans),e.scans)e.scans[l]=Je(e.scans[l]);e.templates&&(e.templates=Je(e.templates))}return e},ue.clearCache=function(){this.$clear_caches()},ue.prototype.convert=function(e,l,O){return this.$convert(e,l,Ne(O))},ue.prototype.handles=function(e){return this["$handles?"](e)},ue.prototype.getTemplates=function(){return Je(this.$templates())},ue.prototype.register=function(e,l){return this.$register(e,l)};var ge={registry:{}};Opal.Asciidoctor.TemplateEngine=ge,ge.register=function(e,l){if("string"==typeof e)this.registry[e]=l;else for(var O=0;O<e.length;O++)this.registry[e[O]]=l}}var Le=function(e){return e.$$arity=e.length,e},Ue=function(e,l,O,xe){return"object"==typeof O||O.$$is_class?e["$"+l](O,xe):Opal.send(e,l,xe&&[xe],Le(O))},qe=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=qe,qe.create=function(e,l){return"function"==typeof e&&typeof l>"u"?Opal.send(this,"create",null,Le(e)):"function"==typeof l?Opal.send(this,"create",[e],Le(l)):this.$create()},qe.register=function(e,l){return"function"==typeof e&&typeof l>"u"?Opal.send(this,"register",null,Le(e)):Opal.send(this,"register",[e],Le(l))},qe.getGroups=function(){return Je(this.$groups())},qe.unregisterAll=function(){this.$unregister_all()},qe.unregister=function(){for(var e=Array.prototype.concat.apply([],arguments),l=this.$groups(),O={},xe=0,Xe=l.$$keys;xe<Xe.length;xe++){var ie=Xe[xe];O[ie.toString()]=ie}for(var A=0;A<e.length;A++){var $e=e[A];$e in O&&Opal.hash_delete(l,O[$e])}};var wt=qe.Registry;wt.prototype.getGroups=qe.getGroups,wt.prototype.unregisterAll=function(){this.groups=Opal.hash()},wt.prototype.unregister=qe.unregister,wt.prototype.prefer=function(e,l){return 1===arguments.length&&(l=e,e=null),"object"==typeof l||l.$$is_class?this.$prefer(e,l):Opal.send(this,"prefer",e&&[e],Le(l))},wt.prototype.block=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"block",l,e)},wt.prototype.inlineMacro=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"inline_macro",l,e)},wt.prototype.includeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"include_processor",l,e)},wt.prototype.blockMacro=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"block_macro",l,e)},wt.prototype.treeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"tree_processor",l,e)},wt.prototype.postprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"postprocessor",l,e)},wt.prototype.preprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"preprocessor",l,e)},wt.prototype.docinfoProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ue(this,"docinfo_processor",l,e)},wt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},wt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},wt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},wt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},wt.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},wt.prototype.hasBlocks=function(){return this["$blocks?"]()},wt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},wt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},wt.prototype.getPreprocessors=function(){return this.$preprocessors()},wt.prototype.getTreeProcessors=function(){return this.$tree_processors()},wt.prototype.getIncludeProcessors=function(){return this.$include_processors()},wt.prototype.getPostprocessors=function(){return this.$postprocessors()},wt.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},wt.prototype.getBlocks=function(){return this.block_extensions.$values()},wt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},wt.prototype.getInlineMacros=function(){return this.$inline_macros()},wt.prototype.getInlineMacroFor=function(e){var l=this["$registered_for_inline_macro?"](e);return!1===l?void 0:l},wt.prototype.getBlockFor=function(e,l){if(typeof l>"u"){var O=this.$find_block_extension(e);return O===Opal.nil?void 0:O}var xe=this["$registered_for_block?"](e,l);return!1===xe?void 0:xe},wt.prototype.getBlockMacroFor=function(e){var l=this["$registered_for_block_macro?"](e);return!1===l?void 0:l};var Nt=qe.Processor;Nt.prototype.prepend=function(){this.$option("position",">>")},Nt.prototype.process=function(e){var O=new Proxy(e,{apply:function(xe,Xe,ie){for(var A=0;A<ie.length;A++)"object"==typeof ie[A]&&"$$smap"in ie[A]&&(ie[A]=Je(ie[A]));return xe.apply(Xe,ie)}});return Opal.send(this,"process",null,Le(O))},Nt.prototype.named=function(e){return this.$named(e)},Nt.prototype.createBlock=function(e,l,O,xe,Xe){return this.$create_block(e,l,O,Ne(xe),Ne(Xe))},Nt.prototype.createList=function(e,l,O){return this.$create_list(e,l,Ne(O))},Nt.prototype.createListItem=function(e,l){return this.$create_list_item(e,l)},Nt.prototype.createImageBlock=function(e,l,O){return this.$create_image_block(e,Ne(l),Ne(O))},Nt.prototype.createParagraph=function(e,l,O,xe){return this.$create_paragraph(e,l,Ne(O),Ne(xe))},Nt.prototype.createOpenBlock=function(e,l,O,xe){return this.$create_open_block(e,l,Ne(O),Ne(xe))},Nt.prototype.createExampleBlock=function(e,l,O,xe){return this.$create_example_block(e,l,Ne(O),Ne(xe))},Nt.prototype.createPassBlock=function(e,l,O,xe){return this.$create_pass_block(e,l,Ne(O),Ne(xe))},Nt.prototype.createListingBlock=function(e,l,O,xe){return this.$create_listing_block(e,l,Ne(O),Ne(xe))},Nt.prototype.createLiteralBlock=function(e,l,O,xe){return this.$create_literal_block(e,l,Ne(O),Ne(xe))},Nt.prototype.createAnchor=function(e,l,O){return O&&O.attributes&&(O.attributes=Ne(O.attributes)),this.$create_anchor(e,l,Ne(O))},Nt.prototype.createInlinePass=function(e,l,O){return O&&O.attributes&&(O.attributes=Ne(O.attributes)),this.$create_inline_pass(e,l,Ne(O))},Nt.prototype.createInline=function(e,l,O,xe){return xe&&xe.attributes&&(xe.attributes=Ne(xe.attributes)),this.$create_inline(e,l,O,Ne(xe))},Nt.prototype.parseContent=function(e,l,O){return this.$parse_content(e,l,O)},Nt.prototype.parseAttributes=function(e,l,O){return O&&O.attributes&&(O.attributes=Ne(O.attributes)),Je(this.$parse_attributes(e,l,Ne(O)))},Nt.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},Nt.prototype.resolveAttributes=function(e){return"object"!=typeof e||Array.isArray(e)?this.$resolves_attributes(arguments.length>1?Array.prototype.slice.call(arguments):typeof e>"u"?Opal.nil:e):this.$resolves_attributes(Ne(e))},Nt.prototype.resolvesAttributes=Nt.prototype.resolveAttributes,Nt.prototype.getConfig=function(){return Je(this.config)},Nt.prototype.option=function(e,l){this.$option(e,l)};var Bt=qe.BlockProcessor;Bt.prototype.defaultAttributes=function(e){this.$default_attributes(Ne(e))},Bt.prototype.onContext=function(e){return this.$on_context(e)},Bt.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Bt.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Bt.prototype.parseContentAs=function(e){this.$parse_content_as(e)};var Ut=qe.BlockMacroProcessor;Ut.prototype.defaultAttributes=function(e){this.$default_attributes(Ne(e))},Ut.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Ut.prototype.parseContentAs=function(e){this.$parse_content_as(e)};var Vt=qe.InlineMacroProcessor;Vt.prototype.defaultAttributes=function(e){this.$default_attributes(Ne(e))},Vt.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Vt.prototype.parseContentAs=function(e){this.$parse_content_as(e)},Vt.prototype.matchFormat=function(e){this.$match_format(e)},Vt.prototype.match=function(e){this.$match(e)};var Jt=qe.IncludeProcessor;Jt.prototype.handles=function(e){return Opal.send(this,"handles?",null,Le(e))},Jt.prototype.prefer=function(){this.$prefer()},qe.TreeProcessor.prototype.prefer=function(){this.$prefer()},qe.Postprocessor.prototype.prefer=function(){this.$prefer()},qe.Preprocessor.prototype.prefer=function(){this.$prefer()};var $r=qe.DocinfoProcessor;function Ot(e,l,O){return he(Opal.const_get_qualified(qe,e),l,O,{"handles?":function(){return!0}})}$r.prototype.prefer=function(){this.$prefer()},$r.prototype.atLocation=function(e){this.$at_location(e)},qe.createPostprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("Postprocessor",e,l)},qe.newPostprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createPostprocessor(e,l).$new()},qe.createPreprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("Preprocessor",e,l)},qe.newPreprocessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createPreprocessor(e,l).$new()},qe.createTreeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("TreeProcessor",e,l)},qe.newTreeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createTreeProcessor(e,l).$new()},qe.createIncludeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("IncludeProcessor",e,l)},qe.newIncludeProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createIncludeProcessor(e,l).$new()},qe.createDocinfoProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("DocinfoProcessor",e,l)},qe.newDocinfoProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createDocinfoProcessor(e,l).$new()},qe.createBlockProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("BlockProcessor",e,l)},qe.newBlockProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createBlockProcessor(e,l).$new()},qe.createInlineMacroProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("InlineMacroProcessor",e,l)},qe.newInlineMacroProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createInlineMacroProcessor(e,l).$new()},qe.createBlockMacroProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),Ot("BlockMacroProcessor",e,l)},qe.newBlockMacroProcessor=function(e,l){return 1===arguments.length&&(l=e,e=null),this.createBlockMacroProcessor(e,l).$new()};var Xt=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Xt,Xt.prototype.convert=function(e,l,O){return this.$convert(e,l,Ne(O))},Xt.create=function(e,l){return this.$create(e,Ne(l))};var Ht=Opal.Asciidoctor.Converter.Factory,er=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=Ht;var ar=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=ar,Ht.register=function(e,l){var O,c,Xe=function(_,c){_.backend_traits?c.backend_traits=Ne(_.backend_traits):_.backendTraits?c.backend_traits=Ne(_.backendTraits):(_.basebackend||_.outfilesuffix||_.filetype||_.htmlsyntax||_.supports_templates)&&(c.backend_traits=Ne(function(_){return Object.assign({},_.basebackend?{basebackend:_.basebackend}:{},_.outfilesuffix?{outfilesuffix:_.outfilesuffix}:{},_.filetype?{filetype:_.filetype}:{},_.htmlsyntax?{htmlsyntax:_.htmlsyntax}:{},_.supports_templates?{supports_templates:_.supports_templates}:{})}(_)))},ie=function(_,c){n(_,c,"$handles?","handles",function(){return!0})},A=function(_,c){n(_,c,"$composed","composed")},n=function(_,c,t,s,i){typeof _[t]>"u"&&("function"==typeof _[s]?c[t]=_[s]:i&&(c[t]=i))},y=function(_){"function"!=typeof _["$respond_to?"]&&(_["$respond_to?"]=function(c){return"function"==typeof this[c]})};if("function"==typeof e)O=he(er,e.constructor.name,{initialize:function(_,c){var t=this,s=new e(_,c);Object.assign(this,s),Xe(s,t);for(var i=Object.getOwnPropertyNames(e.prototype),j=0;j<i.length;j++){var h=i[j];"constructor"!==h&&(t[h]=s[h])}typeof s.$convert>"u"&&"function"==typeof s.convert&&(t.$convert=s.convert),ie(s,t),A(s,t),y(t),t.super(_,c)}}),O.$extend(ar);else if("object"==typeof e){if(typeof e.$convert>"u"&&"function"==typeof e.convert&&(e.$convert=e.convert),Xe(e,e),e.backend_traits){for(var oe of["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"])e["$"+oe]=ar.prototype["$"+oe];e.$$meta=ar}ie(e,e),A(e,e),n(e,c=e,"$==","==",function(t){return c===t}),function(_,c){n(_,c,"$send","send",function(t){var s=Array.prototype.slice.call(arguments,1),i=c["$"+t];if(i)return i.apply(c,s);throw new Error(`undefined method \`${t}\` for \`${c.toString()}\``)})}(e,e),y(e),O=e}var b=[O].concat(l);return Xt.$register.apply(Xt,b)},Ht.getDefault=function(e){return this.$default(e)},Ht.prototype.create=function(e,l){return this.$create(e,Ne(l))},Ht.getRegistry=function(){return Je(Xt.$registry())},Ht.for=function(e){const l=Xt.$for(e);return l===Opal.nil?void 0:l},Ht.unregisterAll=function(){Xt.DefaultFactory.$$cvars["@@registry"]=Ne({html5:Xt.DefaultFactory.$$cvars["@@registry"]["$[]"]("html5")})};var or=Opal.Asciidoctor.Converter.Html5Converter;return Opal.Asciidoctor.Html5Converter=or,or.create=function(){return this.$new()},or.prototype.convert=function(e,l,O){return this.$convert(e,l,O)},Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.6"},Opal.Asciidoctor})},8547:(r,Ne,Je)=>{r.exports=Je(84879)}}]);